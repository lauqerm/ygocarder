(this.webpackJsonpygocarder=this.webpackJsonpygocarder||[]).push([[0],{319:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},528:function(e,t,n){},530:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},538:function(e,t,n){},540:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),i=n(47),l=n.n(i),s=(n(319),n(36)),c=n(2);n(320),n(321),n(322),n(323),n(324);const u=e=>[{value:"fit",label:null===e||void 0===e?void 0:e.fit},{value:"full",label:null===e||void 0===e?void 0:e.full},{value:"frame",label:null===e||void 0===e?void 0:e.frame}],d={width:813,height:1185,maximumScale:2,topToPendulumStructure:210,topToPendulumStructureFrame:185,topToArtFrame:213,pendulumStructureHeight:912,pendulumIconFrameWidth:813,pendulumIconFrameHeight:100,pendulumFrameWidth:753,pendulumFrameHeight:955,leftToPendulumStructure:56,cardBorder:28,topToEffectBox:885,leftToEffectBox:54,effectBoxWidth:705,effectBoxHeight:231,finishTypeCardWidth:702,finishTypeCardHeight:200,stickerSize:52,attributeSize:77,attributeY:55,attributeX:678,stickerX:739.1438,stickerY:1110.938,iconWidth:43,iconHeight:44},b="#404040",m=()=>({body:100,pendulum:100,text:100,name:100,baseFill:b,artBorder:!0,nameBorder:!0,boundless:!1}),p={normal:{artFinishX:100,artFinishY:219,artWidth:614,artX:100,artY:219,ratio:1,backgroundRatio:1,artFrameWidth:614,artFrameHeight:614,artFrameY:219,artFrameX:100,artRatio:1,type:"normal"},pendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.325,backgroundRatio:1.325,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artFrameX:56,artRatio:1.325,type:"pendulum"},pendulumSmall:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.236,backgroundRatio:1.236,artFrameWidth:702,artFrameHeight:568,artFrameY:213,artFrameX:56,artRatio:1.236,type:"pendulumSmall"},extendedCard:{artFinishX:100,artFinishY:219,artWidth:702,artX:56,artY:213,ratio:.775,backgroundRatio:.775,artFrameWidth:614,artFrameHeight:614,artFrameY:219,artFrameX:100,artRatio:1,type:"extendedCard"},extendedPendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:.775,backgroundRatio:.775,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artFrameX:56,artRatio:1.325,type:"extendedPendulum"},extendedPendulumSmall:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:.775,backgroundRatio:.775,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artFrameX:56,artRatio:1.236,type:"extendedPendulumSmall"},truePendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.055,backgroundRatio:1.055,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artFrameX:56,artRatio:1.325,type:"truePendulum"},truePendulumSmall:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.055,backgroundRatio:1.055,artFrameWidth:702,artFrameHeight:568,artFrameY:213,artFrameX:56,artRatio:1.236,type:"truePendulumSmall"},truePendulumLarge:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1,backgroundRatio:1,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artFrameX:56,artRatio:1.325,type:"truePendulumLarge"},fullCard:{artFinishX:100,artFinishY:219,artWidth:758,artX:28,artY:28,ratio:.67,backgroundRatio:.67,artFrameWidth:614,artFrameHeight:614,artFrameY:219,artFrameX:100,artRatio:1,type:"fullCard"},fullPendulum:{artFinishX:56,artFinishY:213,artWidth:758,artX:28,artY:28,ratio:.67,backgroundRatio:.67,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artFrameX:56,artRatio:1.325,type:"fullPendulum"}},h=(e,t,n,a)=>{const{boundless:r,body:o,pendulum:i,text:l}=Object(c.a)(Object(c.a)({},m()),t);if("full"===n)return p.fullCard;let s="normal";"fit"!==n&&r||o<100?s=e?"fullPendulum":"fullCard":e?l<100?s="small"===a?"extendedPendulumSmall":"extendedPendulum":i<100?("large"===a&&(s="truePendulumLarge"),"small"===a&&(s="truePendulumSmall"),"medium"===a&&(s="truePendulum")):s="small"===a?"pendulumSmall":"pendulum":s=l<100?"extendedCard":"normal";const u=p[s];return Object(c.a)(Object(c.a)({},u),{},{backgroundRatio:"frame"===n?.686:u.backgroundRatio})},f=[{blendMode:"overlay",opacity:1}],g=[{blendMode:"overlay",opacity:.65},{blendMode:"multiply",opacity:.55}],v="art",y={type1:{value:"type1",label:"1",partInstructionMap:{},pendulumSubstituteMap:{}},type2:{value:"type2",label:"2",partInstructionMap:{},pendulumSubstituteMap:{}},type3:{value:"type3",label:"3",partInstructionMap:{"card-border":f,"art-overlay":f,"art-border":f,"art-border-pendulum":f,"border-pendulum":f,attribute:f,frame:f},pendulumSubstituteMap:{}},type4:{value:"type4",label:"4",partInstructionMap:{},pendulumSubstituteMap:{}},type5:{value:"type5",label:"5",partInstructionMap:{},pendulumSubstituteMap:{}},type6:{value:"type6",label:"6",partInstructionMap:{},pendulumSubstituteMap:{}},type7:{value:"type7",label:"7",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.175},{blendMode:"color-dodge",opacity:.125}]},pendulumSubstituteMap:{}},type8:{value:"type8",label:"8",partInstructionMap:{"card-border":g,"art-border":g,"art-border-pendulum":g,"border-pendulum":g,frame:g,"frame-background":g,name:g,star:g},pendulumSubstituteMap:{}},type9:{value:"type9",label:"9",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.45}]},pendulumSubstituteMap:{}},type10:{value:"type10",label:"10",partInstructionMap:{"total-overlay":[]},pendulumSubstituteMap:{}},type11:{value:"type11",label:"11",partInstructionMap:{"total-overlay":[]},pendulumSubstituteMap:{}},type12:{value:"type12",label:"12",partInstructionMap:{"total-overlay":[{blendMode:"source-over",opacity:.45}]},pendulumSubstituteMap:{}},type13:{value:"type13",label:"13",partInstructionMap:{"total-overlay":[]},pendulumSubstituteMap:{}}},j={type1:{value:"type1",label:"1",partInstructionMap:{art:[{}]},pendulumSubstituteMap:{small:"-pendulum-small",medium:"-pendulum-medium",large:"-pendulum-medium"}},type2:{value:"type2",label:"2",partInstructionMap:{art:[{opacity:.08,blendMode:"darken"},{opacity:.28,blendMode:"color-dodge"},{opacity:.48,blendMode:"multiply"}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}},type3:{value:"type3",label:"3",partInstructionMap:{art:[{opacity:.66,blendMode:"color-dodge"},{opacity:.64,blendMode:"multiply"}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}},type4:{value:"type4",label:"4",partInstructionMap:{art:[{opacity:.31,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}},type5:{value:"type5",label:"5",partInstructionMap:{art:[{opacity:.19,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}},type6:{value:"type6",label:"6",partInstructionMap:{art:[{opacity:.25,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}},type7:{value:"type7",label:"7",partInstructionMap:{art:[{}]},pendulumSubstituteMap:{small:"-pendulum-small",medium:"-pendulum-medium",large:"-pendulum-medium"}},type8:{value:"type8",label:"8",partInstructionMap:{art:[{opacity:.66,blendMode:"color-dodge"},{opacity:.64,blendMode:"multiply"}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}},type9:{value:"type9",label:"9",partInstructionMap:{art:[{blendMode:"darken",opacity:1},{blendMode:"multiply",opacity:1},{blendMode:"overlay",opacity:1}]},pendulumSubstituteMap:{small:"",medium:"-pendulum-medium",large:"-pendulum-medium"}}},x={art:{key:"art",labelKey:"input.art-finish.label"},background:{key:"background",labelKey:"input.background.label"},attribute:{key:"attribute",labelKey:"input.attribute.label"},icon:{key:"icon",labelKey:"input.icon-type.icon.label"},sticker:{key:"sticker",labelKey:"input.sticker.label"}},O={normal:"normal",gold:"gold",platinum:"platinum"},w=e=>[{name:O.normal,label:null===e||void 0===e?void 0:e.normal,color:"#747b95",isOption:!1},{name:O.gold,label:null===e||void 0===e?void 0:e.gold,color:"#cfa65f",isOption:!0},{name:O.platinum,label:null===e||void 0===e?void 0:e.platinum,color:"#b1b1b1",isOption:!0}],k=["","","","","",""].length,S={topLeftFrame:0,topRightFrame:1,bottomLeftFrame:2,bottomRightFrame:3,effectBackground:4,pendulumEffectBackground:5};var C=n(572);const F="NONE",L=[{name:F,nameKey:"input.attribute.none",color:"#000000",isCreative:!1,isOption:!1},{name:"DARK",nameKey:"input.attribute.dark",label:"Dark",color:"#b41dda",isCreative:!1,isOption:!0},{name:"EARTH",nameKey:"input.attribute.earth",label:"Earth",color:"#8d8e8e",isCreative:!1,isOption:!0},{name:"FIRE",nameKey:"input.attribute.fire",label:"Fire",color:"#e51b23",isCreative:!1,isOption:!0},{name:"LIGHT",nameKey:"input.attribute.light",label:"Light",color:"#bfae32",isCreative:!1,isOption:!0},{name:"WATER",nameKey:"input.attribute.water",label:"Water",color:"#008ecd",isCreative:!1,isOption:!0},{name:"WIND",nameKey:"input.attribute.wind",label:"Wind",color:"#28ab35",isCreative:!1,isOption:!0},{name:"DIVINE",nameKey:"input.attribute.divine",label:"Divine",color:"#ef6300",isCreative:!1,isOption:!0},{name:"SPELL",nameKey:"input.attribute.spell",label:"Spell",color:"#1b8f83",isCreative:!1,isOption:!0},{name:"TRAP",nameKey:"input.attribute.trap",label:"Trap",color:"#c32a8c",isCreative:!1,isOption:!0}],T=[{name:"LAUGH",nameKey:"input.attribute.laugh",label:"Laugh",color:"#f78f27",isCreative:!0,isOption:!0},{name:"MAGIC",nameKey:"input.attribute.magic",label:"Laugh",color:"#1b8f83",isCreative:!0,isOption:!0},{name:"BOSS-1",nameKey:"input.attribute.boss-1",label:"Boss 1",color:"#9b325d",isCreative:!0,isOption:!0},{name:"BOSS-2",nameKey:"input.attribute.boss-2",label:"Boss 2",color:"#942a56",isCreative:!0,isOption:!0},{name:"BOSS-3",nameKey:"input.attribute.boss-3",label:"Boss 3",color:"#86214b",isCreative:!0,isOption:!0},{name:"BOSS-START",nameKey:"input.attribute.boss-start",label:"Boss Start",color:"#a13864",isCreative:!0,isOption:!0}],N={jp:{key:"jp",category:"ocg",fileKey:"ocg"},ch:{key:"ch",category:"ocg",fileKey:"ch"},en:{key:"en",category:"tcg",fileKey:"tcg"},fr:{key:"fr",category:"tcg",fileKey:"fr"},de:{key:"de",category:"tcg",fileKey:"de"},it:{key:"it",category:"tcg",fileKey:"it"},sp:{key:"sp",category:"tcg",fileKey:"sp"}},R={tcg:N.en.key,ocg:N.jp.key},z="NO ICON",I=[{label:Object(a.jsx)(C.a,{}),value:z,nameKey:"input.icon.none",isOption:!1},{label:"Field",value:"FIELD",nameKey:"input.icon.field",isOption:!0},{label:"Continuous",value:"CONTINUOUS",nameKey:"input.icon.continuous",isOption:!0},{label:"Quick-Play",value:"QUICK-PLAY",nameKey:"input.icon.quick-play",isOption:!0},{label:"Ritual",value:"RITUAL",nameKey:"input.icon.ritual",isOption:!0},{label:"Equip",value:"EQUIP",nameKey:"input.icon.equip",isOption:!0},{label:"Counter",value:"COUNTER",nameKey:"input.icon.counter",isOption:!0}],B="no-sticker",E=[{value:B,isOption:!1},{value:"gold",isOption:!0},{value:"silver",isOption:!0},{value:"beta",isOption:!0},{value:"holo5",isOption:!0},{value:"holo4",isOption:!0},{value:"holo3",isOption:!0},{value:"holo2",isOption:!0},{value:"holo1",isOption:!0},{value:"limited",isOption:!0},{value:"unlimited",isOption:!0}],D={auto:{value:"auto",labelKey:"input.icon-type.auto.label",fullLabelKey:"input.icon-type.auto.full.label",icon:null,isOption:!1,isMixable:!1,showIcon:!1},custom:{value:"custom",labelKey:"input.icon-type.custom.label",fullLabelKey:"input.icon-type.custom.full.label",icon:null,isOption:!1,isMixable:!1,showIcon:!1},st:{value:"st",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon-type.icon.full.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"s/t-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-icon-list.png")}),isOption:!0,isMixable:!1,showIcon:!1},level:{value:"level",labelKey:"input.icon-type.level.label",fullLabelKey:"input.icon-type.level.full.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-level.png")}),isOption:!0,isMixable:!0,showIcon:!1},"negative-level":{value:"negative-level",labelKey:"input.icon-type.negative-level.label",fullLabelKey:"input.icon-type.negative-level.full.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"negative-level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-negative-level.png")}),isOption:!0,isMixable:!0,showIcon:!1},rank:{value:"rank",labelKey:"input.icon-type.rank.label",fullLabelKey:"input.icon-type.rank.full.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"rank-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-rank.png")}),isOption:!0,isMixable:!0,showIcon:!1},"level-rank":{value:"level-rank",labelKey:"input.icon-type.level-rank.label",fullLabelKey:"input.icon-type.level-rank.full.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"level-rank-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-level-rank.png")}),isOption:!0,isMixable:!0,showIcon:!1}},W=Object.values(D),H={dark:{value:"dark",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.dark",icon:Object(a.jsx)("img",{className:"icon-image",alt:"dark-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-dark.png")}),isOption:!0,isMixable:!0,showIcon:!0},earth:{value:"earth",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.earth",icon:Object(a.jsx)("img",{className:"icon-image",alt:"earth-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-earth.png")}),isOption:!0,isMixable:!0,showIcon:!0},fire:{value:"fire",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.fire",icon:Object(a.jsx)("img",{className:"icon-image",alt:"fire-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-fire.png")}),isOption:!0,isMixable:!0,showIcon:!0},light:{value:"light",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.light",icon:Object(a.jsx)("img",{className:"icon-image",alt:"light-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-light.png")}),isOption:!0,isMixable:!0,showIcon:!0},water:{value:"water",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.water",icon:Object(a.jsx)("img",{className:"icon-image",alt:"water-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-water.png")}),isOption:!0,isMixable:!0,showIcon:!0},wind:{value:"wind",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.wind",icon:Object(a.jsx)("img",{className:"icon-image",alt:"wind-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-wind.png")}),isOption:!0,isMixable:!0,showIcon:!0},divine:{value:"divine",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.divine",icon:Object(a.jsx)("img",{className:"icon-image",alt:"divine-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-divine.png")}),isOption:!0,isMixable:!0,showIcon:!0},spell:{value:"spell",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.spell",icon:Object(a.jsx)("img",{className:"icon-image",alt:"spell-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-spell.png")}),isOption:!0,isMixable:!0,showIcon:!0},trap:{value:"trap",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.attribute.trap",icon:Object(a.jsx)("img",{className:"icon-image",alt:"trap-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-trap.png")}),isOption:!0,isMixable:!0,showIcon:!0}},A=Object.values(H),M={"continuous-l":{value:"continuous-l",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon.continuous",icon:Object(a.jsx)("img",{className:"icon-image",alt:"continuous-large-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-continuous-l.png")}),isOption:!0,isMixable:!0,showIcon:!0},"counter-l":{value:"counter-l",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon.counter",icon:Object(a.jsx)("img",{className:"icon-image",alt:"counter-large-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-counter-l.png")}),isOption:!0,isMixable:!0,showIcon:!0},"equip-l":{value:"equip-l",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon.equip",icon:Object(a.jsx)("img",{className:"icon-image",alt:"equip-large-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-equip-l.png")}),isOption:!0,isMixable:!0,showIcon:!0},"field-l":{value:"field-l",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon.field",icon:Object(a.jsx)("img",{className:"icon-image",alt:"field-large-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-field-l.png")}),isOption:!0,isMixable:!0,showIcon:!0},"quick-play-l":{value:"quick-play-l",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon.quick-play",icon:Object(a.jsx)("img",{className:"icon-image",alt:"quick-play-large-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-quick-play-l.png")}),isOption:!0,isMixable:!0,showIcon:!0},"ritual-l":{value:"ritual-l",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon.ritual",icon:Object(a.jsx)("img",{className:"icon-image",alt:"ritual-large-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-ritual-l.png")}),isOption:!0,isMixable:!0,showIcon:!0}},P=Object.values(M),K=Object(c.a)(Object(c.a)(Object(c.a)({},D),H),M),U=e=>Object(c.a)({hasGradient:!1,hasOutline:!1,hasShadow:!1,hasEmboss:!1,pattern:"none"},e),Y={commonB:{key:"commonB",label:"Common (Black)",image:"asset/image/other/name-common-b.png",value:U({preset:"commonB",fillStyle:"#000000"})},commonW:{key:"commonW",label:"Common (White)",image:"asset/image/other/name-common-w.png",value:U({preset:"commonW",fillStyle:"#ffffff"})},skillDefault:{key:"skillDefault",label:"Skill (Default)",image:"asset/image/other/name-skill-default.png",value:U({preset:"skillDefault",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",hasOutline:!0})},skillArial:{key:"skillArial",label:"Skill (Arial)",image:"asset/image/other/name-skill-arial.png",value:U({preset:"skillArial",font:"Arial",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",lineOffsetX:1,hasOutline:!0})},rare:{key:"rare",label:"Rare",image:"asset/image/other/name-rare.png",value:U({preset:"rare",fillStyle:"#cfc6de"})},secretGradient:{key:"secretGradient",label:"Secret (Gradient)",image:"asset/image/other/name-secret-gradient.png",value:U({preset:"secretGradient",gradientAngle:180,gradientColor:"0.000|#7a71a6,1.000|#a8c1e5",hasGradient:!0})},secret:{key:"secret",label:"Secret",image:"asset/image/other/name-secret.png",value:U({preset:"secret",fillStyle:"#8a8381"})},platinum2:{key:"platinum2",label:"Platinum",image:"asset/image/other/name-platinum.png",value:U({preset:"platinum2",fillStyle:"#a49f9e"})},ultra:{key:"ultra",label:"Ultra",image:"asset/image/other/name-ultra.png",value:U({preset:"ultra",fillStyle:"#dbb473"})},ultra2:{key:"ultra2",label:"Ultra (Type 2)",image:"asset/image/other/name-ultra-2.png",value:U({preset:"ultra2",fillStyle:"#fee002"})},platinum:{key:"platinum",label:"Foil Platinum",image:"asset/image/other/name-foil-platinum.png",value:U({preset:"platinum",fillStyle:"#CCCCCC",shadowColor:"#FFFFFF",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},gold:{key:"gold",label:"Foil Gold",image:"asset/image/other/name-foil-gold.png",value:U({preset:"gold",fillStyle:"#b88c43",shadowColor:"#FCC400",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},animeRed:{key:"animeRed",label:"Anime (Type Red)",image:"asset/image/other/name-anime-red.png",value:U({preset:"animeRed",gradientAngle:180,gradientColor:"0.000|#d81961,0.220|#b81654,0.270|#9e1348,0.330|#95093e,0.380|#95093e,0.450|#ba3264,0.530|#ff5e99,0.620|#ffa0c3,0.690|#ffffff,0.770|#ff5e99,0.870|#d81961,1.000|#b81654",hasGradient:!0,hasOutline:!0,hasShadow:!0,lineColor:"#333333",lineOffsetX:1,lineOffsetY:0,lineWidth:3,shadowBlur:2,shadowColor:"#383838",shadowOffsetX:2,shadowOffsetY:3})},animeSilver:{key:"animeSilver",label:"Anime (Type Silver)",image:"asset/image/other/name-anime-silver.png",value:U({preset:"animeSilver",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#cecbb8,0.220|#b0ad9b,0.270|#94917e,0.330|#797768,0.380|#797768,0.450|#d9d9d9,0.610|#ffffff,0.700|#ffffff,0.870|#d6d7c7,1.000|#c9cbb6",hasGradient:!0})},animeGold:{key:"animeGold",label:"Anime (Type Gold)",image:"asset/image/other/name-anime-gold.png",value:U({preset:"animeGold",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#eee317,0.220|#dbbe15,0.270|#d0920c,0.330|#b57f0b,0.380|#d0920c,0.450|#ffff6b,0.610|#ffffff,0.700|#ffffff,0.870|#e5dd2d,1.000|#e3da23",hasGradient:!0})},promo:{key:"promo",label:"Promo",image:"asset/image/other/name-promo.png",value:U({preset:"promo",fillStyle:"#c7080b",shadowColor:"#333333",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:1,hasShadow:!0,lineColor:"#8a1801",lineWidth:3,lineOffsetX:0,hasOutline:!0,lineOffsetY:0})},embossGold:{key:"embossGold",label:"Embossed Gold",image:"asset/image/other/name-emboss-gold.png",value:U({preset:"embossGold",fillStyle:"#d09b0e",hasEmboss:!0,embossPitch:90,embossYaw:90,hasShadow:!0,shadowBlur:2,shadowColor:"#333333",shadowOffsetX:-1,shadowOffsetY:1})},embossPlatinum:{key:"embossPlatinum",label:"Embossed Platinum",image:"asset/image/other/name-emboss-platinum.png",value:U({preset:"embossPlatinum",fillStyle:"#c0c0c0",hasEmboss:!0,embossPitch:90,embossYaw:90,hasShadow:!0,shadowBlur:2,shadowColor:"#4d4d4d",shadowOffsetX:-1,shadowOffsetY:1})}},G=Object.values(Y),X={none:{key:"none",patternImage:"",blendMode:"source-atop",isOption:!1},type1:{key:"type1",patternImage:"finish-name-type1",blendMode:"source-atop",isOption:!0},type2:{key:"type2",patternImage:"finish-name-type2",blendMode:"source-atop",isOption:!0},type3:{key:"type3",patternImage:"finish-name-type3",blendMode:"source-atop",isOption:!0},type4:{key:"type4",patternImage:"finish-name-type4",blendMode:"source-atop",isOption:!0},type5:{key:"type5",patternImage:"finish-name-type5",blendMode:"multiply",overrideFill:!0,isOption:!0},type6:{key:"type6",patternImage:"finish-name-type6",blendMode:"source-atop",isOption:!0},type7:{key:"type7",patternImage:"finish-name-type7",blendMode:"lighter",overrideFill:!0,isOption:!0},type8:{key:"type8",patternImage:"finish-name-type8",blendMode:"source-atop",isOption:!0},type9:{key:"type9",patternImage:"finish-name-type9",blendMode:"source-atop",isOption:!0}},V=Object.values(X);var q=n(563);const _={small:{key:"small",frameType:"pendulum",labelKey:"input.pendulum-size.small.label",effectBoxOffsetY:0,pendulumBoxX:55,pendulumBoxY:738,pendulumBoxWidth:705,pendulumBoxHeight:95,pendulumBoxOffsetY:50,numberBlueX:84.4,numberRedX:728,numberY:816,artlessFrameY:594,fontSize:56.5},medium:{key:"medium",frameType:"pendulum",labelKey:"input.pendulum-size.medium.label",effectBoxOffsetY:0,pendulumBoxX:55,pendulumBoxY:738,pendulumBoxWidth:705,pendulumBoxHeight:147,pendulumBoxOffsetY:0,numberBlueX:84.4,numberRedX:728,numberY:792,artlessFrameY:553,fontSize:56.5},large:{key:"large",frameType:"text",labelKey:"input.pendulum-size.large.label",effectBoxOffsetY:27,pendulumBoxX:55,pendulumBoxY:738,pendulumBoxWidth:705,pendulumBoxHeight:180,pendulumBoxOffsetY:0,numberBlueX:84.4,numberRedX:728,numberY:808,artlessFrameY:553,fontSize:56.5}},$=Object.values(_),J={small:{"speed-skill":{exceptionPendulumBoxOffsetHeight:-13}},medium:{},large:{"speed-skill":{exceptionPendulumBoxOffsetHeight:15},zarc:{exceptionFrameType:"pendulum-large"}}},Z="medium",Q=[{index:0,labelKey:"input.flag.mix-def-link",type:"checkbox"},{index:1,labelKey:"input.flag.link-rating-behavior",type:"link-rating-behavior"}],ee=0,te=1,ne=Q.length,ae={veryStrict:{1:600,2:620,3:640},strict:{1:645,2:665,3:685},loose:{1:700,2:710,3:720},veryLoose:{1:740,2:770,3:800},relaxed:{1:850,2:900,3:950}},re={tcg:[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8,trueHeightCap:211}],"tcg-stat":[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8,trueHeightCap:182}],"tcg-type-stat":[{trueWidth:684,trueBaseline:920.8,trueEdge:64.5,trueHeightCap:152}],"tcg-type":[{trueWidth:684,trueBaseline:921.8,trueEdge:64.5,trueHeightCap:182}],ocg:[{trueWidth:684,trueBaseline:895.23,trueEdge:64.8,trueHeightCap:211}],"ocg-stat":[{trueWidth:684,trueBaseline:891.23,trueEdge:64.8,trueHeightCap:182}],"ocg-type-stat":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5,trueHeightCap:152}],"ocg-type":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5,trueHeightCap:182}],"tcg-pendulumLarge":[{trueWidth:684,trueBaseline:920.73,trueEdge:64.8,trueHeightCap:173}],"tcg-pendulumLarge-stat":[{trueWidth:684,trueBaseline:920.73,trueEdge:64.8,trueHeightCap:144}],"tcg-pendulumLarge-type-stat":[{trueWidth:684,trueBaseline:953.5,trueEdge:64.5,trueHeightCap:118}],"tcg-pendulumLarge-type":[{trueWidth:684,trueBaseline:954.5,trueEdge:64.5,trueHeightCap:144}],"ocg-pendulumLarge":[{trueWidth:684,trueBaseline:923.23,trueEdge:64.8,trueHeightCap:173}],"ocg-pendulumLarge-stat":[{trueWidth:684,trueBaseline:921.23,trueEdge:64.8,trueHeightCap:144}],"ocg-pendulumLarge-type-stat":[{trueWidth:684,trueBaseline:951.5,trueEdge:64.5,trueHeightCap:118}],"ocg-pendulumLarge-type":[{trueWidth:684,trueBaseline:948.5,trueEdge:64.5,trueHeightCap:144}]},oe=64.44,ie={normal:{small:[{trueWidth:555.47,trueBaseline:789.65,trueEdge:128.94,trueHeightCap:80}],medium:[{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94,trueHeightCap:122.6}],large:[{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94,trueHeightCap:155.8}]},scaleless:{small:[{trueWidth:684.35,trueBaseline:789.65,trueEdge:64.5,trueHeightCap:79.8}],medium:[{trueWidth:684.35,trueBaseline:746.29,trueEdge:64.5,trueHeightCap:126.1}],large:[{trueWidth:684.35,trueBaseline:746.29,trueEdge:64.5,trueHeightCap:155.5}]}},le={tcg:{smaller:{trueBaseline:919,trueEdge:62.5,trueWidth:684.5},normal:{trueBaseline:920,trueEdge:62.5,trueWidth:684.5},large:{trueBaseline:187.5,trueEdge:732,edgeAlignment:"right",trueWidth:648.5},highPendulumNormal:{trueBaseline:950.5,trueEdge:62.5,trueWidth:684.5},highPendulumSmaller:{trueBaseline:949.5,trueEdge:62.5,trueWidth:684.5}},ocg:{smaller:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},normal:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},large:{trueBaseline:190.5,trueEdge:728,edgeAlignment:"right",trueWidth:642.5},highPendulumNormal:{trueBaseline:949,trueEdge:62.5,trueWidth:684.5},highPendulumSmaller:{trueBaseline:949,trueEdge:62.5,trueWidth:684.5}}},se={ocg:{trueBaseline:1146.5,trueEdge:736,trueWidth:435},tcg:{trueBaseline:1149.5,trueEdge:733,trueWidth:380}},ce={ocg:{trueBaseline:1148.931,trueEdge:37.031,trueWidth:258},tcg:{trueBaseline:1149.431,trueEdge:37.031,trueWidth:311}};var ue=[{shortForm:"\u7279\u6b8a\u53ec\u559a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u30ab\u30fc\u30c9",rubyForm:"{\u30ab\u30fc\u30c9}"},{shortForm:"\u30c7\u30e5\u30a8\u30eb",rubyForm:"{\u30c7\u30e5\u30a8\u30eb}"},{shortForm:"\u30de\u30c3\u30c1",rubyForm:"{\u30de\u30c3\u30c1}"},{shortForm:"\u30bf\u30fc\u30f3",rubyForm:"{\u30bf\u30fc\u30f3}"},{shortForm:"\u30d7\u30ec\u30a4\u30e4\u30fc",rubyForm:"{\u30d7\u30ec\u30a4\u30e4\u30fc}"},{shortForm:"\u81ea\u5206",rubyForm:"{\u81ea|\u3058}{\u5206|\u3076\u3093}"},{shortForm:"\u76f8\u624b",rubyForm:"{\u76f8|\u3042\u3044}{\u624b|\u3066}"},{shortForm:"LP",regexForm:"(?<![a-zA-Z_])LP(?![a-zA-Z_])",rubyForm:"{LP|\u30e9\u30a4\u30d5\u30dd\u30a4\u30f3\u30c8}"},{shortForm:"\u30c7\u30c3\u30ad",rubyForm:"{\u30c7\u30c3\u30ad}"},{shortForm:"\u30e1\u30a4\u30f3",rubyForm:"{\u30e1\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30c9",rubyForm:"{\u30b5\u30a4\u30c9}"},{shortForm:"EX",regexForm:"(?<!\\w)EX(?!\\w)",rubyForm:"{EX|\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a3\u30fc\u30eb\u30c9",rubyForm:"{\u30d5\u30a3\u30fc\u30eb\u30c9}"},{shortForm:"\u5893\u5730",rubyForm:"{\u5893|\u307c}{\u5730|\u3061}"},{shortForm:"\u624b\u672d",rubyForm:"{\u624b|\u3066}{\u672d|\u3075\u3060}"},{shortForm:"\u30be\u30fc\u30f3",rubyForm:"{\u30be\u30fc\u30f3}"},{shortForm:"\u30e2\u30f3\u30b9\u30bf\u30fc",rubyForm:"{\u30e2\u30f3\u30b9\u30bf\u30fc}"},{shortForm:"\u7e26\u5217",rubyForm:"{\u7e26|\u305f\u3066}{\u5217|\u308c\u3064}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc}"},{shortForm:"\u6301\u3061\u4e3b",rubyForm:"{\u6301|\u3082}\u3061{\u4e3b|\u306c\u3057}"},{shortForm:"\u30c0\u30e1\u30fc\u30b8",rubyForm:"{\u30c0\u30e1\u30fc\u30b8}"},{shortForm:"\u6226\u95d8",rubyForm:"{\u6226|\u305b\u3093}{\u95d8|\u3068\u3046}"},{shortForm:"\u30b9\u30da\u30eb",rubyForm:"{\u30b9\u30da\u30eb}"},{shortForm:"\u30b9\u30d4\u30fc\u30c9",rubyForm:"{\u30b9\u30d4\u30fc\u30c9}"},{shortForm:"\u30c1\u30a7\u30fc\u30f3",rubyForm:"{\u30c1\u30a7\u30fc\u30f3}"},{shortForm:"\u30d6\u30ed\u30c3\u30af",rubyForm:"{\u30d6\u30ed\u30c3\u30af}"},{shortForm:"\u76f4\u63a5",rubyForm:"{\u76f4|\u3061\u3087\u304f}{\u63a5|\u305b\u3064}"},{shortForm:"\u7d20\u6750",rubyForm:"{\u7d20|\u305d}{\u6750|\u3056\u3044}"},{shortForm:"\u540d",rubyForm:"{\u540d|\u3081\u3044}"},{shortForm:"\u6761\u4ef6",rubyForm:"{\u6761|\u3058\u3087\u3046}{\u4ef6|\u3051\u3093}"},{shortForm:"\u30b3\u30a4\u30f3",rubyForm:"{\u30b3\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30b3\u30ed",rubyForm:"{\u30b5\u30a4\u30b3\u30ed}"},{shortForm:"\u5143",rubyForm:"{\u5143|\u3082\u3068}"},{shortForm:"\u5148",rubyForm:"{\u5148|\u3055\u304d}"},{shortForm:"\u72b6\u614b",rubyForm:"{\u72b6|\u3058\u3087\u3046}{\u614b|\u305f\u3044}"},{shortForm:"\u76f8\u4e92",rubyForm:"{\u76f8|\u305d\u3046}{\u4e92|\u3054}"},{shortForm:"\u30a8\u30af\u30b9\u30c8\u30e9",rubyForm:"{\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a7\u30a4\u30ba",rubyForm:"{\u30d5\u30a7\u30a4\u30ba}"},{shortForm:"\u30c9\u30ed\u30fc",rubyForm:"{\u30c9\u30ed\u30fc}"},{shortForm:"\u30b9\u30bf\u30f3\u30d0\u30a4",rubyForm:"{\u30b9\u30bf\u30f3\u30d0\u30a4}"},{shortForm:"\u30d0\u30c8\u30eb",rubyForm:"{\u30d0\u30c8\u30eb}"},{shortForm:"\u30a8\u30f3\u30c9",rubyForm:"{\u30a8\u30f3\u30c9}"},{shortForm:"\u30b9\u30bf\u30fc\u30c8",rubyForm:"{\u30b9\u30bf\u30fc\u30c8}"},{shortForm:"\u30b9\u30c6\u30c3\u30d7",rubyForm:"{\u30b9\u30c6\u30c3\u30d7}"},{shortForm:"\u7a2e\u985e",rubyForm:"{\u7a2e|\u3057\u3085}{\u985e|\u308b\u3044}"},{shortForm:"\u5f62\u5f0f",rubyForm:"{\u5f62|\u3051\u3044}{\u5f0f|\u3057\u304d}"},{shortForm:"\u8868\u5074",rubyForm:"{\u8868|\u304a\u3082\u3066}{\u5074|\u304c\u308f}"},{shortForm:"\u88cf\u5074",rubyForm:"{\u88cf|\u3046\u3089}{\u5074|\u304c\u308f}"},{shortForm:"\u8868\u793a",rubyForm:"{\u8868|\u3072\u3087\u3046}{\u793a|\u3058}"},{shortForm:"\u88cf",rubyForm:"{\u88cf|\u3046\u3089}"},{shortForm:"\u7f60",rubyForm:"{\u7f60|\u30c8\u30e9\u30c3\u30d7}"},{shortForm:"\u30a2\u30af\u30b7\u30e7\u30f3",rubyForm:"\u30a2\u30af\u30b7\u30e7\u30f3"},{shortForm:"\u88c5\u5099",rubyForm:"{\u88c5|\u305d\u3046}{\u5099|\u3073}"},{shortForm:"\u901f\u653b",rubyForm:"{\u901f|\u305d\u3063}{\u653b|\u3053\u3046}"},{shortForm:"\u6c38\u7d9a",rubyForm:"{\u6c38|\u3048\u3044}{\u7d9a|\u305e\u304f}"},{shortForm:"\u30ab\u30a6\u30f3\u30bf\u30fc",rubyForm:"{\u30ab\u30a6\u30f3\u30bf\u30fc}"},{shortForm:"\u30ec\u30d9\u30eb",rubyForm:"{\u30ec\u30d9\u30eb}"},{shortForm:"\u30e9\u30f3\u30af",rubyForm:"{\u30e9\u30f3\u30af}"},{shortForm:"\u30b9\u30b1\u30fc\u30eb",rubyForm:"{\u30b9\u30b1\u30fc\u30eb}"},{shortForm:"\u653b\u6483\u529b",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u5b88\u5099\u529b",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u6483\u529b",rubyForm:"{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u52dd\u5229",rubyForm:"{\u52dd|\u3057\u3087\u3046}{\u5229|\u308a}"},{shortForm:"\u5c5e\u6027",rubyForm:"{\u5c5e|\u305e\u304f}{\u6027|\u305b\u3044}"},{shortForm:"\u7a2e\u65cf",rubyForm:"{\u7a2e|\u3057\u3085}{\u65cf|\u305e\u304f}"},{shortForm:"\u52b9\u679c",rubyForm:"{\u52b9|\u3053\u3046}{\u679c|\u304b}"},{shortForm:"\u878d\u5408",rubyForm:"{\u878d|\u3086\u3046}{\u5408|\u3054\u3046}"},{shortForm:"\u5100\u5f0f",rubyForm:"{\u5100|\u304e}{\u5f0f|\u3057\u304d}"},{shortForm:"\u30de\u30ad\u30b7\u30de\u30e0",rubyForm:"{\u30de\u30ad\u30b7\u30de\u30e0}"},{shortForm:"\u30c8\u30fc\u30af\u30f3",rubyForm:"{\u30c8\u30fc\u30af\u30f3}"},{shortForm:"\u30c1\u30e5\u30fc\u30ca\u30fc",rubyForm:"{\u30c1\u30e5\u30fc\u30ca\u30fc}"},{shortForm:"\u30c7\u30e5\u30a2\u30eb",rubyForm:"{\u30c7\u30e5\u30a2\u30eb}"},{shortForm:"\u30ea\u30d0\u30fc\u30b9",rubyForm:"{\u30ea\u30d0\u30fc\u30b9}"},{shortForm:"\u30c8\u30a5\u30fc\u30f3",rubyForm:"{\u30c8\u30a5\u30fc\u30f3}"},{shortForm:"\u30b9\u30d4\u30ea\u30c3\u30c8",rubyForm:"{\u30b9\u30d4\u30ea\u30c3\u30c8}"},{shortForm:"\u30e6\u30cb\u30aa\u30f3",rubyForm:"{\u30e6\u30cb\u30aa\u30f3}"},{shortForm:"\u5149",rubyForm:"{\u5149|\u3072\u304b\u308a}"},{shortForm:"\u95c7",rubyForm:"{\u95c7|\u3084\u307f}"},{shortForm:"\u5730",rubyForm:"{\u5730|\u3061}"},{shortForm:"\u6c34",rubyForm:"{\u6c34|\u307f\u305a}"},{shortForm:"\u708e",rubyForm:"{\u708e|\u307b\u306e\u304a}"},{shortForm:"\u98a8",rubyForm:"{\u98a8|\u304b\u305c}"},{shortForm:"\u7363\u6226\u58eb",rubyForm:"{\u7363|\u3058\u3085\u3046}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u5275\u9020\u795e",rubyForm:"{\u5275|\u305d\u3046}{\u9020|\u305e\u3046}{\u795e|\u3057\u3093}"},{shortForm:"\u30b5\u30a4\u30d0\u30fc\u30b9",rubyForm:"{\u30b5\u30a4\u30d0\u30fc\u30b9}"},{shortForm:"\u6050\u7adc",rubyForm:"{\u6050|\u304d\u3087\u3046}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u5e7b\u795e\u7363",rubyForm:"{\u5e7b|\u3052\u3093}{\u795e|\u3057\u3093}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5929\u4f7f",rubyForm:"{\u5929|\u3066\u3093}{\u4f7f|\u3057}"},{shortForm:"\u60aa\u9b54",rubyForm:"{\u60aa|\u3042\u304f}{\u9b54|\u307e}"},{shortForm:"\u9b5a",rubyForm:"{\u9b5a|\u3055\u304b\u306a}"},{shortForm:"\u30ae\u30e3\u30e9\u30af\u30b7\u30fc",rubyForm:"{\u30ae\u30e3\u30e9\u30af\u30b7\u30fc}"},{shortForm:"\u5e7b\u60f3\u9b54",rubyForm:"{\u5e7b|\u3052\u3093}{\u60f3|\u305d\u3046}{\u9b54|\u307e}"},{shortForm:"\u6606\u866b",rubyForm:"{\u6606|\u3053\u3093}{\u866b|\u3061\u3085\u3046}"},{shortForm:"\u6a5f\u68b0",rubyForm:"{\u6a5f|\u304d}{\u68b0|\u304b\u3044}"},{shortForm:"\u690d\u7269",rubyForm:"{\u690d|\u3057\u3087\u304f}{\u7269|\u3076\u3064}"},{shortForm:"\u722c\u866b\u985e",rubyForm:"{\u722c|\u306f}{\u866b|\u3061\u3085\u3046}{\u985e|\u308b\u3044}"},{shortForm:"\u5ca9\u77f3",rubyForm:"{\u5ca9|\u304c\u3093}{\u77f3|\u305b\u304d}"},{shortForm:"\u6d77\u7adc",rubyForm:"{\u6d77|\u304b\u3044}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u9b54\u6cd5\u4f7f\u3044",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}{\u4f7f|\u3064\u304b}\u3044"},{shortForm:"\u96f7",rubyForm:"{\u96f7|\u3044\u304b\u305a\u3061}"},{shortForm:"\u9ce5\u7363",rubyForm:"{\u9ce5|\u3061\u3087\u3046}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5e7b\u7adc",rubyForm:"{\u5e7b|\u3052\u3093}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u30a2\u30f3\u30c7\u30c3\u30c8",rubyForm:"{\u30a2\u30f3\u30c7\u30c3\u30c8}"},{shortForm:"\u30b5\u30a4\u30dc\u30fc\u30b0",rubyForm:"{\u30b5\u30a4\u30dc\u30fc\u30b0}"},{shortForm:"\u5929\u754c\u6226\u58eb",rubyForm:"{\u5929|\u3066\u3093}{\u754c|\u304b\u3044}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u9b54\u5c0e\u9a0e\u58eb",rubyForm:"{\u9b54|\u307e}{\u5c0e|\u3069\u3046}{\u9a0e|\u304d}{\u58eb|\u3057}"},{shortForm:"\u7121\u52b9\u5316",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}{\u5316|\u304b}"},{shortForm:"\u30aa\u30e1\u30ac",rubyForm:"{\u30aa\u30e1\u30ac}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u6368\u3066\u308b",rubyForm:"{\u6368|\u3059}\u3066\u308b"},{shortForm:"\u52a0\u3048\u308b",rubyForm:"{\u52a0|\u304f\u308f}\u3048\u308b"},{shortForm:"\u304b\u3089\u96e2\u308c\u308b",rubyForm:"\u304b\u3089{\u96e2|\u306f\u306a}\u308c\u308b"},{shortForm:"\u4e0e\u3048\u308b",rubyForm:"{\u4e0e|\u3042\u305f}\u3048\u308b"},{shortForm:"\u91cd\u306d\u308b",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u308b"},{shortForm:"\u53d6\u308a\u9664\u304f",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u53d6\u308a\u9664\u3044",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u3044"},{shortForm:"\u9664\u304f",rubyForm:"{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u884c\u3046",rubyForm:"{\u884c|\u304a\u3053\u306a}\u3046"},{shortForm:"\u5bfe\u3059",rubyForm:"{\u5bfe|\u305f\u3044}\u3059"},{shortForm:"\u9001\u308b",rubyForm:"{\u9001|\u304a\u304f}\u308b"},{shortForm:"\u7f6e\u304f",rubyForm:"{\u7f6e|\u304a}\u304f"},{shortForm:"\u3081\u304f\u308b",rubyForm:"{\u3081\u304f\u308b}"},{shortForm:"\u30a2\u30c9\u30d0\u30f3\u30b9",rubyForm:"{\u30a2\u30c9\u30d0\u30f3\u30b9}"},{shortForm:"\u53cd\u8ee2",rubyForm:"{\u53cd|\u306f\u3093}{\u8ee2|\u3066\u3093}"},{shortForm:"\u7279\u6b8a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}"},{shortForm:"\u767a\u52d5",rubyForm:"{\u767a|\u306f\u3064}{\u52d5|\u3069\u3046}"},{shortForm:"\u7834\u58ca",rubyForm:"{\u7834|\u306f}{\u58ca|\u304b\u3044}"},{shortForm:"\u5bfe\u8c61",rubyForm:"{\u5bfe|\u305f\u3044}{\u8c61|\u3057\u3087\u3046}"},{shortForm:"\u7121\u52b9",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}"},{shortForm:"\u7121\u8996",rubyForm:"{\u7121|\u3080}{\u8996|\u3057}"},{shortForm:"\u78ba\u8a8d",rubyForm:"{\u78ba|\u304b\u304f}{\u8a8d|\u306b\u3093}"},{shortForm:"\u653b\u6483",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}"},{shortForm:"\u51e6\u7406",rubyForm:"{\u51e6|\u3057\u3087}{\u7406|\u308a}"},{shortForm:"\u5ba3\u8a00",rubyForm:"{\u5ba3|\u305b\u3093}{\u8a00|\u3052\u3093}"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u30ea\u30ea\u30fc\u30b9",rubyForm:"{\u30ea\u30ea\u30fc\u30b9}"},{shortForm:"\u30b9\u30ad\u30c3\u30d7",rubyForm:"{\u30b9\u30ad\u30c3\u30d7}"},{shortForm:"\u30b7\u30e3\u30c3\u30d5\u30eb",rubyForm:"{\u30b7\u30e3\u30c3\u30d5\u30eb}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb}"},{shortForm:"\u30bb\u30c3\u30c8",rubyForm:"{\u30bb\u30c3\u30c8}"},{shortForm:"RUM",regexForm:"(?<!\\w)RUM(?!\\w)",rubyForm:"{RUM|\u30e9\u30f3\u30af\u30a2\u30c3\u30d7\u30de\u30b8\u30c3\u30af}"},{shortForm:"S",regexForm:"(?<!\\w)S(?!\\w)",rubyForm:"{S|\u30b7\u30f3\u30af\u30ed}"},{shortForm:"X",regexForm:"(?<!\\w)X(?!\\w)",rubyForm:"{X|\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"L",regexForm:"(?<!\\w)L(?!\\w)",rubyForm:"{L|\u30ea\u30f3\u30af}"},{shortForm:"P",regexForm:"(?<!\\w)P(?!\\w)",rubyForm:"{P|\u30da\u30f3\u30c7\u30e5\u30e9\u30e0}"},{shortForm:"\u30ea\u30f3\u30af",rubyForm:"{\u30ea\u30f3\u30af}"},{shortForm:"\u5b88\u5099",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}"},{shortForm:"\u901a\u5e38",rubyForm:"{\u901a|\u3064\u3046}{\u5e38|\u3058\u3087\u3046}"},{shortForm:"\u53ef\u80fd",rubyForm:"{\u53ef|\u304b}{\u80fd|\u306e\u3046}"},{shortForm:"\u795e",rubyForm:"{\u795e|\u304b\u307f}"},{shortForm:"\u7363",rubyForm:"{\u7363|\u3051\u3082\u306e}"},{shortForm:"\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u91cd\u306d\u3066",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u3066"},{shortForm:"\u9b54\u6cd5",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}"},{shortForm:"\u6226\u58eb",rubyForm:"{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u53ec\u559a",rubyForm:"{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u5408\u8a08",rubyForm:"{\u5408|\u3054\u3046}{\u8a08|\u3051\u3044}"},{shortForm:"\u4ee5\u4e0a",rubyForm:"{\u4ee5|\u3044}{\u4e0a|\u3058\u3087\u3046}"},{shortForm:"\u4e0a\u8a18",rubyForm:"{\u4e0a|\u3058\u3087\u3046}{\u8a18|\u304d}"},{shortForm:"\u5834\u5408",rubyForm:"{\u5834|\u3070}{\u5408|\u3042\u3044}"},{shortForm:"\u964d\u81e8",rubyForm:"{\u964d|\u3053\u3046}{\u81e8|\u308a\u3093}"},{shortForm:"\u4ee5\u5916",rubyForm:"{\u4ee5|\u3044}{\u5916|\u304c\u3044}"},{shortForm:"\u4f7f\u7528",rubyForm:"{\u4f7f|\u3057}{\u7528|\u3088\u3046}"},{shortForm:"\u5b58\u5728",rubyForm:"{\u5b58|\u305d\u3093}{\u5728|\u3056\u3044}"},{shortForm:"\u6700\u5927",rubyForm:"{\u6700|\u3055\u3044}{\u5927|\u3060\u3044}"},{shortForm:"\u6210\u529f",rubyForm:"{\u6210|\u305b\u3044}{\u529f|\u3053\u3046}"},{shortForm:"\u81ea\u8eab",rubyForm:"{\u81ea|\u3058}{\u8eab|\u3057\u3093}"},{shortForm:"\u4ee5\u4e0b",rubyForm:"{\u4ee5|\u3044}{\u4e0b|\u304b}"},{shortForm:"\u7d42\u4e86",rubyForm:"{\u7d42|\u3057\u3085\u3046}{\u4e86|\u308a\u3087\u3046}"},{shortForm:"\u5168\u3066",rubyForm:"{\u5168|\u3059\u3079}\u3066"},{shortForm:"\u6368\u3066",rubyForm:"{\u6368|\u3059}\u3066"},{shortForm:"\u884c\u304b\u305a",rubyForm:"{\u884c|\u3044}\u304b\u305a"},{shortForm:"CNo\uff0e",regexForm:"(?<![a-zA-Z])CNo\uff0e(?![a-zA-Z])",rubyForm:"{CNo\uff0e||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{CNo||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"No\uff0e",regexForm:"(?<![a-zA-Z])No\uff0e(?![a-zA-Z])",rubyForm:"{No\uff0e||\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{No||\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"CX",regexForm:"(?<![a-zA-Z])CX(?![a-zA-Z])",rubyForm:"{CX|\u30ab\u30aa\u30b9\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"\u9069\u7528",rubyForm:"{\u9069|\u3066\u304d}{\u7528|\u3088\u3046}"},{shortForm:"\u6570\u5024",rubyForm:"{\u6570|\u3059\u3046}{\u5024|\u3061}"},{shortForm:"\u8a08\u7b97",rubyForm:"{\u8a08|\u3051\u3044}{\u7b97|\u3055\u3093}"},{shortForm:"\u5fc5\u8981",rubyForm:"{\u5fc5|\u3072\u3064}{\u8981|\u3088\u3046}"},{shortForm:"\u9078\u629e",rubyForm:"{\u9078|\u305b\u3093}{\u629e|\u305f\u304f}"},{shortForm:"\u534a\u5206",rubyForm:"{\u534a|\u306f\u3093}{\u5206|\u3076\u3093}"},{shortForm:"\u958b\u59cb",rubyForm:"{\u958b|\u304b\u3044}{\u59cb|\u3057}"},{shortForm:"\u88cf\u8868",rubyForm:"{\u88cf|\u3046\u3089}{\u8868|\u304a\u3082\u3066}"},{shortForm:"\u56de\u5fa9",rubyForm:"{\u56de|\u304b\u3044}{\u5fa9|\u3075\u304f}"},{shortForm:"\u6307\u5b9a",rubyForm:"{\u6307|\u3057}{\u5b9a|\u3066\u3044}"},{shortForm:"\u4f4d\u7f6e",rubyForm:"{\u4f4d|\u3044}{\u7f6e|\u3061}"},{shortForm:"\u79fb\u52d5",rubyForm:"{\u79fb|\u3044}{\u52d5|\u3069\u3046}"},{shortForm:"\u65b9\u6cd5",rubyForm:"{\u65b9|\u307b\u3046}{\u6cd5|\u307b\u3046}"},{shortForm:"\u5909\u66f4",rubyForm:"{\u5909|\u3078\u3093}{\u66f4|\u3053\u3046}"},{shortForm:"\u767a\u751f",rubyForm:"{\u767a|\u306f\u3063}{\u751f|\u305b\u3044}"},{shortForm:"\u516c\u958b",rubyForm:"{\u516c|\u3053\u3046}{\u958b|\u304b\u3044}"},{shortForm:"\u9806\u756a",rubyForm:"{\u9806|\u3058\u3085\u3093}{\u756a|\u3070\u3093}"},{shortForm:"\u9650\u308a",rubyForm:"{\u9650|\u304b\u304e}\u308a"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u9806",rubyForm:"{\u9806|\u3058\u3085\u3093}"},{shortForm:"\u4ee3",rubyForm:"{\u4ee3|\u304b}"},{shortForm:"\u8d85",rubyForm:"{\u8d85|\u3053}"},{shortForm:"\u6bce",rubyForm:"{\u6bce|\u3054\u3068}"},{shortForm:"\u524d",rubyForm:"{\u524d|\u307e\u3048}"},{shortForm:"\u9055",rubyForm:"{\u9055|\u3061\u304c}"},{shortForm:"\u7d9a",rubyForm:"{\u7d9a|\u3064\u3065}"},{shortForm:"\u6b8b",rubyForm:"{\u6b8b|\u306e\u3053}"},{shortForm:"\u4ed6",rubyForm:"{\u4ed6|\u307b\u304b}"},{shortForm:"\u5f53",rubyForm:"{\u5f53|\u3042}"},{shortForm:"\u5ea6",rubyForm:"{\u5ea6|\u3069}"},{shortForm:"\u6642",rubyForm:"{\u6642|\u3068\u304d}"},{shortForm:"\u65cf",rubyForm:"{\u65cf|\u305e\u304f}"},{shortForm:"\u6570",rubyForm:"{\u6570|\u304b\u305a}"},{shortForm:"\u4f53",rubyForm:"{\u4f53|\u305f\u3044}"},{shortForm:"\u9650",rubyForm:"{\u9650|\u30b2\u30f3}"},{shortForm:"\u7f6e",rubyForm:"{\u7f6e|\u30c1}"},{shortForm:"\u53d7",rubyForm:"{\u53d7|\u3046}"},{shortForm:"\u679a",rubyForm:"{\u679a|\u307e\u3044}"},{shortForm:"\u5f8c",rubyForm:"{\u5f8c|\u3054}"},{shortForm:"\u9001",rubyForm:"{\u9001|\u304a\u304f}"},{shortForm:"\u4e8b",rubyForm:"{\u4e8b|\u3053\u3068}"},{shortForm:"\u5185",rubyForm:"{\u5185|\u3046\u3061}"},{shortForm:"\u898b",rubyForm:"{\u898b|\u307f}"},{shortForm:"\u4e2d",rubyForm:"{\u4e2d|\u306a\u304b}"},{shortForm:"\u52a0",rubyForm:"{\u52a0|\u304f\u308f}"},{shortForm:"\u9078",rubyForm:"{\u9078|\u3048\u3089}"},{shortForm:"\u4e00",rubyForm:"{\u4e00|\u3044\u3061}"},{shortForm:"\u756a",rubyForm:"{\u756a|\u3070\u3093}"},{shortForm:"\u540c",rubyForm:"{\u540c|\u3069\u3046}"},{shortForm:"\u56de",rubyForm:"{\u56de|\u304b\u3044}"},{shortForm:"\u6271",rubyForm:"{\u6271|\u3042\u3064\u304b}"},{shortForm:"\u661f",rubyForm:"{\u661f|\u30ec\u30d9\u30eb}"},{shortForm:"\u653b",rubyForm:"{\u653b|\u3053\u3046}"},{shortForm:"\u5b88",rubyForm:"{\u5b88|\u3057\u3085}"},{shortForm:"\u623b",rubyForm:"{\u623b|\u3082\u3069}"},{shortForm:"\u4e0a",rubyForm:"{\u4e0a|\u3046\u3048}"},{shortForm:"\u6b21",rubyForm:"{\u6b21|\u3064\u304e}"},{shortForm:"\u5024",rubyForm:"{\u5024|\u3061}"},{shortForm:"\u542b",rubyForm:"{\u542b|\u3075\u304f}"},{shortForm:"\u4e0e",rubyForm:"{\u4e0e|\u3080\u305f}"},{shortForm:"\u5f97",rubyForm:"{\u5f97|\u3048}"},{shortForm:"\u53ca",rubyForm:"{\u53ca|\u304a\u3088}"},{shortForm:"\u7570",rubyForm:"{\u7570|\u3053\u3068}"},{shortForm:"\u8a18",rubyForm:"{\u8a18|\u3057\u308b}"},{shortForm:"\u7e70",rubyForm:"{\u7e70|\u304f}"},{shortForm:"\u8fd4",rubyForm:"{\u8fd4|\u304b\u3048}"},{shortForm:"\u6c7a",rubyForm:"{\u6c7a|\u304d}"},{shortForm:"\u4e92",rubyForm:"{\u4e92|\u305f\u304c}"},{shortForm:"\u6255",rubyForm:"{\u6255|\u306f\u3089}"},{shortForm:"\u591a",rubyForm:"{\u591a|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u3082}"},{shortForm:"\u9593",rubyForm:"{\u9593|\u3042\u3044\u3060}"},{shortForm:"\u6240",rubyForm:"{\u6240|\u3057\u3087}"},{shortForm:"\u9ad8",rubyForm:"{\u9ad8|\u305f\u304b}"},{shortForm:"\u500d",rubyForm:"{\u500d|\u3070\u3044}"},{shortForm:"\u4e0b",rubyForm:"{\u4e0b|\u3057\u305f}"},{shortForm:"\u969b",rubyForm:"{\u969b|\u3055\u3044}"},{shortForm:"\u597d",rubyForm:"{\u597d|\u3059}"},{shortForm:"\u8868",rubyForm:"{\u8868|\u304a\u3082\u3066}"}],de=ue.reduce((function(e,t){return e[t.shortForm]=t,e}),{});const be={allRightSymbolOffset:1,bulletWidth:23,fontSize:24.5,lineHeight:24.7,lineCount:6,bulletOffset:0,capitalLetterRatio:1,headTextFontRatio:.355,headTextSpacing:1.5,largeSymbolRatio:1.35,letterSpacing:0,offsetY:0,ordinalFontOffsetY:-2,ordinalFontRatio:1/1.1,squareBracketRatio:1},me={headTextHeightRatio:.8,headTextOverflow:"normal",headTextBold:!0,headTextGapRatio:.03125},pe={alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextFontRatio:.7,headTextHeightRatio:.815,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:1,headTextGapRatio:0},he=Object(c.a)(Object(c.a)({},pe),{},{font:"MatrixBook",headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),fe=Object(c.a)(Object(c.a)({},pe),{},{font:'"StoneSerif-Italic"',headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),ge=Object(c.a)(Object(c.a)({},pe),{},{font:'"Yu-Gi-Oh! DF Leisho 3"',fontStyle:"ocg",metricMethod:"compact",fontList:[]}),ve={tcg:Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:38,fontSize:40.2,lineHeight:42.1,lineCount:5,bulletOffset:1},{bulletWidth:30,fontSize:33.2,lineHeight:35.1,lineCount:6},{bulletWidth:26,fontSize:28.2,lineHeight:30.3,lineCount:7},{bulletWidth:23,fontSize:24.38,lineHeight:24.7,lineCount:8},{bulletWidth:23,fontSize:19.94,lineHeight:21.15,lineCount:10,bulletOffset:1},{bulletWidth:21,fontSize:18.5,lineHeight:19.2,lineCount:11,bulletOffset:1},{bulletWidth:19,fontSize:17,lineHeight:17.6,lineCount:12,bulletOffset:1},{bulletWidth:17,fontSize:15.6,lineHeight:16.3,lineCount:13,bulletOffset:1}]}),"tcg-stat":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:40,fontSize:44.2,lineHeight:47.1,lineCount:4,bulletOffset:2},{bulletWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:5},{bulletWidth:26,fontSize:28.2,lineHeight:30.5,lineCount:6},{bulletWidth:23,fontSize:24.5,lineHeight:24.7,lineCount:7},{bulletWidth:21,fontSize:19.01,lineHeight:20.15,lineCount:9,bulletOffset:1},{bulletWidth:20,fontSize:17.5,lineHeight:18.2,lineCount:10,bulletOffset:1},{bulletWidth:17,fontSize:15.7,lineHeight:16.5,lineCount:11,bulletOffset:1}]}),"tcg-type-stat":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:40,fontSize:44.2,lineHeight:47.1,lineCount:3,bulletOffset:1},{bulletWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:4},{bulletWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletWidth:23,fontSize:24.5,lineHeight:24.7,lineCount:6},{bulletWidth:23,fontSize:19.28,lineHeight:21.3,lineCount:7},{bulletWidth:23,fontSize:17.78,lineHeight:18.9,lineCount:8},{bulletWidth:19,fontSize:15.46,lineHeight:16.8,lineCount:9,bulletOffset:1},{bulletWidth:19,fontSize:12.99,lineHeight:15,lineCount:10,bulletOffset:2}]}),"tcg-type":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:40,fontSize:41.2,lineHeight:44.1,lineCount:4,bulletOffset:2},{bulletWidth:32,fontSize:33.2,lineHeight:35.5,lineCount:5},{bulletWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:6},{bulletWidth:23,fontSize:24.5,lineHeight:24.7,lineCount:7},{bulletWidth:23,fontSize:19.95,lineHeight:21.3,lineCount:8},{bulletWidth:23,fontSize:18.8,lineHeight:18.8,lineCount:9},{bulletWidth:20,fontSize:16.8,lineHeight:17.7,lineCount:10,bulletOffset:1},{bulletWidth:19,fontSize:15.1,lineHeight:16.1,lineCount:11,bulletOffset:1},{bulletWidth:17,fontSize:14.1,lineHeight:14.7,lineCount:12,bulletOffset:1}]}),"tcg-pendulumLarge":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:38,fontSize:36.8,lineHeight:43.3,lineCount:4,bulletOffset:1},{bulletWidth:32,fontSize:31.5,lineHeight:35.6,lineCount:5,bulletOffset:1},{bulletWidth:26,fontSize:28.1,lineHeight:30.1,lineCount:6},{bulletWidth:23,fontSize:23.7,lineHeight:25.8,lineCount:7},{bulletWidth:22,fontSize:19.54,lineHeight:22.7,lineCount:8,bulletOffset:1},{bulletWidth:20,fontSize:17.14,lineHeight:18.55,lineCount:10,bulletOffset:1},{bulletWidth:18,fontSize:15.6,lineHeight:16.4,lineCount:11,bulletOffset:1},{bulletWidth:17,fontSize:14.4,lineHeight:15,lineCount:12,bulletOffset:1}]}),"tcg-pendulumLarge-stat":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:41,fontSize:39.5,lineHeight:47.9,lineCount:3,bulletOffset:2},{bulletWidth:34,fontSize:32.6,lineHeight:36,lineCount:4},{bulletWidth:26,fontSize:26.7,lineHeight:29.5,lineCount:5},{bulletWidth:23,fontSize:24.8,lineHeight:24.7,lineCount:6},{bulletWidth:20,fontSize:17,lineHeight:18.65,lineCount:8,bulletOffset:1},{bulletWidth:17,fontSize:15.3,lineHeight:16.7,lineCount:9,bulletOffset:1},{bulletWidth:16,fontSize:14.4,lineHeight:15,lineCount:10,bulletOffset:1}]}),"tcg-pendulumLarge-type-stat":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:40,fontSize:44.4,lineHeight:54.1,lineCount:2,bulletOffset:1},{bulletWidth:30,fontSize:33.5,lineHeight:37.5,lineCount:3},{bulletWidth:26,fontSize:26.6,lineHeight:28.5,lineCount:4},{bulletWidth:23,fontSize:24.7,lineHeight:23.3,lineCount:5},{bulletWidth:22,fontSize:19.4,lineHeight:19.5,lineCount:6,bulletOffset:1},{bulletWidth:20,fontSize:18.2,lineHeight:16.9,lineCount:7,bulletOffset:1},{bulletWidth:17,fontSize:15.9,lineHeight:14.8,lineCount:8,bulletOffset:1},{bulletWidth:16,fontSize:13.7,lineHeight:13.2,lineCount:9,bulletOffset:1}]}),"tcg-pendulumLarge-type":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:40,fontSize:38.9,lineHeight:45.5,lineCount:3,bulletOffset:1},{bulletWidth:36,fontSize:32.4,lineHeight:36.9,lineCount:4,bulletOffset:1},{bulletWidth:28,fontSize:26.5,lineHeight:28.8,lineCount:5},{bulletWidth:25,fontSize:22.2,lineHeight:24.5,lineCount:6},{bulletWidth:22,fontSize:19.5,lineHeight:21.2,lineCount:7},{bulletWidth:20,fontSize:17.6,lineHeight:18.5,lineCount:8,bulletOffset:1},{bulletWidth:19,fontSize:15.7,lineHeight:16.6,lineCount:9},{bulletWidth:18,fontSize:14.1,lineHeight:15,lineCount:10,bulletOffset:1},{bulletWidth:16,fontSize:12.4,lineHeight:13.4,lineCount:11,bulletOffset:1}]})},ye={tcg:Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:38,fontSize:40.2,lineHeight:42.1,lineCount:5,bulletOffset:1},{bulletWidth:30,fontSize:33.2,lineHeight:35.1,lineCount:6},{bulletWidth:26,fontSize:28.2,lineHeight:30.3,lineCount:7},{bulletWidth:23,fontSize:24.38,lineHeight:24.7,lineCount:8},{bulletWidth:23,fontSize:19.94,lineHeight:21.15,lineCount:10,bulletOffset:1},{bulletWidth:21,fontSize:18.5,lineHeight:19.2,lineCount:11,bulletOffset:1},{bulletWidth:19,fontSize:17,lineHeight:17.6,lineCount:12,bulletOffset:1},{bulletWidth:17,fontSize:15.6,lineHeight:16.3,lineCount:13,bulletOffset:1}]}),"tcg-stat":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:40,fontSize:42.2,lineHeight:43.9,lineCount:4,bulletOffset:2},{bulletWidth:32,fontSize:33.2,lineHeight:35.5,lineCount:5},{bulletWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:6},{bulletWidth:23,fontSize:25.2,lineHeight:24.7,lineCount:7},{bulletWidth:21,fontSize:19.01,lineHeight:20.15,lineCount:9,bulletOffset:1},{bulletWidth:20,fontSize:17.5,lineHeight:18.2,lineCount:10,bulletOffset:1},{bulletWidth:17,fontSize:15.7,lineHeight:16.5,lineCount:11,bulletOffset:1}]}),"tcg-type-stat":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:40,fontSize:45.2,lineHeight:48.1,lineCount:3,bulletOffset:1},{bulletWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:4},{bulletWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletWidth:23,fontSize:25.2,lineHeight:24.7,lineCount:6},{bulletWidth:23,fontSize:19.95,lineHeight:21.3,lineCount:7,bulletOffset:1},{bulletWidth:23,fontSize:18.8,lineHeight:18.8,lineCount:8,bulletOffset:1},{bulletWidth:19,fontSize:16.7,lineHeight:16.7,lineCount:9,bulletOffset:1},{bulletWidth:19,fontSize:15,lineHeight:15,lineCount:10,bulletOffset:2}]}),"tcg-type":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:40,fontSize:42.2,lineHeight:43.9,lineCount:4,bulletOffset:2},{bulletWidth:32,fontSize:33.2,lineHeight:35.5,lineCount:5},{bulletWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:6},{bulletWidth:23,fontSize:25.2,lineHeight:24.7,lineCount:7},{bulletWidth:23,fontSize:19.95,lineHeight:21.3,lineCount:8},{bulletWidth:23,fontSize:18.8,lineHeight:18.8,lineCount:9},{bulletWidth:20,fontSize:16.8,lineHeight:17.7,lineCount:10,bulletOffset:1},{bulletWidth:19,fontSize:15.1,lineHeight:16.1,lineCount:11,bulletOffset:1},{bulletWidth:17,fontSize:14.1,lineHeight:14.7,lineCount:12,bulletOffset:1}]}),"tcg-pendulumLarge":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:38,fontSize:37.6,lineHeight:43.3,lineCount:4,bulletOffset:1},{bulletWidth:32,fontSize:32.2,lineHeight:35.6,lineCount:5,bulletOffset:1},{bulletWidth:26,fontSize:28.7,lineHeight:30.1,lineCount:6},{bulletWidth:23,fontSize:24.2,lineHeight:25.8,lineCount:7},{bulletWidth:22,fontSize:19.94,lineHeight:22.7,lineCount:8,bulletOffset:1},{bulletWidth:20,fontSize:17.44,lineHeight:18.55,lineCount:10,bulletOffset:1},{bulletWidth:18,fontSize:15.8,lineHeight:16.4,lineCount:11,bulletOffset:1},{bulletWidth:17,fontSize:14.5,lineHeight:15,lineCount:12,bulletOffset:1}]}),"tcg-pendulumLarge-stat":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:41,fontSize:40.2,lineHeight:47.9,lineCount:3,bulletOffset:2},{bulletWidth:34,fontSize:33.2,lineHeight:36,lineCount:4},{bulletWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletWidth:23,fontSize:25.2,lineHeight:24.7,lineCount:6},{bulletWidth:20,fontSize:17.31,lineHeight:18.65,lineCount:8,bulletOffset:1},{bulletWidth:17,fontSize:15.5,lineHeight:16.7,lineCount:9,bulletOffset:1},{bulletWidth:16,fontSize:14.5,lineHeight:15,lineCount:10,bulletOffset:1}]}),"tcg-pendulumLarge-type-stat":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:40,fontSize:45.2,lineHeight:54.1,lineCount:2,bulletOffset:1},{bulletWidth:30,fontSize:34.2,lineHeight:37.5,lineCount:3},{bulletWidth:26,fontSize:27.2,lineHeight:28.5,lineCount:4},{bulletWidth:23,fontSize:25.2,lineHeight:23.3,lineCount:5},{bulletWidth:22,fontSize:19.85,lineHeight:19.5,lineCount:6,bulletOffset:1},{bulletWidth:20,fontSize:18.5,lineHeight:16.9,lineCount:7,bulletOffset:1},{bulletWidth:17,fontSize:16.1,lineHeight:14.8,lineCount:8,bulletOffset:1},{bulletWidth:16,fontSize:13.8,lineHeight:13.2,lineCount:9,bulletOffset:1}]}),"tcg-pendulumLarge-type":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:40,fontSize:39.8,lineHeight:45.5,lineCount:3,bulletOffset:1},{bulletWidth:36,fontSize:33.2,lineHeight:36.9,lineCount:4,bulletOffset:1},{bulletWidth:28,fontSize:27.2,lineHeight:28.8,lineCount:5},{bulletWidth:25,fontSize:22.8,lineHeight:24.5,lineCount:6},{bulletWidth:22,fontSize:19.95,lineHeight:21.2,lineCount:7},{bulletWidth:20,fontSize:17.95,lineHeight:18.5,lineCount:8,bulletOffset:1},{bulletWidth:19,fontSize:16,lineHeight:16.6,lineCount:9},{bulletWidth:18,fontSize:14.3,lineHeight:15,lineCount:10,bulletOffset:1},{bulletWidth:16,fontSize:12.5,lineHeight:13.4,lineCount:11,bulletOffset:1}]}),ocg:Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:38,fontSize:43.2,lineHeight:50.1,lineCount:4,bulletOffset:2,headTextFontRatio:.25},{bulletWidth:30,fontSize:34.7,lineHeight:40.1,lineCount:5,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:16,fontSize:22,lineHeight:26,lineCount:7},{bulletWidth:16,fontSize:22,lineHeight:26,lineCount:8}]}),"ocg-stat":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:34,fontSize:38.7,lineHeight:44.1,lineCount:4,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:30,fontSize:32.7,lineHeight:36.1,lineCount:5,bulletOffset:2,headTextFontRatio:.25},{bulletWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]}),"ocg-type-stat":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:41,fontSize:45.7,lineHeight:49.8,lineCount:3,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:32,fontSize:34.7,lineHeight:38.1,lineCount:4,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:24,fontSize:27.7,lineHeight:30.1,lineCount:5,bulletOffset:2,headTextFontRatio:.3},{bulletWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:6}]}),"ocg-type":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:34,fontSize:38.7,lineHeight:44.1,lineCount:4,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:30,fontSize:32.7,lineHeight:36.1,lineCount:5,bulletOffset:2,headTextFontRatio:.25},{bulletWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]}),"ocg-pendulumLarge":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:39,fontSize:45.2,lineHeight:55.1,lineCount:3,bulletOffset:2,headTextFontRatio:.25},{bulletWidth:31,fontSize:35.7,lineHeight:44.1,lineCount:4,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:27,fontSize:29.7,lineHeight:35.8,lineCount:5,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:16,fontSize:22,lineHeight:26,lineCount:6},{bulletWidth:16,fontSize:22,lineHeight:26,lineCount:7}]}),"ocg-pendulumLarge-stat":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:37,fontSize:40.7,lineHeight:48.1,lineCount:3,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:30,fontSize:32.7,lineHeight:37.1,lineCount:4,bulletOffset:2,headTextFontRatio:.25},{bulletWidth:23,fontSize:25.7,lineHeight:29.8,lineCount:5,bulletOffset:1,headTextFontRatio:.3},{bulletWidth:16,fontSize:21.05,lineHeight:24.9,lineCount:6}]}),"ocg-pendulumLarge-type-stat":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:41,fontSize:45.7,lineHeight:54.8,lineCount:2,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:32,fontSize:35.7,lineHeight:40.1,lineCount:3,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:23,fontSize:26.7,lineHeight:30.6,lineCount:4,bulletOffset:2,headTextFontRatio:.3},{bulletWidth:16,fontSize:21.05,lineHeight:24.8,lineCount:5}]}),"ocg-pendulumLarge-type":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:38,fontSize:43.7,lineHeight:49.8,lineCount:3,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:31,fontSize:34.7,lineHeight:38.1,lineCount:4,bulletOffset:3,headTextFontRatio:.25},{bulletWidth:23,fontSize:26.7,lineHeight:30.6,lineCount:5,bulletOffset:2,headTextFontRatio:.3},{bulletWidth:16,fontSize:21.05,lineHeight:25.8,lineCount:6}]})},je={Default:{value:"Default",labelKey:"input.name-style.font-type.default",fontData:{alphabetFont:"MatrixRegularSmallCaps",font:"MatrixRegularSmallCaps",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.55,fontList:[{bulletWidth:64,fontSize:91.5,headTextFontRatio:.19,letterSpacing:.015,lineCount:1,lineHeight:91.5,offsetY:0}],letterDeviationMap:{1:{threshold:.94,letterMap:{I:{uniformBoxDescent:1},i:{uniformBoxDescent:1},"\xcc":{uniformBoxDescent:1},"\xcd":{uniformBoxDescent:1},"\xce":{uniformBoxDescent:1},"\xcf":{uniformBoxDescent:1},"\xec":{uniformBoxDescent:1},"\xed":{uniformBoxDescent:1},"\xee":{uniformBoxDescent:1},"\xef":{uniformBoxDescent:1},"\u0128":{uniformBoxDescent:1},"\u0129":{uniformBoxDescent:1},"\u012a":{uniformBoxDescent:1},"\u012b":{uniformBoxDescent:1},"\u1ec8":{uniformBoxDescent:1},"\u1ec9":{uniformBoxDescent:1},"\u1eca":{uniformBoxDescent:11},"\u1ecb":{uniformBoxDescent:11},E:{uniformBoxDescent:1},"\xc8":{uniformBoxDescent:1},"\xc9":{uniformBoxDescent:1},"\xca":{uniformBoxDescent:1},"\xca\u0304":{uniformBoxDescent:1},"\xca\u030c":{uniformBoxDescent:1},"\xcb":{uniformBoxDescent:1},"\xe8":{uniformBoxDescent:1},"\xe9":{uniformBoxDescent:1},"\xea":{uniformBoxDescent:1},"\xea\u0304":{uniformBoxDescent:1},"\xea\u030c":{uniformBoxDescent:1},"\xeb":{uniformBoxDescent:1},"\u0112":{uniformBoxDescent:1},"\u0113":{uniformBoxDescent:1},"\u1eba":{uniformBoxDescent:1},"\u1ebb":{uniformBoxDescent:1},"\u1ebc":{uniformBoxDescent:1},"\u1ebd":{uniformBoxDescent:1},"\u1ebe":{uniformBoxDescent:1},"\u1ebf":{uniformBoxDescent:1},"\u1ec0":{uniformBoxDescent:1},"\u1ec1":{uniformBoxDescent:1},"\u1ec2":{uniformBoxDescent:1},"\u1ec3":{uniformBoxDescent:1},"\u1ec4":{uniformBoxDescent:1},"\u1ec5":{uniformBoxDescent:1},"E\u0329":{uniformBoxDescent:11},"e\u0329":{uniformBoxDescent:11},"\xc8\u0329":{uniformBoxDescent:11},"\xc9\u0329":{uniformBoxDescent:11},"\xe8\u0329":{uniformBoxDescent:11},"\u1eb8":{uniformBoxDescent:11},"\u1eb9":{uniformBoxDescent:11},"\u1ec6":{uniformBoxDescent:11},"\u1ec7":{uniformBoxDescent:11}}},2:{threshold:0,letterMap:{I:{uniformBoxDescent:1},i:{uniformBoxDescent:1},"\xcc":{uniformBoxDescent:1},"\xcd":{uniformBoxDescent:1},"\xce":{uniformBoxDescent:1},"\xcf":{uniformBoxDescent:1},"\xec":{uniformBoxDescent:1},"\xed":{uniformBoxDescent:1},"\xee":{uniformBoxDescent:1},"\xef":{uniformBoxDescent:1},"\u0128":{uniformBoxDescent:1},"\u0129":{uniformBoxDescent:1},"\u012a":{uniformBoxDescent:1},"\u012b":{uniformBoxDescent:1},"\u1ec8":{uniformBoxDescent:1},"\u1ec9":{uniformBoxDescent:1},"\u1eca":{uniformBoxDescent:20},"\u1ecb":{uniformBoxDescent:20},E:{uniformBoxDescent:1},"\xc8":{uniformBoxDescent:1},"\xc9":{uniformBoxDescent:1},"\xca":{uniformBoxDescent:1},"\xca\u0304":{uniformBoxDescent:1},"\xca\u030c":{uniformBoxDescent:1},"\xcb":{uniformBoxDescent:1},"\xe8":{uniformBoxDescent:1},"\xe9":{uniformBoxDescent:1},"\xea":{uniformBoxDescent:1},"\xea\u0304":{uniformBoxDescent:1},"\xea\u030c":{uniformBoxDescent:1},"\xeb":{uniformBoxDescent:1},"\u0112":{uniformBoxDescent:1},"\u0113":{uniformBoxDescent:1},"\u1eba":{uniformBoxDescent:1},"\u1ebb":{uniformBoxDescent:1},"\u1ebc":{uniformBoxDescent:1},"\u1ebd":{uniformBoxDescent:1},"\u1ebe":{uniformBoxDescent:1},"\u1ebf":{uniformBoxDescent:1},"\u1ec0":{uniformBoxDescent:1},"\u1ec1":{uniformBoxDescent:1},"\u1ec2":{uniformBoxDescent:1},"\u1ec3":{uniformBoxDescent:1},"\u1ec4":{uniformBoxDescent:1},"\u1ec5":{uniformBoxDescent:1},"E\u0329":{uniformBoxDescent:20},"e\u0329":{uniformBoxDescent:20},"\xc8\u0329":{uniformBoxDescent:20},"\xc9\u0329":{uniformBoxDescent:20},"\xe8\u0329":{uniformBoxDescent:20},"\u1eb8":{uniformBoxDescent:20},"\u1eb9":{uniformBoxDescent:20},"\u1ec6":{uniformBoxDescent:20},"\u1ec7":{uniformBoxDescent:20}}}}}},Arial:{value:"Arial",labelKey:"input.name-style.font-type.arial",fontData:{alphabetFont:"Arial",font:"Arial",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.825,weight:"bold",fontList:[{bulletWidth:40.67,fontSize:61,headTextFontRatio:.19,letterSpacing:-.14,lineCount:1,lineHeight:61,offsetY:3}]}},OCG:{value:"OCG",labelKey:"input.name-style.font-type.ocg",fontData:{alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',font:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextHeightRatio:.775,headTextOverflow:"condense",headTextBold:!0,metricMethod:"name",numberFont:"DFKakuTaiHiStd-W4",numberFontRatio:1,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:.775,fontStyle:"ocg",fontList:[{bulletWidth:42.67,fontSize:64,headTextFontRatio:.175,headTextSpacing:3,letterSpacing:-.03,lineCount:1,lineHeight:64,offsetY:0}]}}},xe={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{offsetY:-1,bulletWidth:20.05,fontSize:21.2,lineHeight:21.2,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletWidth:20.05,fontSize:20,lineHeight:20,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",metricMethod:"creator",fontStyle:"ocg",fontList:[{bulletWidth:18,fontSize:19,letterSpacing:.05,lineHeight:20.5,lineCount:1,headTextFontRatio:0,wordLetterSpacing:.11}]}},Oe={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:0,headTextFontRatio:.4,largeSymbolRatio:1.25,offsetY:1}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',numberFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",metricMethod:"furigana",fontList:[{bulletWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletWidth:20.05,fontSize:19,headTextFontRatio:0,largeSymbolRatio:1.25,lineCount:1,lineHeight:20.5,ordinalFontOffsetY:1,ordinalFontRatio:1.25}]}},we={font:"YuGiOhITCStoneSerifBSc",alphabetFont:"YuGiOhITCStoneSerifBSc",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"YuGiOhITCStoneSerifBSc",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletWidth:20.05,fontSize:31.5,lineHeight:31.5,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:.02,headTextFontRatio:.4},{bulletWidth:21.8,fontSize:32.75,lineHeight:32.75,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:-.03,headTextFontRatio:.4},{bulletWidth:14.8,fontSize:44.5,lineHeight:44.5,lineCount:1,iconSymbolWidth:45,capitalLetterRatio:.90001,squareBracketRatio:.94001,letterSpacing:-.03,headTextFontRatio:.4}]},ke={font:'"Yu-Gi-Oh! DF Leisho 3"',alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',symbolFont:"matrix",symbolFontRatio:.8,headTextHeightRatio:.775,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",fontList:[{bulletWidth:20.05,fontSize:25.2,lineHeight:25.2,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletWidth:21.8,fontSize:26.5,lineHeight:26.5,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletWidth:36.8,fontSize:48,lineHeight:48,lineCount:1,iconSymbolWidth:45,headTextFontRatio:.25,headTextSpacing:3,letterSpacing:-.07,squareBracketRatio:1.02501}]},Se={"tcg-small":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:36,fontSize:36.3,lineHeight:37.2,lineCount:2,bulletOffset:1},{bulletWidth:36,fontSize:36.3,lineHeight:37.2,lineCount:2,bulletOffset:1},{bulletWidth:36,fontSize:36.3,lineHeight:37.2,lineCount:2,bulletOffset:1},{bulletWidth:26,fontSize:24.3,lineHeight:25.65,lineCount:3,bulletOffset:1},{bulletWidth:19,fontSize:18.5,lineHeight:19.23,lineCount:4,bulletOffset:3},{bulletWidth:18,fontSize:14.8,lineHeight:15.78,lineCount:5,bulletOffset:3},{bulletWidth:16,fontSize:12.4,lineHeight:13.32,lineCount:6,bulletOffset:2}]}),"tcg-medium":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:41,fontSize:50.3,lineHeight:56.35,lineCount:2},{bulletWidth:34,fontSize:35.3,lineHeight:38.85,lineCount:3,bulletOffset:2},{bulletWidth:27,fontSize:26.3,lineHeight:29.35,lineCount:4,bulletOffset:3},{bulletWidth:23,fontSize:24.3,lineHeight:24.35,lineCount:5},{bulletWidth:19,fontSize:19.5,lineHeight:20.23,lineCount:6},{bulletWidth:18,fontSize:17,lineHeight:17.4,lineCount:7,bulletOffset:1},{bulletWidth:16,fontSize:14.7,lineHeight:15.32,lineCount:8}]}),"tcg-large":Object(c.a)(Object(c.a)({},fe),{},{fontList:[{bulletWidth:36,fontSize:35.3,lineHeight:37.65,lineCount:4,bulletOffset:1},{bulletWidth:30,fontSize:28.3,lineHeight:30.35,lineCount:5,bulletOffset:2},{bulletWidth:26,fontSize:24.3,lineHeight:25.85,lineCount:6,bulletOffset:2},{bulletWidth:23,fontSize:20.7,lineHeight:22.05,lineCount:7,bulletOffset:2},{bulletWidth:19,fontSize:18.5,lineHeight:19.33,lineCount:8,bulletOffset:1},{bulletWidth:18,fontSize:16.8,lineHeight:17.3,lineCount:9,bulletOffset:1},{bulletWidth:16,fontSize:14.7,lineHeight:15.52,lineCount:10}]})},Ce={"tcg-small":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:36,fontSize:36.3,lineHeight:37.2,lineCount:2,bulletOffset:1},{bulletWidth:36,fontSize:36.3,lineHeight:37.2,lineCount:2,bulletOffset:1},{bulletWidth:36,fontSize:36.3,lineHeight:37.2,lineCount:2,bulletOffset:1},{bulletWidth:26,fontSize:24.3,lineHeight:25.65,lineCount:3,bulletOffset:1},{bulletWidth:19,fontSize:18.5,lineHeight:19.23,lineCount:4,bulletOffset:3},{bulletWidth:18,fontSize:14.8,lineHeight:15.78,lineCount:5,bulletOffset:3},{bulletWidth:16,fontSize:12.4,lineHeight:13.32,lineCount:6,bulletOffset:2}]}),"tcg-medium":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:41,fontSize:50.3,lineHeight:56.35,lineCount:2},{bulletWidth:34,fontSize:35.3,lineHeight:38.85,lineCount:3,bulletOffset:2},{bulletWidth:27,fontSize:26.3,lineHeight:29.35,lineCount:4,bulletOffset:3},{bulletWidth:23,fontSize:24.3,lineHeight:24.35,lineCount:5},{bulletWidth:19,fontSize:19.5,lineHeight:20.23,lineCount:6},{bulletWidth:18,fontSize:17,lineHeight:17.4,lineCount:7,bulletOffset:1},{bulletWidth:16,fontSize:14.7,lineHeight:15.32,lineCount:8}]}),"tcg-large":Object(c.a)(Object(c.a)({},he),{},{fontList:[{bulletWidth:41,fontSize:40.7,lineHeight:48.52,lineCount:3,bulletOffset:1},{bulletWidth:36,fontSize:35.3,lineHeight:37.65,lineCount:4,bulletOffset:1},{bulletWidth:30,fontSize:28.3,lineHeight:30.35,lineCount:5,bulletOffset:2},{bulletWidth:26,fontSize:24.3,lineHeight:25.85,lineCount:6,bulletOffset:2},{bulletWidth:23,fontSize:20.7,lineHeight:22.05,lineCount:7,bulletOffset:2},{bulletWidth:19,fontSize:18.5,lineHeight:19.33,lineCount:8,bulletOffset:1},{bulletWidth:18,fontSize:16.8,lineHeight:17.3,lineCount:9,bulletOffset:1}]}),"ocg-small":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:35,fontSize:38.55,lineHeight:39.2,headTextFontRatio:.2,lineCount:2,bulletOffset:3},{bulletWidth:35,fontSize:38.55,lineHeight:39.2,headTextFontRatio:.2,lineCount:2,bulletOffset:3},{bulletWidth:35,fontSize:38.55,lineHeight:39.2,headTextFontRatio:.2,lineCount:2,bulletOffset:3},{bulletWidth:16,fontSize:22.05,lineHeight:26.6,headTextFontRatio:.3,lineCount:3}]}),"ocg-medium":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:41,bulletOffset:3,fontSize:45.55,lineHeight:57.6,headTextFontRatio:.2,lineCount:2},{bulletWidth:31,bulletOffset:2,fontSize:35.55,lineHeight:40.6,lineCount:3},{bulletWidth:23,bulletOffset:1,fontSize:25.05,lineHeight:30.6,lineCount:4},{bulletWidth:16,fontSize:22.05,lineHeight:25.2,lineCount:5}]}),"ocg-large":Object(c.a)(Object(c.a)({},ge),{},{fontList:[{bulletWidth:37,fontSize:43.55,lineHeight:49.6,headTextFontRatio:.25,lineCount:3,bulletOffset:3},{bulletWidth:29,fontSize:32.55,lineHeight:38.6,lineCount:4,bulletOffset:1},{bulletWidth:23,fontSize:25.05,lineHeight:30.6,lineCount:5,bulletOffset:1},{bulletWidth:16,fontSize:22.05,lineHeight:25.9,lineCount:6}]})},Fe={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\u300c":"\uff62","\u300d":"\uff63","\u3001":"\uff64",":":"\uff1a","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},Le={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\uff62":"\u300c","\uff63":"\u300d","\uff64":"\u3001","\uff1a":":","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},Te={"(\uff11)":"\u2460","(\uff12)":"\u2461","(\uff13)":"\u2462","(\uff14)":"\u2463","(\uff15)":"\u2464","(\uff16)":"\u2465","(\uff17)":"\u2466","(\uff18)":"\u2467","(\uff19)":"\u2468","(\uff11\uff10)":"\u2469","(\uff11\uff11)":"\u246a","(\uff11\uff12)":"\u246b","(\uff11\uff13)":"\u246c","(\uff11\uff14)":"\u246d","(\uff11\uff15)":"\u246e","(\uff11\uff16)":"\u246f","(\uff11\uff17)":"\u2470","(\uff11\uff18)":"\u2471","(\uff11\uff19)":"\u2472","(\uff12\uff10)":"\u2473","(1)":"\u2460","(2)":"\u2461","(3)":"\u2462","(4)":"\u2463","(5)":"\u2464","(6)":"\u2465","(7)":"\u2466","(8)":"\u2467","(9)":"\u2468","(10)":"\u2469","(11)":"\u246a","(12)":"\u246b","(13)":"\u246c","(14)":"\u246d","(15)":"\u246e","(16)":"\u246f","(17)":"\u2470","(18)":"\u2471","(19)":"\u2472","(20)":"\u2473"},Ne={ocg:["\xa9\u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e\u30fb\u30c6\u30ec\u30d3\u6771\u4eac\u30fbKONAMI","\xa9\u9ad8\u6a4b\u548c\u5e0c \u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e","\xa9\u9ad8\u6a4b\u548c\u5e0c\uff0f\u96c6\u82f1\u793e"],tcg:["\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI","\xa91996 KAZUKI TAKAHASHI","\xa9KAZUKI TAKAHASHI / SHUEISHA"]},Re={ocg:"\u203b\u30c7\u30c3\u30ad\u69cb\u7bc9\u306b\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002",tcg:"This card cannot be in a Deck."},ze={"\u6c34\u65cf":"Aqua","\u7363\u65cf":"Beast","\u7363\u6226\u58eb\u65cf":"Beast-Warrior","\u5275\u9020\u795e\u65cf":"Creator God","\u30b5\u30a4\u30d0\u30fc\u30b9\u65cf":"Cyberse","\u6050\u7adc\u65cf":"Dinosaur","\u5e7b\u795e\u7363\u65cf":"Divine-Beast","\u30c9\u30e9\u30b4\u30f3\u65cf":"Dragon","\u5929\u4f7f\u65cf":"Fairy","\u60aa\u9b54\u65cf":"Fiend","\u9b5a\u65cf":"Fish","\u30ae\u30e3\u30e9\u30af\u30b7\u30fc\u65cf":"Galaxy","\u5e7b\u60f3\u9b54\u65cf":"Illusion","\u6606\u866b\u65cf":"Insect","\u6a5f\u68b0\u65cf":"Machine","\u690d\u7269\u65cf":"Plant","\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Psychic","\u708e\u65cf":"Pyro","\u722c\u866b\u985e\u65cf":"Reptile","\u5ca9\u77f3\u65cf":"Rock","\u6d77\u7adc\u65cf":"Sea Serpent","\u9b54\u6cd5\u4f7f\u3044\u65cf":"Spellcaster","\u96f7\u65cf":"Thunder","\u6226\u58eb\u65cf":"Warrior","\u9ce5\u7363\u65cf":"Winged Beast","\u5e7b\u7adc\u65cf":"Wyrm","\u30a2\u30f3\u30c7\u30c3\u30c8\u65cf":"Zombie","\u30b5\u30a4\u30dc\u30fc\u30b0\u65cf":"Cyborg","\u5929\u754c\u6226\u58eb\u65cf":"Celestial Warrior","\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3\u65cf":"High Dragon","\u9b54\u5c0e\u9a0e\u58eb\u65cf":"Magical Knight","\u30aa\u30e1\u30ac\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Omega Psychic","\u30e2\u30f3\u30b9\u30bf\u30fc":"Monster","\u9b54\u6cd5\u30ab\u30fc\u30c9":"Spell Card","\u7f60\u30ab\u30fc\u30c9":"Trap Card","\u30a2\u30af\u30b7\u30e7\u30f3":"Action","\u901a\u5e38":"Normal","\u52b9\u679c":"Effect","\u5100\u5f0f":"Ritual","\u30d5\u30e5\u30fc\u30b8\u30e7\u30f3":"Fusion","\u878d\u5408":"Fusion","\u30b7\u30f3\u30af\u30ed":"Synchro","\u30a8\u30af\u30b7\u30fc\u30ba":"Xyz","\u30da\u30f3\u30c7\u30e5\u30e9\u30e0":"Pendulum","\u30ea\u30f3\u30af":"Link","\u30de\u30ad\u30b7\u30de\u30e0":"Maximum","\u30c8\u30fc\u30af\u30f3":"Token","\u7279\u6b8a\u53ec\u559a":"Special Summon","\u30c0\u30fc\u30af\u30b7\u30f3\u30af\u30ed\u30e2\u30f3\u30b9\u30bf\u30fc":"Dark Synchro","\u30c1\u30e5\u30fc\u30ca\u30fc":"Tuner","\u30c7\u30e5\u30a2\u30eb":"Gemini","\u30ea\u30d0\u30fc\u30b9":"Flip","\u30c8\u30a5\u30fc\u30f3":"Toon","\u30b9\u30d4\u30ea\u30c3\u30c8":"Spirit","\u30e6\u30cb\u30aa\u30f3":"Union",[Ne.ocg[2]]:Ne.tcg[2],[Ne.ocg[1]]:Ne.tcg[1],[Ne.ocg[0]]:Ne.tcg[0],"{\u7d14|\u30b8\u30e5\u30f3}{\u72d0|\u3053}":"Junko","\u81ea\u5206\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u52b9\u679c\u30e2\u30f3\u30b9\u30bf\u30fc\xd7\uff12\u4f53\u4ee5\u4e0a\n\u2460\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u304c\u30e2\u30f3\u30b9\u30bf\u30fc\u30be\u30fc\u30f3\u306b\u5b58\u5728\u3059\u308b\u9650\u308a\u3001\u76f8\u624b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u52b9\u679c\u3092\u767a\u52d5\u3059\u308b\u5ea6\u306b\u3001\u305d\u306e\u76f8\u624b\u306e\u8868\u5074\u8868\u793a\u30e2\u30f3\u30b9\u30bf\u30fc\u306b\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\uff11\u3064\u7f6e\u304f(\u6700\u5927\uff11\u3064\u307e\u3067\uff09\u3002\u2461\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u767a\u52d5\u3057\u305f\u52b9\u679c\u3092\u53d7\u3051\u306a\u3044\u3002\u2462\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3068\u306e\u6226\u95d8\u3067\u306f\u7834\u58ca\u3055\u308c\u306a\u3044\u3002":"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.","\u203b\u516c\u5f0f\u306e\u30c7\u30e5\u30a8\u30eb\u3067\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002":"This card cannot be used in a Duel.","\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002":"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1.",[Re.ocg]:Re.tcg},Ie=Object.entries(ze).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{"Once per turn: You can pay 800 LP, increase this card\u2019s Pendulum Scale by 1.":"\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002"}),Be={normal:{name:"normal",nameKey:"input.frame.normal",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c49c5e",sortWeight:100},effect:{name:"effect",nameKey:"input.frame.effect",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#b96c49",sortWeight:90},fusion:{name:"fusion",nameKey:"input.frame.fusion",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#8948a4",sortWeight:80},synchro:{name:"synchro",nameKey:"input.frame.synchro",labelColor:"#000",edition:"normal",labelBackgroundColor:"#efefef",sortWeight:70},xyz:{name:"xyz",nameKey:"input.frame.xyz",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#000000",sortWeight:60},link:{name:"link",nameKey:"input.frame.link",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#0c8ac6",sortWeight:50},ritual:{name:"ritual",nameKey:"input.frame.ritual",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#5e85c9",sortWeight:85},spell:{name:"spell",nameKey:"input.frame.spell",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#1b8f83",sortWeight:30},trap:{name:"trap",nameKey:"input.frame.trap",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c32a8c",sortWeight:25},token:{name:"token",nameKey:"input.frame.token",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#6f6c6b",sortWeight:1},"dark-synchro":{name:"dark-synchro",nameKey:"input.frame.dark-synchro",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4d4543",sortWeight:15},obelisk:{name:"obelisk",nameKey:"input.frame.obelisk",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#515eb0",sortWeight:10},osiris:{name:"osiris",nameKey:"input.frame.osiris",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#bd5044",sortWeight:9},ra:{name:"ra",nameKey:"input.frame.ra",labelColor:"#000",edition:"extendend",labelBackgroundColor:"#b9ad34",sortWeight:8},raviel:{name:"raviel",nameKey:"input.frame.raviel",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#313c5f",sortWeight:7},uria:{name:"uria",nameKey:"input.frame.uria",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#623320",sortWeight:6},hamon:{name:"hamon",nameKey:"input.frame.hamon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#534a19",sortWeight:5},"lg-dragon":{name:"lg-dragon",nameKey:"input.frame.lg-dragon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4e84a4",sortWeight:3},"speed-skill":{name:"speed-skill",nameKey:"input.frame.speed-skill",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#199cd5",sortWeight:2},zarc:{name:"zarc",nameKey:"input.frame.zarc",labelColor:"#000",edition:"extendend",labelBackgroundColorList:["rgba(185,108,73,1)","rgba(137,72,164,1)","rgba(239,239,239,1)","rgba(0,0,0,1)"],labelBackgroundImage:"linear-gradient(90deg, ".concat(["rgba(185,108,73,1) 23%","rgba(137,72,164,1) 27%","rgba(137,72,164,1) 49%","rgba(239,239,239,1) 51%","rgba(239,239,239,1) 73%","rgba(0,0,0,1) 77%"].join(", "),")"),sortWeight:4}},Ee=Object.values(Be),De=Be.effect,We={bottomLeftFrame:{labelKey:"input.advanced-frame.name.bottom-left"},bottomRightFrame:{labelKey:"input.advanced-frame.name.bottom-right"},effectBackground:{labelKey:"input.advanced-frame.name.effect-background"},pendulumEffectBackground:{labelKey:"input.advanced-frame.name.pendulum-effect-background"},frame:{labelKey:"input.advanced-frame.name.primary"},topLeftFrame:{labelKey:"input.advanced-frame.name.top-left"},topRightFrame:{labelKey:"input.advanced-frame.name.top-right"}},He={normal:[{top:175,left:55,width:100,height:100},{top:165,left:323,width:170,height:80},{top:175,left:655,width:100,height:100},{top:442,left:45,width:70,height:170},{top:0,left:0,width:0,height:0},{top:442,left:700,width:70,height:170},{top:775,left:55,width:100,height:100},{top:810,left:323,width:170,height:80},{top:775,left:655,width:100,height:100}],pendulum:[{top:169,left:11,width:100,height:100},{top:159,left:323,width:170,height:80},{top:169,left:699,width:100,height:100},{top:572,left:1,width:70,height:170},{top:0,left:0,width:0,height:0},{top:572,left:744,width:70,height:170},{top:1054,left:11,width:100,height:100},{top:1093,left:323,width:170,height:80},{top:1054,left:699,width:100,height:100}]},Ae=[-45,0,45,-90,0,90,-135,180,135],Me=[-38,-28,-38,-28,0,-28,-38,-28,-38],Pe=[-30,-23,-30,-28,0,-28,-30,-23,-30],Ke=[0,0,0,0,0,0,0,0,0],Ue=[-5,0,5,0,0,0,5,0,-5],Ye=new RegExp("[A-Z\uff21-\uff3a]"),Ge=new RegExp("[\\[\\]\u3010\u3011]"),Xe="[#@\u221ea-z\uff41-\uff5aA-Z\uff21-\uff3a0-9\uff10-\uff19!\uff01+\xd7\uff03#@\u221e\u2018\u201c\u2019\u201d:;\\[\\]\\(\\)\u3010\u3011\\.,]+",Ve=new RegExp(Xe),qe=new RegExp("({[^{}]+?}|".concat(Xe,"|.)")),_e="\u2989",$e="\u298a",Je="\u27c5",Ze="\u27c6",Qe="\u169b",et="\u169c",tt="\u27ec",nt="\u27ed",at=new RegExp("[".concat([et,Qe,Ze,Je,nt,tt,$e,_e].join(""),"]|(\\|[^}]+})"),"g"),rt="\u2e26\u2e27",ot="\u2e26\u2e26\u2e27\u2e27",it="(^|[-\\u2014/[(\\u2018".concat(_e).concat(Je).concat(Qe).concat(tt,'\\s])"'),lt=new RegExp(it,"g"),st="".concat(_e,"|").concat($e),ct=new RegExp(st),ut="(\\n^[\\r\\t\\f\\v \\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]*\\n".concat(_e,"?(\\(|\\*)[\\w\\W]+").concat($e,"?)\\s*$"),dt=new RegExp("[".concat("#\u2605\u2606@\u221e","]")),bt=ue.map((e=>{var t;return null!==(t=e.regexForm)&&void 0!==t?t:e.shortForm})).join("|"),mt="(".concat(bt,")(?![^{]*})"),pt="\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b",ht=new RegExp("[".concat(pt,"]")),ft=".[".concat(pt,")\\]\uff5d\u3015\u3009\u300b\u300d\uff63\u300f\u3011\u3019\u3017\u301f'\"\u2019\u201d\uff60\xbb\u2010\u30a0\u2013\u301c\uff1f!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.\uff61\uff64]+"),gt=new RegExp("[\u2460-\u2473\u203b]"),vt=new RegExp("[\uff21-\uff3a\uff41-\uff5a]"),yt=new RegExp("[\uff10-\uff19]"),jt=new RegExp("[0-9]"),xt=/[\u3042\u3044\u3046\u3048\u304a\u304b\u304c\u304d\u304e\u304f\u3050\u3051\u3052\u3053\u3054\u3055\u3056\u3057\u3058\u3059\u305a\u305b\u305c\u305d\u305e\u305f\u3060\u3061\u3062\u3064\u3065\u3066\u3067\u3068\u3069\u306a\u306b\u306c\u306d\u306e\u306f\u3070\u3071\u3072\u3073\u3074\u3075\u3076\u3077\u3078\u3079\u307a\u307b\u307c\u307d\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093\u3094]/,Ot=/[\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ac\u30ad\u30ae\u30af\u30b0\u30b1\u30b2\u30b3\u30b4\u30b5\u30b6\u30b7\u30b8\u30b9\u30ba\u30bb\u30bc\u30bd\u30be\u30bf\u30c0\u30c1\u30c2\u30c4\u30c5\u30c6\u30c7\u30c8\u30c9\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d0\u30d1\u30d2\u30d3\u30d4\u30d5\u30d6\u30d7\u30d8\u30d9\u30da\u30db\u30dc\u30dd\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\u30f4\u30f7\u30f8\u30f9\u30fa]/,wt=new RegExp("[\u30fb]"),kt=new RegExp("[\u30fc]"),St=new RegExp("[\u2015]"),Ct=new RegExp("[".concat("\uff1a","]")),Ft=new RegExp("[".concat("\u3002\uff64","]")),Lt=new RegExp("[".concat("\uff1a","]")),Tt={"\u3002":-.2,"\uff64":-.2,"\uff62":0,"\uff63":0,"\uff1a":0,">":.25,"<":-.25},Nt={"\u3002":-.5,"\uff1a":-.25},Rt={">":.125,"<":.125},zt={},It={},Bt={},Et=e=>"tcg"===e?7:1,Dt=/{[^{}]+?}/,Wt="\\s\\-/",Ht=-2.25,At=()=>({version:2,format:"tcg",region:"en",frame:"fusion",leftFrame:"auto",rightFrame:"auto",pendulumRightFrame:"auto",foil:"normal",opacity:m(),finish:[],otherFinish:["normal","normal","normal","normal"],artFinish:"normal",name:"Junko",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"},attribute:"LIGHT",subFamily:z,cardIcon:"auto",star:6,starAlignment:"auto",starList:[],art:"https://i.imgur.com/h5kXZeC.png",artData:"",artFit:!1,artSource:"online",artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:["1","3","7","9"],linkRating:"",isLink:!1,isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1.",pendulumScaleRed:"4",pendulumScaleBlue:"4",pendulumSize:Z,typeAbility:["Fairy","Fusion","Effect"],effectStyle:{condenseTolerant:"strict",fontStyle:"auto",upSize:0,background:"auto",minLine:0},pendulumStyle:{fontStyle:"auto",upSize:0,background:"auto",minLine:0},effect:"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.",setId:"YGOC-EN001",atk:"2000",def:"2000",password:"18199611",sticker:"holo5",isFirstEdition:!0,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],otherTextStyle:[!1,"#000000",!1,"#000000"],flag:[0,0],dyeList:["","","","","",""],externalInfo:{}}),Mt=()=>Object(c.a)({id:Object(q.a)()},At()),Pt=()=>({version:2,format:"tcg",region:"en",frame:"effect",leftFrame:"auto",rightFrame:"auto",pendulumRightFrame:"auto",foil:"normal",opacity:m(),finish:[],artFinish:"normal",otherFinish:["normal","normal","normal","normal"],name:"",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"},attribute:F,subFamily:z,cardIcon:"auto",star:6,starList:[],starAlignment:"auto",art:"https://i.imgur.com/jjtCuG5.png",artData:"",artSource:"online",artFit:!1,artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:[],linkRating:"",isLink:null,isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"",pendulumScaleRed:"4",pendulumScaleBlue:"4",pendulumSize:Z,typeAbility:[],effectStyle:{condenseTolerant:"strict",fontStyle:"auto",upSize:0,background:"auto",minLine:0},pendulumStyle:{fontStyle:"auto",upSize:0,background:"auto",minLine:0},effect:"",setId:"",atk:"0",def:"0",password:"",sticker:B,isFirstEdition:!1,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],otherTextStyle:[!1,"#000000",!1,"#000000"],dyeList:["","","","","",""],flag:[0,0],externalInfo:{}}),Kt=[{type:"body",subType:"artBorder",label:"Card",labelKey:"input.opacity.body.label",tooltipKey:"input.opacity.art-border.tooltip"},{type:"name",subType:"nameBorder",label:"Name",labelKey:"input.opacity.name.label",tooltipKey:"input.opacity.name-border.tooltip"},{type:"pendulum",label:"Pendulum",labelKey:"input.opacity.pendulum.label",tooltipKey:null},{type:"text",label:"Effect",labelKey:"input.opacity.effect.label",tooltipKey:null}],Ut=["#4D4D4D","#999999","#FFFFFF","#FF7F7F","#FFD27F","#FFFF7F","#7FFF7F","#7FBF7F","#7FFFFF","#7F7FFF","#BF7FBF","#FF7FFF","#333333","#808080","#cccccc","#FF0000","#FFA500","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#800080","#FF00FF","#000000","#666666","#B3B3B3","#7F0000","#7F5200","#7F7F00","#007F00","#004000","#007F7F","#00007F","#400040","#7F007F"],Yt={"549x800":{label:"549 \xd7 800",width:549,height:800,scale:1,settingValue:[549,800]},"561x818":{label:"561 \xd7 818",width:561,height:818,scale:1,settingValue:[561,818]},"813x1185":{label:"813 \xd7 1185",width:813,height:1185,scale:1,settingValue:[813,1185]},"1122x1636":{label:Object(a.jsx)("div",{style:{color:"var(--main-warning)"},children:"1122 \xd7 1636"}),width:1122,height:1636,scale:2,settingValue:[1122,1636]},"1388x2026":{label:Object(a.jsx)("div",{style:{color:"var(--main-warning)"},children:"1388 \xd7 2026"}),width:1388,height:2026,scale:2,settingValue:[1388,2026]},"1626x2370":{label:Object(a.jsx)("div",{style:{color:"var(--main-warning)"},children:"1626 \xd7 2370"}),width:1626,height:2370,scale:2,settingValue:[1626,2370]}},Gt=[Yt["549x800"],Yt["561x818"],Yt["813x1185"],Yt["1122x1636"],Yt["1388x2026"],Yt["1626x2370"]],Xt=[{value:"csv",label:".csv"},{value:"xlsx",label:".xlsx"}],{width:Vt,height:qt}=d,_t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt;const n=document.createElement("canvas");n.width=e,n.height=t;const a=n.getContext("2d");return{canvas:n,ctx:a}};var $t=n(152),Jt=n.n($t),Zt=n(221),Qt=n.n(Zt),en=n(106),tn=n.n(en),nn=n(269),an=n.n(nn),rn=n(270),on=n.n(rn),ln=n(271),sn=n.n(ln),cn=n(272),un=n.n(cn);function dn(e,t){var n,a,r,o,i,l,s=e.shape.length,c=e.shape.slice(0),u=new Array(s),d=1,b=0,m=0;for(t=t||2,n=s-1;n>=0;--n)u[n]=d,d*=c[n],m+=c[n],b=Math.max(b,c[n]);var p=tn.a.mallocDouble(d),h=Jt()(p,c.slice(0),u.slice(0),0),f=tn.a.mallocUint32(b),g=tn.a.mallocUint32(b),v=tn.a.mallocDouble(d),y=Jt()(v,c.slice(0),u.slice(0),0);for(let j=0;j<e.shape[0];j++)for(let t=0;t<e.shape[1];t++)y.set(j,t,e.get(j,t)?0:m);for(function(e,t,n){var a,r,o,i=0,l=Math.min;for(a=0;a<t;++a){for(o=e[i++],r=1;r<n;++r)o=l(e[i],o+1),e[i++]=o;for(r=0;r<n;++r)o=l(e[--i],o+1),e[i]=o;i+=n}}(y.data,d/c[s-1]|0,0|c[s-1]),n=s-1;n>0;--n){for(o=h.stride,r=1,a=n-1;a<s;++a)o[a]=r,r*=c[a];for(a=n-2;a>=0;--a)o[a]=r,r*=c[a];if(Qt.a.assign(h,y),l=c[n-1],isFinite(t))if(1===t)an()(h.data,d/l|0,0|l,f,g);else if(2===t)on()(h.data,d/l|0,0|l,f,g);else{if(t<1)throw new Error("Values of exponent < 1 are not supported");un()(h.data,d/l|0,0|l,f,g,t)}else sn()(h.data,d/l|0,0|l,f,g);i=y,y=h,h=i}return Qt.a.assign(e,y),tn.a.freeDouble(v),tn.a.freeDouble(p),tn.a.freeUint32(f),tn.a.freeUint32(g),e}const{width:bn,height:mn}=d,pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mn;if(!ja.test(t))return{canvas:e,ctx:e.getContext("2d")};const{ctx:r,canvas:o}=_t(n,a);return r.filter="grayscale(1)",r.drawImage(e,0,0),r.filter="none",r.fillStyle=t,r.globalCompositeOperation="overlay",r.fillRect(0,0,bn,mn),r.globalCompositeOperation="destination-in",r.drawImage(e,0,0),r.globalCompositeOperation="source-over",{canvas:o,ctx:o.getContext("2d")}};var hn=n(37),fn=n(308),gn=n(273),vn=n(136);const yn={uniforms:{tDiffuse:{type:"t",value:null},h:{type:"f",value:3/512}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","float lef4 = vUv.x - 4.0 * h;","float lef3 = vUv.x - 3.0 * h;","float lef2 = vUv.x - 2.0 * h;","float lef1 = vUv.x - 1.0 * h;","float rig1 = vUv.x + 1.0 * h;","float rig2 = vUv.x + 2.0 * h;","float rig3 = vUv.x + 3.0 * h;","float rig4 = vUv.x + 4.0 * h;","lef4 = lef4 >= 0.0 ? lef4 : (1.0 + lef4);","lef4 = lef4 < 1.0  ? lef4 : (lef4 - 1.0 );","lef3 = lef3 >= 0.0 ? lef3 : (1.0 + lef3);","lef3 = lef3 < 1.0  ? lef3 : (lef3 - 1.0 );","lef2 = lef2 >= 0.0 ? lef2 : (1.0 + lef2);","lef2 = lef2 < 1.0  ? lef2 : (lef2 - 1.0 );","lef1 = lef1 >= 0.0 ? lef1 : (1.0 + lef1);","lef1 = lef1 < 1.0  ? lef1 : (lef1 - 1.0 );","rig1 = rig1 >= 0.0 ? rig1 : (1.0 + rig1);","rig1 = rig1 < 1.0  ? rig1 : (rig1 - 1.0 );","rig2 = rig2 >= 0.0 ? rig2 : (1.0 + rig2);","rig2 = rig2 < 1.0  ? rig2 : (rig2 - 1.0 );","rig3 = rig3 >= 0.0 ? rig3 : (1.0 + rig3);","rig3 = rig3 < 1.0  ? rig3 : (rig3 - 1.0 );","rig4 = rig4 >= 0.0 ? rig4 : (1.0 + rig4);","rig4 = rig4 < 1.0  ? rig4 : (rig4 - 1.0 );","sum += texture2D( tDiffuse, vec2( lef4, vUv.y ) ) * 0.051;","sum += texture2D( tDiffuse, vec2( lef3, vUv.y ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( lef2, vUv.y ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( lef1, vUv.y ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","sum += texture2D( tDiffuse, vec2( rig1, vUv.y ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( rig2, vUv.y ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( rig3, vUv.y ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( rig4, vUv.y ) ) * 0.051;","if (h > 0.0){","\tvec4 srcValue = texture2D( tDiffuse, vec2( vUv.x, vUv.y ) );","\tsum = srcValue + srcValue - sum;","}","gl_FragColor = sum;","}"].join("\n")},jn={uniforms:{tDiffuse:{type:"t",value:null},v:{type:"f",value:3/512}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","float top4 = vUv.y - 4.0 * v;","float top3 = vUv.y - 3.0 * v;","float top2 = vUv.y - 2.0 * v;","float top1 = vUv.y - 1.0 * v;","float bot1 = vUv.y + 1.0 * v;","float bot2 = vUv.y + 2.0 * v;","float bot3 = vUv.y + 3.0 * v;","float bot4 = vUv.y + 4.0 * v;","top4 = top4 >= 0.0 ? top4 : (1.0 + top4);","top4 = top4 < 1.0  ? top4 : (top4 - 1.0 );","top3 = top3 >= 0.0 ? top3 : (1.0 + top3);","top3 = top3 < 1.0  ? top3 : (top3 - 1.0 );","top2 = top2 >= 0.0 ? top2 : (1.0 + top2);","top2 = top2 < 1.0  ? top2 : (top2 - 1.0 );","top1 = top1 >= 0.0 ? top1 : (1.0 + top1);","top1 = top1 < 1.0  ? top1 : (top1 - 1.0 );","bot1 = bot1 >= 0.0 ? bot1 : (1.0 + bot1);","bot1 = bot1 < 1.0  ? bot1 : (bot1 - 1.0 );","bot2 = bot2 >= 0.0 ? bot2 : (1.0 + bot2);","bot2 = bot2 < 1.0  ? bot2 : (bot2 - 1.0 );","bot3 = bot3 >= 0.0 ? bot3 : (1.0 + bot3);","bot3 = bot3 < 1.0  ? bot3 : (bot3 - 1.0 );","bot4 = bot4 >= 0.0 ? bot4 : (1.0 + bot4);","bot4 = bot4 < 1.0  ? bot4 : (bot4 - 1.0 );","sum += texture2D( tDiffuse, vec2( vUv.x, top4 ) ) * 0.051;","sum += texture2D( tDiffuse, vec2( vUv.x, top3 ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x, top2 ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x, top1 ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","sum += texture2D( tDiffuse, vec2( vUv.x, bot1 ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, bot2 ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x, bot3 ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x, bot4 ) ) * 0.051;","if (v > 0.0){","\tvec4 srcValue = texture2D( tDiffuse, vec2( vUv.x, vUv.y ) );","\tsum = srcValue + srcValue - sum;","}","gl_FragColor = sum;","}"].join("\n")},xn={uniforms:{type:{type:"1i",value:0},invertR:{type:"1f",value:1},invertG:{type:"1f",value:1},invertH:{type:"1f",value:1},dz:{type:"1f",value:0},dimensions:{type:"fv",value:[0,0,0]},tHeightMap:{type:"t",value:null}},vertexShader:["precision mediump float;","varying vec2 vUv;","varying vec2 step;","uniform vec3 dimensions;","void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","step = vec2(-1.0 / dimensions.x, -1.0 / dimensions.y);","vUv = uv;","}"].join("\n"),fragmentShader:["precision mediump float;","uniform vec3 dimensions;","varying vec2 vUv;","varying vec2 step;","uniform float dz;","uniform float invertR;","uniform float invertG;","uniform float invertH;","uniform int type;","uniform sampler2D tHeightMap;","void main(void) {","\tvec2 tlv = vec2(vUv.x - step.x, vUv.y + step.y );","\tvec2 lv  = vec2(vUv.x - step.x, vUv.y \t\t   );","\tvec2 blv = vec2(vUv.x - step.x, vUv.y - step.y);","\tvec2 tv  = vec2(vUv.x \t\t  , vUv.y + step.y );","\tvec2 bv  = vec2(vUv.x \t\t  , vUv.y - step.y);","\tvec2 trv = vec2(vUv.x + step.x, vUv.y + step.y );","\tvec2 rv  = vec2(vUv.x + step.x, vUv.y \t\t   );","\tvec2 brv = vec2(vUv.x + step.x, vUv.y - step.y);","\ttlv = vec2(tlv.x >= 0.0 ? tlv.x : (1.0 + tlv.x), \ttlv.y >= 0.0\t? tlv.y : (1.0  + tlv.y));","\ttlv = vec2(tlv.x < 1.0  ? tlv.x : (tlv.x - 1.0 ), \ttlv.y < 1.0   \t? tlv.y : (tlv.y - 1.0 ));","\tlv  = vec2( lv.x >= 0.0 ?  lv.x : (1.0 + lv.x),  \tlv.y  >= 0.0 \t?  lv.y : (1.0  +  lv.y));","\tlv  = vec2( lv.x < 1.0  ?  lv.x : ( lv.x - 1.0 ),   lv.y  < 1.0  \t?  lv.y : ( lv.y - 1.0 ));","\tblv = vec2(blv.x >= 0.0 ? blv.x : (1.0 + blv.x), \tblv.y >= 0.0 \t? blv.y : (1.0  + blv.y));","\tblv = vec2(blv.x < 1.0  ? blv.x : (blv.x - 1.0 ), \tblv.y < 1.0 \t? blv.y : (blv.y - 1.0 ));","\ttv  = vec2( tv.x >= 0.0 ?  tv.x : (1.0 + tv.x),  \ttv.y  >= 0.0 \t?  tv.y : (1.0  +  tv.y));","\ttv  = vec2( tv.x < 1.0  ?  tv.x : ( tv.x - 1.0 ),   tv.y  < 1.0 \t?  tv.y : ( tv.y - 1.0 ));","\tbv  = vec2( bv.x >= 0.0 ?  bv.x : (1.0 + bv.x),  \tbv.y  >= 0.0 \t?  bv.y : (1.0  +  bv.y));","\tbv  = vec2( bv.x < 1.0  ?  bv.x : ( bv.x - 1.0 ),   bv.y  < 1.0 \t?  bv.y : ( bv.y - 1.0 ));","\ttrv = vec2(trv.x >= 0.0 ? trv.x : (1.0 + trv.x), \ttrv.y >= 0.0 \t? trv.y : (1.0  + trv.y));","\ttrv = vec2(trv.x < 1.0  ? trv.x : (trv.x - 1.0 ), \ttrv.y < 1.0   \t? trv.y : (trv.y - 1.0 ));","\trv  = vec2( rv.x >= 0.0 ?  rv.x : (1.0 + rv.x),  \trv.y  >= 0.0 \t?  rv.y : (1.0  +  rv.y));","\trv  = vec2( rv.x < 1.0  ?  rv.x : ( rv.x - 1.0 ),   rv.y  < 1.0   \t?  rv.y : ( rv.y - 1.0 ));","\tbrv = vec2(brv.x >= 0.0 ? brv.x : (1.0 + brv.x), \tbrv.y >= 0.0 \t? brv.y : (1.0  + brv.y));","\tbrv = vec2(brv.x < 1.0  ? brv.x : (brv.x - 1.0 ), \tbrv.y < 1.0   \t? brv.y : (brv.y - 1.0 ));","\tfloat tl = abs(texture2D(tHeightMap, tlv).r);","\tfloat l  = abs(texture2D(tHeightMap, lv ).r);","\tfloat bl = abs(texture2D(tHeightMap, blv).r);","\tfloat t  = abs(texture2D(tHeightMap, tv ).r);","\tfloat b  = abs(texture2D(tHeightMap, bv ).r);","\tfloat tr = abs(texture2D(tHeightMap, trv).r);","\tfloat r  = abs(texture2D(tHeightMap, rv ).r);","\tfloat br = abs(texture2D(tHeightMap, brv).r);","   float dx = 0.0, dy = 0.0;","   if(type == 0){","\t\tdx = tl + l*2.0 + bl - tr - r*2.0 - br;","\t\tdy = tl + t*2.0 + tr - bl - b*2.0 - br;","   }","   else{","\t\tdx = tl*3.0 + l*10.0 + bl*3.0 - tr*3.0 - r*10.0 - br*3.0;","\t\tdy = tl*3.0 + t*10.0 + tr*3.0 - bl*3.0 - b*10.0 - br*3.0;","   }","\tvec4 normal = vec4(normalize(vec3(dx * invertR * invertH * 255.0, dy * invertG * invertH * 255.0, dz)), texture2D(tHeightMap, vUv).a);","\tgl_FragColor = vec4(normal.xy * 0.5 + 0.5, normal.zw);","}"].join("\n")},On="sobel",wn=()=>({invertedRed:!1,invertedGreen:!1,invertedSource:!1,blurSharp:0,strength:1,level:8.5,type:On});class kn{constructor(e,t){this.renderer=void 0,this.effectComposer=void 0,this.normalMapUniform=void 0,this.material=void 0,this.option=void 0,this.canvas=void 0,this.gaussianShaderX=void 0,this.gaussianShaderY=void 0,this.canvas=t,this.option=Object(c.a)(Object(c.a)({},wn()),e),this.init()}apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:a}=e,r=this.getTexture(e);this.normalMapUniform.tHeightMap.value=r,this.normalMapUniform.dimensions.value=[n,a,0],this.renderer.setSize(n,a),this.effectComposer.setSize(n,a),this.effectComposer.reset(this.getRenderTarget(n,a));const{invertedRed:o,invertedGreen:i,invertedSource:l,blurSharp:s,strength:u,level:d,type:b}=Object(c.a)(Object(c.a)({},this.option),t);this.invertRed(o),this.invertGreen(i),this.invertSource(l),this.setBlurSharp(s,n,a),this.setStrengthAndLevel(u,d),this.setType(b),this.effectComposer.render(1/60)}init(){const e=new hn.h(-.5,.5,.5,-.5,0,1),t=new hn.k,n=new gn.a(t,e);this.renderer=new hn.q({alpha:!0,antialias:!0,canvas:this.canvas}),this.renderer.setClearColor(0,0),this.normalMapUniform=hn.n.clone(xn.uniforms),this.material=new hn.l({fragmentShader:xn.fragmentShader,vertexShader:xn.vertexShader,uniforms:this.normalMapUniform}),this.material.transparent=!0;const a=new hn.i(1,1,1,1),r=new hn.f(a,this.material);t.add(r),this.gaussianShaderY=new vn.a(jn),this.gaussianShaderX=new vn.a(yn),this.gaussianShaderX.renderToScreen=!0,this.effectComposer=new fn.a(this.renderer,this.getRenderTarget()),this.effectComposer.addPass(n),this.effectComposer.addPass(this.gaussianShaderY),this.effectComposer.addPass(this.gaussianShaderX)}getRenderTarget(e,t){return new hn.p(e,t,{minFilter:hn.g,magFilter:hn.g,format:hn.j,stencilBuffer:!1})}getTexture(e){const t=new hn.m(e);return t.wrapS=t.wrapT=hn.b,t.minFilter=t.magFilter=hn.g,t.anisotropy=2,t.needsUpdate=!0,t}invertRed(e){this.normalMapUniform.invertR.value=e?-1:1}invertGreen(e){this.normalMapUniform.invertG.value=e?-1:1}invertSource(e){this.normalMapUniform.invertH.value=e?-1:1}setBlurSharp(e,t,n){this.gaussianShaderY.uniforms.v.value=e/t/5,this.gaussianShaderX.uniforms.h.value=e/n/5}setStrengthAndLevel(e,t){this.normalMapUniform.dz.value=1/e*(1+Math.pow(2,t))}setType(e){this.normalMapUniform.type.value="sobel"===e?0:1}}const Sn=(e,t)=>{const n=(e+90)*Math.PI/180,a=(t+90)*Math.PI/180,r=Math.cos(n)*Math.cos(a),o=Math.sin(n)*Math.cos(a),i=Math.sin(a);return[Math.round(100*r)/100,Math.round(100*o)/100,Math.round(100*i)/100]},Cn=e=>{let{inputCanvas:t,affectedHeight:n,affectedWidth:a,maxHeight:r=8,lightColorVec:o=[255,255,255],lightAngleVec:i,lightPitch:l,lightYaw:s,minIntensity:c=-1,maxIntensity:u=1}=e;const d=t.getContext("2d");if(!d)return;const b=null!==n&&void 0!==n?n:t.height,m=null!==a&&void 0!==a?a:t.width,p=d.getImageData(0,0,m,b,{willReadFrequently:!0}).data,h=i||("number"===typeof l&&"number"===typeof s?Sn(l,s):[1,0,0]),f=Math.sqrt(h[0]**2+h[1]**2+h[2]**2),g=[h[0]/f,h[1]/f,h[2]/f];if(p)try{const e=new Uint8ClampedArray(m*b);for(let r=0;r<p.length;r+=4)p[r]||p[r+1]||p[r+2]||p[r+3]?e[r/4]=0:e[r/4]=1;const t=dn(Jt()(e,[b,m])),n=t.shape[0],a=t.shape[1],i=new Uint8ClampedArray(m*b*4),l=Math.floor(255/r);for(let r=0;r<n;r++)for(let e=0;e<a;e++){const n=4*(r*m+e),a=t.get(r,e);i[n]=a*l,i[n+1]=a*l,i[n+2]=a*l,i[n+3]=0===a?0:255}const s=document.createElement("canvas");s.width=m,s.height=b,s.getContext("2d").putImageData(new ImageData(i,m,b),0,0);const d=document.createElement("canvas");d.width=m,d.height=b;new kn(wn(),d).apply(s,{blurSharp:0,level:9,strength:2.5,invertedRed:!1,invertedGreen:!1,invertedSource:!0,type:On});const h=document.createElement("canvas");h.width=m,h.height=b;const f=h.getContext("2d");f.drawImage(d,0,0,m,b);const v=((e,t,n,a,r,o)=>{const i=new Uint8ClampedArray(t*n*4),l=Math.floor(a/2);function s(e,t,n,a){return Math.exp(-((e-n)**2+(t-a)**2)/(2*o**2))}function c(e,t){return Math.exp(-((e-t)**2)/(2*r**2))}for(let u=0;u<n;u++)for(let a=0;a<t;a++){let r=0,o=0,d=0,b=0;for(let i=-l;i<=l;i++)for(let m=-l;m<=l;m++){const l=a+m,p=u+i;if(l>=0&&p>=0&&l<t&&p<n){const n=4*(u*t+a),i=4*(p*t+l),m=e[n],h=e[n+1],f=e[n+2],g=e[i],v=e[i+1],y=e[i+2],j=s(l,p,a,u)*c(m,g)*c(h,v)*c(f,y);r+=g*j,o+=v*j,d+=y*j,b+=j}}const m=4*(u*t+a);i[m]=r/b,i[m+1]=o/b,i[m+2]=d/b,i[m+3]=e[m+3]}return i})(f.getImageData(0,0,m,b).data,m,b,9,70,20),y=new Uint8ClampedArray(m*b*4);for(let r=0;r<p.length;r+=4){let e=v[r]/127.5-1,t=v[r+1]/127.5-1,n=v[r+2]/127.5-1;const a=(e*g[0]+t*g[1]+n*g[2])/2*(Math.abs(c)+Math.abs(u)),i=Math.max(c,Math.min(a,u));y[r]=Math.round(p[r]+o[0]*i),y[r+1]=Math.round(p[r+1]+o[1]*i),y[r+2]=Math.round(p[r+2]+o[2]*i),y[r+3]=p[r+3]}return new ImageData(y,m,b)}catch(v){return console.error("Could not apply emboss effect",v),null}},Fn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((a=>{setTimeout((()=>{if(e.current&&t)try{e.current.toBlob((e=>{if(e){const n=URL.createObjectURL(e);if(n){const e=new Image;e.src=n,e.onload=()=>{t.drawImage(e,0,0),URL.revokeObjectURL(n),a(!0)},e.onerror=()=>{URL.revokeObjectURL(n),a(!1)}}else a(!1)}else a(!1)}))}catch(n){t.drawImage(e.current,0,0),console.error(n),a(!1)}else a(!1)}),25*n)}))},Ln=e=>"speed-skill"===e.frame&&!Tn(e),Tn=e=>"spell"!==e.frame&&"trap"!==e.frame&&"speed-skill"!==e.frame,Nn=e=>"spell"===e||"trap"===e?"st":"xyz"===e?"rank":"dark-synchro"===e?"negative-level":"speed-skill"===e||"link"===e||"lg-dragon"===e?"none":"level",Rn=e=>!Tn({frame:e})||In(e),zn=e=>["xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(e),In=e=>["link"].includes(e)||zn(e),Bn=(e,t)=>{let n=!1;switch(e){case 1:n=!0;break;case 2:n=!1;break;case 0:n=t}return n},En=(e,t)=>{var n,a,r,o,i;const{frame:l,topLeftFrame:s,topRightFrame:c,bottomLeftFrame:u,bottomRightFrame:d,effectBackground:b,pendulumEffectBackground:m}=e,p=null!==l&&void 0!==l?l:"effect",h="auto"===s?p:s,f=null!==(a="auto"===u?t?"spell":h:u)&&void 0!==a?a:p;return{topLeftFrame:h,topRightFrame:null!==(n="auto"===c?h:c)&&void 0!==n?n:p,bottomLeftFrame:f,bottomRightFrame:null!==(r="auto"===d?f:d)&&void 0!==r?r:p,effectBackground:null!==(o="auto"===b?f:b)&&void 0!==o?o:p,pendulumEffectBackground:null!==(i="auto"===m?f:m)&&void 0!==i?i:p}};var Dn=n(571),Wn=n(558),Hn=n(274),An=function(e){var t=(e=e.substring(0,e.length-1)).split("\x01");if(e=t[0],1<t.length){t=t[1];var n,a=Object(Hn.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;e=(e=e.split(r)).join(e.pop())}}catch(o){a.e(o)}finally{a.f()}}return Mn(e,0)},Mn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],a=function(e,t){return e.replace(new RegExp("".concat((t[2]?t[2]:"")+t[0],"|").concat((t[3]?t[3]:"")+t[1]),"g"),(function(e){return e===t[0]?t[1]:t[0]}))};if(t)for(t=0;t<n.length;++t)e=a(e,n[t]);else for(t=n.length;t--;)e=a(e,n[t]);return e};const Pn=Object(c.a)(Object(c.a)({},{version:"ve",format:"fm",region:"rg",frame:"fr",rightFrame:"rf",leftFrame:"lf",pendulumRightFrame:"rpf",foil:"fo",opacity:{_newKey:"op",body:"opbd",pendulum:"oppd",name:"opnm",text:"optx",boundless:"opbl",artFrame:"opaf",artBorder:"opab",nameBorder:"opnb",baseFill:"opbf"},finish:"fn",otherFinish:"of",art:"ar",artData:"ad",artFit:"af",artSource:"as",artFinish:"afn",artCrop:{_newKey:"arc",x:"arx",y:"ary",width:"arw",height:"arh",unit:"aru",aspect:"ara"},hasBackground:"hbg",background:"bg",backgroundFit:"bf",backgroundData:"bgd",backgroundSource:"bgs",backgroundType:"bgt",backgroundCrop:{_newKey:"bgc",x:"bgx",y:"bgy",width:"bgw",height:"bgh",unit:"bgu",aspect:"bga"},name:"na",nameStyleType:"nst",effectStyle:{_newKey:"es",condenseTolerant:"cdtl",fontStyle:"efs",upSize:"eus",background:"ebg",minLine:"eml"},pendulumStyle:{_newKey:"ps",fontStyle:"pfs",upSize:"pus",background:"pbg",minLine:"pml"},nameStyle:{_newKey:"ns",embossPitch:"nsep",embossThickness:"nset",embossYaw:"nsey",fillStyle:"nsfs",font:"nsft",gradientAngle:"nsgd",gradientColor:"nscg",hasEmboss:"nshe",hasGradient:"nshg",hasOutline:"nshl",hasShadow:"nshs",headTextFillStyle:"nshfs",lineColor:"nslc",lineOffsetX:"nslox",lineOffsetY:"nsloy",lineWidth:"nslw",pattern:"nspt",preset:"nspr",shadowBlur:"nssb",shadowColor:"nssc",shadowOffsetX:"nssox",shadowOffsetY:"nssoy"},attribute:"at",subFamily:"sf",starList:"stl",star:"st",starAlignment:"sa",cardIcon:"it",linkMap:"lm",linkRating:"lr",isLink:"il",isPendulum:"ip",pendulumFrame:"pf",pendulumEffect:"pe",pendulumScaleRed:"rs",pendulumScaleBlue:"bs",pendulumSize:"psi",typeAbility:"ta",effect:"ef",setId:"si",atk:"atk",def:"def",password:"pw",sticker:"sti",isFirstEdition:"ife",isSpeedCard:"isp",isDuelTerminalCard:"idt",isLimitedEdition:"ile",isLegacyCard:"ilc",creator:"cr",furiganaHelper:"fh",effectTextStyle:"ets",pendulumTextStyle:"pts",statTextStyle:"sts",typeTextStyle:"tts",otherTextStyle:"ots",dyeList:"dl",flag:"fl",externalInfo:"ei"}),{passcode:"pc",picture:"pt",pictureCrop:{_newKey:"ptc",x:"ptx",y:"pty",width:"ptw",height:"pth",unit:"ptu",aspect:"pta"}}),Kn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;const n={},a=Object(c.a)({},e);return Object.keys(a).forEach((e=>{const r=a[e];if("object"!==typeof r||null===r||Array.isArray(r)){const a=t[e];"string"===typeof a&&(n[a]=r)}else{var o;const a=null===(o=t[e])||void 0===o?void 0:o._newKey;a&&(n[a]=Kn(r,t[e]))}})),n},Un=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;const n={};return Object.keys(t).forEach((a=>{const r=t[a];if("object"!==typeof r||null===r||Array.isArray(r))null!=e[r]&&(n[a]=e[r]);else{const o=null===r||void 0===r?void 0:r._newKey;o&&e[o]&&(n[a]=Un(e[o],t[a]))}})),n},Yn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;const n="string"===typeof e?JSON.parse(An(decodeURIComponent(e))):e,a={};return Object.keys(t).forEach((e=>{const r=t[e];if("object"!==typeof r||null===r||Array.isArray(r))null!=n[r]&&(a[e]=n[r]);else{const o=null===r||void 0===r?void 0:r._newKey;o&&n[o]&&(a[e]=Yn(n[o],t[e]))}})),a},Gn=function(e){var t,n,a,r,o,i;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt();delete l.version;const s=Object(c.a)(Object(c.a)({id:Object(q.a)()},l),Object(Dn.a)(e));if(s.effectStyle=Object(c.a)(Object(c.a)({},Pt().effectStyle),s.effectStyle),null==s.pendulumStyle?s.pendulumStyle=Object(c.a)({},Pt().pendulumStyle):s.pendulumStyle=Object(c.a)(Object(c.a)({},Pt().pendulumStyle),s.pendulumStyle),null==s.version&&(s.version=1),null==s.format&&(s.format="tcg"),null==s.region&&(s.region=N["tcg"===s.format?"en":"jp"].key),null==s.pendulumFrame&&(s.pendulumFrame="auto"),null==s.pendulumSize&&(s.pendulumSize="medium"),null==s.rightFrame&&(s.rightFrame="auto"),null==s.leftFrame&&(s.leftFrame="auto"),null==s.pendulumRightFrame&&(s.pendulumRightFrame="auto"),null==s.finish&&(s.finish=[]),Array.isArray(s.starList)||(s.starList=[]),null==s.artFinish&&(s.artFinish="normal"),s.finish){const e=s.finish;e.includes(v)&&(s.finish=e.filter((e=>e!==v)),s.otherFinish=[s.artFinish,s.artFinish,s.artFinish,s.artFinish])}!Array.isArray(s.otherFinish)||3!==s.otherFinish.length&&null!=s.otherFinish[3]||(s.otherFinish[3]=Pt().otherFinish[3]),s.picture&&!e.art&&(s.art=s.picture),delete s.picture,s.pictureCrop&&!e.artCrop&&(s.artCrop=s.pictureCrop),delete s.pictureCrop,""===(null!==(t=s.art)&&void 0!==t?t:"")&&(s.art=""),""===(null!==(n=s.artData)&&void 0!==n?n:"")&&(s.artData=""),""===(null!==(a=s.artSource)&&void 0!==a?a:"")&&(s.artSource="online"),null==s.artFit&&(s.artFit=!1),"boolean"===typeof s.opacity.artFrame&&null==s.opacity.boundless&&(s.opacity.boundless=!s.opacity.artFrame,delete s.opacity.artFrame),s.opacity=Object(c.a)(Object(c.a)({},m()),s.opacity),delete s.opacity.artFrame,""===(null!==(r=s.background)&&void 0!==r?r:"")&&(s.background=""),""===(null!==(o=s.backgroundData)&&void 0!==o?o:"")&&(s.backgroundData=""),""===(null!==(i=s.backgroundSource)&&void 0!==i?i:"")&&(s.backgroundSource="online"),null==s.backgroundFit&&(s.backgroundFit=!1),null==s.hasBackground&&(s.background||s.backgroundData||s.opacity.baseFill)&&(s.hasBackground=!0),s.backgroundCrop=Object(c.a)(Object(c.a)({},{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1}),s.backgroundCrop),null==s.isLink&&"link"===s.frame&&(s.isLink=!0),null==s.linkRating&&(s.linkRating=""),s.kanjiHelper&&!e.furiganaHelper&&(s.furiganaHelper=s.kanjiHelper),delete s.kanjiHelper,void 0===s.furiganaHelper&&(s.furiganaHelper=!0),s.passcode&&!e.password&&(s.password=s.passcode),delete s.passcode,s.effectTextStyle||(s.effectTextStyle=[!1,"#000000",!1,"#000000"]),s.pendulumTextStyle||(s.pendulumTextStyle=[!1,"#000000",!1,"#000000"]),s.typeTextStyle||(s.typeTextStyle=[!1,"#000000",!1,"#000000"]),s.statTextStyle||(s.statTextStyle=[!1,"#000000",!1,"#000000"]),s.otherTextStyle||(s.otherTextStyle=[!1,"#000000",!1,"#000000"]),"undefined"===typeof s.isLimitedEdition&&(s.isLimitedEdition=!1),"undefined"===typeof s.isLegacyCard&&(s.isLegacyCard=!1),s.starAlignment||(s.starAlignment="auto");const u=[0,0];if(Array.isArray(s.flag)){if(s.flag.length<u.length){const e=[...s.flag];s.flag=u.map(((t,n)=>"number"===typeof e[n]?e[n]:t))}}else s.flag=u;const d=["","","","","",""];if(Array.isArray(s.dyeList)){if(s.dyeList.length<d.length){const e=[...s.dyeList];s.dyeList=d.map(((t,n)=>"string"===typeof e[n]?e[n]:t))}}else s.dyeList=d;if(0===s.version||1===s.version){s.version=2;const{pendulumFrame:e,isPendulum:t,atk:n,def:a,isLink:r,linkMap:o,frame:i}=s,l=Tn({frame:i});("auto"!==e||t?!!(n||a||r&&o.length):l)||(s.atk="",s.def="")}return s},Xn=e=>{try{return"isFirstEdition"in e&&"typeAbility"in e&&"setId"in e}catch(t){return console.error(t),!1}},Vn=e=>{try{return"ife"in e&&"ta"in e&&"si"in e}catch(t){return console.error(t),!1}},qn=(e,t)=>{if("offline"===e.artSource||e.hasBackground&&"offline"===e.backgroundSource)return{isPartial:!0,result:Kn(e)};const n=Object(c.a)(Object(c.a)({},e),{},{artData:"",backgroundData:""});return{isPartial:!1,result:Kn(n)}},_n=(e,t)=>typeof e===typeof t&&("number"===typeof e&&"number"===typeof t?Math.abs(e-t)<=.1:e===t),$n=(e,t)=>{const{aspect:n,height:a,width:r,x:o,y:i,unit:l}=null!==e&&void 0!==e?e:{},{aspect:s,height:c,width:u,x:d,y:b,unit:m}=null!==t&&void 0!==t?t:{};return _n(n,s)&&_n(a,c)&&_n(r,u)&&_n(o,d)&&_n(i,b)&&l===m},Jn=(e,t)=>{const{artCrop:n,backgroundCrop:a}=e,r=Object(s.a)(e,["artCrop","backgroundCrop"]),{artCrop:o,backgroundCrop:i}=t,l=Object(s.a)(t,["artCrop","backgroundCrop"]);return Object(Wn.a)(r,l)&&$n(n,o)&&$n(a,i)},Zn=e=>{try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1").replaceAll(/(^\[|\[\[|{|{{)([^{}[\]]*)[}\]]{1,2}/gm,"$2")}catch(t){return console.error(t),e}},Qn=e=>{try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1").replaceAll(/(^\[|\[\[|{|{{)([^{}[\]]*)[}\]]{1,2}/gm,"$2")}catch(t){return console.error(t),e}},ea=e=>{try{return e.startsWith("https://images.ygoprodeck.com/images/cards_cropped")}catch(t){return console.error(t),!1}},ta=(e,t,n)=>{const a=document.createElement("a");a.download=e,a.href=window.URL.createObjectURL(t),a.dataset.downloadurl=[n,a.download,a.href].join(":");const r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});a.dispatchEvent(r),a.remove()};const na=e=>{const t=[...e];for(let n=e.length-1;n>=0&&(null==t[n]||""===t[n]);n--)t.pop();return t},aa={CONTINUOUS:"Continuous",COUNTER:"Counter",EQUIP:"Equip",FIELD:"Field","QUICK-PLAY":"Quick-play",RITUAL:"Ritual",[z]:"None"},ra=Object.entries(aa).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),oa={large:"Large",medium:"Normal",small:"Small"},ia=Object.entries(oa).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),la={EARTH:"Earth",LIGHT:"Light",DARK:"Dark",FIRE:"Fire",WIND:"Wind",WATER:"Water",SPELL:"Spell",TRAP:"Trap",DIVINE:"Divine"},sa=Object.entries(la).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),ca={normal:"Normal",effect:"Effect",ritual:"Ritual",fusion:"Fusion",synchro:"Synchro",xyz:"Xyz",link:"Link",token:"Token",spell:"Spell",trap:"Trap","dark-synchro":"Dark Synchro",zarc:"Unity","speed-skill":"Skill"},ua=Object.entries(ca).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),da={common:{key:""},rare:{key:"rare--",text:"rare"},secret:{key:"secretGradient-type3-",text:"secretGradient",artFinish:"type3"},ultra:{key:"ultra-type3-",text:"ultra",artFinish:"type3"},rainbow:{key:"platinum-type1-type1",text:"platinum",artFinish:"type1",finish:["type1"]}},ba=Object.entries(da).reduce(((e,t)=>{const[n,a]=t;return e[a.key]=n,e}),{}),ma=(e,t)=>{const{name:n,star:a,typeAbility:r,subFamily:o,effect:i,atk:l,def:u,art:d,artData:b,artSource:m,password:p,creator:h,attribute:f,setId:g,pendulumEffect:v,pendulumScaleBlue:y,pendulumScaleRed:j,pendulumSize:x,isPendulum:O,linkMap:w,frame:k,externalInfo:S,nameStyle:C,nameStyleType:F,artFinish:L,finish:T}=e,N=Zn(n),R=Qn(i),z=Qn(v),I=aa[o],B=la[f],E=ca[k],D="predefined"===F?ba[[C.preset,L,T.join("|")].join("-")]:"common",W=null!==S&&void 0!==S?S:{},{pendulum:H,rarity:A}=W,M=Object(s.a)(W,["pendulum","rarity"]);return{isPartial:n!==N||i!==R||v!==z||void 0===I||void 0===B||void 0===E||void 0===D,result:Object(c.a)({version:"1.0.0",name:N,level:"".concat(a),type:r.join("/"),icon:null!==I&&void 0!==I?I:"",effect:R,atk:l,def:u,serial:p,copyright:h,attribute:null!==B&&void 0!==B?B:"None",id:g,pendulum:Object(c.a)({enabled:O,effect:z,blue:y,red:j,boxSize:oa[x],boxSizeEnabled:!0},H),variant:"Normal",link:{topLeft:!!w.includes("1"),topCenter:!!w.includes("2"),topRight:!!w.includes("3"),middleLeft:!!w.includes("4"),middleRight:!!w.includes("6"),bottomLeft:!!w.includes("7"),bottomCenter:!!w.includes("8"),bottomRight:!!w.includes("9")},layout:null!==E&&void 0!==E?E:"Normal",boxSize:"large"===x?"Small":"Normal",rarity:null!==D&&void 0!==D?D:A,image:t?t.toDataURL("image/jpeg"):"offline"===m?b:d},M)}},pa={CONTINUOUS:"Continuous",COUNTER:"Counter",EQUIP:"Equip",FIELD:"Field","QUICK-PLAY":"Quick-Play",RITUAL:"Ritual",[z]:"None"},ha=Object.entries(pa).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),fa=Object.entries({EARTH:"EARTH",LIGHT:"LIGHT",DARK:"DARK",FIRE:"FIRE",WIND:"WIND",WATER:"WATER",SPELL:"SPELL",TRAP:"TRAP",DIVINE:"DIVINE"}).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),ga=Object.entries({normal:"normal",effect:"effect",ritual:"ritual",fusion:"fusion",synchro:"synchro",xyz:"xyz",link:"link",token:"token",spell:"spell",trap:"trap","speed-skill":"skill",normal_pendulum:"normal_pendulum",effect_pendulum:"effect_pendulum",ritual_pendulum:"ritual_pendulum",fusion_pendulum:"fusion_pendulum",synchro_pendulum:"synchro_pendulum",xyz_pendulum:"xyz_pendulum"}).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),va={"Top-Left":"1",Top:"2","Top-Right":"3",Left:"4",Right:"6","Bottom-Left":"7",Bottom:"8","Bottom-Right":"9"},ya=e=>{var t,n,a;const{atk:r,attribute:o,card_images:i,card_sets:l,def:s,desc:u,frameType:d,id:b,level:m,monster_desc:p,name:h,pend_desc:f,race:g,scale:v,typeline:y,linkval:j,linkmarkers:x}=e,O=ha[g],w=fa[o],[k,S]=ga[d].split("_"),C=null!==(t=p?p.replaceAll(/^''|''$/g,""):void 0)&&void 0!==t?t:u?u.replaceAll(/^''|''$/g,""):"",L=C.split("\n"),T=(e=>["fusion","synchro","xyz","link","dark-synchro","zarc"].includes(e.frame))({frame:null!==k&&void 0!==k?k:"normal"})&&L.length>1?["[".concat(L[0].replaceAll("\r",""),"]"),...L.slice(1)].join("\n"):C,N=f?f.replaceAll(/^''|''$/g,""):"",R=i[0].image_url_cropped,I=Pt();return{isPartial:!1,result:Object(c.a)(Object(c.a)({},I),{},{name:h,atk:r<0||null==r?"?":"".concat(r),def:s?s<0||null==s?"?":"".concat(s):"0",attribute:null!==w&&void 0!==w?w:F,effect:T,subFamily:null!==O&&void 0!==O?O:z,setId:null!==(n=null===(a=l[l.length-1])||void 0===a?void 0:a.set_code)&&void 0!==n?n:"",frame:null!==k&&void 0!==k?k:"normal",star:"link"===d&&j?j:m,typeAbility:y||("spell"===d?["Spell Card"]:"trap"===d?["Trap Card"]:[]),art:R,artSource:"online",artCrop:Object(c.a)(Object(c.a)({},I.artCrop),{},{y:0}),isLink:"link"===k&&Array.isArray(x),linkMap:(null!==x&&void 0!==x?x:[]).map((e=>va[e])),isPendulum:"pendulum"===S,pendulumScaleBlue:null==v?"0":"".concat(v),pendulumScaleRed:null==v?"0":"".concat(v),pendulumEffect:N,password:"".concat(b).padStart(8,"0"),creator:Ne.tcg[0]})}},ja=/^#[a-fA-F0-9]{3}([a-fA-F0-9]{3})?$/,xa=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{const o=e.replace("#","");let i=[0,0,0,1];var n,a,r;if(3===o.length||4===o.length)i=[parseInt("".concat(o[0]).concat(o[0]),16),parseInt("".concat(o[1]).concat(o[1]),16),parseInt("".concat(o[2]).concat(o[2]),16),parseInt("".concat(null!==(n=o[3])&&void 0!==n?n:"f").concat(null!==(a=o[3])&&void 0!==a?a:"f"),16)];if(6===o.length||8===o.length)i=[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16),parseInt(null!==(r=o.slice(6,8))&&void 0!==r?r:"ff",16)];return i.map((e=>isNaN(e)?255:e)).slice(0,t?4:3)}catch(o){return[0,0,0,1].slice(0,t?4:3)}},Oa=e=>{var t,n,a;return(299*(null!==(t=e[0])&&void 0!==t?t:0)+587*(null!==(n=e[1])&&void 0!==n?n:0)+114*(null!==(a=e[2])&&void 0!==a?a:0))/1e3>=128?"#000000":"#FFFFFF"};var wa=1e3,ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wa,n=e,a=t,r=a,o=r,i=30,l=100,s=10,c=function(){return 1===l?v():(r+=l,r-=l/=s),Math.min(r,a)},u=function(){return i-=1,r-=l},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;n=e,a=t,r=t,i=30,l=100,o=t},b=function(){return r},m=function(e){return r=e},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return o=e},h=function(){return o},f=function(){return i=-1,r=o},g=function(){return i},v=function(){return i=-1};return{reset:d,searchDown:u,reverseSearch:c,finish:v,getMedian:b,setMedian:m,setLastEffective:p,getLastEffective:h,applyLastEffective:f,getIterateCount:g}},Sa=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=wa,a=ka();a.getIterateCount()>=0;){if(a.getIterateCount()<=0){var r=a.getMedian();n=r;break}var o=e(a.getMedian());if(!o&&a.getMedian()>0)a.searchDown();else{if(a.getMedian()===wa)break;n=a.reverseSearch()}}var i=Math.max(t,Math.min(n,wa));return i!==n&&e(i),i};const Ca=e=>{const{defaultWeight:t="",defaultStyle:n="",defaultSize:a="10px",defaultFamily:r="Arial"}=null!==e&&void 0!==e?e:{};let o=t,i=n,l="number"===typeof a?"".concat(a,"px"):a,s="number"===typeof a?a:parseFloat(a.replaceAll("px","")),c=r;return{getFont:()=>"".concat([i,o,l,c].filter((e=>""!==e)).join(" "),", Arial"),getFontInfo:()=>({style:i,size:l,family:c,sizeAsNumber:s,weight:o}),setWeight(e){return o=e,this},setStyle(e){return i=e,this},setSize(e){const t="function"===typeof e?e(s):e;return l="number"===typeof t?"".concat(t,"px"):t,s="number"===typeof t?t:parseFloat(t.replaceAll("px","")),this},setFamily(e){return c=e,this}}},Fa=e=>{let{heightCap:t,lineCount:n}=e;return{bulletWidth:Math.round(t/n*.9),fontSize:t/n*.9,lineHeight:t/n,lineCount:n,bulletOffset:1}},La=(e,t)=>Object(c.a)(Object(c.a)({},e),{},{fontList:[...e.fontList,Fa(t)]});var Ta=n(135),Na=function(){return za("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf")},Ra=function(e){return(null!==e&&void 0!==e?e:[]).map((function(e){var t=e.color,n=e.offset;return"".concat(n,"|").concat(t)})).join(",")},za=function e(t){return t?t.split(",").map((function(e,t){var n=e.split("|"),a=Object(Ta.a)(n,2),r=a[0];return{color:a[1],offset:r,id:t+1}})):e("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf")},Ia=function(){var e=Object(r.useState)(0),t=Object(Ta.a)(e,2),n=t[0],a=t[1];return[Object(r.useCallback)((function(){a((function(e){return e+1}))}),[]),n]};var Ba=function(e){var t=e.debug,n=e.optionLength,a=e.stopPropagation,r=void 0!==a&&a,o=e.setFocus,i=e.onTrigger,l=e.onCancel,s=e.onKeyPress;return{tabIndex:0,onFocus:function(){t&&console.info("Navigation Focus",t),o(0)},onBlur:function(){t&&console.info("Navigation Blur",t),o(-1)},onKeyDown:function(e){r&&e.stopPropagation(),t&&console.info("Navigation Keydown",t,e.key),!1!==(null===s||void 0===s?void 0:s(e))&&("ArrowRight"===e.key||"ArrowDown"===e.key?(e.preventDefault(),o((function(e){return Math.max(0,n+e+1)%n}))):"ArrowLeft"===e.key||"ArrowUp"===e.key?(e.preventDefault(),o((function(e){return Math.max(0,n+e-1)%n}))):"Enter"===e.key||" "===e.key?i():"Escape"===e.key&&(null===l||void 0===l||l()))}}};const Ea=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";const a=e.length;for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*a));return n},Da=(e,t)=>{const{trueBaseline:n,trueEdge:a,trueWidth:r,trueHeightCap:o}=e;return Object(c.a)(Object(c.a)({},e),{},{trueBaseline:n*t,trueEdge:a*t,trueWidth:r*t,trueHeightCap:"number"===typeof o?o*t:o})},Wa=(e,t)=>e.map((e=>e*t)),Ha=(e,t)=>{const{allRightSymbolOffset:n,bulletOffset:a,bulletWidth:r,fontSize:o,headTextSpacing:i,iconSymbolWidth:l,lineHeight:s,offsetY:u,ordinalFontOffsetY:d,wordLetterSpacing:b}=e;return Object(c.a)(Object(c.a)({},e),{},{allRightSymbolOffset:"number"===typeof n?n*t:void 0,bulletOffset:"number"===typeof a?a*t:void 0,bulletWidth:r*t,fontSize:o*t,headTextSpacing:"number"===typeof i?i*t:void 0,iconSymbolWidth:"number"===typeof l?l*t:void 0,lineHeight:s*t,offsetY:"number"===typeof u?u*t:void 0,ordinalFontOffsetY:"number"===typeof d?d*t:void 0,wordLetterSpacing:"number"===typeof b?b*t:void 0})},Aa=(e,t)=>Object(c.a)(Object(c.a)({},e),{},{fontList:e.fontList.map((e=>Ha(e,t)))}),Ma=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".radio-train-input-group";null===(e=document.querySelector(t))||void 0===e||e.focus()},Pa=()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e};function Ka(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var Ua=n(6),Ya=n(559),Ga=n(309),Xa=n(114),Va=n(7);function qa(){const e=Object(Ua.a)(["\n    align-content: center;\n    font-size: var(--fs-lg);\n    border: var(--bw) solid var(--sub-tertiary);\n    border-radius: var(--br-lg);\n    background-color: var(--main-primary);\n    border: var(--bw) solid var(--main-primary);\n    cursor: pointer;\n    &:not(:disabled):hover {\n        background-color: var(--sub-primary);\n    }\n    &:disabled {\n        color: var(--color-dim);\n        cursor: not-allowed;\n        background-color: var(--color-contrast);\n        border: var(--bw) solid var(--color-contrast);\n        .anticon {\n            color: inherit;\n        }\n    }\n    input {\n        display: none;\n    }  \n"]);return qa=function(){return e},e}const _a=Va.b.button(qa());var $a=n(573),Ja=n(574),Za=n(575);const Qa=(e,t)=>{var n,a,r,o,i;const{creator:l,effect:s,format:u,region:d,isFirstEdition:b,name:m,password:p,pendulumEffect:h,setId:f,typeAbility:g,nameStyle:v}=e;if(u===t)return e;const y=N[d].category===t?d:N[R[t]].key,j="ocg"===t?Ie:ze,x="ocg"===t&&/-EN/.test(f)?f.replace("-EN","-JP"):"tcg"===t&&/-JP/.test(f)?f.replace("-JP","-EN"):f,O=Object(c.a)(Object(c.a)({},v),{},{font:"ocg"===t&&"Default"===v.font?"OCG":"tcg"===t&&"OCG"===v.font?"Default":v.font});return Object(c.a)(Object(c.a)({},e),{},{name:null!==(n=j[m])&&void 0!==n?n:m,format:t,region:y,effect:null!==(a=j[s])&&void 0!==a?a:s,pendulumEffect:null!==(r=j[h])&&void 0!==r?r:h,typeAbility:g.map((e=>{var t;return null!==(t=j[e])&&void 0!==t?t:e})),creator:null!==(o=j[l])&&void 0!==o?o:l,password:null!==(i=j[p])&&void 0!==i?i:p,setId:x,isFirstEdition:"ocg"!==t&&b,nameStyle:O})};var er=n(95),tr=n(107),nr=n.n(tr),ar=n(276),rr=n.n(ar);const or=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object(c.a)(Object(c.a)({},t),e.rawDictionary),r=e=>{var t;return null!==(t=n[e])&&void 0!==t?t:""},i=(e,t)=>{const n=new RegExp("\\{(".concat(Object.keys(t).join("|"),")\\}")),r=e.split(n);return Object(a.jsx)(o.a.Fragment,{children:r.map(((e,n)=>n%2===0?Object(a.jsx)(o.a.Fragment,{children:e},"".concat(e,"-").concat(n)):t[e]))},e)},l={"error.load.font.tcg":e=>r("error.load.font.tcg").replaceAll("{familyName}",e),"error.load.font.ocg":e=>r("error.load.font.ocg").replaceAll("{familyName}",e),"error.max-size.description":e=>r("error.max-size.description").replaceAll("{fileSize}","".concat(e)),"contributor.disclaimer.line-1":e=>i(r("contributor.disclaimer.line-1"),{siteLink:e}),"contributor.disclaimer.line-5":(e,t)=>i(r("contributor.disclaimer.line-5"),{author1:e,author2:t}),"contributor.template-maker":(e,t,n,a)=>i(r("contributor.template-maker"),{artist1:e,artist2:t,artist3:n,artist4:a}),"converter.header.warning.label":e=>i(r("converter.header.warning.label"),{maxAmount:e}),"guide.format.introduction":e=>i(r("guide.format.introduction"),{settingIcon:e}),"guide.format.section-1.content":(e,t,n,a)=>i(r("guide.format.section-1.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"guide.format.section-2.content":(e,t,n,a)=>i(r("guide.format.section-2.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"guide.format.section-3.content":(e,t,n)=>i(r("guide.format.section-3.content"),{separator:e,hotkey:t,hotkeyAlternative:n}),"guide.format.section-4.content":(e,t,n)=>i(r("guide.format.section-4.content"),{separator:e,hotkey:t,hotkeyAlternative:n}),"guide.format.section-5.content":(e,t,n,a)=>i(r("guide.format.section-5.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"guide.format.section-6.content":(e,t,n,a)=>i(r("guide.format.section-6.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"input.name-style.emboss.color.alert":e=>i(r("input.name-style.emboss.color.alert"),{colorTab:e}),"input.scale.label":e=>i(r("input.scale.label"),{scaleType:e})};return Object(c.a)(Object(c.a)({},e),{},{rawDictionary:n,dictionary:Object(c.a)(Object(c.a)({},n),l)})},ir=Object(er.create)(((e,t)=>{const n=(()=>{const e=new URL(window.location.href),t=e.searchParams,n=t.get("language");if(t.delete("language"),window.history.replaceState(window.history.state,"",e.href),n)return n;try{const e=localStorage.getItem("language");return e||"eng"}catch(a){return console.error("useSetting: Error when getting cached language",a),"eng"}})(),a={},r=or(Object(c.a)(Object(c.a)({},{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1}),{},{rawDictionary:{}})),o=async e=>{if(a[e])return null;try{var t;const n=await fetch("".concat("/ygocarder","/asset/i18n/").concat(e,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),r=await n.json();if(!r.rawDictionary)throw new Error("No dictionary found");const o=or(r,null===(t=a.eng)||void 0===t?void 0:t.rawDictionary);return a[e]=o,o}catch(n){return console.error("loadLanguage: Could not load language, revert back to default",n),null}},i=async n=>{const i=t().languageMetadataMap[n];if(!i)return;const l=a[n]?a[n]:await o(n);l?(e({languageInfo:t().languageMetadataMap[n],language:l.dictionary}),localStorage.setItem("language",n),e({isLoading:!1,languageInfo:i})):e({isLoading:!1,languageInfo:t().languageMetadataMap.eng,language:r.dictionary})};return{languageMetadataMap:{},languageInfo:{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1},language:r.dictionary,error:null,isInitiating:!0,isLoading:!0,isMetadataReady:!1,initiate:async()=>{(async()=>{try{const t=await fetch("".concat("/ygocarder","/asset/i18n/metadata.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),n=await t.json();if(!n)throw new Error("No metadata found");e({languageMetadataMap:n,isMetadataReady:!0})}catch(t){console.error("loadLanguageMetadata: Could not load language metadata, try to use English",t),e({languageMetadataMap:{eng:{name:"English",formalName:"English",codeName:"eng",initialMessage:"Loading fonts and scripts\u2026",order:1,active:!0}},isMetadataReady:!0})}})()},loadDefaultLanguage:async()=>{await o("eng"),await i(n),e({isInitiating:!1})},loadLanguage:o,changeLanguage:i}})),lr=()=>ir((e=>{let{language:t}=e;return t})),sr=()=>ir.getState().language;var cr=n(277);const ur=["Format","Frame","Name","Attribute","Star","Spell/Trap Icon","Art Link","Type Ability","Effect","Set Id","ATK","DEF","Password","Sticker","Copyright","Is Pendulum","Pendulum Effect","Pendulum Scale Red","Pendulum Scale Blue","Is Link","Link - Top Left Arrow","Link - Top Arrow","Link - Top Right Arrow","Link - Left Arrow","Link - Right Arrow","Link - Bottom Left Arrow","Link - Bottom Arrow","Link - Bottom Right Arrow","Is First Edition","Is Speed Card","Is Limited Edition","Is Duel Terminal Card","Is Legacy Card","Foil","Art Finish","Card Finish","Art Crop - X (%)","Art Crop - Y (%)","Art Crop - Width (%)","Art Crop - Height (%)","Is Using Full Art","Region","Star Type","Star Alignment","Card Icon Type","Link Rating","Opacity - Body","Opacity - Pendulum","Opacity - Text","Opacity - Name","Opacity - Base Fill","Opacity - Art Border","Opacity - Name Border","Opacity - Boundless","Has Background","Background Link","Is Using Full Background","Background Type","Background Crop - X (%)","Background Crop - Y (%)","Background Crop - Width (%)","Background Crop - Height (%)","Bottom Frame","Condense Rate","Use Furigana Helper","Name Style Type","Name Style - Font","Name Style - Fill Style","Name Style - Headtext Fill Style","Name Style - Shadow Color","Name Style - Shadow Offset Y","Name Style - Shadow Offset X","Name Style - Shadow Blur","Name Style - Has Shadow","Name Style - Line Color","Name Style - Line Width","Name Style - Line Offset Y","Name Style - Line Offset X","Name Style - Has Outline","Name Style - Gradient Angle","Name Style - Gradient Color","Name Style - Has Gradient","Name Style - Emboss Pitch","Name Style - Emboss Yaw","Name Style - Emboss Thickness","Name Style - Has Emboss","Name Style - Preset","Name Style - Pattern","Stat Style - Is Custom","Stat Style - Fill Color","Stat Style - Has Shadow","Stat Style - Shadow Color","Type Style - Is Custom","Type Style - Fill Color","Type Style - Has Shadow","Type Style - Shadow Color","Effect Style - Is Custom","Effect Style - Fill Color","Effect Style - Has Shadow","Effect Style - Shadow Color","Effect Style - Upsize","Effect Style - Font Style","Effect Style - Background","Effect Style - Min Line","Pendulum Size","Pendulum Effect Style - Is Custom","Pendulum Effect Style - Fill Color","Pendulum Effect Style - Has Shadow","Pendulum Effect Style - Shadow Color","Pendulum Effect Style - Upsize","Pendulum Effect Style - Font Style","Pendulum Effect Style - Background","Pendulum Effect Style - Min Line","Other Style - Is Custom","Other Style - Fill Color","Other Style - Has Shadow","Other Style - Shadow Color","Other Finish - Attribute","Other Finish - Background","Other Finish - Icon","Other Finish - Sticker","Left Frame","Right Frame","Bottom Right Frame","Dye List","Star List","Flag","External Info (JSON)"],dr=[...ur,"Level/Rank","Star_Type","spell_type/trap_type","Type_1","Type_2","Type_3","Type_4","Set_ID","Borderless","Edition","Rarity","Background_Type","Card_Background","Font_Style","Art_Finish","Image_Frame_Type"],br=e=>(null!==e&&void 0!==e?e:"").toLowerCase().replaceAll(" ","").replaceAll("-",""),mr=new Set(dr.map(br)),pr=ur.reduce(((e,t,n)=>{const a=br(t);return mr.has(a)&&(e[t]=n),e}),{}),hr=e=>null==e||""===e?"":'"'.concat(e.replace(/"/g,'""'),'"'),fr=(e,t)=>{if("boolean"===typeof e)return e;if("string"===typeof e){const n=e.toLowerCase();return"true"===n||"false"!==n&&t}return t},gr=(e,t)=>"number"===typeof e?isFinite(e)?e:t:"string"===typeof e&&isFinite(parseInt(e))?parseInt(e):t,vr=(e,t)=>"number"===typeof e?isFinite(e)?e:t:"string"===typeof e&&isFinite(parseFloat(e))?parseFloat(e):t,yr=(e,t)=>"string"===typeof e?e.startsWith("#")?e:"#".concat(e):t,jr=e=>{try{const t=e[0].reduce(((e,t,n)=>{const a=br(t);return mr.has(a)&&(e[t]=n),e}),{});return e.map(((e,n)=>{var a,r,o,i,l,s,u,d,b,p,f,g,v,y,j,x,w,S,C,L,T,N,R,z,I,B,E,D,W,H,A,M,P,K,U,Y,G,X,V,_,$,J,Z,Q,ee,te,ae,re,oe,ie,le,se,ce,ue,de,be,me,pe;if(0===n)return null;if(""===e.join(""))return null;const he=Pt(),fe=((e,t)=>n=>{var a,r;const o=null!==(a=t[n])&&void 0!==a?a:-1,i=(null!==(r=e[o])&&void 0!==r?r:"").trim();return""===i?void 0:i})(e,t),ge=(null!==(a=null!==(r=fe("Frame"))&&void 0!==r?r:fe("Background_Type"))&&void 0!==a?a:he.frame).toLowerCase(),ve=(null!==(o=fe("Right Frame"))&&void 0!==o?o:he.rightFrame).toLowerCase(),ye=(null!==(i=fe("Left Frame"))&&void 0!==i?i:he.leftFrame).toLowerCase(),je=(null!==(l=fe("Bottom Right Frame"))&&void 0!==l?l:he.pendulumRightFrame).toLowerCase(),xe=null!==(s=null!==(u=fe("Star"))&&void 0!==u?u:fe("Level/Rank"))&&void 0!==s?s:"",Oe="text"===fe("Star Type")?xe:parseInt(xe)<=13&&parseInt(xe)>=0&&"2"!==fe("Star_Type")?parseInt(xe):xe,we=(null!==(d=null!==(b=fe("Foil"))&&void 0!==b?b:fe("Rarity"))&&void 0!==d?d:"normal").toLowerCase(),ke=O[we]?we:"normal",Se=null===(p=fe("Attribute"))||void 0===p?void 0:p.toUpperCase(),Ce=Se?"NONE"===Se?F:Se:"spell"===ge?"SPELL":"trap"===ge?"TRAP":he.attribute,Fe=null!==(f=fe("Art Finish"))&&void 0!==f?f:fe("Art_Finish")?"type".concat(fe("Art_Finish")):"",Le=null!==(g=fe("Other Finish - Attribute"))&&void 0!==g?g:"",Te=null!==(v=fe("Other Finish - Sticker"))&&void 0!==v?v:"",Ne=null!==(y=fe("Other Finish - Icon"))&&void 0!==y?y:"",Re=null!==(j=fe("Other Finish - Background"))&&void 0!==j?j:"",ze=null!==(x=fe("ATK"))&&void 0!==x?x:"",Ie=null!==(w=fe("Card Icon Type"))&&void 0!==w?w:he.cardIcon,Be=null!==(S=fe("Copyright"))&&void 0!==S?S:"",Ee=null!==(C=fe("DEF"))&&void 0!==C?C:"",De=null!==(L=fe("Effect"))&&void 0!==L?L:"",We=null!==(T=null===(N=fe("Card Finish"))||void 0===N?void 0:N.split(/,| /).filter((e=>""!==e)))&&void 0!==T?T:[],He=(null!==(R=fe("Format"))&&void 0!==R?R:he.format).toLowerCase(),Ae=(null!==(z=fe("Region"))&&void 0!==z?z:he.region).toLowerCase(),Me=fr(fe("Use Furigana Helper"),he.furiganaHelper),Pe=null!==(I=fe("Name"))&&void 0!==I?I:"",Ke=null!==(B=fe("Password"))&&void 0!==B?B:"",Ue=null!==(E=null!==(D=fe("Set Id"))&&void 0!==D?D:fe("Set_ID"))&&void 0!==E?E:"",Ye=(null!==(W=fe("Star Alignment"))&&void 0!==W?W:he.starAlignment).toLowerCase(),Ge=(null!==(H=fe("Sticker"))&&void 0!==H?H:he.sticker).toLowerCase(),Xe=(null!==(A=null!==(M=fe("Spell/Trap Icon"))&&void 0!==M?M:fe("spell_type/trap_type"))&&void 0!==A?A:he.subFamily).toUpperCase(),Ve=null===(P=fe("Edition"))||void 0===P?void 0:P.toLowerCase(),qe=fr(fe("Is First Edition"),Ve?"1st edition"===Ve:he.isFirstEdition),_e=fr(fe("Is Duel Terminal Card"),Ve?"duel terminal"===Ve:he.isDuelTerminalCard),$e=fr(fe("Is Limited Edition"),Ve?"limited edition"===Ve:he.isLimitedEdition),Je=fr(fe("Is Speed Card"),Ve?"speed duel"===Ve:he.isSpeedCard),Ze=fr(fe("Is Legacy Card"),he.isLegacyCard),Qe=fr(fe("Is Pendulum"),he.isPendulum),et=(null!==(K=fe("Bottom Frame"))&&void 0!==K?K:he.pendulumFrame).toLowerCase(),tt=null!==(U=fe("Pendulum Effect"))&&void 0!==U?U:"",nt=null!==(Y=fe("Pendulum Scale Red"))&&void 0!==Y?Y:"",at=null!==(G=fe("Pendulum Scale Blue"))&&void 0!==G?G:"",rt=null!==(X=fe("Pendulum Size"))&&void 0!==X?X:"medium",ot=fe("Type Ability"),it=ot?ot.split("/"):[fe("Type_1"),fe("Type_2"),fe("Type_3"),fe("Type_4")].filter((e=>"string"===typeof e&&""!==e)),lt=(null!==(V=fe("Condense Rate"))&&void 0!==V?V:he.effectStyle.condenseTolerant).toLowerCase(),st=gr(fe("Effect Style - Upsize"),he.effectStyle.upSize),ct=gr(fe("Pendulum Effect Style - Upsize"),he.pendulumStyle.upSize),ut=(null!==(_=fe("Effect Style - Font Style"))&&void 0!==_?_:he.effectStyle.fontStyle).toLowerCase(),dt=(null!==($=fe("Pendulum Effect Style - Font Style"))&&void 0!==$?$:he.pendulumStyle.fontStyle).toLowerCase(),bt=(null!==(J=fe("Effect Style - Background"))&&void 0!==J?J:he.effectStyle.background).toLowerCase(),mt=(null!==(Z=fe("Pendulum Effect Style - Background"))&&void 0!==Z?Z:he.pendulumStyle.background).toLowerCase(),pt=gr(fe("Effect Style - Min Line"),he.effectStyle.minLine),ht=gr(fe("Pendulum Effect Style - Min Line"),he.pendulumStyle.minLine),ft=m(),gt={artBorder:fr(fe("Opacity - Art Border"),ft.artBorder),baseFill:null!==(Q=fe("Opacity - Base Fill"))&&void 0!==Q?Q:ft.baseFill,body:gr(fe("Opacity - Body"),ft.body),boundless:fr(fe("Opacity - Boundless"),ft.boundless),name:gr(fe("Opacity - Name"),ft.name),nameBorder:fr(fe("Opacity - Name Border"),ft.nameBorder),pendulum:gr(fe("Opacity - Pendulum"),ft.pendulum),text:gr(fe("Opacity - Text"),ft.text)},vt={x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},yt=null!==(ee=fe("Art Link"))&&void 0!==ee?ee:he.art,jt=fr(fe("Is Using Full Art"),he.artFit),xt={aspect:h(Qe,gt,void 0,rt).ratio,height:vr(fe("Art Crop - Height (%)"),vt.height),width:vr(fe("Art Crop - Width (%)"),vt.width),x:vr(fe("Art Crop - X (%)"),vt.x),y:vr(fe("Art Crop - Y (%)"),vt.y),unit:"%"},Ot={x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},wt=fr(fe("Has Background"),he.hasBackground),kt=null!==(te=fe("Background Link"))&&void 0!==te?te:he.background,St=(null!==(ae=fe("Background Type"))&&void 0!==ae?ae:he.backgroundType).toLowerCase(),Ct=fr(fe("Is Using Full Background"),he.backgroundFit),Ft={aspect:h(Qe,gt,St,rt).ratio,height:vr(fe("Background Crop - Height (%)"),Ot.height),width:vr(fe("Background Crop - Width (%)"),Ot.width),x:vr(fe("Background Crop - X (%)"),Ot.x),y:vr(fe("Background Crop - Y (%)"),Ot.y),unit:"%"},Lt={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"},Tt=(null!==(re=fe("Name Style Type"))&&void 0!==re?re:he.nameStyleType).toLowerCase(),Nt={embossPitch:gr(fe("Name Style - Emboss Pitch"),Lt.embossPitch),embossYaw:gr(fe("Name Style - Emboss Yaw"),Lt.embossYaw),embossThickness:gr(fe("Name Style - Emboss Thickness"),Lt.embossThickness),fillStyle:yr(fe("Name Style - Fill Style"),Lt.fillStyle),font:null!==(oe=fe("Name Style - Font"))&&void 0!==oe?oe:Lt.font,gradientAngle:gr(fe("Name Style - Gradient Angle"),Lt.gradientAngle),gradientColor:null!==(ie=fe("Name Style - Gradient Color"))&&void 0!==ie?ie:Lt.gradientColor,hasEmboss:fr(fe("Name Style - Has Emboss"),Lt.hasEmboss),hasGradient:fr(fe("Name Style - Has Gradient"),Lt.hasGradient),hasOutline:fr(fe("Name Style - Has Outline"),Lt.hasOutline),hasShadow:fr(fe("Name Style - Has Shadow"),Lt.hasShadow),headTextFillStyle:yr(fe("Name Style - Headtext Fill Style"),Lt.headTextFillStyle),lineColor:yr(fe("Name Style - Line Color"),Lt.lineColor),lineOffsetX:gr(fe("Name Style - Line Offset X"),Lt.lineOffsetX),lineOffsetY:gr(fe("Name Style - Line Offset Y"),Lt.lineOffsetY),lineWidth:gr(fe("Name Style - Line Width"),Lt.lineWidth),pattern:null!==(le=fe("Name Style - Pattern"))&&void 0!==le?le:Lt.pattern,preset:null!==(se=fe("Name Style - Preset"))&&void 0!==se?se:Lt.preset,shadowBlur:gr(fe("Name Style - Shadow Blur"),Lt.shadowBlur),shadowColor:yr(fe("Name Style - Shadow Color"),Lt.shadowColor),shadowOffsetX:gr(fe("Name Style - Shadow Offset X"),Lt.shadowOffsetX),shadowOffsetY:gr(fe("Name Style - Shadow Offset Y"),Lt.shadowOffsetY)},Rt=fr(fe("Is Link"),null!==(ce=he.isLink)&&void 0!==ce?ce:"link"===ge),zt=null!==(ue=[fr(fe("Link - Top Left Arrow"),!1)?"1":"",fr(fe("Link - Top Arrow"),!1)?"2":"",fr(fe("Link - Top Right Arrow"),!1)?"3":"",fr(fe("Link - Left Arrow"),!1)?"4":"",fr(fe("Link - Right Arrow"),!1)?"6":"",fr(fe("Link - Bottom Left Arrow"),!1)?"7":"",fr(fe("Link - Bottom Arrow"),!1)?"8":"",fr(fe("Link - Bottom Right Arrow"),!1)?"9":""].filter((e=>""!==e)))&&void 0!==ue?ue:[],It=null!==(de=fe("Link Rating"))&&void 0!==de?de:"",Bt=[!1,"#000000",!1,"#000000"],Et=[fr(fe("Stat Style - Is Custom"),Bt[0]),yr(fe("Stat Style - Fill Color"),Bt[1]),fr(fe("Stat Style - Has Shadow"),Bt[2]),yr(fe("Stat Style - Shadow Color"),Bt[3])],Dt=[fr(fe("Type Style - Is Custom"),Bt[0]),yr(fe("Type Style - Fill Color"),Bt[1]),fr(fe("Type Style - Has Shadow"),Bt[2]),yr(fe("Type Style - Shadow Color"),Bt[3])],Wt=[fr(fe("Effect Style - Is Custom"),Bt[0]),yr(fe("Effect Style - Fill Color"),Bt[1]),fr(fe("Effect Style - Has Shadow"),Bt[2]),yr(fe("Effect Style - Shadow Color"),Bt[3])],Ht=[fr(fe("Pendulum Effect Style - Is Custom"),Bt[0]),yr(fe("Pendulum Effect Style - Fill Color"),Bt[1]),fr(fe("Pendulum Effect Style - Has Shadow"),Bt[2]),yr(fe("Pendulum Effect Style - Shadow Color"),Bt[3])],At=[fr(fe("Other Style - Is Custom"),Bt[0]),yr(fe("Other Style - Fill Color"),Bt[1]),fr(fe("Other Style - Has Shadow"),Bt[2]),yr(fe("Other Style - Shadow Color"),Bt[3])];let Mt={};try{var Kt;Mt=JSON.parse(null!==(Kt=fe("External Info (JSON)"))&&void 0!==Kt?Kt:"{}")}catch(qt){console.error("csvToCardList",qt)}const Ut=(null!==(be=fe("Flag"))&&void 0!==be?be:"").split("|").map(Number).slice(0,ne),Yt=[0,0].map(((e,t)=>"number"===typeof Ut[t]?Ut[t]:e)),Gt=(null!==(me=fe("Dye List"))&&void 0!==me?me:"").split("|").map(String).slice(0,k),Xt=["","","","","",""].map(((e,t)=>"string"===typeof Gt[t]?Gt[t]:e)),Vt=(null!==(pe=fe("Star List"))&&void 0!==pe?pe:"").split("|").map(String).slice(0,13);return Object(c.a)(Object(c.a)({id:Object(q.a)()},he),{},{art:yt,artCrop:xt,artFinish:Fe,artFit:jt,artSource:"online",atk:ze,attribute:Ce,background:kt,backgroundCrop:Ft,backgroundFit:Ct,backgroundSource:"online",backgroundType:St,cardIcon:Ie,condenseTolerant:lt,creator:Be,def:Ee,dyeList:Xt,effect:De,effectStyle:{condenseTolerant:lt,upSize:st,fontStyle:ut,background:bt,minLine:pt},effectTextStyle:Wt,externalInfo:Mt,finish:We,flag:Yt,foil:ke,format:He,frame:ge,furiganaHelper:Me,hasBackground:wt,isDuelTerminalCard:_e,isFirstEdition:qe,isLegacyCard:Ze,isLimitedEdition:$e,isLink:Rt,isPendulum:Qe,isSpeedCard:Je,leftFrame:ye,linkMap:zt,linkRating:It,name:Pe,nameStyle:Nt,nameStyleType:Tt,opacity:gt,otherFinish:[Le,Ne,Te,Re],otherTextStyle:At,password:Ke,pendulumEffect:tt,pendulumFrame:et,pendulumRightFrame:je,pendulumScaleBlue:at,pendulumScaleRed:nt,pendulumSize:rt,pendulumStyle:{upSize:ct,fontStyle:dt,background:mt,minLine:ht},pendulumTextStyle:Ht,region:Ae,rightFrame:ve,setId:Ue,star:Oe,starList:Vt,starAlignment:Ye,statTextStyle:Et,sticker:Ge,subFamily:Xe,typeAbility:it,typeTextStyle:Dt})})).filter((e=>null!=e))}catch(t){return console.error("csvToCardList",t),[]}},xr=(e,t)=>{const n="string"===typeof e?parseInt(e):e,a="string"===typeof t?parseInt(t):t,r=!!n&&isFinite(n),o=!!a&&isFinite(a);if(r&&!o)return-1;if(!r&&o)return 1;if(r&&o)return(null!==a&&void 0!==a?a:0)-(null!==n&&void 0!==n?n:0);const i="?"===e?1:""===e?-1:0,l="?"===t?1:""===t?-1:0;return l-i===0&&"string"===typeof e&&"string"===typeof t?(null!==e&&void 0!==e?e:"").localeCompare(t):l-i},Or=(e,t)=>e.name.localeCompare(t.name),wr=(e,t)=>e.setId.localeCompare(t.setId),kr=(e,t)=>xr(e.atk,t.atk),Sr=(e,t)=>xr(e.def,t.def),Cr=(e,t)=>e.isLink&&t.isLink?t.linkMap.length-e.linkMap.length:xr(e.star,t.star),Fr=(e,t)=>{try{var n,a,r,o;const i=Be[t.frame].sortWeight-Be[e.frame].sortWeight;if(0!==i)return i;return(null!==(n=null===(a=Be[t.pendulumFrame])||void 0===a?void 0:a.sortWeight)&&void 0!==n?n:1e3)-(null!==(r=null===(o=Be[e.pendulumFrame])||void 0===o?void 0:o.sortWeight)&&void 0!==r?r:1e3)}catch(i){return 0}},Lr=e=>{const t=Object(c.a)({},e),{frame:n,isLink:a}=t;return("spell"===n||"trap"===n||Ln(t))&&(t.atk="",t.def="",t.star=0),a&&(t.def="",t.star=0),t},Tr=(e,t,n)=>{for(let a=0;a<e.length;a++){const r=e[a](t,n);if(0!==r)return r}return 0},Nr={name:{key:"name",sortFunction:e=>e.map(Lr).sort(((e,t)=>Tr([Or,Cr,Fr,wr,kr,Sr],e,t)))},atk:{key:"atk",sortFunction:e=>e.map(Lr).sort(((e,t)=>Tr([kr,Sr,Cr,Fr,Or,wr],e,t)))},def:{key:"def",sortFunction:e=>e.map(Lr).sort(((e,t)=>Tr([Sr,kr,Cr,Fr,Or,wr],e,t)))},set:{key:"set",sortFunction:e=>e.map(Lr).sort(((e,t)=>Tr([wr,Fr,Cr,Or,kr,Sr],e,t)))},level:{key:"level",sortFunction:e=>e.map(Lr).sort(((e,t)=>Tr([Fr,Cr,Or,wr,kr,Sr],e,t)))}},Rr=(e,t)=>{const n=Object.values(t).filter((e=>null!=e));return 0===n.length?e:n.reduce(((e,t)=>t(e)),e)},zr=Object(er.create)(Object(cr.subscribeWithSelector)((e=>({activeId:"",cardDisplayList:[],cardList:[],filterFunctionMap:{},filterResetSignal:0,isListDirty:!1,listName:"card-list",pendingActiveCard:void 0,visible:"true"===localStorage.getItem("manager-panel-visible"),setFilterFunction:t=>{let{type:n,value:a}=t;return e((e=>{let{cardList:t,filterFunctionMap:r}=e;const o=Object(c.a)({},r);if("text"===n){const e=a.toLowerCase();o[n]=t=>t.filter((t=>{let{name:n,effect:a,pendulumEffect:r}=t;return(Zn(n).toLowerCase()+Qn(a).toLowerCase()+Qn(r).toLowerCase()).includes(e)}))}return{filterFunctionMap:o,cardDisplayList:Rr(t,o)}}))},resetFilter:()=>{e((e=>{let{filterResetSignal:t,cardList:n}=e;return{filterFunctionMap:{},filterResetSignal:t+1,cardDisplayList:[...n]}}))},addCard:t=>e((e=>{let{cardList:n}=e;const a=Object(q.a)(),r=Object(c.a)({id:a},t);return{activeId:r.id,cardList:[...n,r],cardDisplayList:[...n,r]}})),changeEditStatus:t=>{"load"===t&&e({isListDirty:!1}),"download"===t&&e({isListDirty:!1})},toggleVisible:t=>e((e=>{let{visible:n}=e;return{visible:null!==t&&void 0!==t?t:!n}})),setListName:t=>e({listName:t}),setPendingActiveCard:t=>e({pendingActiveCard:t}),changeActiveCard:function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e((e=>{let{cardList:a,cardDisplayList:r,isListDirty:o}=e,i=o;if(!1===i&&n){const e=a.find((e=>e.id===t.id));i=!e||!Jn(t,e)}return{isListDirty:i,cardList:a.map((e=>e.id===t.id?Object(c.a)({},t):e)),cardDisplayList:r.map((e=>e.id===t.id?Object(c.a)({},t):e))}}))},setActiveId:t=>e({activeId:t}),setCardList:(t,n)=>{var a;e({filterFunctionMap:{},isListDirty:!1,activeId:null!==n&&void 0!==n?n:null===(a=t[0])||void 0===a?void 0:a.id,cardList:t,cardDisplayList:[...t]})},deleteCard:t=>{e((e=>{var n,a,r,o;let{cardList:i,activeId:l,cardDisplayList:s}=e;const c=i.filter((e=>e.id!==t)),u=s.filter((e=>e.id!==t)),d=u.findIndex((e=>e.id===l));return{activeId:l===t?null!==(n=null!==(a=null===(r=u[d-1])||void 0===r?void 0:r.id)&&void 0!==a?a:null===(o=u[0])||void 0===o?void 0:o.id)&&void 0!==n?n:"":l,cardList:c,cardDisplayList:u}}))},duplicateCard:t=>{e((e=>{let{cardList:n,filterFunctionMap:a}=e;const r=n.findIndex((e=>{let{name:n}=e;return n===t.name})),o=Object(q.a)(),i=Object(c.a)(Object(c.a)({},Object(Dn.a)(t)),{},{name:"".concat(t.name," - Copy"),id:o}),l=r<0?[...n,i]:[...n.slice(0,r),n[r],i,...n.slice(r+1,n.length)];return{activeId:o,pendingActiveCard:i,cardList:l,cardDisplayList:Rr(l,a)}}))},sortList:t=>{e((e=>{let{cardDisplayList:n,cardList:a}=e;return{cardDisplayList:Nr[t].sortFunction(n),cardList:Nr[t].sortFunction(a)}}))}})))),Ir=(e,t)=>{const n=Object(q.a)();let a=Pt(),r=!1;if(!e)return{isPartial:r,card:Object(c.a)(Object(c.a)({},a),{},{id:n})};try{const n="string"===typeof e?JSON.parse(e):e;if(t){const e=Un(n);a=Object.keys(e).length>0?Gn(e,t):Gn(n,t)}else if(Xn(n))a=Gn(n);else if(Vn(n)){const e=Un(n);a=Gn(e)}else if(Array.isArray(n.data)){const e=Array.isArray(n.data)?n.data[0]:n,{isPartial:t,result:o}=ya(e);r=t,a=o}else if((e=>{try{return"id"in e&&"frameType"in e&&"card_sets"in e}catch(t){return console.error(t),!1}})(n)){const{isPartial:e,result:t}=ya(n);r=e,a=t}else{const{isPartial:e,result:t}=(e=>{const{name:t,atk:n,def:a,attribute:r,effect:o,boxSize:i,copyright:l,icon:s,id:u,image:d,layout:b,level:m,link:p,pendulum:h,rarity:f,serial:g,type:v,variant:y,version:j}=e,{red:x,blue:O,boxSize:w,boxSizeEnabled:k,effect:S,enabled:C}=h,L=ra[s],T=sa[r],N=ua[b],R="string"===typeof(I=d)&&I.startsWith("data:image/");var I;const B=parseInt(m),E=f?da[f.toLowerCase()]:void 0;let D=void 0===L||void 0===T||void 0===N||void 0===E;const{finish:W,artFinish:H,text:A}=null!==E&&void 0!==E?E:{},M=A?Y[A]:null,P=Pt();return{isPartial:D,result:Object(c.a)(Object(c.a)({},P),{},{finish:null!==W&&void 0!==W?W:[],name:t,nameStyleType:A?"predefined":"auto",nameStyle:M?M.value:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"},atk:n,def:a,attribute:null!==T&&void 0!==T?T:F,effect:o,creator:l,subFamily:null!==L&&void 0!==L?L:z,setId:u,frame:null!==N&&void 0!==N?N:"normal",star:"".concat(B)===m&&B<=13?B:m,typeAbility:v.split("/").map((e=>e.trim())),art:R?"":d,artFit:!0,artData:R?d:"",artSource:R?"offline":"online",artFinish:null!==H&&void 0!==H?H:"normal",isLink:"link"===N&&null!=p,linkMap:[!0===(null===p||void 0===p?void 0:p.topLeft)?"1":null,!0===(null===p||void 0===p?void 0:p.topCenter)?"2":null,!0===(null===p||void 0===p?void 0:p.topRight)?"3":null,!0===(null===p||void 0===p?void 0:p.middleLeft)?"4":null,!0===(null===p||void 0===p?void 0:p.middleRight)?"6":null,!0===(null===p||void 0===p?void 0:p.bottomLeft)?"7":null,!0===(null===p||void 0===p?void 0:p.bottomCenter)?"8":null,!0===(null===p||void 0===p?void 0:p.bottomRight)?"9":null].filter((e=>"string"===typeof e)),isPendulum:C,pendulumScaleBlue:O,pendulumScaleRed:x,pendulumEffect:S,pendulumSize:ia[w],password:g,externalInfo:{version:j,variant:y,boxSize:i,rarity:f,pendulum:{boxSize:w,boxSizeEnabled:k}}})}})(n);r=e,a=t}}catch(o){console.error("decodedCard",e,o);try{a=function(e){let t;return t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Yn(e):"string"===typeof e?JSON.parse(e):e,Gn(t)}(e,!0),Ga.a.info({message:sr()["service.decode.outdated.message"],description:sr()["service.decode.outdated.description"]})}catch(o){console.error("cardData",e,o),Ga.a.error({message:sr()["service.decode.error.message"],description:sr()["service.decode.error.description"]})}}return{isPartial:r,card:Object(c.a)(Object(c.a)({},a),{},{id:n})}},Br={debounce:{type:"debounce",wait:400},throttle:{type:"throttle",wait:1e3}},Er=Object(er.create)(((e,t)=>({card:Mt(),setCard:(t,n)=>{const a=zr.getState().changeActiveCard;if("function"===typeof t)e((e=>{const r=t(e.card);return a(r,null===n||void 0===n||n),{card:r}}));else if("id"in(r=t)&&""!==r.id)a(t,n),e({card:t});else{const r=Object(c.a)({id:Object(q.a)()},t);a(r,n),e({card:r})}var r},getUpdater:function(e){var n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,r=arguments.length>2?arguments[2]:void 0;const{setCard:o}=t(),i=t=>{o((n=>{var r;return Object(c.a)(Object(c.a)({},n),{},{[e]:a("string"===typeof t||"number"===typeof t||Array.isArray(t)?t:null===t||void 0===t||null===(r=t.target)||void 0===r?void 0:r.value)})}))};if(!r)return i;const l="string"===typeof r?null!==(n=Br[r])&&void 0!==n?n:void 0:r;if(!l)return i;const{wait:s,type:u}=l;return"debounce"===u?nr()(i,s):"throttle"===u?rr()(i,s):i}}))),Dr=Object(er.create)((e=>{const{allowHotkey:t,exportFormat:n,globalScale:a,mirrorPendulumScale:r,reduceMotionColor:o,resolution:i,showCreativeOption:l,showExtraAttribute:s,showExtraDecorativeOption:u}=(()=>{try{var e;const t=JSON.parse(null!==(e=localStorage.getItem("setting"))&&void 0!==e?e:"{}");return t&&"object"===typeof t&&!Array.isArray(t)?t:{}}catch(t){return console.error("useSetting: Error when getting cached setting",t),{}}})();return{setting:{globalScale:"number"===typeof a&&a<=d.maximumScale?a:1,exportFormat:"string"===typeof n?n:"csv",resolution:Array.isArray(i)&&"number"===typeof i[0]&&"number"===typeof i[1]?i:[d.width,d.height],allowHotkey:"boolean"!==typeof t||t,reduceMotionColor:"boolean"===typeof o&&o,showCreativeOption:"boolean"!==typeof l||l,showExtraAttribute:"boolean"!==typeof s||s,showExtraDecorativeOption:"boolean"!==typeof u||u,mirrorPendulumScale:"boolean"===typeof r&&r},updateSetting:t=>{e((e=>{const n="function"===typeof t?t(e.setting):Object(c.a)(Object(c.a)({},e.setting),t);return localStorage.setItem("setting",JSON.stringify(n)),{setting:n}}))}}})),Wr=e=>{let{isTainted:t,isInitializing:n,exportCanvasRef:a,exportRef:o,onExport:i,onDownloadError:l,onDownloadComplete:s}=e;const u=lr(),{card:d}=Er(),b=Dr((e=>e.setting.resolution)),{opacity:m,name:p,isPendulum:h,pendulumSize:f}=d,g=Object(r.useRef)(!1),v=Object(r.useCallback)((function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const r=a.current,o=null===r||void 0===r?void 0:r.cloneNode(),i=null===r||void 0===r?void 0:r.getContext("2d"),c=null===o||void 0===o?void 0:o.getContext("2d");if(r&&i&&o&&c&&!t)try{n&&(o.width=n[0],o.height=n[1]),c.drawImage(r,0,0,r.width,r.height,0,0,o.width,o.height);const e=Zn(p);var u=document.createElement("a");u.download=e?"".concat(e,".png"):"card.png",u.href=o.toDataURL("image/png"),u.click()}catch(d){l()}null===(e=document.querySelector("#export-canvas-guard"))||void 0===e||e.classList.remove("guard-on"),s()}),[a,t,p,b,s,l]);return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{const t=Zn(p);e&&(document.title=t?"".concat(t," - Yu-Gi-Oh Carder"):"Yu-Gi-Oh Carder")}),500),()=>{e=!1}}),[p]),Object(r.useEffect)((()=>{let e=()=>{var e;localStorage.setItem("card-data",JSON.stringify(d)),localStorage.setItem("card-version",null!==(e="2.3.5")?e:"unknown")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}})),Object(r.useEffect)((()=>{let e=!0,t=e=>(e.preventDefault(),u["prompt.warning.on-leave.label"]);if(!1===n){try{var r;localStorage.setItem("card-data",JSON.stringify(d)),localStorage.setItem("card-version",null!==(r="2.3.5")?r:"unknown")}catch(l){const e="fail-to-set-storage-notification";Ga.a.close(e),Ga.a.error({key:e,message:u["error.card-max-size.message"],description:u["error.card-max-size.description"]})}(async()=>{var n,r,l,s;if(a.current&&(window.addEventListener("beforeunload",t),null===(n=document.getElementById("export-canvas"))||void 0===n||n.classList.remove("js-export-available"),null===(r=document.getElementById("preview-canvas"))||void 0===r||r.classList.remove("js-export-available"),null===(l=document.getElementById("export-canvas-guard"))||void 0===l||l.setAttribute("style",""),null===(s=document.getElementById("save-button-waiting"))||void 0===s||s.setAttribute("style","display: block"),o.current.pipelineRunning=!0,await o.current.currentPipeline,e&&(o.current.currentPipeline=i({isPendulum:h,opacity:m,pendulumSize:f,isRelevant:()=>e}),await o.current.currentPipeline,e))){var u,b,p,y;const e=Object(c.a)(Object(c.a)({},d),{},{artData:"",backgroundData:""}),n=JSON.stringify(Kn(e));"string"===typeof n&&function(e,t){if(window.history.pushState){let n=new URLSearchParams(window.location.search);n.set(e,t);let a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString();window.history.pushState({path:a},"",a)}}("data",n),null===(u=document.getElementById("export-canvas"))||void 0===u||u.classList.add("js-export-available"),null===(b=document.getElementById("preview-canvas"))||void 0===b||b.classList.add("js-export-available"),null===(p=document.getElementById("export-canvas-guard"))||void 0===p||p.setAttribute("style","display: none"),null===(y=document.getElementById("save-button-waiting"))||void 0===y||y.setAttribute("style","display: none"),window.removeEventListener("beforeunload",t),o.current.pipelineRunning=!1,g.current&&(g.current=!1,v())}})()}return()=>{window.removeEventListener("beforeunload",t),e=!1}})),{onSave:e=>{var t;null===(t=document.querySelector("#export-canvas-guard"))||void 0===t||t.classList.add("guard-on");const n=e?[...e]:void 0;setTimeout((()=>{!1===o.current.pipelineRunning?v(n):g.current=!0}),200)},isPipelineRunning:()=>o.current.pipelineRunning}},Hr=e=>{let{value:t="",onChange:n}=e;const[a,o]=Object(r.useState)(t),[i,l]=Object(r.useState)((()=>({hex:ja.test(t)?t:"#000000",rgb:xa(t,!1)})));return Object(r.useEffect)((()=>{const e=a.startsWith("#")?a:"#".concat(a);ja.test(e)&&(o(e),l({hex:e,rgb:xa(e,!1)}),null===n||void 0===n||n(e))}),[a]),Object(r.useEffect)((()=>{o(t),l({hex:ja.test(t)?t:"#000000",rgb:xa(t,!1)})}),[t]),{inputText:a,color:i,setColor:o}},{height:Ar,width:Mr,maximumScale:Pr}=d,Kr=()=>"#000000".replace(/0/g,(()=>(~~(12*Math.random()+2)).toString(16))),Ur=e=>{let{ctx:t,color:n=Kr(),width:a,offset:r=4,edge:o,baseline:i,xRatio:l}=e;const s=t.fillStyle;t.fillStyle=n,t.beginPath(),t.rect(o/l,i+1+Math.random()*r,a/l,2),t.fillStyle=s},Yr=(e,t,n,a,r,o)=>{if(!e||!t)return a;const{stroke:i=!1}=null!==o&&void 0!==o?o:{};e.textAlign="left";const l=t.split("");let s=a;return l.forEach((t=>{e.fillText(t,s,r),i&&e.strokeText(t,s,r),s+=e.measureText(t).width*(2+n)/2})),s},Gr=(e,t,n,a,r,o)=>{if(!e||!t)return a;const{stroke:i=!1}=null!==o&&void 0!==o?o:{};e.textAlign="right";const l=t.split("");let s=a;return l.forEach(((t,a)=>{const o=l[l.length-a-1];e.fillText(o,s,r),i&&e.strokeText(o,s,r),s-=e.measureText(o).width*(2+n)/2})),s},Xr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr*Pr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ar*Pr;return!!e&&(e.clearRect(0,0,t,n),!0)},Vr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return async(n,a,r,o)=>{if(!n||!Array.isArray(e)||e.length<=0)return Promise.resolve();for(const s of e){const e=t[s];if(r&&t[s]){var i,l;const{partInstructionMap:t,pendulumSubstituteMap:c}=e,u=a&&null!==(i=t[a])&&void 0!==i?i:[],d=o?null!==(l=c[o])&&void 0!==l?l:o:Z;if(u.length)for(const{blendMode:e="source-over",opacity:a=1}of u)n.globalCompositeOperation=e,n.globalAlpha=a,await r(s,d);else await r(s,d);n.globalAlpha=1,n.globalCompositeOperation="source-over"}}n.globalAlpha=1,n.globalCompositeOperation="source-over"}},qr="#000000",_r="#000000",$r="#000000",Jr=e=>{var t,n;let{ctx:a,x:r,y:o,blur:i,color:l,colorGradient:s,shadowColor:c,lineColor:u,lineColorGradient:d,lineWidth:b,globalScale:m=1,useDefault:p=!0}=e;return(p||"number"===typeof r)&&(a.shadowOffsetX=(null!==r&&void 0!==r?r:0)*m),(p||"number"===typeof o)&&(a.shadowOffsetY=(null!==o&&void 0!==o?o:0)*m),(p||"number"===typeof i)&&(a.shadowBlur=(null!==i&&void 0!==i?i:0)*m),(p||"string"===typeof c)&&(a.shadowColor=null!==c&&void 0!==c?c:_r),(p||"string"===typeof l)&&(a.fillStyle=null!==(t=null!==s&&void 0!==s?s:l)&&void 0!==t?t:$r),(p||"string"===typeof u)&&(a.strokeStyle=null!==(n=null!==d&&void 0!==d?d:u)&&void 0!==n?n:qr),(p||"number"===typeof b)&&(a.lineWidth=(null!==b&&void 0!==b?b:0)*m),()=>{(p||"number"===typeof r)&&(a.shadowOffsetX=0),(p||"number"===typeof o)&&(a.shadowOffsetY=0),(p||"number"===typeof i)&&(a.shadowBlur=0),(p||"string"===typeof c)&&(a.shadowColor=_r),(p||"string"===typeof l)&&(a.fillStyle=$r),(p||"string"===typeof u)&&(a.strokeStyle=qr),(p||"number"===typeof b)&&(a.lineWidth=0)}},Zr={},Qr=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise(e&&""!==t?r=>{var o,i;if(!0===(null===(o=Zr[t])||void 0===o?void 0:o.ready)){const o=Zr[t].image,i="number"===typeof n?n:n(o),l="number"===typeof a?a:a(o);return e.drawImage(o,i,l),void setTimeout((()=>r(!0)),0)}if(null===(i=Zr[t])||void 0===i?void 0:i.error)return void setTimeout((()=>r(!0)),0);const l=Zr[t]&&(Zr[t].cache||Zr[t].ready),s=l?Zr[t].image:new Image;l||(s.src="/ygocarder"+t),s.addEventListener("load",(()=>{const o="number"===typeof n?n:n(s),i="number"===typeof a?a:a(s);e.drawImage(s,o,i),Zr[t]&&(Zr[t].ready=!0,Zr[t].error=!1),r(!0)}),{once:!0}),s.addEventListener("error",(()=>{Zr[t]&&(Zr[t].error=!0),r(!1)}),{once:!0}),l||(Zr[t]={image:s,ready:!1,error:!1,cache:!0})}:e=>e(!1))},eo=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return await Qr(e,"/asset/image/"+t,n,a)},to=async(e,t,n,a,r,o,i,l,s,c)=>await(async(e,t,n,a,r,o,i,l,s,c)=>new Promise(e&&""!==t?u=>{var d,b;if(!0===(null===(d=Zr[t])||void 0===d?void 0:d.ready)){const d=Zr[t].image,b="number"===typeof n?n:n(d),m="number"===typeof a?a:a(d),p="number"===typeof r?r:r(d),h="number"===typeof o?o:o(d),f="number"===typeof i?i:null===i||void 0===i?void 0:i(d),g="number"===typeof l?l:null===l||void 0===l?void 0:l(d),v="number"===typeof s?s:null===s||void 0===s?void 0:s(d),y="number"===typeof c?c:null===c||void 0===c?void 0:c(d);return"number"===typeof f&&"number"===typeof g&&"number"===typeof v&&"number"===typeof y?e.drawImage(d,f,g,v,y,b,m,p,h):e.drawImage(d,b,m,p,h),void setTimeout((()=>u(!0)),0)}if(null===(b=Zr[t])||void 0===b?void 0:b.error)return void setTimeout((()=>u(!0)),0);const m=Zr[t]&&(Zr[t].cache||Zr[t].ready),p=m?Zr[t].image:new Image;m||(p.src="/ygocarder"+t),p.addEventListener("load",(()=>{const d="number"===typeof n?n:n(p),b="number"===typeof a?a:a(p),m="number"===typeof r?r:r(p),h="number"===typeof o?o:o(p),f="number"===typeof i?i:null===i||void 0===i?void 0:i(p),g="number"===typeof l?l:null===l||void 0===l?void 0:l(p),v="number"===typeof s?s:null===s||void 0===s?void 0:s(p),y="number"===typeof c?c:null===c||void 0===c?void 0:c(p);"number"===typeof f&&"number"===typeof g&&"number"===typeof v&&"number"===typeof y?e.drawImage(p,f,g,v,y,d,b,m,h):e.drawImage(p,d,b,m,h),Zr[t]&&(Zr[t].ready=!0,Zr[t].error=!1),u(!0)}),{once:!0}),p.addEventListener("error",(()=>{Zr[t]&&(Zr[t].error=!0),u(!1)}),{once:!0}),m||(Zr[t]={image:p,ready:!1,error:!1,cache:!0})}:e=>e(!1)))(e,"/asset/image/"+t,n,a,r,o,i,l,s,c),no=async(e,t,n,a,r,o,i,l)=>{const s=e.getContext("2d"),u=document.createElement("canvas");u.width=r,u.height=o;const d=u.getContext("2d",{willReadFrequently:!0});if(!d||!s)return;await to(d,t,0,0,r,o),(null===l||void 0===l?void 0:l.color)&&(d.fillStyle=l.color,d.fillRect(0,0,r,o),d.globalCompositeOperation="destination-in"),await to(d,t,0,0,r,o),d.globalCompositeOperation="source-over";const b=Jr(Object(c.a)(Object(c.a)({ctx:s},l),{},{globalScale:i}));s.drawImage(u,n,a),b()},ao=e=>{var t,n;let{ctx:a,letter:r,isLastOfLine:o=!1,debug:i,fontStyle:l,xRatio:s,metricMethod:c="standard",globalScale:u}=e;if(ct.test(r))return{width:0,boundWidth:0};const d="tcg"===l?Bt:Rt,b="tcg"===l?zt:Tt,m="tcg"===l?It:Nt,p=a.measureText(r),{width:h,actualBoundingBoxLeft:f,actualBoundingBoxRight:g}=p,v=f+g;let y=1;"name"===c&&(y=1+8*(1-s));const j="name"===c||"compact"===c||"furigana"===c?.046875:0;let x=v,O=null!==(t=o?m[r]:b[r])&&void 0!==t?t:0;if("tcg"===l){var w;return{width:h,actualBoundWidth:v,boundWidth:h+2*((null!==(w=d[r])&&void 0!==w?w:0)*h),metric:p,offsetRatio:O}}let k=(null!==(n=d[r])&&void 0!==n?n:0)*h+("furigana"===c?0:Math.min(.075*h,Math.max(.45*u,h*j)*y)),S=1;wt.test(r)?(x="furigana"===c?v:v*("creator"===c?1.75:2.5),S=.6):kt.test(r)?(x="furigana"===c?v:Math.max(v,.75*h),k=2*u):ht.test(r)?x="furigana"===c?v:Math.max(v,.7*h):yt.test(r)?x=h:Ct.test(r)?x=2*v:Ft.test(r)?x=1.25*v*(o?.5:1):xt.test(r)?x="furigana"===c?v:Math.max(v,.75*h):Ot.test(r)?x=Math.max(v,.69*h)*("creator"===c?.975:1):St.test(r)?(x=h,k=0):x="furigana"===c?v:Math.max(v,.75*h),k="furigana"===c?0:k;const C=1*h*1;return i&&console.info("getLetterWidth ".concat(i),r,p,1,1,"|",C),{width:h,actualBoundWidth:v,boundWidth:"standard"===c?h*S:x+2*k,metric:p,offsetRatio:O}},ro=e=>{var t;let{ctx:n,baseline:a,edge:r,letter:o,xRatio:i,deviation:l,letterMetric:s,textDrawer:c}=e;const{boundWidth:u,metric:d=n.measureText(o),offsetRatio:b=0}=null!==s&&void 0!==s?s:{},{letterMap:m={},threshold:p=10}=null!==l&&void 0!==l?l:{},{uniformBoxDescent:h}=null!==(t=m[o])&&void 0!==t?t:{},f=d.width*i,g=u?u*i:f,v=null!==c&&void 0!==c?c:e=>{let{ctx:t,letter:n,scaledBaseline:a,scaledEdge:r}=e;t.fillText(n,r,a)},y=(f-g)/2,j=g*b;let x=1,O=0;if("number"===typeof h&&i>=p){const{actualBoundingBoxDescent:e,actualBoundingBoxAscent:t}=n.measureText(o);O=h-e;const a=t+e;x=(a+2*O)/a}n.scale(1,x),v({ctx:n,letter:o,scaledEdge:r/i-y-j,scaledBaseline:(a+O)/x}),n.scale(1,1/x)},oo=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?new RegExp("([".concat(Wt,"])|(").concat(_e,"[\\w\\W]+?").concat($e,")|(.+?)")):new RegExp("([".concat(Wt,"])|").concat(_e,"([\\w\\W]+?)").concat($e,"|(.+?)"));return e.split(n).filter((e=>null!=e&&""!==e))},io=(e,t,n,a,r)=>{const o=Ha(be,r),{fontSize:i,ordinalFontRatio:l=o.ordinalFontRatio,headTextFontRatio:s=o.headTextFontRatio}=n,{font:c,ordinalFont:u,symbolFont:d,symbolFontRatio:b,numberFont:m=c,numberFontRatio:p=1,furiganaFont:h}=t;let f=a.getFontInfo();let g=a.getFontInfo();let v=a.getFontInfo();let y=a.getFontInfo();let j=a.getFontInfo();return{applyNumberFont:()=>{f=a.getFontInfo(),e.font=a.setFamily(m).setSize(i*p).getFont()},stopApplyNumberFont:()=>{e.font=a.setFamily(f.family).setSize(f.size).getFont()},applyLargerText:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j=a.getFontInfo(),e.font=a.setSize(i*t).getFont()},stopApplyLargerText:()=>{e.font=a.setSize(j.size).getFont()},applySymbolFont:()=>{g=a.getFontInfo(),e.font=a.setFamily(d).setSize(i*b).getFont()},stopApplySymbolFont:()=>{e.font=a.setFamily(g.family).setSize(g.size).getFont()},applyOrdinalFont:()=>{v=a.getFontInfo(),e.font=a.setFamily(u).setSize(i*l).getFont()},stopApplyOrdinalFont:()=>{e.font=a.setFamily(v.family).setSize(v.size).getFont()},applyFuriganaFont:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y=a.getFontInfo(),e.font=a.setFamily(h).setWeight(t?"bold":"").setSize(i*s).getFont()},stopApplyFuriganaFont:()=>{e.font=a.setFamily(y.family).setWeight(y.weight).setSize(y.size).getFont()},applyAsymmetricScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.scale(t,n)},applyScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e.scale(t,n)},resetScale:()=>{e.setTransform(1,0,0,1,0,0)},reverseScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.scale(1/t,1/t)}}},lo=(e,t,n,a,r)=>{const o=(a-r)/2;e.beginPath(),e.arc(t+o,n-o,o,0,2*Math.PI,!1),e.fill(),e.lineWidth=1,e.strokeStyle="#003300",e.stroke()},so=e=>{let{footText:t,footTextWidth:n,headText:a,headTextLetterWidth:r,headTextGap:o,headTextSpacing:i,gapPadding:l,debug:s,fitFootText:c,sentenceXRatio:u,xRatio:d}=e;const b=0===a.length,m=r/n*u;let p=i,h=0;m<=.95?p=1*i:m<=1.175?p=i>=0?0:3*i:m<=1.56?p=i>=0?-1*i/4:3*i:(h=.66,p=i>=0?-1*i/4:2*i),(c||d>0&&d<1)&&(p=i);const f=r*(d&&!c?d:!h||c?1:h)+p*(a.length-1),g=b?0:(n-r)/a.length,v=n,y=1===t.length||2*l+f>n?"center":"space-around",j="center"===y?p:g,x="center"===y?2*l+f:v,O=c?Math.min(x,n):x,w="center"===y?(f-n)/2:0,k=Math.max(o,c?Math.min(w,0):w);return s&&console.info("analyzeHeadText ".concat(s),y,j,"|",a,O,x,t,n,k),{gapPadding:l,letterSpacing:j,trueHeadTextWidth:x,headTextWidth:O,alignment:y,halfGap:k,headTextXRatio:"center"===y?h:0}},co=(e,t)=>e>=0?t>=0?0:-1*Math.max(-1*e,t):t>=0?-1*Math.max(e,-1*t):0,uo=e=>{let{ctx:t,token:n,nextToken:a,xRatio:r,previousTokenGap:o=0,letterSpacing:i,format:l,globalScale:s,textData:c}=e;if(!t||!n)return{totalWidth:0,leftMostLetter:"",spaceCount:0,spaceAtEnd:!1,rightGap:0,leftGap:0};const u=Ha(be,s),d=null!==i&&void 0!==i?i:u.letterSpacing,{currentFont:b,fontData:m,fontLevel:p}=c,{metricMethod:h,headTextGapRatio:f=me.headTextGapRatio,headTextOverflow:g=me.headTextOverflow,fontStyle:v}=m,y=m.fontList[p],{bulletWidth:j,capitalLetterRatio:x,fontSize:O,iconSymbolWidth:w=j,largeSymbolRatio:k=u.largeSymbolRatio,headTextSpacing:S=u.headTextSpacing,squareBracketRatio:C,wordLetterSpacing:F}=y,L=-.5*O,{applyScale:T,reverseScale:N,applyLargerText:R,stopApplyLargerText:z,applyFuriganaFont:I,stopApplyFuriganaFont:B,applyOrdinalFont:E,stopApplyOrdinalFont:D,applySymbolFont:W,stopApplySymbolFont:H,applyNumberFont:A,stopApplyNumberFont:M}=io(t,m,y,b,s),P=1+d/2;let K="",U=0,Y=0,G=!1;const X=void 0===a;let V=null!==o&&void 0!==o?o:0,q=!1,_=0;const $=n.replaceAll(new RegExp(st,"g"),"").split(qe).filter((e=>null!=e&&""!==e));for(let J=0;J<$.length;J++){const e=0===J,n=$[J];if("\u29be"===n){V=0;U+=w/r*P,e&&(_=0,K=n[0])}else if("\u25cf"===n){V=0;U+=j/r*P,e&&(_=0,K=n[0])}else if(/[\xa9]/.test(n)){V=0,R(k);const a=t.measureText(n).width/r;z(),U+=a*P,e&&(_=0,K=n[0])}else if(gt.test(n)){V=0,E();const a=t.measureText(n).width/r;D(),U+=a*P,Y+=1,e&&(_=0,K=n[0])}else if(Dt.test(n)){const[o,i,u=""]=n.replaceAll(/{|}/g,"").split(/(\|+)/),b="||"===i,{totalWidth:m}=uo({ctx:t,token:o,nextToken:a,xRatio:r,letterSpacing:d,previousTokenGap:0,format:l,textData:c,globalScale:s});I();const p=u.split("").map((e=>ao({ctx:t,letter:e,fontStyle:v,metricMethod:"furigana",xRatio:1,globalScale:s}).boundWidth)).reduce(((e,t)=>e+t),0);B();const{halfGap:h,headTextWidth:y}=so({headText:u,headTextLetterWidth:p/r,footText:o,footTextWidth:m,headTextGap:L/r,headTextSpacing:S,gapPadding:f*O/r,fitFootText:b,sentenceXRatio:r,xRatio:"condense"===g&&o.length>1?Math.min(1,r+.1):0}),j=0===u.length?Math.max(L,m/Ht):h,x=j,w=j,k=Math.max(y,m),C=co(V,x);V=w,U+=k-C,Y+=1,e&&(q=!0,_=x,K=o[0])}else if(Ve.test(n)){const a=F?1+F/2:P;t.letterSpacing="".concat((a-1)*b.getFontInfo().sizeAsNumber,"px");let r=n,o=0;for(;""!==r;){let e=r[0],n=r.slice(1),a=t.measureText(r).width-t.measureText(n).width;Ge.test(e)?(T(C),a=t.measureText(r).width-t.measureText(n).width,N(C)):Ye.test(e)?(T(x),a=t.measureText(r).width-t.measureText(n).width,N(x)):jt.test(e)?(A(),a=t.measureText(r).width-t.measureText(n).width,M()):dt.test(e)&&"tcg"===v?(W(),a=t.measureText(r).width-t.measureText(n).width,H()):a=t.measureText(r).width-t.measureText(n).width,o+=a,r=n}const i=Math.max(L,o/Ht),l=i;U+=o-co(V,i),V=l,e&&(_=i,K=n[0]),t.letterSpacing="0px"}else if(dt.test(n)&&"tcg"===v){W();const a=t.measureText(n).width*P;H();const r=Math.max(L,a/Ht),o=r;U+=a-co(V,r),V=o,e&&(_=r,K=n[0])}else{const{boundWidth:a}=ao({ctx:t,letter:n,isLastOfLine:X,fontStyle:v,metricMethod:h,xRatio:r,globalScale:s}),o=a*P,i=Math.max(L,o/Ht),c=i;U+=o-co(V,i),V=c,("ocg"===l||"tcg"===l&&/\s+/.test(n))&&!1===St.test(n)&&(Y+=1,J===$.length-1&&(G=!0)),e&&(_=i,K=n[0]),Lt.test(n)&&(_=0,V=0)}}return{totalWidth:U,spaceCount:Y,spaceAtEnd:G,leftMostLetter:K,rightGap:V,leftGap:_,offsetable:q}},bo=e=>{let{ctx:t,line:n,width:a,xRatio:r,format:o,isLast:i,textData:l,globalScale:s}=e;const c=oo(n);let u=0,d=0,b=0;for(let p=0,h=r;p<c.length;p++){const e=c[p],n=c[p+1];if(e===tt){h=1;continue}if(e===nt){h=r;continue}const{spaceCount:a,totalWidth:i,spaceAtEnd:m,leftGap:f,rightGap:g,leftMostLetter:v}=uo({ctx:t,token:e,nextToken:n,xRatio:h,previousTokenGap:b/h,textData:l,format:o,globalScale:s});b=g*h,u+=i*h+((0===p&&f>0?-1*Math.min(20*s,f*h):0)+(0===p&&vt.test(v)?4*s*h:0)),d+=a-(m&&void 0===n?1:0)}const m=d>0?(a-u)/d:0;return{tokenList:c,spaceWidth:i?"tcg"===o?m>1.5*s?0:m:m>3.65*s?0:m:m}},mo=e=>{let{ctx:t,median:n,paragraphList:a,additionalLineCount:r=0,width:o,format:i,textData:l,globalScale:s}=e;const{fontData:c,fontLevel:u}=l,{letterSpacing:d}=c.fontList[u],b=[],m=a.reduce(((e,a)=>{const r=(n<=100?100:n)/1e3,c=o/r,u=oo(a,!0);let m=1,p=[],h=0,f=0,g=0;for(let o=0,y=r;o<u.length;o++){const e=u[o],a=u[o+1];e===tt?(g+=1,y=1):e===nt&&(g-=1,y=r);let{leftMostLetter:v,totalWidth:j,rightGap:x,leftGap:O}=uo({ctx:t,token:e,nextToken:a,xRatio:y,previousTokenGap:f,format:i,letterSpacing:d,textData:l,globalScale:s});let w=j/(g>0?r:1)+(0===o?(O>0?-1*Math.min(20*s/y,O):0)+(vt.test(v)?4*s:0):0);if(h+w>c){let r=p.join("").trim();g>0&&(r+=nt),g<0&&(r=tt+r),g=0,b.push({line:r,effectiveMedian:n,isLast:!1,actualLineWidth:h});let{totalWidth:o,rightGap:c,leftGap:u}=uo({ctx:t,token:e,nextToken:a,xRatio:y,previousTokenGap:0,format:i,textData:l,globalScale:s});h=o+((u>0?-1*Math.min(20*s/y,u):0)+(vt.test(v)?4*s:0)),f=c,p=[e],m+=1}else h+=w,f=x,p.push(e)}let v=p.join("").trim();return g>0&&(v+=nt),g<0&&(v=tt+v),g=0,b.push({line:v,effectiveMedian:n,isLast:!0,actualLineWidth:h}),e+m}),0)+(null!==r&&void 0!==r?r:0);return{currentLineList:b,currentLineCount:m}},po=e=>{let{ctx:t,fontSize:n,edge:a,baseline:r,headText:o,headTextLetterWidth:i,footText:l,footTextWidth:s,headTextGap:c,headTextSpacing:u,headTextHeightRatio:d,headTextBold:b,headTextGapRatio:m,globalScale:p,xRatio:h,fontStyle:f,textWorker:g,fitFootText:v,headTextOverflow:y}=e;const{applyFuriganaFont:j,stopApplyFuriganaFont:x,resetScale:O,applyScale:w}=g,k="condense"===y&&l.length>1?Math.min(1,h+.1):0,{gapPadding:S,letterSpacing:C,trueHeadTextWidth:F,halfGap:L,alignment:T,headTextXRatio:N}=so({headText:o,headTextLetterWidth:i,footText:l,footTextWidth:s*h,headTextGap:c,headTextSpacing:u*h,gapPadding:n*m,fitFootText:v,sentenceXRatio:h,xRatio:k}),R=F>s*h;if(0===o.length)return{trueHeadTextWidth:F,halfGap:L};const z=v?Math.min(1,s*h/F):1,I=v?z:k&&"center"===T?k:N;let B=a;O(),(v||I)&&(w(I,1),B=a/I),"center"===T?(B+=S,R?I>z&&(B+=(s*h/I-F)/2/I):B+=(s*h-F)/2):B+=C/2;for(const E of o){j();const{width:e,boundWidth:a}=ao({ctx:t,letter:E,fontStyle:f,metricMethod:"furigana",xRatio:1,globalScale:p}),o=(e-a)/2;x(),j(b),t.fillText(E,B-o,r-n*d),x(),B+=a+C}return(v||I)&&O(),w(h,1),{trueHeadTextWidth:F,halfGap:L}},ho=e=>{let{ctx:t,tokenList:n,trueEdge:a,trueBaseline:r,spaceWidth:o=0,xRatio:i,yRatio:l=1,textData:s,format:u,textDrawer:d,debug:b=!1,option:m,globalScale:p}=e;const{drawHeadText:h=!0}=null!==m&&void 0!==m?m:{},{currentFont:f,fontData:g,fontLevel:v}=s,y=g.fontList[v],{headTextFillStyle:j,headTextBold:x=me.headTextBold,headTextHeightRatio:O=me.headTextHeightRatio,headTextOverflow:w=me.headTextOverflow,headTextGapRatio:k=me.headTextGapRatio,metricMethod:S,fontStyle:C,letterDeviationMap:F={}}=g,L=Ha(be,p),{bulletOffset:T=L.bulletOffset,bulletWidth:N,capitalLetterRatio:R=L.capitalLetterRatio,fontSize:z,headTextSpacing:I=L.headTextSpacing,iconSymbolWidth:B=N,largeSymbolRatio:E=L.largeSymbolRatio,letterSpacing:D=L.letterSpacing,ordinalFontOffsetY:W=L.ordinalFontOffsetY,squareBracketRatio:H=L.squareBracketRatio,wordLetterSpacing:A,allRightSymbolOffset:M=L.allRightSymbolOffset}=y,P=io(t,g,y,f,p),{stopApplyFuriganaFont:K,applyFuriganaFont:U,stopApplyLargerText:Y,applyLargerText:G,stopApplyNumberFont:X,applyNumberFont:V,stopApplyOrdinalFont:q,applyOrdinalFont:_,applyScale:$,reverseScale:J,applySymbolFont:Z,stopApplySymbolFont:Q,applyAsymmetricScale:ee,resetScale:te}=P,ne=1+D/2,ae=r/l;let re=0,oe=[],ie=0,le=a;for(let ue=0,de=i;ue<n.length;ue++){const e=n[ue];if(e===tt){de=1,t.setTransform(1,0,0,1,0,0);continue}if(e===nt){de=i,t.scale(de,1);continue}const a=-.5*de,m=z*a,g=n[ue+1],v=n[ue+2],y={ctx:t,xRatio:de,letterSpacing:D,format:u,textData:s,globalScale:p},L={ctx:t,baseline:ae,xRatio:de,textDrawer:d},be=e.split(qe).filter((e=>null!=e&&""!==e)),{leftMostLetter:me,leftGap:pe,rightGap:he,totalWidth:fe,spaceCount:ge}=uo(Object(c.a)({token:e,nextToken:g,previousTokenGap:re/de},y)),ve=0===ue?(pe>0?-1*Math.min(20*p,pe*de):0)+(vt.test(me)?4*p:0):0;let ye=le+ve,je=re;for(let n=0;n<be.length;n++){var se,ce;const i=be[n],b=null!==(se=be[n+1])&&void 0!==se?se:g,D=null!==(ce=be[ue+2])&&void 0!==ce?ce:v;if(e===tt||e===nt);else if("\u29be"===i)oe.push({edge:ye,size:B,baseline:ae}),ye+=B*ne,je=0,ie=0;else if("\u25cf"===i)te(),lo(t,ye,r+T-1*p,N,Et(u)*p),ye+=N*ne,ee(de,l),je=0,ie=0;else if(/[\xa9]/.test(i))te(),G(E),ro(Object(c.a)(Object(c.a)({},L),{},{letter:i,edge:ye*de,baseline:r+("tcg"===u?M:2*M)})),ye+=t.measureText(i).width*ne,Y(),ee(de,l),je=0,ie=0;else if(gt.test(i))te(),_(),ro(Object(c.a)(Object(c.a)({},L),{},{letter:i,edge:ye*de,baseline:r+W})),ye+=t.measureText(i).width*ne,q(),ee(de,l),ye+=o,je=0,ie=0;else if(Dt.test(i)){const[e,n,r=""]=i.replaceAll(/{|}/g,"").split(/(\|+)/),f="||"===n,{totalWidth:g}=uo(Object(c.a)({token:e,nextToken:b,previousTokenGap:0},y));U();const v=r.split("").map((e=>ao({ctx:t,letter:e,fontStyle:C,metricMethod:"furigana",xRatio:1,globalScale:p}).boundWidth)).reduce(((e,t)=>e+t),0);K();const{headTextWidth:S,halfGap:F}=so({headText:r,headTextLetterWidth:v,footText:e,footTextWidth:g*de,headTextGap:m,headTextSpacing:I*de,gapPadding:z*k,fitFootText:f,sentenceXRatio:de,xRatio:"condense"===w&&e.length>1?Math.min(1,de+.1):0}),L=0===r.length?Math.max(m,g*a):F,T=L,N=L,R=co(je,N),B=N>0?N-R:0,{offsetable:E,leftGap:W}=uo(Object(c.a)({token:b,nextToken:D,previousTokenGap:T/de},y)),H=W*de,A=co(T,H),M=B+(T>0?T-A:0);let Y=0,G=0;M>0&&H>=-2*p&&E?(Y=(M+2*Math.max(H,0))/3,G=Math.max(H,0)-Y):Y=B;const X=ye+(L<0?-R:ve?-ve:Y)+ie;ie=G,ho({ctx:t,format:u,textData:s,tokenList:oo(e),trueBaseline:ae,trueEdge:X,xRatio:de,yRatio:l,spaceWidth:0,textDrawer:d,globalScale:p,debug:!1});const V=t.fillStyle,q=t.strokeStyle,_=t.shadowColor,$=t.shadowOffsetX,J=t.shadowOffsetY,Z=t.shadowBlur;j&&(t.fillStyle=j,t.strokeStyle="",t.shadowColor="",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0);const Q=ye-R;h&&po({ctx:t,fontSize:z,edge:Q,baseline:ae,headText:r,headTextLetterWidth:v,footText:e,footTextWidth:g,headTextGap:m,headTextSpacing:I,headTextHeightRatio:O,headTextBold:x,headTextGapRatio:k,xRatio:de,fontStyle:C,textWorker:P,fitFootText:f,headTextOverflow:w,globalScale:p}),t.fillStyle=V,t.strokeStyle=q,t.shadowColor=_,t.shadowOffsetX=$,t.shadowOffsetY=J,t.shadowBlur=Z,ye+=Math.max(g*de,S)-R+o,je=T}else if(Ve.test(i)){const e=A?1+A/2:ne;t.letterSpacing="".concat((e-1)*f.getFontInfo().sizeAsNumber,"px");const n=t.measureText(i).width*de,r=Math.max(m,n*a),o=r;ye-=co(je,r);let l=i,s=ye;for(;""!==l;){let e=l[0],n=l.slice(1),a=0;const r=Object(c.a)(Object(c.a)({},L),{},{deviation:F["".concat(p)],letter:e,edge:s});if(Ge.test(e))$(H),a=t.measureText(l).width-t.measureText(n).width,ro(Object(c.a)(Object(c.a)({},r),{},{edge:s/H,baseline:ae/H})),J(H);else if(Ye.test(e)){$(R),a=t.measureText(l).width-t.measureText(n).width;const o=a>t.measureText(e).width*R?Math.round(a*(1-R))/2:0;ro(Object(c.a)(Object(c.a)({},r),{},{edge:s/R+o,baseline:ae/R})),J(R)}else jt.test(e)?(V(),a=t.measureText(l).width-t.measureText(n).width,ro(r),X()):dt.test(e)&&"tcg"===C?(Z(),a=t.measureText(l).width-t.measureText(n).width,ro(r),Q()):(a=t.measureText(l).width-t.measureText(n).width,ro(r));s+=a*de,l=n}ye=s,je=o,ie=0,t.letterSpacing="0px"}else if(dt.test(i)&&"tcg"===C){const e=i;Z();const n=t.measureText(e).width*ne*de,r=Math.max(m,n*a),o=r;ye-=co(je,r),ro(Object(c.a)(Object(c.a)({},L),{},{letter:e,edge:ye})),ye+=n,Q(),je=o,ie=0}else{const e=i,n=ao({ctx:t,letter:e,fontStyle:C,metricMethod:S,isLastOfLine:void 0===b,xRatio:de,globalScale:p}),r=n.boundWidth*ne*de,l=Math.max(m,r*a),s=l;ye-=co(je,l),ro(Object(c.a)(Object(c.a)({},L),{},{letter:e,edge:ye,deviation:null===F||void 0===F?void 0:F["".concat(p)],letterMetric:n})),ye+=r,("ocg"===u||"tcg"===u&&/\s+/.test(e))&&!0!==St.test(e)&&(ye+=o),Lt.test(e)||(je=s),ie=0}}re=he*de,b&&Ur({ctx:t,baseline:ae,edge:le,width:fe*de,xRatio:de}),le+=fe*de+ge*o+ve}return{tokenEdge:le,iconPositionList:oe}},fo=(e,t,n)=>{const{multiline:a=!0,furiganaHelper:r=!0,dictionaryType:o="rubyForm"}=null!==n&&void 0!==n?n:{},i=null!==e&&void 0!==e?e:"";let l="",s="ocg"===t?Fe:Le;for(const h of i){var c;l+=null!==(c=s[h])&&void 0!==c?c:h}const u=l,d=(a?u.replace(/^\[\[([\w\W]*?)\]\](?=(\n|$))/gm,"".concat(Qe,"$1").concat(et)).replace(/^\[([\w\W]*?)\](?=(\n|$))/gm,"".concat(Je,"$1").concat(Ze)):u).replace(/(^|[-\u2014\s(["])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(lt,"$1\u201c").replace(/"/g,"\u201d").replace(/--/g,"\u2014").replace(/\u25cf /g,"\u25cf").replace(/(\([\uff10-\uff190-9]{1,2}\))/g,(e=>{const t=Te[e];return null!==t&&void 0!==t?t:e})).replaceAll(new RegExp("{{([^{}]+?)}}","g"),(e=>e.replaceAll("{{",tt).replaceAll("}}",nt))).replaceAll(new RegExp("{[^{}]+?}","g"),(e=>"".concat(_e).concat(e).concat($e))),b=("tcg"===t||!1===r?d:d.replaceAll(new RegExp(mt,"g"),(e=>{var t;const n=null!==(t=de[e][o])&&void 0!==t?t:de[e].rubyForm;return"".concat(_e).concat(n).concat($e)}))).replaceAll(new RegExp(Xe,"g"),(e=>"".concat(_e).concat(e).concat($e))).replaceAll(new RegExp("[(\\[\uff5b\u3014\u3008\u300a\u300c\uff62\u300e\u3010\u3018\u3016\u301d'\"\u2018\u201c\uff5f\xab\u25cf]+.","g"),(e=>"".concat(_e).concat(e).concat($e))).replaceAll(new RegExp(ft,"g"),(e=>"".concat(_e).concat(e).concat($e))).replaceAll(new RegExp(".[\u2014...\u2025\u3033\u3034\u3035)]+[^\\s]","g"),(e=>"".concat(_e).concat(e).concat($e))).replaceAll(new RegExp("[\u2460-\u2473]\uff1a.","g"),(e=>"".concat(_e).concat(e).concat($e)));let m=[],p=0;for(const h of b)h===_e?(0===p&&m.push(h),p+=1):h===$e?(p-=1,0===p&&m.push(h)):m.push(h);return m.join("").replaceAll("".concat(et).concat($e),"".concat($e).concat(et)).replaceAll("".concat(Ze).concat($e),"".concat($e).concat(Ze)).replaceAll("".concat(_e).concat(Qe),"".concat(Qe).concat(_e)).replaceAll("".concat(_e).concat(Je),"".concat(Je).concat(_e)).replaceAll("".concat(tt).concat($e),"".concat($e).concat(tt)).replaceAll("".concat(_e).concat(nt),"".concat(nt).concat(_e)).replaceAll("".concat(Je).concat(Ze),"").replaceAll("".concat(Qe).concat(et),"").replaceAll("".concat(_e).concat($e),"")},go=e=>{let{ctx:t,content:n,isNormal:a=!1,fontDataKey:r="tcg",fontData:o=ye[r],textStyle:i,sizeList:l=re["tcg-type"],condenseTolerant:s="strict",format:u,furiganaHelper:d,option:b}=e;const{defaultSizeLevel:m,forceRelaxCondenseLimit:p,globalScale:h=1,minLine:f=0}=null!==b&&void 0!==b?b:{},g="number"===typeof f?f:0;let v=null!==m&&void 0!==m?m:0;if(!t||!n)return v;const y=fo(n.trim(),u,{furiganaHelper:d}),{lineList:j,fullLineListOption:x,effectFlavorCondition:O}=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a="^(".concat(Je,"([^").concat(Ze,"]*)").concat(Ze,"\\s*)"),r="^(".concat(Qe,"([^").concat(et,"]*)").concat(et,"\\s*)"),o=[],i=[],l=new RegExp([a,r].join("|"));let s=e,c="";const u=new RegExp(ut,"m"),d=null===(t=u.exec(e))||void 0===t?void 0:t[1];d&&n?(c=d.trim(),s=s.replace(d,"")):c="";let b=0;for(;s.length>0&&b<=100;){const e=l.exec(s),t=null===e||void 0===e?void 0:e[1],n=null===e||void 0===e?void 0:e[2],a=null===e||void 0===e?void 0:e[3],r=null===e||void 0===e?void 0:e[4];if(n&&t)s=s.replace(t,""),o.push({line:n,alignment:"left"}),i.push(rt);else if(r&&a)s=s.replace(a,""),o.push({line:r,alignment:"justify"}),i.push(rt);else{const e=/(.*)(\n|$)/.exec(s),t=null===e||void 0===e?void 0:e[0],n=null===e||void 0===e?void 0:e[1];t&&(i.push(...n.replaceAll(Je,"[").replaceAll(Ze,"]").replaceAll(Qe,"[[").replaceAll(et,"]]").split("\n")),s=s.replace(t,""))}b++}return c&&i.push(ot),{lineList:i,fullLineListOption:[...o],effectFlavorCondition:c}}(y,a);let w=0;const k=Aa(o,h),{fontList:S}=k;for(;v<=S.length&&v>=0;){var C,F,L;const e=v===S.length,n=Math.min(S.length-1,v),o=e?{1:1e3,2:1e3,3:1e3}:"tcg"===u?p&&n<p?ae.relaxed:null!==(C=ae[s])&&void 0!==C?C:ae.strict:{1:800,2:800,3:800},{trueEdge:d,trueWidth:b,trueBaseline:m,trueHeightCap:f}=Da(null!==(F=l[n])&&void 0!==F?F:l[l.length-1],h),y=a&&"tcg"===u?b-2*h:b,T=e&&"number"===typeof f,N=T?La(k,{heightCap:f,lineCount:w}):k,R=T?v:n,{font:z,fontList:I}=N,B=T?I[R]:S[n],{fontSize:E,lineHeight:D,lineCount:W}=B,H=Ca();t.font=H.setWeight("").setSize(E).setFamily(z).getFont(),t.textAlign="left";const A={fontData:N,fontLevel:R,currentFont:H};let M=[];const P=j.length>W&&"number"===typeof f?1:Sa((e=>{const{currentLineList:n,currentLineCount:a}=mo({ctx:t,median:e,paragraphList:j,additionalLineCount:0,format:u,textData:A,width:y,globalScale:h});return M=n,!(a>W)}),200);w=Math.max(g,M.length);const K=Jr(Object(c.a)(Object(c.a)({ctx:t},i),{},{globalScale:h}));if(!(P<(null!==(L=o["".concat(j.length)])&&void 0!==L?L:o[3])&&v<S.length||g>W)){Xr(t);let e=m+D;M.forEach((a=>{let{line:o,effectiveMedian:i,isLast:l}=a;if(o===rt){const{line:n,alignment:a}=x.shift(),r="justify"!==a,o=.001*Sa((e=>{const{currentLineCount:a}=mo({ctx:t,median:e,paragraphList:[n],format:u,textData:A,width:y,globalScale:h});return!(a>1)})),{tokenList:i,spaceWidth:l}=bo({ctx:t,line:n,xRatio:o,format:u,isLast:r,textData:A,width:y,globalScale:h});t.scale(o,1),ho({ctx:t,tokenList:i,xRatio:o,yRatio:1,trueEdge:d,trueBaseline:e,spaceWidth:l,textData:A,format:u,globalScale:h})}else if(o===ot){const a=Aa(ye[r],h),o=T?La(a,{heightCap:f,lineCount:Math.max(g,M.length)}):a,{fontSize:i}=T?o.fontList[R]:a.fontList[n],l=Ca();t.font=l.setSize(i).setFamily(a.font).getFont();const s={fontData:o,fontLevel:R,currentFont:l},c=.001*Sa((e=>{const{currentLineCount:n}=mo({ctx:t,median:e,paragraphList:[O],format:u,textData:s,width:y,globalScale:h});return!(n>1)})),b=oo(O);t.scale(c,1),ho({ctx:t,tokenList:b,xRatio:c,yRatio:1,trueEdge:d,trueBaseline:e,textData:s,format:u,globalScale:h})}else{const n=i/1e3,a=o,{tokenList:r,spaceWidth:s}=bo({ctx:t,line:a,xRatio:n,format:u,isLast:l,textData:A,width:y,globalScale:h});t.scale(n,1),ho({ctx:t,tokenList:r,xRatio:n,yRatio:1,trueEdge:d,trueBaseline:e,spaceWidth:s,textData:A,format:u,globalScale:h})}t.setTransform(1,0,0,1,0,0),e+=D}));break}v+=1,K()}return v},{width:vo,finishTypeCardWidth:yo,stickerSize:jo}=d,{width:xo,height:Oo,topToPendulumStructure:wo}=d,ko={topRight:(async()=>{const e=document.createElement("canvas");e.width=xo,e.height=Oo;const t=e.getContext("2d");return t?(await eo(t,"mask/mask-top-right.png"),t.getImageData(0,0,xo,Oo).data):null})(),bottomRight:(async()=>{const e=document.createElement("canvas");e.width=xo,e.height=Oo;const t=e.getContext("2d");return t?(await eo(t,"mask/mask-bottom-right.png"),t.getImageData(0,0,xo,Oo).data):null})(),right:(async()=>{const e=document.createElement("canvas");e.width=xo,e.height=Oo;const t=e.getContext("2d");return t?(await eo(t,"mask/mask-right.png"),t.getImageData(0,0,xo,Oo).data):null})(),name:(async()=>{const e=document.createElement("canvas");e.width=xo,e.height=wo;const t=e.getContext("2d");return t?(await eo(t,"mask/mask-name.png"),t.getImageData(0,0,xo,wo).data):null})()},So=async(e,t,n,a)=>{const{ctx:r,canvas:o}=_t(n,a);"string"===typeof e?await eo(r,e,0,0):r.drawImage(e,0,0,n,a);const i=r.getImageData(0,0,n,a).data;for(let l=0;l<i.length;l+=4)i[l+3]=t[l+3];return r.putImageData(new ImageData(i,n,a),0,0),o},{width:Co,height:Fo,topToPendulumStructure:Lo,topToPendulumStructureFrame:To,pendulumIconFrameHeight:No,pendulumIconFrameWidth:Ro,pendulumFrameHeight:zo,pendulumFrameWidth:Io,attributeSize:Bo,attributeX:Eo,attributeY:Do,finishTypeCardWidth:Wo,stickerSize:Ho}=d,Ao=e=>{let{canvas:t,artworkCanvas:n,backgroundCanvas:a,globalScale:r,region:o,hasBackground:i,frame:l,leftFrame:s,pendulumFrame:u,rightFrame:d,pendulumRightFrame:b,dyeList:m,effectBackground:p,pendulumEffectBackground:f,backgroundType:g,cardIcon:v,attribute:y,star:x,starList:O,foil:w,pendulumSize:k,opacity:S,isLink:C,isSpeedSkill:L,isXyz:T,isPendulum:R,pendulumFrameTypeMap:z,otherFinish:I,loopFinish:B,loopArtFinish:E}=e;const D=t.getContext("2d"),{artBorder:W,nameBorder:H,body:A,name:M,pendulum:P,text:K,boundless:U}=S,{artX:Y,artY:G,artFrameX:X,artFrameY:V,artFrameHeight:q,artFrameWidth:$,artFinishX:Z,artFinishY:Q,artWidth:ee,artRatio:te}=h(R,S,void 0,k),{frameType:ne,effectBoxOffsetY:ae,pendulumBoxX:re,pendulumBoxY:oe,pendulumBoxWidth:ie,pendulumBoxHeight:le,pendulumBoxOffsetY:se,artlessFrameY:ce}=_[k],ue=A>0||W,de=860,be=885,me=705,pe=231,he="normal"!==w,fe=T||L?l:"normal",ge="synchro"===l?["normal","xyz","xyz","xyz","xyz"]:[fe],ve=!U&&ue,ye=En({frame:l,topLeftFrame:s,topRightFrame:d,bottomLeftFrame:u,bottomRightFrame:b,effectBackground:p,pendulumEffectBackground:f},R),{topLeftFrame:je,topRightFrame:xe,bottomLeftFrame:Oe,bottomRightFrame:we,effectBackground:ke,pendulumEffectBackground:Se}=ye;return{drawFrame:async()=>{if(!D)return;const{ctx:e,canvas:t}=_t();await eo(e,"frame/frame-".concat(je,".png"),0,0);const{canvas:n,ctx:o}=pn(t,m[0]);if(je!==xe||""!==m[0]||""!==m[1]){const e=await So("frame/frame-".concat(xe,".png"),await ko.topRight,Co,Fo),{canvas:t}=pn(e,m[1]);o.drawImage(t,0,0)}const{ctx:l,canvas:s}=_t();await eo(l,"frame-pendulum/frame-pendulum-".concat(Oe,".png"),0,0);const{canvas:c,ctx:u}=pn(s,m[2]);if(Oe!==we||""!==m[2]||""!==m[3]){u.clearRect(714,0,99,Fo);const e=await So("frame/frame-".concat(we,".png"),await ko.bottomRight,Co,Fo),{canvas:t}=pn(e,m[3]);u.drawImage(t,0,0)}if(D.globalAlpha=A/100,D.scale(r,r),R&&(o.clearRect(X,V,$,q),u.clearRect(X,V,$,q)),D.drawImage(n,0,0),D.drawImage(c,0,0),D.resetTransform(),!i||!a||"frame"!==g)return void(D.globalAlpha=1);const{width:d,height:b}=a,p=a.cloneNode(),h=null===p||void 0===p?void 0:p.getContext("2d");p&&h?(p.width=Co*r,p.height=Fo*r,h.drawImage(a,0,0,d,b,0,0,Co*r,Fo*r),D.drawImage(p,0,0,r*Co,r*Fo,0,0,r*Co,r*Fo),D.globalAlpha=1):D.globalAlpha=1},drawCardArt:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;if(!n||!e)return;const{width:t,height:a}=n;a<=0||e.drawImage(n,0,0,t,a,r*Y,r*G,r*ee,r*ee/(t/a))},drawBackground:async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a||!t||!i)return;const{width:o,height:l}=a;if(l<=0)return;const{artX:s,artY:c,artWidth:u,artFrameWidth:d,artFrameX:b,artFrameY:m,ratio:p,artRatio:f}=h(R,S,g,k);t.drawImage(a,0,0,o,l,r*s,r*c,r*u,r*u/p);const v=null!==(e=I[3])&&void 0!==e?e:"normal";if("normal"!==v&&n){const e=Vr([v],j);await e(t,"art",(async e=>to(t,"finish/art-finish-".concat(e,".png"),r*b,r*m,r*d,r*d/f)))}},drawAttribute:async()=>{var e;if(!D)return;D.scale(r,r);const{canvas:t,ctx:n}=_t(Co*r,(Do+Bo)*r);await eo(n,"attribute/attr-".concat(N[o].fileKey,"-").concat(y.toLowerCase(),".png"),Eo,Do);const a=null!==(e=I[0])&&void 0!==e?e:"normal";if("normal"!==a){const e=Vr([a],j),{canvas:r,ctx:o}=_t(Co,Do+Bo);o.drawImage(t,0,0),await e(o,"art",(async e=>await eo(o,"finish/finish-typeart-".concat(e,".png"),(Co-Wo)/2,Ho))),n.globalCompositeOperation="source-in",n.drawImage(r,0,0),D.drawImage(t,0,0)}else D.drawImage(t,0,0);D.resetTransform()},drawStar:async e=>{var t;let{style:n,starAlignment:a}=e;const o="auto"===v?Nn(l):v;if(!D)return;D.scale(r,r);const i=null!==(t=I[1])&&void 0!==t?t:"normal",s="normal"!==i?Vr([i],j):void 0;await(async e=>{let{ctx:t,globalScale:n,cardIcon:a,text:r,star:o,starList:i,starAlignment:l="auto",style:s,onStarDraw:u,loopStarFinish:d}=e;const b=Array.isArray(i)?na(i):[],m=50;let p="custom"===a?b.length:"string"===typeof o?""===o?0:1:"number"===typeof o?o:0,h=m*p+4*(p-1);const f=145;let g="right";["rank","negative-level"].includes(a)&&(g="left"),g="auto"===l?g:l,p>12&&(g="center"),r&&"center"===g&&(p=0,h=0);const v="center"===g?(vo+h)/2:"left"===g?85.9125+h:728.775;let y=-54;if(t&&r&&"st"!==a){const e=50,a=Jr(Object(c.a)(Object(c.a)({ctx:t},s),{},{globalScale:n}));t.textAlign="left"===g||"right"===g?g:"left",t.font="bold ".concat(e,"px RoGSanSrfStd-Bd");const o="center"===g?t.measureText(r).width/-2:"left"===g?4:-58;t.fillText(r,v+o,f+.9*e),t.textAlign="left",a()}const{canvas:j,ctx:x}=_t(vo*n,195*n);if(await Promise.all([...Array(p)].map((async(e,t)=>{y+=54;const n="custom"===a?b[p-1-t]:a;let r=[v-(m+y),f];return await eo(x,"subfamily/subfamily-".concat(n,".png"),...r),await u(r)}))),d){const{canvas:e,ctx:n}=_t(vo,195);n.drawImage(j,0,0),await d(n,"art",(async e=>await eo(n,"finish/finish-typeart-".concat(e,".png"),(vo-yo)/2,jo))),x.globalCompositeOperation="source-in",x.drawImage(e,0,0),t.drawImage(j,0,0)}else t.drawImage(j,0,0)})({ctx:D,cardIcon:o,text:"string"===typeof x?x:null,star:x,starList:O,starAlignment:a,style:n,globalScale:r,onStarDraw:async e=>"st"===o?Promise.resolve():await B(D,"star",(async t=>eo(D,"finish/finish-".concat(t,"-star.png"),...e))),loopStarFinish:s}),D.resetTransform()},drawPendulumScaleIcon:async()=>{if(!D)return;const{canvas:e,ctx:t}=_t(Ro,No);await eo(t,"frame-pendulum/pendulum-scale-".concat(k,".png"),0,0),"scaleless"===z.blue&&t.clearRect(0,0,Ro/2,No),"scaleless"===z.red&&t.clearRect(Ro/2,0,Ro/2,No),D.scale(r,r),D.drawImage(e,0,750),D.resetTransform()},drawStatBorder:async e=>{D&&(D.scale(r,r),await no(t,"frame/frame-stat-border.png",0,1070,813,20,r,e),D.resetTransform())},drawNameBackground:async()=>{if(!D)return;D.scale(r,r);const{ctx:e,canvas:t}=_t(Co,Lo);await eo(e,"background/background-name-".concat(je,".png"),0,0);const{canvas:n,ctx:a}=pn(t,m[0]);if(je!==xe||""!==m[0]||""!==m[1]){const e=await So("background/background-name-".concat(xe,".png"),await ko.name,Co,Lo),t=pn(e,m[1]).canvas;a.drawImage(t,0,0)}D.globalAlpha=M/100,D.drawImage(n,0,0),D.globalAlpha=1,D.resetTransform()},drawEffectBackground:async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!D)return;D.scale(r,r);const{ctx:t,canvas:n}=_t();e?await to(t,"background/background-text-".concat(ke,".png"),54,be+ae,me,pe,0,0+ae,me,pe):await eo(t,"background/background-text-".concat(ke,".png"),54,be);const a=pn(n,m[4]).canvas;if(D.globalAlpha=K/100,D.drawImage(a,0,0),e){var o;const{ctx:e,canvas:t}=_t(),{exceptionFrameType:n=ne,exceptionPendulumBoxOffsetHeight:a=0}=null!==(o=J[k][Se])&&void 0!==o?o:{};await to(e,"background/background-".concat(n,"-").concat(Se,".png"),re,oe+se,ie,le,0,se+a,ie,le+a);const r=pn(t,m[5]).canvas;D.globalAlpha=P/100,D.drawImage(r,0,0)}D.globalAlpha=1,D.resetTransform()},drawFrameBorder:async()=>{D&&(D.scale(r,r),await eo(D,"frame/frame-border-".concat(fe,".png"),0,0),D.resetTransform())},drawNameBorder:async()=>{if(H&&D){D.scale(r,r);for(let e=0;e<ge.length;e++)await eo(D,"frame/name-border-".concat(ge[e],".png"),0,0);D.resetTransform()}else Promise.resolve()},drawArtBorder:async()=>{if(ue&&D){let e="";e=T||L?"frame/art-border-".concat(l,".png"):C||["zarc","hamon","uria","raviel"].includes(l)?"frame/art-border-special.png":"frame/art-border.png",D.scale(r,r),await eo(D,e,60,170),D.resetTransform()}},drawPendulumBorder:async(e,t)=>{if(!D)return;const{canvas:n,ctx:a}=_t();await to(a,"frame-pendulum/border-pendulum-".concat(k)+"-".concat(t)+"-artless"+("scaleless"===z.blue?"-scaleless":"")+".png",30,To,Io/2,zo,0,0,Io/2,zo),await to(a,"frame-pendulum/border-pendulum-".concat(k)+"-".concat(t)+"-artless"+("scaleless"===z.red?"-scaleless":"")+".png",30+Io/2,To,Io/2,zo,Io/2,0,Io/2,zo),e&&(a.clearRect(0,0,Co,ce+To),await eo(a,"frame-pendulum/border-pendulum-".concat(k)+"-".concat(t)+".png",30,To)),D.scale(r,r),D.drawImage(n,0,0),D.resetTransform()},drawEffectBorder:async()=>{D&&(D.scale(r,r),he||"speed-skill"!==Oe?await eo(D,"frame/effect-border.png",35,de):await eo(D,"frame/effect-border-speed-skill.png",35,de),D.resetTransform())},drawCardBorder:async()=>{D&&(D.scale(r,r),await eo(D,"frame/card-border".concat(he?"-".concat(w):"",".png"),0,0),D.resetTransform())},drawArtBorderFoil:async()=>{D&&(D.scale(r,r),ue&&await eo(D,"frame/art-border-".concat(w,".png"),60,170),D.resetTransform())},drawEffectBorderFoil:async()=>{D&&(D.scale(r,r),await eo(D,"frame/effect-border-".concat(w,".png"),35,de),D.resetTransform())},drawNameFinish:async()=>{(ue||H)&&D&&(D.scale(r,r),await B(D,"name",(async e=>eo(D,"finish/finish-".concat(e,"-name.png"),0,0))),D.resetTransform())},drawAttributeFinish:async()=>{y!==F&&D&&(D.scale(r,r),await B(D,"attribute",(async e=>eo(D,"finish/finish-".concat(e,"-attribute.png"),678,55))),D.resetTransform())},drawArtFinish:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;ve&&e&&(e.scale(r,r),await E(e,"art",(async(t,n)=>await to(e,"finish/art-finish-".concat(t).concat(R?n:"",".png"),Z,Q,$,$/te)),k),e.resetTransform())},drawArtOverlayFinish:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;e&&(e.scale(r,r),await B(e,"art-overlay",(async t=>eo(e,"finish/finish"+"-".concat(t)+"-".concat(ve?"art":"unart")+"-overlay"+(R?"-pendulum-".concat(k):"")+".png",Z,Q))),e.resetTransform())},drawArtBorderFinish:async()=>{ue&&D&&(D.scale(r,r),await B(D,"art-border",(async e=>eo(D,"finish/finish-".concat(e,"-art-border.png"),0,0))),D.resetTransform())},drawPendulumArtBorderFinish:async()=>{D&&(D.scale(r,r),ue&&await B(D,"art-border-pendulum",(e=>eo(D,"finish/finish-".concat(e,"-art-border-pendulum-").concat(k,".png"),0,0))),D.resetTransform())},drawBorderPendulumFinish:async()=>{D&&(D.scale(r,r),await B(D,"border-pendulum",(async e=>{const t="finish/finish-".concat(e,"-border-pendulum-").concat(k);await to(D,"".concat(t).concat("scaleless"===z.blue?"-scaleless":"",".png"),0,0,Co/2,Fo,0,0,Co/2,Fo),await to(D,"".concat(t).concat("scaleless"===z.red?"-scaleless":"",".png"),0+Co/2,0,Co/2,Fo,Co/2,0,Co/2,Fo)})),D.resetTransform())},drawFrameFinish:async()=>{D&&(D.scale(r,r),await B(D,"frame",(async e=>eo(D,"finish/finish-".concat(e,"-frame").concat(R?"-pendulum-".concat(k):"",".png"),0,0))),D.resetTransform())},drawFrameBackgroundFinish:async()=>{D&&(D.scale(r,r),await B(D,"frame-background",(async e=>eo(D,"finish/finish-".concat(e,"-frame-background").concat(R?"-pendulum":"",".png"),0,0))),D.resetTransform())},drawOverlayFinish:async()=>{D&&(D.scale(r,r),await B(D,"overlay",(async e=>eo(D,"finish/finish-".concat(e,"-overlay.png"),0,0))),D.resetTransform())},drawCardBorderFinish:async()=>{D&&(D.scale(r,r),await B(D,"card-border",(async e=>eo(D,"finish/finish-".concat(e,"-card-border.png"),0,0))),D.resetTransform())}}},Mo=async(e,t,n,a,r,o,i,l)=>{var s,u,d;const{isSpeedSkill:b,format:m,cloneNode:p,frame:h,furiganaHelper:f,globalScale:g}=l,v=a*g,y=r*g,j=o*g,x=null===p||void 0===p?void 0:p.getContext("2d");if(!(t&&x&&n))return;const{embossPitch:O,embossYaw:w,embossThickness:k,fillStyle:S,font:C,gradientAngle:F,gradientColor:L,hasEmboss:T,hasGradient:N,hasOutline:R,hasShadow:z,headTextFillStyle:I,lineColor:B,lineOffsetX:E,lineOffsetY:D,lineWidth:W,shadowBlur:H,shadowColor:A,shadowOffsetX:M,shadowOffsetY:P,pattern:K}=Object(c.a)(Object(c.a)({},{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"}),i),{patternImage:U,blendMode:Y}=null!==(s=X[null!==K&&void 0!==K?K:""])&&void 0!==s?s:{};t.textAlign="left";const G=Aa(Object(c.a)(Object(c.a)({},(null!==(u=je[C])&&void 0!==u?u:je.Default).fontData),{},{headTextFillStyle:I}),g),V=Ca({defaultFamily:G.font,defaultSize:G.fontList[0].fontSize,defaultWeight:G.weight}),q={fontLevel:0,fontData:G,currentFont:V},_=fo(n,m,{multiline:!1,furiganaHelper:f,dictionaryType:"rubyFormName"}),$="ocg"===m?[_]:_.split(new RegExp("([^".concat("&A-Za-z0-9\\-/\\s\\(\\)!,.\u2018\u201c\u2019\u201d:;<>\\[\\]\\\\","])"),"g")),J=Ca({defaultFamily:G.font,defaultSize:G.fontList[0].fontSize,defaultWeight:G.weight}),Z=J.getFont(),Q=J.setSize((e=>e*G.symbolFontRatio)).setStyle("small-caps").setFamily(G.symbolFont).getFont();let ee=0,te=0;$.forEach(((e,n)=>{t.font=n%2===0?Z:Q;const a=t.measureText(e.replaceAll(at,""));ee=Math.max(ee,a.actualBoundingBoxAscent),te=Math.max(te,a.actualBoundingBoxDescent)}),0),t.font=Z;let ne=0;const ae=Sa((e=>{const{currentLineCount:n,currentLineList:a}=mo({ctx:t,median:e,paragraphList:[_],format:m,textData:q,width:j,globalScale:g});return!(n>1)&&(ne=a[0].actualLineWidth,!0)}))/1e3;t.scale(ae,1);const re=Ha(be,g),oe=null!==(d=G.fontList[0].offsetY)&&void 0!==d?d:re.offsetY,ie=oo(_),le=ne>0&&N?((e,t,n,a,r,o,i,l)=>{const s=t%360,c="".concat(Math.floor(s/90)),u=s%90,d=i+l,b=a+r/2,m=o+(l-i)/2;let p=r,h=d;"1"!==c&&"3"!==c||(p=d,h=r);const f=Math.sqrt(p**2/4+h**2/4);if(f>0){const t=90-(180*Math.asin(p/2/f)/Math.PI-u),a=Math.sin(t/180*Math.PI)*f,r=Math.sin(u/180*Math.PI)*a,o=Math.cos(u/180*Math.PI)*a;let i=r,l=o;"1"===c&&(i=o,l=-r),"2"===c&&(i=-r,l=-o),"3"===c&&(i=-o,l=r);const s=b+i,d=m-l,h=b-i,g=m+l,v=e.createLinearGradient(s,d,h,g);return n.forEach((e=>{let{color:t,offset:n}=e;return v.addColorStop(parseFloat(n),t)})),v}})(t,F,za(L),v,ne,y,ee,te):void 0;let se=T&&"number"===typeof k&&k>0,ce=()=>{};se&&(ce=Jr({ctx:t,lineWidth:k,lineColor:S,lineColorGradient:le,globalScale:g,useDefault:!1})),t.fillStyle=null!==le&&void 0!==le?le:S;const{tokenEdge:ue}=ho({ctx:t,tokenList:ie,xRatio:ae,yRatio:1,trueEdge:v,trueBaseline:y,textData:q,format:m,globalScale:g,option:{drawHeadText:!1},textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r-(b?oe:0)),se&&t.strokeText(n,a,r-(b?oe:0))}});if(ce(),U){const n=e.cloneNode(),a=n.getContext("2d");t.setTransform(1,0,0,1,0,0),a.scale(g,g),await eo(a,"frame/frame-".concat(h,".png"),0,0),await eo(a,"background/background-name-".concat(h,".png"),0,0),a.globalCompositeOperation=Y,a.resetTransform(),await to(a,"finish-name/".concat(U,".png"),v,y-ee,j,ee+te),t.globalCompositeOperation="source-in",t.drawImage(n,0,0),t.globalCompositeOperation="source-over",t.scale(ae,1)}if(T){const n=10,a=Cn({inputCanvas:e,lightPitch:O,lightYaw:w,minIntensity:-.9,maxIntensity:.9,affectedWidth:Math.ceil(ue+n)});t.putImageData(a,0,0)}if(R){const e=Jr({ctx:t,lineWidth:W+(T?k:0),lineColor:B,globalScale:g,useDefault:!1});t.globalCompositeOperation="destination-over",ho({ctx:t,tokenList:ie,xRatio:ae,yRatio:1,trueEdge:v,trueBaseline:y,textData:q,format:m,globalScale:g,option:{drawHeadText:!1},textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.lineJoin="round",t.strokeText(n,a+E,r+D-(b?oe:0))}}),t.lineJoin="miter",t.globalCompositeOperation="source-over",e()}if(z){const n=e.cloneNode(),a=n.getContext("2d"),r=Jr({ctx:a,x:M,y:P,shadowColor:A,blur:H,globalScale:g,useDefault:!1});t.scale(1/ae,1),a.drawImage(e,0,0),t.globalCompositeOperation="destination-over",t.drawImage(n,0,0),t.globalCompositeOperation="source-over",r()}ho({ctx:t,tokenList:ie,xRatio:ae,yRatio:1,trueEdge:v,trueBaseline:y,textData:q,format:m,globalScale:g,textDrawer:()=>{}});const de={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"};t.setTransform(1,0,0,1,0,0),t.fillStyle=de.fillStyle,t.lineJoin="miter",t.globalCompositeOperation="source-over"},Po={smaller:0,normal:1,large:2,highPendulumNormal:1,highPendulumSmaller:0},Ko=e=>{var t,n;let{ctx:a,value:r,format:o,metricMethod:i,size:l,furiganaHelper:s,globalScale:u}=e;const{edgeAlignment:d="left",trueEdge:b,trueBaseline:m,trueWidth:p}=Da(null!==(t=null===(n=le[o])||void 0===n?void 0:n[l])&&void 0!==t?t:le.tcg.medium,u),h=Aa({tcg:we,ocg:ke}[o],u),f=Object(c.a)(Object(c.a)({},h),{},{metricMethod:null!==i&&void 0!==i?i:h.metricMethod}),{font:g}=f,v=Po[l],y=f.fontList[v],j=Ca({defaultFamily:g,defaultSize:"".concat(y.fontSize,"px")}),x={fontLevel:v,fontData:f,currentFont:j};let O=0;a.font=j.getFont(),a.textAlign="left";const w=fo(r,o,{multiline:!1,furiganaHelper:s}),k=Sa((e=>{const{currentLineCount:t,currentLineList:n}=mo({ctx:a,median:e,paragraphList:[w],format:o,textData:x,width:p,globalScale:u});return!(t>1)&&(O=n[0].actualLineWidth,!0)}))/1e3;a.scale(k,1);const S=ho({ctx:a,tokenList:oo(w),xRatio:k,yRatio:1,trueEdge:"left"===d?b:b-O*k,trueBaseline:m,textData:x,format:o,globalScale:u,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r)}});return a.setTransform(1,0,0,1,0,0),Object(c.a)(Object(c.a)({},S),{},{xRatio:k})},{finishTypeCardWidth:Uo,width:Yo,iconHeight:Go,iconWidth:Xo}=d,Vo=(e,t,n,a,r,o)=>{const i=n*o,l=a*o;if(e&&t){const n=r*o;e.font="".concat(n,"px MatrixBoldSmallCaps"),e.textAlign="left";const a="".concat(t).split("");if(1===a.length){const t=a[0],r=i-e.measureText(t).width/2;e.fillText(t,"1"===t?r+2*o:r,l+n)}else if(2===a.length){const t=a[0],r=a[1],o=.825*e.measureText(t).width,s=e.measureText(r).width,c=i-o-("1"===t?0:.1*o);e.fillText(t,c,l+n),e.fillText(r,c+o-("1"===t?"1"===r?.1*e.measureText("1").width:.1*s:-.1*s),l+n)}else{let t=0;a.forEach((n=>{t+=e.measureText(n).width*("1"===n?.7:1)}));let r=i-t/2;a.forEach((t=>{e.fillText(t,r,l+n),r+=e.measureText(t).width*("1"===t?.7:1)}))}}},qo=(e,t,n,a,r)=>{if(!e)return;const o=n*r,i=a*r;e.scale(1,.98),e.font="bold ".concat(35.73*r,"px Matrix-Bold");const l=Yr(e,t,.075,o,i/.98);e.setTransform(1,0,0,1,0,0),e.scale(1,1.01),e.font="bold ".concat(34.74*r,"px Matrix-Bold"),Yr(e,"/",.15,l+5*r,i/1.01),e.setTransform(1,0,0,1,0,0)},_o=(e,t,n,a,r)=>{if(!e||null==t)return;const o=n*r,i=a*r,l=73.97*r;if("\u221e"===t)e.textAlign="right",e.font="bold ".concat(36.18*r,"px matrix"),e.fillText(t,o+l,i);else if("?"===t)e.textAlign="right",e.scale(1,1.29),e.font=" ".concat(34*r,"px MatrixBoldSmallCaps"),e.fillText(t,o+l,i/1.29-1),e.setTransform(1,0,0,1,0,0);else{e.textAlign="left";const n="".concat(t).split("?");let a=n.reduce(((t,a,o)=>{e.font="".concat(36.18*r,"px MatrixBoldSmallCaps");let i=t+e.measureText(a).width;return o<n.length-1&&(e.font="".concat(36.18*r,"px matrix"),i+=e.measureText("?").width),i}),0);if(a>0){const t=Math.min(l/a,1);e.scale(t,1),n.reduce(((a,o,l,s)=>{const c=s[s.length-1-l];let u=a;return e.font="".concat(36.18*r,"px MatrixBoldSmallCaps"),u-=e.measureText(c).width*t,e.fillText(c,u/t,-1+i),l<n.length-1&&(e.font="".concat(34*r,"px MatrixBoldSmallCaps"),u-=e.measureText("?").width*t,e.scale(1,1.29),e.fillText("?",u/t,i/1.29-1),e.setTransform(1,0,0,1,0,0)),u}),o+l),e.scale(1/t,1)}}},{height:$o,width:Jo,finishTypeCardWidth:Zo,finishTypeCardHeight:Qo,stickerX:ei,stickerY:ti,stickerSize:ni}=d,ai=(e,t,n)=>{const{card:a}=Er(),{exportCanvasRef:o,artworkCanvasRef:i,backgroundCanvasRef:l,frameCanvasRef:u,creatorCanvasRef:d,effectCanvasRef:p,nameCanvasRef:f,passwordCanvasRef:g,pendulumEffectCanvasRef:v,pendulumScaleCanvasRef:x,setIdCanvasRef:O,statCanvasRef:w,stickerCanvasRef:k,cardIconCanvasRef:S,typeCanvasRef:C,finishCanvasRef:L,lightboxRef:T,previewCanvasRef:N}=t,{format:R,region:I,hasBackground:E,backgroundType:D,frame:W,foil:H,finish:A,artFinish:M,otherFinish:P,opacity:K,name:U,nameStyle:G,nameStyleType:X,effectTextStyle:V,pendulumTextStyle:q,typeTextStyle:$,statTextStyle:J,otherTextStyle:Z,effect:Q,effectStyle:ee,typeAbility:te,isPendulum:ne,pendulumFrame:ae,pendulumRightFrame:le,pendulumEffect:ue,pendulumScaleBlue:de,pendulumScaleRed:me,pendulumStyle:pe,pendulumSize:he,leftFrame:fe,rightFrame:ge,dyeList:je,atk:we,def:ke,linkMap:Fe,linkRating:Le,attribute:Te,cardIcon:Ne,subFamily:Re,star:ze,starAlignment:Ie,starList:Be,setId:Ee,password:De,creator:We,sticker:Ae,isLegacyCard:Me,isFirstEdition:Pe,isDuelTerminalCard:Ke,isSpeedCard:Ue,isLimitedEdition:Ye,furiganaHelper:Ge,flag:Xe}=a,Ve=Object(r.useRef)({frame:{name:"frame",order:1,rerun:0,instructor:()=>Promise.resolve()},attribute:{name:"attribute",order:2,rerun:0,instructor:()=>Promise.resolve()},sticker:{name:"sticker",order:3,rerun:0,instructor:()=>Promise.resolve()},creator:{name:"creator",order:4,rerun:0,instructor:()=>Promise.resolve()},name:{name:"name",order:5,rerun:0,instructor:()=>Promise.resolve()},typeAbility:{name:"typeAbility",order:6,rerun:0,instructor:()=>Promise.resolve()},overlay:{name:"overlay",order:7,rerun:0,instructor:()=>Promise.resolve()}}),qe=ee.background,_e=pe.background,$e=ee.minLine,Je=pe.minLine,Ze="auto"===ae?ne?"spell":W:ae,Qe=null===ee||void 0===ee?void 0:ee.condenseTolerant,et=(e=>"normal"===e.frame&&Tn(e))(a),tt=(e=>"xyz"===e.frame)(a),nt=(e=>!0===e.isLink)(a),at=Tn(a),rt=Ln(a),{body:ot=100,boundless:it}=K,lt=!!(ot<50||it),st=zn(Ze),{bottomRightFrame:ct}=En({frame:W,topLeftFrame:fe,topRightFrame:ge,bottomLeftFrame:ae,bottomRightFrame:le,effectBackground:qe,pendulumEffectBackground:_e},ne),ut=zn(ct),dt=Rn(W),{levelStyle:bt,resolvedEffectTextStyle:mt,resolvedPendulumEffectTextStyle:pt,resolvedStatTextStyle:ht,resolvedTypeTextStyle:ft,resolvedOtherEffectTextStyle:gt}=Object(r.useMemo)((()=>(e=>{let{lightHeader:t,requireShadow:n,effectTextStyle:a,pendulumTextStyle:r,otherTextStyle:o,statTextStyle:i,typeTextStyle:l}=e;const s={color:t?"#ffffff":"#000000"},u=n?Object(c.a)({blur:2,y:1,shadowColor:t?"#000000":"#ffffff"},s):s,[d,b,m,p]=a,h=d?Object(c.a)(Object(c.a)({},m?{y:0,blur:4,shadowColor:p}:{}),{},{color:b}):{},[f,g,v,y]=r,j=f?Object(c.a)(Object(c.a)({},v?{y:0,blur:4,shadowColor:y}:{}),{},{color:g}):{},[x,O,w,k]=l,S=x?Object(c.a)(Object(c.a)({},w?{y:1,blur:1,shadowColor:k}:{}),{},{color:O}):{},[C,F,L,T]=i,N=C?Object(c.a)(Object(c.a)({},L?{y:1,blur:1,shadowColor:T}:{}),{},{color:F}):{},[R,z,I,B]=o;return{levelStyle:u,resolvedEffectTextStyle:h,resolvedOtherEffectTextStyle:R?Object(c.a)(Object(c.a)({},I?{y:0,blur:0,shadowColor:B}:{}),{},{color:z}):{},resolvedPendulumEffectTextStyle:j,resolvedStatTextStyle:N,resolvedTypeTextStyle:S}})({lightFooter:st,lightHeader:dt,requireShadow:lt,effectTextStyle:V,pendulumTextStyle:q,otherTextStyle:Z,statTextStyle:J,typeTextStyle:$})),[st,dt,lt,V,q,Z,J,$]),vt=Re.toUpperCase(),yt=te.map((e=>e.trim())).join("ocg"===R?"\uff0f":"\u200a/\u200a"),[jt,xt]=Xe,Ot=!ne&&!at&&nt&&!(we||ke),wt=Bn(xt,nt)&&!Ot,kt=wt&&jt,St=!(!we&&!ke)||wt||!(!ne||!Ee),Ct=yt.length>0&&("auto"===Ne?at||rt:"st"!==Ne),Ft=!(""===(null!==de&&void 0!==de?de:"")),Lt=!(""===(null!==me&&void 0!==me?me:"")),{isInitializing:Tt,imageChangeCount:Nt,language:Rt,globalScale:zt}=n,It=e&&!1===Tt,Bt=Object(r.useMemo)((()=>Vr(A,y)),[A]),Et=Object(r.useMemo)((()=>Vr([M],j)),[M]),[,Dt,Wt]=P;Object(r.useEffect)((()=>{It&&(Ve.current.frame.rerun+=1,Ve.current.frame.instructor=async()=>{var e;const t=null===(e=u.current)||void 0===e?void 0:e.getContext("2d"),n=i.current,a=l.current;if(!Xr(t)||!u.current)return;const r=Object(c.a)(Object(c.a)({},m()),K),{artBorder:o,body:s,boundless:d,baseFill:p}=r,f=(e,t,n,a,r,o)=>new Promise((i=>{setTimeout((()=>{e.fillStyle=E?null!==o&&void 0!==o?o:p:b,e.fillRect(t,n,a,r),i(!0)}),0)})),g=s>0||o,{drawAttribute:v,drawBackground:y,drawCardArt:j,drawFrame:x,drawPendulumScaleIcon:O,drawStar:w,drawNameBackground:k,drawEffectBackground:S,drawFrameBorder:C,drawNameBorder:F,drawArtBorder:L,drawPendulumBorder:T,drawBorderPendulumFinish:N,drawEffectBorder:R,drawCardBorder:z,drawStatBorder:B,drawAttributeFinish:A,drawArtBorderFoil:M,drawEffectBorderFoil:U,drawNameFinish:Y,drawArtFinish:G,drawArtOverlayFinish:X,drawArtBorderFinish:V,drawPendulumArtBorderFinish:q,drawFrameFinish:_,drawFrameBackgroundFinish:$,drawOverlayFinish:J,drawCardBorderFinish:Z}=Ao({canvas:u.current,artworkCanvas:n,backgroundCanvas:a,globalScale:zt,region:I,frame:W,leftFrame:fe,pendulumFrame:ae,rightFrame:ge,pendulumRightFrame:le,dyeList:je,effectBackground:qe,pendulumEffectBackground:_e,hasBackground:E,backgroundType:D,attribute:Te,cardIcon:Ne,star:ze,starList:Be,foil:H,pendulumSize:he,opacity:r,isLink:nt,isSpeedSkill:rt,isXyz:tt,isPendulum:ne,pendulumFrameTypeMap:{red:Lt?"normal":"scaleless",blue:Ft?"normal":"scaleless"},otherFinish:P,loopFinish:Bt,loopArtFinish:Et});await f(t,0,0,zt*Jo,zt*$o);const{canvas:Q,ctx:ee}=_t(Jo*zt,$o*zt);n&&ee&&j(ee),await G(ee),await X(ee);const{canvas:te,ctx:re}=_t(Jo*zt,$o*zt);if(await f(re,0,0,zt*Jo,zt*$o),a&&re&&await y(re,g),d||re.drawImage(Q,0,0),t.drawImage(te,0,0),await x(),await z(),await Z(),ne||(d||(await k(),await S(),await R(),await U()),await L(),await M(),await V()),ne&&!d){const{artX:e,artY:n,artWidth:a,ratio:r}=h(ne,K,void 0,he);t.drawImage(te,zt*e,zt*n,zt*a,zt*a/r,zt*e,zt*n,zt*a,zt*a/r),await k(),await S(!0),await O(),await T(g,"normal"),await T(g,H),await q(),g&&await N()}if(d||(await _(),await Y()),g&&await $(),d){await k(),await Y(),await F(),nt&&!ne?await V():ne&&(g&&(await T(g,"normal"),await T(g,H)),await q());const{artX:e,artY:n,artWidth:a,ratio:r}=h(ne,K,"full",he);t.drawImage(Q,zt*e,zt*n,zt*a,zt*a/r,zt*e,zt*n,zt*a,zt*a/r),ne?(await S(!0),await O(),await T(!1,"normal"),await T(!1,H),await N()):(await S(),await R(),await U()),await _()}if(St&&await B(Object(c.a)({color:"#000000"},ht)),await v(),await A(),await w({style:bt,starAlignment:Ie}),d||await F(),await C(),wt&&St){const e=Jr(Object(c.a)(Object(c.a)({ctx:t},ht),{},{globalScale:zt})),n="string"===typeof Le&&Le.length>0?Le:"".concat(Array.isArray(Fe)?Fe.length:0);await(async(e,t,n,a)=>{const r=e.getContext("2d");if(!r||"string"!==typeof t)return;await no(e,"link/link-text.png",...Wa([600,1080,120,30],a),a,n);const o=isNaN(Number(t))?1106:1105,i=Jr(Object(c.a)(Object(c.a)({ctx:r},n),{},{globalScale:a}));r.textAlign="right",r.scale(1.2,1),r.font="bold ".concat(24*a,"px RoGSanSrfStd-Bd"),r.fillText("".concat(t),622.75*a,o*a),r.setTransform(1,0,0,1,0,0),r.textAlign="left",i()})(u.current,n,ht,zt),e()}await(async e=>{let{canvas:t,globalScale:n,type:a,isPendulum:r,isLink:o,isDuelTerminalCard:i,isSpeedCard:l,bordered:s,textStyle:u}=e;if(null===t||void 0===t?void 0:t.getContext("2d")){if(i){const e=r?[255,1072,175,35]:o?[151,848,216,24]:[80,843,270,30];await no(t,"text/text-duel-terminal-".concat(a).concat(s?"-bordered":"",".png"),...Wa(e,n),n,(null===u||void 0===u?void 0:u.shadowColor)?Object(c.a)(Object(c.a)({},u),{},{blur:3,x:0,y:0}):u)}if(l){const e=r?[255,1084,176.4,25]:o?[151,854,215.6,22]:[80,850,245,25];await no(t,"text/text-speed-duel-".concat(a).concat(s?"-bordered":"",".png"),...Wa(e,n),n,(null===u||void 0===u?void 0:u.shadowColor)?Object(c.a)(Object(c.a)({},u),{},{blur:3,x:0,y:0}):u)}}})({canvas:u.current,globalScale:zt,type:st&&!ne?"white":"black",bordered:(s<50||d)&&!ne,isDuelTerminalCard:Ke,isSpeedCard:Ue,isLink:nt,isPendulum:ne,textStyle:gt}),await J()})}),[It,zt,i,Te,l,D,Ne,je,qe,A,H,R,I,W,u,E,Ke,nt,ne,Ue,rt,tt,fe,bt,st,Fe,Le,Et,Bt,K,P,_e,ae,le,he,gt,ht,ge,wt,ze,Be,Ie,St,Ft,Lt,Nt]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=x.current)||void 0===e?void 0:e.getContext("2d");if(Xr(t)&&ne){const{numberBlueX:e,numberRedX:n,numberY:a,fontSize:r}=_[he];""!==(null!==de&&void 0!==de?de:"")&&Vo(t,de,e,a,r,zt),""!==(null!==me&&void 0!==me?me:"")&&Vo(t,me,n,a,r,zt)}}),[It,zt,ne,he,de,me,x]),Object(r.useEffect)((()=>{It&&(Ve.current.name.rerun+=1,Ve.current.name.instructor=async()=>{var e,t;const n=null===(e=f.current)||void 0===e?void 0:e.getContext("2d"),a=null===(t=f.current)||void 0===t?void 0:t.cloneNode();Xr(n)&&a&&await Mo(f.current,n,U,"tcg"===R?60:68,116,Te===F?"tcg"===R?688:674:"tcg"===R?608:598,(e=>{var t,n;let{format:a,frame:r,nameStyle:o,nameStyleType:i,foil:l}=e;if("custom"===i)return o;const s=Ln({frame:r}),u=Rn(r);let d="Default";"ocg"===a&&(d="OCG"),s&&"tcg"===a&&(d="Arial");let b={fillStyle:u?"#ffffff":"#000000",headTextFillStyle:u?"#ffffff":"#000000"};if("predefined"===i){var m,p;const e=Object(c.a)({},Y[null!==(m=o.preset)&&void 0!==m?m:"commonB"].value);return Y[null!==(p=e.preset)&&void 0!==p?p:"commonB"].value.font||(e.font=d),Object(c.a)(Object(c.a)({},b),e)}let h=s?{hasOutline:!0,lineWidth:6,strokeStyle:"#000"}:{};const f="normal"!==l&&null!==(t=null===(n=Y[l])||void 0===n?void 0:n.value)&&void 0!==t?t:{},g="zarc"===r?Y.animeGold.value:{};return Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({font:d},b),h),f),g)})({format:R,frame:W,nameStyle:G,nameStyleType:X,foil:H}),{isSpeedSkill:rt,format:R,cloneNode:a,frame:W,furiganaHelper:Ge,globalScale:zt})})}),[It,zt,Te,H,R,W,Ge,rt,U,f,G,X]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=w.current)||void 0===e?void 0:e.getContext("2d");if(!Xr(t)||!St)return;const n=Jr(Object(c.a)(Object(c.a)({ctx:t},ht),{},{globalScale:zt})),a=wt;if(we){const e=((wt?!!ke&&kt:!!ke)?168.75:0)+(a?168.75:0);qo(t,"ATK",600.85-e,1106,zt),_o(t,we.trim(),677.574-e,1106.5,zt)}if(ke&&(!wt||kt)){const e=a?168.75:0;qo(t,"DEF",600.85-e,1106,zt),_o(t,ke.trim(),673.865-e,1106.5,zt)}n()}),[It,zt,we,ke,wt,at,kt,ht,w,St]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=O.current)||void 0===e?void 0:e.getContext("2d");Xr(t)&&((e,t,n)=>{if(!e)return;const{globalScale:a,isPendulum:r,isLink:o,withShadow:i,format:l,lightFooter:s,textStyle:u}=n;let d=.125,b=0,m=0;e.font="".concat(i?"bold":""," ").concat(22*a,"px stone-serif-regular"),"ocg"===l&&(d=.145,b=-1,m=-3);const p=Jr(Object(c.a)(Object(c.a)({ctx:e,color:s&&!r?"#ffffff":"#000000",shadowColor:i?s?"#000000":"#ffffff":"#000000",y:0,x:0,blur:i&&!r?3:0,globalScale:a},u),(null===u||void 0===u?void 0:u.shadowColor)?{x:0,y:0,blur:3}:{}));r?Yr(e,t,d,(66.65+m)*a,(1105.01+b)*a):o?Gr(e,t,d,(666.56+m)*a,(872.94+b)*a):Gr(e,t,d,(728.78+m)*a,(871.5+b)*a),p()})(t,Ee,{globalScale:zt,isLink:nt,isPendulum:ne,withShadow:lt&&!ne,format:R,lightFooter:ut,textStyle:gt})}),[It,zt,R,nt,ne,ut,O,Ee,rt,Ze,lt,gt]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=g.current)||void 0===e?void 0:e.getContext("2d");if(!Xr(t))return;const n=/^[0-9]*$/.test(De),a=n&&ne&&nt,{rightEdge:r}=(e=>{var t,n;let{ctx:a,globalScale:r,value:o,format:i,alignment:l,baselineOffset:s=0,edgeOffset:u=0,lightFooter:d,hasShadow:b,textStyle:m,fontLevel:p}=e;if(!Xr(a))return{rightEdge:0};const h=Jr(Object(c.a)(Object(c.a)({ctx:a,color:d?"#ffffff":"#000000",shadowColor:b?d?"#000000":"#ffffff":"#000000",x:0,y:0,blur:b?3:0,globalScale:r},m),(null===m||void 0===m?void 0:m.shadowColor)?{x:0,y:0,blur:3}:{})),{trueEdge:f,trueBaseline:g,trueWidth:v}=Da(null!==(t=ce[i])&&void 0!==t?t:ce.tcg,r),y=Aa(Oe[i],r),{font:j}=y,x=fo(o,i,{multiline:!1,furiganaHelper:!1});let O={fontLevel:p,fontData:y,currentFont:Ca()},w=0,k=1e3,S=y.fontList[0];for(let c=0;c<y.fontList.length;c++){S=y.fontList[c];const e=Ca({defaultFamily:j,defaultSize:"".concat(S.fontSize,"px"),defaultWeight:b?"bold":""});let t={fontLevel:c,fontData:y,currentFont:e},n=0;if(a.font=e.getFont(),a.textAlign="left",k=Sa((e=>{const{currentLineCount:o,currentLineList:l}=mo({ctx:a,median:e,paragraphList:[x],format:i,textData:t,width:v,globalScale:r});return!(o>1)&&(n=l[0].actualLineWidth,!0)})),w=n,O=t,k>=1e3)break}const C=k/1e3;a.scale(C,1);const F=Ha(be,r),L=ho({ctx:a,tokenList:oo(x),xRatio:C,yRatio:1,trueEdge:"left"===l?f+u:f-u-w*C,trueBaseline:g+(null!==(n=S.offsetY)&&void 0!==n?n:F.offsetY)+s,textData:O,format:i,globalScale:r,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r)}});return a.setTransform(1,0,0,1,0,0),h(),{rightEdge:L.tokenEdge}})({ctx:t,globalScale:zt,value:De,lightFooter:st,alignment:"left",edgeOffset:(a?80:0)*zt,format:R,hasShadow:"zarc"===Ze||lt,textStyle:gt,fontLevel:n?0:1});if(Pe){const e=!ne||!!n,a=!Me&&n||ne?Math.max(r/zt+14.813,142.2)-("ocg"===R?7:0):nt?151:89,o=!Me&&n||ne?1150.93:871,i=!Me&&n||ne?rt?-2:-1:0;e&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1150.93,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{globalScale:1,stroke:!1};if(!e)return;const{stroke:o=!1,textStyle:i,globalScale:l}=null!==r&&void 0!==r?r:{},s=t*l,u=n*l,d=a*l,b=Jr(Object(c.a)(Object(c.a)({ctx:e,globalScale:l},i),(null===i||void 0===i?void 0:i.shadowColor)?{x:0,y:0,blur:3}:{})),m=7.4*l;e.font="bold ".concat(23.7*l,"px palatino-linotype-bold");let p=s;e.fillText("1",p,u+d),o&&e.strokeText("1",p,u),p+=e.measureText("1").width-2*l,e.font="bold ".concat(17.78*l,"px palatino-linotype-bold"),e.fillText("st",p,u-m+d),o&&e.strokeText("st",p,u-m),p+=e.measureText("st").width,e.font="bold ".concat(22.22*l,"px palatino-linotype-bold"),e.fillText(" Edition",p,u+d),o&&e.strokeText(" Edition",p,u),b()}(t,a,o,i,{globalScale:zt,textStyle:Object(c.a)({color:st?"#ffffff":"#000000"},gt)})}}),[It,zt,Pe,De,g,st,R,lt,nt,rt,ne,Me,Ze,gt]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=d.current)||void 0===e?void 0:e.getContext("2d");Ve.current.creator.rerun+=1,Ve.current.creator.instructor=async()=>{var e;if(!Xr(t))return;const n=Object(c.a)(Object(c.a)({},m()),K),{body:a,boundless:r}=n,o=(e=>{var t,n;let{ctx:a,value:r,format:o,alignment:i,baselineOffset:l=0,lightFooter:s,hasShadow:u,textStyle:d,globalScale:b}=e;if(!Xr(a))return;const m=Jr(Object(c.a)(Object(c.a)({ctx:a,color:s?"#ffffff":"#000000",shadowColor:u?s?"#000000":"#ffffff":"#000000",y:0,x:0,blur:u?3:0,globalScale:b},d),(null===d||void 0===d?void 0:d.shadowColor)?{x:0,y:0,blur:3}:{})),{trueEdge:p,trueBaseline:h,trueWidth:f}=Da(null!==(t=se[o])&&void 0!==t?t:se.tcg,b),g=Aa(xe[o],b),{font:v}=g,y=fo(r,o,{multiline:!1,furiganaHelper:!1});let j={fontLevel:0,fontData:g,currentFont:Ca()},x=0,O=1e3,w=g.fontList[0];for(let c=0;c<g.fontList.length;c++){w=g.fontList[c];const e=Ca({defaultFamily:v,defaultSize:"".concat(w.fontSize,"px"),defaultWeight:u?"bold":""});let t={fontLevel:c,fontData:g,currentFont:e},n=0;if(a.font=e.getFont(),a.textAlign="left",O=Sa((e=>{const{currentLineCount:r,currentLineList:i}=mo({ctx:a,median:e,paragraphList:[y],format:o,textData:t,globalScale:b,width:f});return!(r>1)&&(n=i[0].actualLineWidth,!0)})),x=n,j=t,O>=1e3)break}const k=O/1e3;a.scale(k,1);const S=Ha(be,b),C=ho({ctx:a,tokenList:oo(y),xRatio:k,yRatio:1,trueEdge:"left"===i?p:p-x*k,trueBaseline:h+(null!==(n=w.offsetY)&&void 0!==n?n:S.offsetY)+l*b,textData:j,format:o,globalScale:b,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r)}});return a.setTransform(1,0,0,1,0,0),m(),Object(c.a)({leftEdge:"left"===i?p:p-x*k},C)})({ctx:null===(e=d.current)||void 0===e?void 0:e.getContext("2d"),format:R,value:We,alignment:"right",baselineOffset:rt?-2:0,hasShadow:lt,lightFooter:ut,textStyle:gt,globalScale:zt}),i=("tcg"===R?390:350)*zt,l=("tcg"===R?30:40)*zt;var s;Ye&&d.current&&await(async e=>{let{canvas:t,type:n,globalScale:a,isPendulum:r,isLink:o,isLegacyCard:i,widthOffset:l,bordered:s,textStyle:u}=e;const d=!i||r?[145,1123,240-l/a,37]:o?[151,846,216,36]:[80,843,240,40];await no(t,"text/text-limited-edition-".concat(n).concat(s?"-bordered":"",".png"),...Wa(d,a),a,(null===u||void 0===u?void 0:u.shadowColor)?Object(c.a)(Object(c.a)({},u),{},{blur:3,x:0,y:0}):u)})({canvas:d.current,ctx:t,globalScale:zt,type:st&&!ne?"white":"black",bordered:(a<50||r)&&!ne,isLink:nt,isPendulum:ne,widthOffset:(null!==(s=null===o||void 0===o?void 0:o.leftEdge)&&void 0!==s?s:i)<i?l:0,isLegacyCard:Me,textStyle:gt})}}),[It,zt,We,d,p,R,Me,Ye,nt,ne,rt,st,ut,K,lt,gt]),Object(r.useEffect)((()=>{It&&(Ve.current.sticker.rerun+=1,Ve.current.sticker.instructor=async()=>{var e;const t=null===(e=k.current)||void 0===e?void 0:e.getContext("2d");if(!Xr(t))return;const{canvas:n,ctx:a}=_t(Jo*zt,$o*zt);await(async e=>{let{ctx:t,sticker:n,globalScale:a,x:r,y:o}=e;if(Xr(t)){if(n===B)return Promise.resolve();t.scale(a,a),await eo(t,"sticker/sticker-".concat(n.toLowerCase(),".png"),r,o),t.resetTransform()}})({ctx:a,sticker:Ae,globalScale:zt,x:ei,y:ti});const r=null!==Wt&&void 0!==Wt?Wt:"normal";if("normal"!==r){const e=Vr([r],j),{canvas:o,ctx:i}=_t(Jo*zt,$o*zt);i.drawImage(n,0,0),i.scale(zt,zt),await e(i,"art",(async e=>await eo(i,"finish/finish-typeart-".concat(e,".png"),ei-Zo+ni,ti-Qo+ni))),a.globalCompositeOperation="source-in",a.drawImage(o,0,0),t.drawImage(n,0,0)}else t.drawImage(n,0,0)})}),[It,zt,Ae,Wt,k,Et]),Object(r.useEffect)((()=>{var e,t;if(!It)return;const n=null===(e=p.current)||void 0===e?void 0:e.getContext("2d"),a=null===(t=C.current)||void 0===t?void 0:t.getContext("2d");Ve.current.typeAbility.rerun+=1,Ve.current.typeAbility.instructor=async()=>{if(!Xr(n)||!Xr(a))return;const{condenseTolerant:e,upSize:t,fontStyle:r}=null!==ee&&void 0!==ee?ee:{},o=V[0],i=o?t:0,l=o?et&&"auto"===r||"tcg"===R&&"italic"===r:et,s=go(Object(c.a)(Object(c.a)({ctx:n,content:Q,isNormal:et,useItalic:l,condenseTolerant:e,format:R,furiganaHelper:Ge},(e=>{let{format:t,useItalic:n,statInEffect:a,typeInEffect:r,frameType:o}=e;const i=[t,..."pendulumLarge"===o?["pendulumLarge"]:[],r?"type":"",a?"stat":""].filter((e=>""!==e)).join("-"),l=[t,..."pendulumLarge"===o?["pendulumLarge"]:[],r?"type":"",a?"stat":""].filter((e=>""!==e)).join("-");let s=ye[l];return n&&"tcg"===t&&ve[l]&&(s=ve[l]),{fontDataKey:l,fontData:s,sizeList:re[i]}})({format:R,statInEffect:St,typeInEffect:Ct,useItalic:l,frameType:ne&&"large"===he?"pendulumLarge":"normal"})),{},{textStyle:mt,option:{forceRelaxCondenseLimit:3,defaultSizeLevel:3-i,globalScale:zt,minLine:$e}})),u=null!==Dt&&void 0!==Dt?Dt:"normal",d="normal"!==u?Vr([u],j):void 0;await(async e=>{let{ctx:t,globalScale:n,typeAbility:a,subFamily:r,format:o,frame:i,size:l,isMonster:s,textStyle:u,furiganaHelper:d,loopIconFinish:b}=e;if(!Xr(t))return;const m=a.length>0,p=r!==z&&"large"===l,h=a+(p?"\u29be":""),f=m?"tcg"===o?"large"===l?"[\u200a\u200a".concat(h,"\u200a\u200a]"):"[".concat(h,"]"):"\u3010".concat(h,"\u3011"):"";if(!m)return;const g=In(i)&&!Ln({frame:i})&&"large"===l?"#ffffff":"#000000",v=Object(c.a)({color:g},u),y=Jr(Object(c.a)(Object(c.a)({ctx:t},v),{},{globalScale:n})),{iconPositionList:j,xRatio:x}=Ko({ctx:t,format:o,size:l,value:f,metricMethod:s?void 0:"compact",furiganaHelper:d,globalScale:n});y();let O="ocg"===o?-5:-1,w="ocg"===o?-3:0;if(p){const{edge:e,baseline:a}=j[0],{canvas:o,ctx:i}=_t(Yo*n,(a+Xo)*n);if(await to(i,"subfamily/subfamily-".concat(r.toLowerCase(),".png"),(()=>e+(.175*Xo*x+w)*n),(()=>a-.8*Xo*n+O*n),(()=>Xo*n),(()=>Go*n)),b){const{canvas:e,ctx:r}=_t(Yo*n,(a+Xo)*n);r.drawImage(o,0,0),await b(r,"art",(async e=>await eo(r,"finish/finish-typeart-".concat(e,".png"),(Yo-Uo)/2,Go))),i.globalCompositeOperation="source-in",i.drawImage(e,0,0),t.drawImage(o,0,0)}else t.drawImage(o,0,0)}})({ctx:a,globalScale:zt,format:R,frame:W,furiganaHelper:Ge,isMonster:at,textStyle:ft,size:Ct?ne&&"large"===he?s<=3?"highPendulumNormal":"highPendulumSmaller":s<=3?"normal":"smaller":"large",subFamily:vt,typeAbility:yt,loopIconFinish:d})}}),[It,zt,Ct,St,ee,Q,V,p,$e,R,W,ne,he,Ge,Dt,at,et,ft,mt,vt,yt,C]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=v.current)||void 0===e?void 0:e.getContext("2d");if(Xr(t)&&ne){const{upSize:e,fontStyle:n}=null!==pe&&void 0!==pe?pe:{},a=q[0],r=a?e:0,o=!!a&&("tcg"===R&&"italic"===n),i="".concat(R,"-").concat(he),l=ie[Ft&&Lt?"normal":"scaleless"][he],u=Ft&&Lt?l:l.map((e=>{let{trueEdge:t,trueWidth:n}=e,a=Object(s.a)(e,["trueEdge","trueWidth"]);return Object(c.a)(Object(c.a)({},a),{},{trueEdge:t+(Ft?oe:0),trueWidth:n-(Ft?oe:0)-(Lt?oe:0)})}));go({ctx:t,content:ue,isNormal:!1,useItalic:o,fontData:(o?Se:Ce)[i],fontDataKey:i,textStyle:pt,sizeList:u,condenseTolerant:Qe,format:R,furiganaHelper:Ge,option:{forceRelaxCondenseLimit:3,defaultSizeLevel:3-r,globalScale:zt,minLine:Je}})}}),[It,zt,Qe,R,ne,Lt,Ft,he,v,ue,pe,q,Je,Ge,pt]),Object(r.useEffect)((()=>{var e;if(!It)return;const t=null===(e=L.current)||void 0===e?void 0:e.getContext("2d");Ve.current.overlay.rerun+=1,Ve.current.overlay.instructor=async()=>{if(Xr(t)){if(nt){const e=Object(c.a)(Object(c.a)({},m()),K),{artBorder:n,body:a,boundless:r}=e,o=a>0||n;await(async(e,t,n,a,r)=>{e&&(e.scale(t,t),await Promise.all([1,2,3,4,6,7,8,9].map((async t=>{const{left:o,top:i,height:l,width:s}=He[a][t-1],c=n.includes("".concat(t)),u="link/link-inactive-".concat(t),d="link/link-active-".concat(t),b=[o,i,s,l];return await to(e,"".concat(u,"-base").concat(r?"-full":"",".png"),...b),await to(e,"".concat(u,"-core.png"),...b),c?(await to(e,"".concat(d,"-base.png"),...b),to(e,"".concat(d,"-core.png"),...b)):void 0}))),e.resetTransform())})(t,zt,Fe,ne?"pendulum":"normal",r||!o),await(async(e,t,n,a,r)=>{e&&"normal"!==n&&(e.scale(t,t),a?await eo(e,"link/link-overlay-arrow-".concat(n,".png"),0,175):await Promise.all([1,2,3,4,6,7,8,9].map((async t=>{const{left:a,top:o,height:i,width:l}=He[r][t-1],s=[a,o,l,i];await to(e,"link/link-overlay-".concat(t,"-").concat(n,".png"),...s)}))),e.resetTransform())})(t,zt,H,!1,ne?"pendulum":"normal")}t.scale(zt,zt),await Bt(t,"total-overlay",(e=>eo(t,"finish/finish-".concat(e,"-total-overlay.png"),0,0))),t.resetTransform()}}}),[It,zt,L,Bt,U,nt,ne,Fe,K,it,H,ht,St,u]);const Ht=Object(r.useRef)({}),At=Object(r.useCallback)((async e=>{const t=o.current,n=null===t||void 0===t?void 0:t.getContext("2d");var a,r,i;t&&n&&(Xr(n),await Promise.all(Object.values(Ve.current).sort(((e,t)=>e.order-t.order)).map((e=>{let{instructor:t,rerun:n,name:a}=e;return 0!==n&&Ht.current[a]!==n||!Ht.current[a]?(Ht.current[a]=n,t()):Promise.resolve()}))).catch((e=>{console.error(e);const t="fail-to-draw-notification";Ga.a.close(t),Ga.a.error({key:t,message:Rt["error.draw.error.message"],description:Rt["error.draw.error.description"]})})),await Fn(u,n,0),await Fn(f,n,0),await Fn(S,n,0),await Fn(x,n,0),await Fn(v,n,0),await Fn(C,n,0),await Fn(p,n,0),await Fn(w,n,0),await Fn(O,n,0),await Fn(g,n,0),await Fn(d,n,0),await Fn(k,n,0),await Fn(L,n,0),null===(a=T.current)||void 0===a||a.draw(t),null===(r=N.current)||void 0===r||null===(i=r.getContext("2d"))||void 0===i||i.drawImage(t,0,0,t.width,t.height,0,0,Jo,$o))}),[Rt,S,d,o,p,L,T,f,g,v,x,O,u,w,k,C,N]);return{drawingPipeline:Ve,onExport:At}};var ri=n(24);const oi="ygocarder-notification",ii=Object(er.create)((e=>{const{condenseReminder:t,versionReminder:n,faqReminder:a,feedbackReminder:r}=(()=>{try{var e;const t=JSON.parse(null!==(e=localStorage.getItem(oi))&&void 0!==e?e:"{}");return t&&"object"===typeof t&&!Array.isArray(t)?t:{}}catch(t){return console.error("useNotificationMemory: Error when getting cached notification",t),{}}})();return{memory:{feedbackReminder:"boolean"===typeof r&&r,faqReminder:"string"!==typeof a?"":a,condenseReminder:"boolean"===typeof t&&t,versionReminder:"string"===typeof n?n:"1.99.99"},updateNotification:(t,n)=>{e((e=>{const a=Object(c.a)(Object(c.a)({},e.memory),{},{[t]:n});return localStorage.setItem(oi,JSON.stringify(a)),{memory:a}}))},updateNotificationMemory:t=>{e((e=>{const n="function"===typeof t?t(e.memory):Object(c.a)(Object(c.a)({},e.memory),t);return localStorage.setItem(oi,JSON.stringify(n)),{memory:n}}))}}})),li=e=>{const{targetMemory:t,updateNotification:n}=ii(Object(ri.useShallow)((t=>{let{memory:n,updateNotification:a}=t;return{targetMemory:n[e],updateNotification:a}})));return[t,Object(r.useCallback)((t=>n(e,t)),[e,n])]};var si=n(179),ci=n.n(si),ui=n(279),di=n.n(ui);function bi(){const e=Object(Ua.a)(["\n    .controller {\n        display: flex;\n        gap: var(--spacing);\n        align-items: center;\n        label {\n            background: var(--main-level-4);\n            border: var(--bw) solid var(--sub-level-4);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br);\n        }\n        .toggle-button {\n            padding: 0;\n            /** Alignemnt */\n            width: 26px;\n            height: 26px;\n            background-color: var(--main-primary);\n            border: var(--bw) solid var(--sub-primary);\n            border-radius: var(--br);\n            box-shadow: var(--bs-block);\n            cursor: pointer;\n            transform: rotate(0deg);\n            transition: transform 0.33s ease-in-out;\n            &.reverse{\n                transform: rotate(-180deg);\n                transition: transform 0.33s ease-in-out;\n            }\n            &:hover {\n                background-color: var(--sub-primary);\n            }\n        }\n    }\n    .announce {\n        text-align: center;\n        .warning {\n            color: var(--main-danger);\n        }\n        .in-progress {\n            color: var(--main-info);\n        }\n    }\n    .file-panel {\n        margin-top: var(--spacing);\n        input {\n            width: 100%;\n            background: var(--main-level-4);\n            padding: var(--spacing-xs);\n            border-radius: var(--br);\n            cursor: pointer;\n            margin-bottom: var(--spacing-sm);\n        }\n        .file-list {\n            margin-top: var(--spacing-sm);\n            &:empty {\n                margin-top: 0;\n            }\n        }\n        .file-entry {\n            display: grid;\n            grid-template-columns: 1fr max-content;\n            gap: var(--spacing-xs);\n            background-color: var(--main-level-1);\n            border: 1px solid var(--sub-level-3);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br-lg);\n            + .file-entry {\n                margin-top: var(--spacing-xxs);\n            }\n            .file-action {\n                .anticon:hover {\n                    color: var(--sub-danger);\n                }\n            }\n        }\n    }\n"]);return bi=function(){return e},e}const mi=Object(Va.b)(Ya.a)(bi()),pi=e=>{let{language:t}=e;const[n,o]=Object(r.useState)(!1),[i,l]=Object(r.useState)(!1),[s,c]=Object(r.useState)(!1),[u,d]=Object(r.useState)([]),b=u.length>50;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(mi,{visible:n,title:t["converter.header.label"],okButtonProps:{disabled:b||i},okText:t["converter.ok.label"],cancelText:t["converter.cancel.label"],onCancel:()=>o(!1),onOk:async()=>{try{l(!0);const e=await Promise.all(u.map((e=>{let{file:t,name:n}=e;return new Promise(((e,a)=>{const r=new FileReader;r.onload=t=>{let{target:r}=t;if(!r)return void a("Not a valid target");const{result:o}=r;if("string"!==typeof o)return void a("Not a valid result");let i=JSON.parse(o);Xn(i)&&(i=Kn(i));const l=Vn(i);let c=null;if(c=s?l?ma(Ir(i).card).result:i:l?i:Kn(Ir(i).card),!c)return void a("Not a valid converted result");const u=new Blob(["".concat(JSON.stringify(c))],{type:"application/json"});e({blob:u,name:n})},r.readAsText(t)}))}))),t=new di.a;e.forEach((e=>{let{blob:n,name:a}=e;t.file(a,n)}));const n=await t.generateAsync({type:"blob"});ta("convert-result.zip",n,"application/zip"),l(!1),o(!1)}catch(e){console.error(e),Ga.a.error({message:t["error.convert.message"],description:t["error.convert.description"]}),l(!1)}},children:[Object(a.jsxs)("div",{className:"controller",children:[Object(a.jsx)("label",{children:"YGOPro / DuelingNexus / NeoCardMaker"}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:Ka("toggle-button",s?"reverse":""),onClick:()=>c((e=>!e)),children:Object(a.jsx)($a.a,{})})}),Object(a.jsx)("label",{children:"Yugioh Carder"})]}),Object(a.jsxs)("div",{className:"file-panel",children:[Object(a.jsx)("input",{type:"file",accept:"application/json",multiple:!0,onChange:e=>{const t=e.target.files;if(t){const e=[];for(let n=0;n<=t.length;n++){const a=t.item(n);a&&e.push({file:a,name:a.name})}d(e)}}}),Object(a.jsxs)("div",{className:"announce",children:[t["converter.header.information.label"],i&&Object(a.jsx)("div",{className:"in-progress",children:t["converter.header.in-progress.label"]}),b&&Object(a.jsx)("div",{className:"warning",children:t["converter.header.warning.label"](50)})]}),Object(a.jsx)("div",{className:"file-list",children:u.map((e=>{let{name:t}=e;return Object(a.jsxs)("div",{className:"file-entry",children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)("div",{className:"file-action",children:Object(a.jsx)(Ja.a,{disabled:i,onClick:()=>d((e=>e.filter((e=>e.name!==t))))})})]},t)}))})]})]}),Object(a.jsx)(Xa.a,{overlay:t["converter.header.label"],children:Object(a.jsx)(_a,{className:"batch-converter",onClick:()=>o(!0),children:Object(a.jsx)(Za.a,{})})})]})};var hi=n(76),fi=n(569),gi=n(588),vi=n(557),yi=n(222);class ji extends o.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error("Boundary",e),{hasError:!0}}componentDidCatch(e,t){yi.c(e,{data:t.componentStack})}render(){return this.state.hasError?this.props.fallback:this.props.children}}var xi=n(185);function Oi(){const e=Object(Ua.a)(["\n    .ap {\n        background-color: var(--color-heavy);\n        .apc {\n            width: 8px;\n        }\n        .aph {\n            width: 8px;\n            height: 8px;\n        }\n    }\n    .ai {\n        margin: 0;\n        margin-top: var(--spacing-sm);\n        background: var(--main-slider);\n        justify-content: space-between;\n        line-height: 1.4;\n        span {\n            background: var(--main-secondary);\n            padding-left: var(--spacing);\n            padding-right: var(--spacing);\n            &:hover {\n                background: var(--sub-secondary);\n            }\n        }\n        span,\n        input {\n            color: var(--color-heavy);\n        }\n    }\n"]);return Oi=function(){return e},e}const wi="controls-wrapper",ki=Va.b.div(Oi()),Si=e=>{let{children:t}=e,n=Object(s.a)(e,["children"]);return Object(a.jsxs)(ki,{className:"angle-picker-container",children:[t,Object(a.jsx)(xi.AnglePicker,Object(c.a)({},n))]})};var Ci=n(579),Fi=n(580),Li=n(544),Ti=n(576);function Ni(){const e=Object(Ua.a)(["\n    font-size: var(--fs);\n    color: var(--color-heavy);\n    cursor: pointer;\n    display: inline-block;\n"]);return Ni=function(){return e},e}const Ri=Object(Va.b)(Ti.a)(Ni()),zi=e=>{let{overlayClassName:t,iconProps:n}=e,r=Object(s.a)(e,["overlayClassName","iconProps"]);const o=null!==n&&void 0!==n?n:{},{className:i}=o,l=Object(s.a)(o,["className"]);return Object(a.jsx)(Li.a,Object(c.a)(Object(c.a)({overlayClassName:["explanation-overlay",null!==t&&void 0!==t?t:""].join(" ")},r),{},{children:Object(a.jsx)(Ri,Object(c.a)({className:["explanation-icon",null!==i&&void 0!==i?i:""].join(" ")},l))}))};var Ii=n(578),Bi=n(568);function Ei(){const e=Object(Ua.a)(["\n    cursor: pointer;\n    .button-label {\n        display: grid;\n        label {\n            cursor: pointer;\n            line-height: 1;\n            font-size: var(--fs-xs);\n            margin-top: var(--spacing-xs);\n        }\n    }\n    .anticon {\n        font-size: var(--fs-xl);\n        justify-self: center;\n    }\n    &:hover {\n        color: var(--main-active);\n        .anticon {\n            color: var(--sub-active);\n        }\n    }\n"]);return Ei=function(){return e},e}function Di(){const e=Object(Ua.a)(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--spacing-xs);\n    ",";\n    ","\n    border: var(--bw) solid var(--sub-level-1);\n    background-color: var(--main-level-4);\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: var(--sub-level-4);\n\t}\n"]);return Di=function(){return e},e}const Wi=Va.b.span(Di(),(e=>{let{$freeSize:t,$size:n}=e;return t?"padding: 0 var(--spacing-xxs);":"sm"===n?"width: 18px;":"width: 24px;"}),(e=>{let{$size:t}=e;return"sm"===t?"\n            height: 18px;\n            font-size: var(--fs-sm);\n        ":"\n            height: 24px;\n            font-size: var(--fs);\n        "})),Hi=e=>{let{size:t="md",Icon:n,children:r,onClick:o,iconProps:i,tooltipProps:l,containerProps:u}=e;const d=null!==u&&void 0!==u?u:{},{className:b,onClick:m,onKeyDown:p}=d,h=Object(s.a)(d,["className","onClick","onKeyDown"]);return Object(a.jsx)(Xa.a,Object(c.a)(Object(c.a)({title:null},l),{},{children:Object(a.jsx)(Wi,Object(c.a)(Object(c.a)({$size:t,tabIndex:0},h),{},{onClick:e=>{null===o||void 0===o||o(),null===m||void 0===m||m(e)},onKeyDown:e=>{null===p||void 0===p||p(e),"Enter"===e.key&&(null===o||void 0===o||o())},className:["icon-button",null!==b&&void 0!==b?b:""].join(" "),$freeSize:!n,children:Object(a.jsxs)(a.Fragment,{children:[n&&Object(a.jsx)(n,Object(c.a)({},i)),r]})}))}))},Ai=Va.b.div(Ei());function Mi(){const e=Object(Ua.a)(["\n    display: flex;\n    align-items: center;\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n        display: flex;\n        flex: 1 1 auto;\n\t\t&:focus-visible {\n\t\t\t.radio-train-focused,\n\t\t\t.checkbox-train-focused {\n\t\t\t\tbackground-color: var(--main-level-3);\n\t\t\t}\n\t\t}\n    }\n    .ant-radio-button-wrapper {\n        user-select: none;\n    }\n    .ant-radio-button-wrapper:first-child,\n    .ant-radio-button-wrapper:last-child {\n        border-radius: 0;\n    }\n    .ant-radio-button-wrapper:not(.ant-radio-button-wrapper-checked):first-child {\n        border-left-color: var(--sub-level-1);\n    }\n"]);return Mi=function(){return e},e}const Pi=Object(Va.a)(Mi());function Ki(){const e=Object(Ua.a)(["\n    ","\n"]);return Ki=function(){return e},e}const Ui=Va.b.div(Ki(),Pi),Yi=(e,t)=>{let{onChange:n,value:o,optionList:i,children:l,suffix:s,className:u,strict:d=!1}=e;const[b,m]=Object(r.useState)(-1),p=Object(r.useRef)(null),h=i.length;return Object(r.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()}}))),Object(a.jsxs)(Ui,{className:["ant-radio-group ant-radio-group-outline radio-train",u].join(" "),children:[l&&Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:l}),Object(a.jsx)("div",Object(c.a)(Object(c.a)({ref:p,className:"radio-train-input-group"},Ba({setFocus:m,optionLength:h,onTrigger:()=>{const e=i[b];e&&n(e.value)}})),{},{children:i.map(((e,t)=>{let{value:r,props:i,label:l,tooltipProps:s}=e;const{className:u}=null!==i&&void 0!==i?i:{},m=d?r===o:"".concat(r)==="".concat(o);return Object(a.jsx)(Xa.a,Object(c.a)(Object(c.a)({overlay:null},s),{},{children:Object(a.jsxs)("label",Object(c.a)(Object(c.a)({},i),{},{className:["ant-radio-button-wrapper",m?"ant-radio-button-wrapper-checked":"",null!==u&&void 0!==u?u:"",b===t?"radio-train-focused":""].join(" "),onClick:()=>n(r),children:[Object(a.jsx)("span",{className:"ant-radio-button ".concat(m?"ant-radio-button-checked":""),children:Object(a.jsx)("span",{className:"ant-radio-button-inner"})}),Object(a.jsx)("span",{className:"label",children:l})]}))}),r)}))})),s]})},Gi=Object(r.forwardRef)(Yi);function Xi(){const e=Object(Ua.a)(["\n    height: 17px;\n    width: 17px;\n    cursor: pointer;\n    position: relative;\n    outline: none;\n    box-shadow: 0 0 1px 1px var(--main-level-3);\n    border-radius: var(--br);\n    ","\n    ","\n    .active-dot {\n        position: absolute;\n        inset: var(--spacing-xs);\n        background: rgb(0, 0, 0);\n        border-radius: 50%;\n        opacity: 1;\n    }\n"]);return Xi=function(){return e},e}const Vi=Va.b.div(Xi(),(e=>{let{$static:t}=e;return t?"\n            cursor: default;\n            height: 9px;\n            width: 9px;\n            margin: 4px 0;\n            border: none;\n        ":""}),(e=>{let{$empty:t}=e;return t?"\n            background-color: var(--sub-level-4);\n            background-image: var(--gradient-diagonal-stripe);\n        ":""}));var qi=n(186),_i=n.n(qi),$i=n(577);function Ji(){const e=Object(Ua.a)(["\n    display: inline-block;\n    font-size: var(--fs-sm);\n    border-color: var(--sub-level-1);\n    line-height: 1;\n    cursor: pointer;\n    position: relative;\n    .copiable-overlay {\n        align-items: center;\n        background-color: var(--color-contrast);\n        font-size: var(--fs);\n        font-weight: bold;\n        border-radius: var(--br);\n        color: var(--color);\n        display: flex;\n        height: 100%;\n        justify-content: center;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%;\n        z-index: 999;\n    }\n"]);return Ji=function(){return e},e}function Zi(){const e=Object(Ua.a)(["\n    background: var(--main-level-1);\n    padding: var(--spacing-px) var(--spacing-xxs);\n    border: var(--bw) solid #4e84a4;\n    border-radius: var(--br);\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n"]);return Zi=function(){return e},e}const Qi=Va.b.span(Zi()),el=Object(Va.b)(Qi)(Ji()),tl=e=>{let{data:t,children:n}=e;const[o,i]=Object(r.useState)(!1);return Object(a.jsxs)(el,{onClick:e=>{var n;e.stopPropagation(),n=t,_i()("number"===typeof n?"".concat(n):n),i(!0),setTimeout((()=>{i(!1)}),1e3)},children:[o?Object(a.jsx)("div",{className:"copiable-overlay",children:Object(a.jsx)($i.a,{})}):null,n]})};function nl(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 3em max-content 3em;\n    gap: var(--spacing-xs);\n    .left-part {\n        text-align: right;\n    }\n    .right-part {\n        text-align: left;\n    }\n    ","\n"]);return nl=function(){return e},e}function al(){const e=Object(Ua.a)(["\n    display: inline-block;\n    background-color: var(--main-level-4);\n    ","\n    padding: var(--spacing-xxs) var(--spacing-xs);\n    margin: calc(-1 * var(--spacing-xxs)) 0;\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n    color: var(--color-heavy);\n    cursor: pointer;\n    ","\n    &:hover {\n        background-color: var(--sub-level-4);\n    }\n"]);return al=function(){return e},e}function rl(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: max-content 57px 39px 6px;\n    &.inactive {\n        .slider-label,\n        .ant-slider,\n        .slider-padding {\n            background-color: var(--main-level-3);\n        }\n    }\n    .slider-label,\n    .ant-slider,\n    .slider-padding {\n        border: var(--bw) solid var(--sub-level-1);\n        background-color: var(--main-level-4);\n    }\n    .slider-label {\n        border-right: none;\n        border-radius: var(--br) 0 0 var(--br);\n    }\n    .ant-slider {\n        margin: 0;\n        border-left: none;\n        border-right: none;\n        height: 28px; // Alignment\n        padding-top: 11px; // Alignment\n    }\n    .slider-padding {\n        border-left: none;\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .ant-slider-rail,\n    .ant-slider-track {\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .ant-input-number.ant-input-number-sm {\n        height: 28px; // Alignment\n        width: unset;\n        border-radius: 0;\n        box-shadow: var(--bs-input);\n        .ant-input-number-input {\n            height: 26px; // Alignment\n        }\n    }\n"]);return rl=function(){return e},e}function ol(){const e=Object(Ua.a)(["\n    display: inline-flex;\n    column-gap: var(--spacing-xs);\n    border: var(--bw) solid var(--sub-level-1);\n    background-color: var(--main-level-4);\n    padding: var(--spacing-xxs) var(--spacing-xs);\n    border-radius: var(--br);\n    box-shadow: var(--bs-input);\n    .ant-checkbox-wrapper {\n        transform: translateY(-1px); // Alignment\n    }\n"]);return ol=function(){return e},e}function il(){const e=Object(Ua.a)(["\n    --overlay-size: 36px;\n    background: var(--main-primary);\n    border-width: 0;\n    border-style: solid;\n    border-color: var(--main-active);\n    color: var(--color-heavy);\n    padding: var(--spacing-sm);\n    line-height: 1;\n    font-size: var(--fs-xl);\n    text-align: center;\n    width: var(--overlay-size);\n    height: var(--overlay-size);\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-1);\n    /* display: none; */\n    &:not(:disabled) {\n        cursor: pointer;\n        &:hover {\n            background: var(--sub-primary);\n        }\n    }\n    &:disabled {\n        cursor: not-allowed;\n        filter: opacity(0.5);\n    }\n"]);return il=function(){return e},e}function ll(){const e=Object(Ua.a)(["\n    max-width: 550px;\n    border-radius: var(--br-lg);\n    border: var(--bw) solid var(--sub-level-1);\n"]);return ll=function(){return e},e}function sl(){const e=Object(Ua.a)(["\n    padding: var(--spacing-xs);\n    background-color: var(--main-level-3);\n    font-size: var(--fs);\n    color: var(--color-heavy);\n    text-shadow: var(--ts);\n    p {\n        white-space: pre-line;\n    }\n    ul {\n        padding-inline-start: var(--spacing-2xl);\n        margin-block-end: 0;\n        li {\n            line-height: 1.5;\n        }\n    }\n    :last-child {\n        margin-bottom: 0;\n    }\n"]);return sl=function(){return e},e}const cl=Va.b.div(sl()),ul=Object(Va.b)(cl)(ll()),dl=e=>{let{content:t,children:n}=e,r=Object(s.a)(e,["content","children"]);return t?Object(a.jsx)(Li.a,Object(c.a)(Object(c.a)({content:t},r),{},{children:n})):Object(a.jsx)(a.Fragment,{children:n})},bl=Va.b.button(il()),ml=Va.b.div(ol()),pl=Va.b.div(rl()),hl=Va.b.div(al(),(e=>{let{$active:t}=e;return t?"border: var(--bw) solid var(--main-active);":"border: var(--bw) solid var(--sub-level-1);"}),(e=>{let{$softMode:t,$active:n}=e;return t?"\n                border: var(--bw) solid var(--main-level-4);\n                ".concat(n?"outline: var(--bw) solid var(--main-active);":"","\n            "):""})),fl=Va.b.div(nl(),(e=>{let{$warning:t}=e;return t?"\n            color: var(--main-warning);\n        ":""})),gl=e=>{let{width:t,height:n,warning:r}=e;return Object(a.jsxs)(fl,{$warning:r,children:[Object(a.jsx)("span",{className:"left-part",children:t}),Object(a.jsx)("span",{children:"\xd7"}),Object(a.jsx)("span",{className:"right-part",children:n})]})};function vl(){const e=Object(Ua.a)(["animation: "," 12s linear infinite;"]);return vl=function(){return e},e}function yl(){const e=Object(Ua.a)(["\n    .anticon-setting {\n        > svg {\n            ","\n        }\n    }\n"]);return yl=function(){return e},e}function jl(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: var(--spacing-sm);\n    background-color: var(--main-level-3);\n    padding: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    color: var(--color);\n    .list-option {\n        margin-bottom: var(--spacing-xs);\n    }\n    .resolution-list {\n        &.radio-train {\n            .ant-radio-button-wrapper:first-child {\n                border-radius: var(--br) var(--br) 0 0;\n            }\n            .ant-radio-button-wrapper:last-child {\n                border-radius: 0 0 var(--br) var(--br);\n            }\n        }\n        .radio-train-input-group {\n            display: inline-grid;\n            flex: 0 1 auto;\n            .ant-radio-button-wrapper {\n                border-left-width: 1.02px;\n                &:before {\n                    content: none;\n                }\n            }\n        }\n    }\n"]);return jl=function(){return e},e}function xl(){const e=Object(Ua.a)(["\n    to {\n        transform: rotate(360deg);\n    }\n"]);return xl=function(){return e},e}const Ol=Object(Va.c)(xl()),wl=Va.b.div(jl()),kl=Object(Va.b)(Ai)(yl(),(e=>{let{$softMode:t}=e;return t?"":Object(Va.a)(vl(),Ol)})),Sl=()=>{const e=lr(),{setting:t,updateSetting:n}=Dr((e=>{let{setting:t,updateSetting:n}=e;return{setting:t,updateSetting:n}})),{exportFormat:r,resolution:o,allowHotkey:i,reduceMotionColor:l,showCreativeOption:s,showExtraDecorativeOption:c}=t;return Object(a.jsx)(kl,{className:"setting-button",$softMode:l,children:Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"setting-button-overlay",content:Object(a.jsxs)(wl,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(Bi.a,{checked:l,onChange:e=>n({reduceMotionColor:e.target.checked}),children:e["setting.option.soft-mode.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Bi.a,{checked:c,onChange:e=>n({showExtraDecorativeOption:e.target.checked}),children:e["setting.option.extra-decorative.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Bi.a,{checked:s,onChange:e=>n({showCreativeOption:e.target.checked}),children:e["setting.option.creative.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Xa.a,{title:e["setting.option.hotkey.tooltip"],placement:"left",children:Object(a.jsx)(Bi.a,{checked:i,onChange:e=>n({allowHotkey:e.target.checked}),children:e["setting.option.hotkey.label"]})})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"list-option",children:e["setting.option.resolution.label"]}),Object(a.jsx)(Gi,{className:"resolution-list",value:"".concat(o[0],"x").concat(o[1]),optionList:Gt.map((t=>{let{height:n,width:r,label:o,scale:i}=t;return{value:"".concat(r,"x").concat(n),label:i>1?Object(a.jsx)(Li.a,{overlayClassName:"explanation-overlay",placement:"left",content:Object(a.jsx)(ul,{children:e["setting.option.resolution.warning"]}),children:Object(a.jsx)(gl,{width:r,height:n,warning:!0})}):Object(a.jsx)(gl,{width:r,height:n})}})),onChange:e=>{const t=Yt[e];t&&n({resolution:t.settingValue,globalScale:t.scale})}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"list-option",children:e["setting.option.export-format.label"]}),Object(a.jsx)(Gi,{value:r,optionList:Xt,onChange:e=>{n({exportFormat:e})}})]}),Object(a.jsx)("div",{children:Object(a.jsx)("small",{children:e["setting.alert"]})})]}),children:Object(a.jsxs)("div",{className:"button-label",children:[Object(a.jsx)(Ii.a,{}),Object(a.jsx)("label",{children:e["setting.button.label"]})]})})})};var Cl=n(564);function Fl(){const e=Object(Ua.a)(['\n    white-space: pre-line;\n    label {\n        font-weight: bold;\n        font-style: italic;\n        &:after {\n            content: ":";\n        }\n    }\n    .question {\n        margin-left: var(--spacing);\n    }\n    .answer {\n        margin: var(--spacing) 0;\n        margin-bottom: var(--spacing-lg);\n    }\n    &:last-child {\n        .answer {\n            margin-bottom: 0;\n        }\n    }\n']);return Fl=function(){return e},e}function Ll(){const e=Object(Ua.a)(["\n    box-shadow: none;\n    border: var(--bw) solid var(--sub-level-1);\n    background-color: var(--main-level-4);\n    border-radius: var(--br-lg);\n    padding: 0 var(--spacing-xs);\n    &.js-highlight {\n        background: var(--main-info);\n        text-shadow: none;\n        box-shadow: 0 0 2px 0 #333333;\n    }\n    ","\n    &:hover {\n        background: var(--sub-info);\n    }\n"]);return Ll=function(){return e},e}function Tl(){const e=Object(Ua.a)(["animation: 2s linear 350ms 4 ",";"]);return Tl=function(){return e},e}function Nl(){const e=Object(Ua.a)(["\n    text-align: center;\n    border: var(--bw) solid var(--main-level-3);\n    background-color: var(--main-level-1);\n    border-radius: var(--br-lg);\n    padding: 0 var(--spacing-xs);\n    cursor: pointer;\n    box-shadow: 0 0 2px 1px #2a2a2a inset;\n    transition: background-color 250ms linear;\n    ","\n    ","\n    &:hover {\n        background-color: var(--main-level-3);\n    }\n"]);return Nl=function(){return e},e}function Rl(){const e=Object(Ua.a)(["\n    0% { transform: rotate(0deg); }\n    3% { transform: rotate(5deg); }\n    6% { transform: rotate(0eg); }\n    9% { transform: rotate(-5deg); }\n    12% { transform: rotate(0deg); }\n    100% { transform: rotate(0deg); }\n"]);return Rl=function(){return e},e}const zl=Object(Va.c)(Rl()),Il=Va.b.div(Nl(),(e=>{let{$animating:t}=e;return t?Object(Va.a)(Tl(),zl):""}),(e=>{let{$animating:t}=e;return t?"\n            border: var(--bw) solid var(--sub-level-1);\n            background: var(--main-warning);\n            color: var(--color-contrast);\n            text-shadow: none;\n            box-shadow: 0 0 2px 0 #333333;\n        ":""})),Bl=Object(Va.b)(Il)(Ll(),(e=>{let{$animating:t}=e;return t?"\n            background: var(--main-info);\n            text-shadow: none;\n            box-shadow: 0 0 2px 0 #333333;\n        ":""})),El=Va.b.div(Fl());function Dl(){const e=Object(Ua.a)(["\n    overflow: auto;\n    width: 550px;\n    max-height: 300px;\n    width: 550px;\n    .log-section + .log-section {\n        margin-top: var(--spacing);\n    }\n"]);return Dl=function(){return e},e}function Wl(){const e=Object(Ua.a)(["\n    text-align: center;\n    .content {\n        text-align: left;\n    }\n    a {\n        display: inline-block;\n    }\n    img {\n        display: block;\n        max-width: 400px;\n        max-height: 300px;\n        margin: auto;\n        box-shadow: var(--bs-1);\n        margin-top: var(--spacing-xs);\n    }\n"]);return Wl=function(){return e},e}const Hl=Va.b.li(Wl()),Al=(()=>{let e=!1,t=[];return{getLog:async()=>{if(e)return t;const n=await fetch("".concat("/ygocarder","/log/version.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});try{const a=await n.json();return t=a,e=!0,t}catch(a){console.error(a)}return[]}}})(),Ml=()=>{const[e,t]=Object(r.useState)([]),[n,o]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{(async()=>{o(!0);const e=await Al.getLog();o(!1),t(e)})()}),[]),0!==e.length||n?n?Object(a.jsx)("div",{children:"Loading changelog..."}):Object(a.jsx)("div",{children:e.map(((e,t)=>{let{logList:n,version:r}=e;return Object(a.jsxs)("div",{className:"log-section",children:[Object(a.jsx)("b",{children:r}),Object(a.jsx)("br",{}),Object(a.jsx)("ul",{children:n.map(((e,t)=>{let{content:n,image:o}=e;return Object(a.jsxs)(Hl,{children:[Object(a.jsx)("div",{className:"content",children:n}),o&&Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",href:o,title:"Click to open in new tab",children:Object(a.jsx)("img",{src:o,alt:"version-".concat(r,"-illust")})})]},t)}))})]},"".concat(r,"-").concat(t))}))}):Object(a.jsx)("div",{children:"No changelogs"})},Pl=Object(Va.b)(ul)(Dl()),Kl=Object(r.memo)((()=>{var e;const[t,n]=Object(r.useState)(!1),[o,i]=li("versionReminder");return Object(r.useEffect)((()=>{if(o){var e;const t=null!==(e="2.3.5")?e:"0.0.0",a=o;i("2.3.5"),((e,t)=>{const[n,a,r]=String(e).split(".").map(Number),[o,i,l]=String(t).split(".").map(Number);return n!==o?n>o:a!==i?a>i:r>l})(t,a)&&(n(!0),setTimeout((()=>{n(!1)}),8e3))}}),[i,o]),Object(a.jsx)(Li.a,{placement:"bottom",content:Object(a.jsx)(Pl,{children:Object(a.jsx)(Ml,{})}),children:Object(a.jsxs)(Il,{$animating:t,className:"app-log",onMouseOver:()=>n(!1),children:["v",null!==(e="2.3.5")?e:"unknown"]})})}));var Ul=n(556);const Yl="faq-button",Gl=e=>{let{author:t,question:n,children:r}=e;return Object(a.jsxs)(El,{children:[Object(a.jsxs)("blockquote",{children:[t&&Object(a.jsx)("label",{children:t}),Object(a.jsx)("div",{className:"question",children:n})]}),Object(a.jsx)("div",{className:"answer",children:r})]})},Xl=()=>{const[e,t]=Object(r.useState)(!1),[n,o]=Object(r.useState)(!1),[i,l]=li("faqReminder"),[s,c]=li("feedbackReminder");return Object(r.useEffect)((()=>{const e="21/06/2025";i!==e&&(l(e),o(!0),setTimeout((()=>{o(!1)}),8e3))}),[l,i]),Object(r.useEffect)((()=>{!0!==s&&(c(!0),o(!0),Ga.a.info({message:"Feedback Reminder",description:"If you have any feedback or suggestion, please check the FAQ button first to see if your feedback has been addressed.",duration:10,onClose:()=>{o(!1)}}))}),[s,c]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Bl,{id:Yl,$animating:n,onClick:()=>t((e=>!e)),children:"FAQ"}),Object(a.jsx)(Ya.a,{visible:e,onCancel:()=>t(!1),footer:null,children:Object(a.jsxs)(Ul.a,{children:[Object(a.jsxs)(Ul.a.TabPane,{tab:"Feedbacks",children:[Object(a.jsx)("div",{children:Object(a.jsx)("i",{children:"Solved feedbacks are removed."})}),Object(a.jsx)("br",{}),[{author:"Die Frauen at Jun 19, 2025",question:"This may be a bit crazy, but since you've already come a long way with customization, do you think it'd be possible to toggle Star Types to be sorted manually in any combinations of the ones currently available?\n\nAnd on that note, and this here may be a bit too out there, but do you think you could use the Spell/Trap iconography as you would any of those? And if it's not too much of a bother, maybe the monster Attributes downsized on that row as well?",answer:"Putting Spell/Trap/Monster Attribute icon in star slots is possible. As for manual icon of each star slot, I think *technically* it should be doable, but I need to do a bit more test, probably will look into it this weekend.\nUpdate: I have added those options, you may try it out now."},{author:"Die Frauen at Jun 19, 2025",question:"Hello, first of all I would like to congratulate you on creating what's probably the best card editor there is, and thank you for making things convenient for everyone using it. I shall formally make a request of sorts in a different report, but I couldn't just not commend the efforts you and all others involved have done. Even managed to  mesh together the Link Arrows for a Pendulum frame in a not entirely unsightly way, and the new hue feature for advanced layouts is also superb for custom card frame efforts.\n\nSuperb work, keep it up",answer:"Thanks for your kind words, appreciate your support."},{author:"Not really a feedback but... at Jun 19, 2025",question:"It would be cool to see the Attributes in other languages available in TCG",answer:"I have added many more Attributes that I could find on Yugipedia."},{author:"KaibaSetoo at Jun 15, 2025",question:"Hello, can you fix the scale number 10, 11 and 12. They are not in the center of the scale value border. Thank you.",answer:'I have updated some cases, but please note that some scale numbers does not place at the center of the box at all, but deviated a bit to the right side (very clear in cards like "D/D Savant Kepler").'},{author:"Anonymous User at Jun 16, 2025",question:"Can you change back the *LINK-* text as before, like before the increase card larger update, the letter *L* is now higher."},{author:"Anonymous User at Jun 16, 2025",question:"And the LINK number are now higher then the text too."},{author:"TheDuelistt at Jun 15, 2025",question:'Can you make this L letter to be consistent with the rest of the INK, also, can you make the Link Rating value (number) lower and consistent with the INK, and the dash "-" a little bolder, so that the overall look is similar to the official Konami Yugioh Card template. Thank you.',answer:"I have updated the layer, hopefully it look better now."},{author:"text format at Jun 14, 2025",question:"The text format looks completely different with the pendulum effect than with the monster effect",answer:"Text effect is automatically calculated to best fit in the card, I always recommended to let it flow naturally, but regardless, I have added input to define the minimum lines of effect you would want in your cards."},{author:"Anonymous User at Jun 14, 2025",question:"The outline is a bit uneven depending on the letter.",answer:"This is a known issue, unfortunately this is the best I can offer right now."},{author:"Anonymous User at Jun 14, 2025",question:"Justify doesn't seem to work",answer:"It should work normally by now."},{author:"Phan Tr\xed D\u0129 at Jun 11, 2025",question:"Hi, firstly, I want to thanks to your hardwork for making a wonderful website, very appreciate your work. There's some K9 card with a special hash sign. It get a bit smaller when I use it. I wondering if you can fix it. Thank you very much.",answer:'Hi there. There are two parts of the problem here:\nThe first thing is the hash sign, which is not a bug. This design has been used on many cards in the past, for example "Hi-Speedroid Glider #2", and there is no sign that it would be different this time.\nThe second thing is the letter "\xd8", which currently only appear on the OCG card, as Lupus itself is not yet revealed for TCG, we doesn\'t know if the TCG would keep this letter or not.'},{author:"Anonymous User at Jun 06, 2025",question:"When using the Link Arrows on a Pendulum card, the Link Rating disappears",answer:"It should be fixed by now"},{author:"Shanaya User at Jun 04, 2025",question:"I would like to request another artwork effect like this, like the effect of the attached picture its a secret rare effect",answer:"I have added foil 9, this is my best and final attempt, sorry if it does not match your need."},{author:"Yugiohfann at Jun 03, 2025",question:"Please fix the ATK/DEF font text, the numbers are higher than the ATK/DEF text."},{author:"Anonymous User at Jun 03, 2025",question:"Small adjustment for size and style of card stats (ATK, DEF). Can you bring back the old size and style of card stats. Now the stats are higher than the ATK and DEF text.",answer:"Can you provide a sample image so I can see the difference? I cannot take action blindly wihout any reference."},{author:"Anonymous User at Jun 02, 2025",question:"please can you add sizing selection in card name? please? thank you!",answer:"Can you provide a sample image of the old card? I would like to take a look to see if it is possible to implement it or not."},{author:"Cardmaker_01",question:"Hello, the Xyz cards have black font in Set ID and Copyright, making it invisible to Xyz cards. Attached screenshot is an example. Can you please fix those fields to white font again? tysm and more power to you :)",answer:"It should be fixed by now, thanks for your feedback."},{author:"galaxy dragon",question:"Can you add a little space on the edge of the spell and trap card? when it is full of text. Thank you.",answer:"I can't quite understand what you mean, can you be more specific, or provide a sample image?"},{author:"Anonymous User at May 27, 2025",question:"Hello, can you add a selection of sizes in card title? because the old card and new card have different card title alignment, the old card seems to appear the title is more stretch than the new maybe because of the card size of the old card. can you fix it pls? maybe add some choices of card title alignments?\nor maybe size? THANK YOU SO MUCH!!",answer:"Do you have any sample image of the old card? I would like to see the difference between the two so I can decide that if it is possible or not."},{author:"ATK/DEF at May 26, 2025",question:"The ATK/DEF text and values seem to have different sizes than usual. Also the ? seems to be in a different format to how it appears in TCG/OCG",answer:"I have made a bit adjustment for font size and font family of stats text."},{author:"Maya at May 23, 2025",question:"I'd like to make a request, is it possible to put a SPEED DUEL watermark in EVERY card types in the description area like the Speed Skill type when it is set to speed duel? thank you so much. Appreciate your lovely cardmaker",answer:"I will try, but this is pretty hard to do to be honest, don't keep your hope up."},{author:"Shanaya at May 22, 2025",question:"Can you put something rainbow effect on the Finish in number 3?",answer:"I have added art finish type 8, which is a mix between type 3 and 6, you may try that out."}].map(((e,t)=>{let{author:n,question:r,answer:o}=e;return Object(a.jsx)(Gl,{author:n,question:r,children:o},t)}))]},"feedback"),Object(a.jsx)(Ul.a.TabPane,{tab:"Frequently Asked Questions",children:[{question:"Can you make the pendulum effect box semi-transparent? Just like real pendulum cards.",answer:'Yes, both pendulum and default card effect box can be made semi-transparent. In "Layout" row you can find "Pendulum" and "Effect" slider, each control how transparent the effect box is (0 is fully see-through and 100 is fully solid).'}].map(((e,t)=>{let{question:n,answer:r}=e;return Object(a.jsx)(Gl,{question:n,children:r},t)}))},"faq")]})})]})};n(383);function Vl(){const e=Object(Ua.a)(["\n    align-content: center;\n    align-self: center;\n    border-left: var(--bw) dashed #b1b1b1;\n    padding-left: var(--spacing);\n    margin-left: var(--spacing);\n    height: 100%;\n    .button-label {\n        position: relative;\n    }\n    .manager-notice {\n        position: absolute;\n        color: var(--main-danger);\n        right: 0;\n        top: 0;\n        line-height: 1;\n    }\n"]);return Vl=function(){return e},e}const ql=()=>Object(a.jsx)("div",{className:"affiliation",children:Object(a.jsx)("div",{className:"affiliation-link",children:Object(a.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(a.jsx)(Ci.a,{})})})}),_l=Va.b.div(Vl()),$l=()=>{const{language:e,languageInfo:t,languageMetadataMap:n,changeLanguage:r}=ir((e=>{let{languageInfo:t,language:n,languageMetadataMap:a,changeLanguage:r}=e;return{languageInfo:t,language:n,languageMetadataMap:a,changeLanguage:r}})),{cardList:o,isListDirty:i,toggleVisible:l,visible:s}=zr(Object(ri.useShallow)((e=>{let{cardList:t,isListDirty:n,toggleVisible:a,visible:r}=e;return{cardList:t,isListDirty:n,toggleVisible:a,visible:r}})));return Object(a.jsxs)("div",{className:"app-header",children:[Object(a.jsx)("img",{alt:"app-logo",src:"".concat("/ygocarder","/logo192.png"),width:35}),Object(a.jsxs)("div",{className:"app-description",children:[Object(a.jsxs)("div",{className:"header-language",children:[Object(a.jsx)("h1",{children:"Yugioh Carder"}),Object(a.jsx)(Cl.a.Group,{value:t.codeName,size:"small",className:"language-option",children:Object.values(n).filter((e=>{let{active:t}=e;return t})).map((e=>{let{codeName:t,name:n}=e;return Object(a.jsx)(Cl.a.Button,{value:t,onChange:e=>r(e.target.value),children:n},t)}))}),Object(a.jsx)(Xa.a,{title:"Check the FAQ Button => Feedbacks to see if your issue is already answered.",children:Object(a.jsx)("span",{className:"bug-report",onMouseOver:()=>{var e;null===(e=document.getElementById(Yl))||void 0===e||e.classList.add("js-highlight")},onMouseOut:()=>{var e;null===(e=document.getElementById(Yl))||void 0===e||e.classList.remove("js-highlight")},children:Object(a.jsx)("div",{id:"sentry-bug-report",children:e["contributor.bug-report.tooltip"]})})}),Object(a.jsx)(Xl,{}),Object(a.jsx)(Kl,{})]}),Object(a.jsxs)("div",{className:"app-contribution",children:[Object(a.jsxs)("span",{className:"app-creator",children:[e["contributor.gui.label"],": ",Object(a.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"Lauqerm"})}),"\xa0",Object(a.jsx)(zi,{content:Object(a.jsxs)(ul,{className:"disclaimer",children:[Object(a.jsx)("h2",{children:e["contributor.disclaimer.label"]}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:e["contributor.disclaimer.line-1"](Object(a.jsx)("a",{href:"https://lauqerm.github.io/ygocarder",children:"lauqerm.github.io/ygocarder"},"app-author"))}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-2"]}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-3"]}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-4"]}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-5"](Object(a.jsx)("a",{href:"https://www.deviantart.com/grezar",target:"_blank",rel:"noreferrer",children:"Grezar"},"template-maker-1"),Object(a.jsx)("a",{href:"https://www.deviantart.com/9558able",target:"_blank",rel:"noreferrer",children:"9558able"},"template-maker-2"))}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-6"]})]})]})})]}),Object(a.jsx)("span",{className:"template-creator",children:e["contributor.template-maker"](Object(a.jsx)("a",{href:"https://www.deviantart.com/grezar/art/SKILL-UPDATE-Series-10-Card-Proxy-Template-686736691",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"Grezar"})},"artist-1"),Object(a.jsx)("a",{href:"https://www.deviantart.com/9558able/art/Yugioh-Series-10-Proxy-Template-DELUXE-EDITION-843282421",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"9558able"})},"artist-2"),Object(a.jsx)("a",{href:"https://www.deviantart.com/slackermagician",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"SlackerMagician"})},"artist-3"),Object(a.jsx)("a",{href:"https://www.deviantart.com/icycatelf",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"icycatelf"})},"artist-4"))})]})]}),Object(a.jsx)(_l,{className:"app-setting",children:Object(a.jsx)(Sl,{})}),Object(a.jsx)(_l,{className:"card-manager",children:Object(a.jsx)(Ai,{className:Ka("manager-button-label",s?"manager-active":""),onClick:()=>l(),children:Object(a.jsxs)("div",{className:"button-label",children:[Object(a.jsx)(Fi.a,{}),Object(a.jsx)("label",{children:e["manager.icon.title"]}),i&&o.length>1&&Object(a.jsx)("div",{className:"manager-notice",children:"*"})]})})})]})},Jl=()=>{const e=lr();return Object(a.jsxs)(ul,{className:"disclaimer",children:[Object(a.jsx)("h2",{children:e["alert.explaination.tainted.first-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.first-answer"]}),Object(a.jsx)("h2",{children:e["alert.explaination.tainted.second-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.second-answer"]}),Object(a.jsx)("h2",{children:e["alert.explaination.tainted.third-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.third-answer"]})]})},Zl=()=>Object(a.jsx)(zi,{overlayClassName:"disclaimer-overlay",content:Object(a.jsx)(Jl,{})});var Ql=n(565),es=n(581);n(384);function ts(){const e=Object(Ua.a)(["\n    min-width: 0;\n    position: relative;\n    overflow: hidden;\n    .caption {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        padding: var(--spacing-px) var(--spacing-sm);\n        background: var(--main-level-5);\n        border-radius: var(--br-lg) 0 0 0;\n        box-shadow: var(--bs-block);\n    }\n    > img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n        border-radius: var(--br-lg);\n    }\n"]);return ts=function(){return e},e}function ns(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 615fr 703fr;\n    gap: var(--spacing-sm);\n    padding: var(--spacing-sm) 0;\n    overflow: hidden;\n    .panel-box {\n        min-width: 0;\n        position: relative;\n        overflow: hidden;\n    }\n"]);return ns=function(){return e},e}function as(){const e=Object(Ua.a)(["\n    white-space: pre-line;\n    h2 {\n        margin-top: var(--spacing);\n    }\n"]);return as=function(){return e},e}const rs=Va.b.div(as()),os=Va.b.div(ns()),is=Va.b.div(ts()),ls=e=>{let{caption:t,containerProps:n,alt:r}=e,o=Object(s.a)(e,["caption","containerProps","alt"]);const{className:i}=null!==n&&void 0!==n?n:{};return Object(a.jsxs)(is,{className:"image-with-caption ".concat(i),children:[Object(a.jsx)("img",Object(c.a)({alt:r},o)),Object(a.jsx)("div",{className:"caption",children:t})]})},ss=()=>{const[e,t]=Object(r.useState)(!1),n=lr();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ql.a,{footer:null,visible:e,width:"60%",title:Object(a.jsxs)("div",{className:"overlay-title",children:[n["guide.format.label"]," ",Object(a.jsx)(hi.a,{size:"small",type:"primary",onClick:()=>{t(!1)},children:n["guide.format.close"]})]}),className:"formattting-guide-overlay",onClose:()=>{t(!1)},children:Object(a.jsxs)(rs,{children:[Object(a.jsxs)("p",{children:[n["guide.format.introduction"](Object(a.jsx)(Ii.a,{},"icon")),"."]}),Object(a.jsx)("h2",{children:n["guide.format.section-1.label"]}),n["guide.format.section-1.content"](Object(a.jsx)(Qi,{children:"["},"open-tag"),Object(a.jsx)(Qi,{children:"]"},"close-tag"),Object(a.jsx)(Qi,{children:"Ctrl-1"},"hotkey"),Object(a.jsx)(Qi,{children:"\u2318-1"},"hokey-alternative")),Object(a.jsxs)(os,{className:"panel-figure",children:[Object(a.jsx)(ls,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(ls,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-6.label"]}),n["guide.format.section-6.content"](Object(a.jsx)(Qi,{children:"[["},"open-tag"),Object(a.jsx)(Qi,{children:"]]"},"close-tag"),Object(a.jsx)(Qi,{children:"Ctrl-Shift-1"},"hotkey"),Object(a.jsx)(Qi,{children:"\u2318-Shift-1"},"hokey-alternative")),Object(a.jsxs)(os,{className:"panel-figure",children:[Object(a.jsx)(ls,{containerProps:{className:"panel-box box-raw"},alt:"justified non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-6-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(ls,{containerProps:{className:"panel-box box-preview"},alt:"justified non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-6-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-2.label"]}),n["guide.format.section-2.content"](Object(a.jsx)(Qi,{children:"{"},"open-tag"),Object(a.jsx)(Qi,{children:"}"},"close-tag"),Object(a.jsx)(Qi,{children:"Ctrl-2"},"hotkey"),Object(a.jsx)(Qi,{children:"\u2318-2"},"hokey-alternative")),Object(a.jsxs)(os,{className:"panel-figure",children:[Object(a.jsx)(ls,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(ls,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-3.label"]}),n["guide.format.section-3.content"](Object(a.jsx)(Qi,{children:"|"},"separator"),Object(a.jsx)(Qi,{children:"Ctrl-3"},"hotkey"),Object(a.jsx)(Qi,{children:"\u2318-3"},"hokey-alternative")),Object(a.jsxs)(os,{className:"panel-figure",children:[Object(a.jsx)(ls,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(ls,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-4.label"]}),n["guide.format.section-4.content"](Object(a.jsx)(Qi,{children:"||"},"separator"),Object(a.jsx)(Qi,{children:"Ctrl-4"},"hotkey"),Object(a.jsx)(Qi,{children:"\u2318-4"},"hokey-alternative")),Object(a.jsxs)(os,{className:"panel-figure",children:[Object(a.jsx)(ls,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(ls,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-5.label"]}),n["guide.format.section-5.content"](Object(a.jsx)(Qi,{children:"{{"},"open-tag"),Object(a.jsx)(Qi,{children:"}}"},"close-tag"),Object(a.jsx)(Qi,{children:"Ctrl-5"},"hotkey"),Object(a.jsx)(Qi,{children:"\u2318-5"},"hokey-alternative")),Object(a.jsxs)(os,{className:"panel-figure",children:[Object(a.jsx)(ls,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(ls,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-preview.jpg"),caption:n["guide.format.caption.output"]})]})]})}),Object(a.jsxs)(hi.a,{className:"formatting-help-button",type:"primary",onClick:()=>{t(!0)},children:[n["guide.format.label"]," ",Object(a.jsx)(es.a,{})]})]})};function cs(){const e=Object(Ua.a)(["\n    display: inline-block;\n    width: 10px;\n"]);return cs=function(){return e},e}function us(){const e=Object(Ua.a)(["\n    display: grid;\n    ","\n    > label {\n        cursor: pointer;\n        padding: 0 var(--spacing-xxs);\n        text-align: center;\n    }\n    &:focus {\n        background-color: var(--main-level-3);\n    }\n    &:focus-visible {\n        background-color: var(--main-level-3);\n    }\n"]);return us=function(){return e},e}const ds=Va.b.div(us(),(e=>{let{$withPillar:t}=e;return t?"grid-template-columns: max-content 1fr;":"grid-template-columns: 1fr;"})),bs=Va.b.div(cs()),ms=e=>{let{id:t,tabIndex:n,nameKey:r,labelBackgroundColor:o,labelBackgroundColorList:i,className:l,onClick:s}=e;const c=lr();return Object(a.jsxs)(ds,{id:t,tabIndex:n,className:"frame-info-block ".concat(null!==l&&void 0!==l?l:""),$withPillar:!(!o&&!i),onClick:s,children:[i?Object(a.jsx)(bs,{children:i.map((e=>Object(a.jsx)("div",{style:{backgroundColor:e,height:"".concat(100/i.length,"%")}},e)))}):o?Object(a.jsx)(bs,{style:{backgroundColor:o}}):null,Object(a.jsx)("label",{className:"frame-info-block-label",children:c[r]})]})};var ps=n(560);function hs(){const e=Object(Ua.a)(["\n    color: var(--color);\n    text-shadow: var(--ts);\n    font-weight: 500;\n    padding: 5px;\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    gap: 3px;\n    .color-list {\n        display: flex;\n        flex-wrap: nowrap;\n        gap: 3px;\n    }\n    .color-input {\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        border-left: var(--bw-lg) solid var(--sub-level-4);\n        gap: 3px; // Alignment\n        padding-left: 3px; // Alignment\n        input {\n            width: 58px; // Alignment\n            font-size: var(--fs-sm);\n            line-height: 1;\n            border: none;\n            padding: 0 5px;\n        }\n    }\n"]);return hs=function(){return e},e}const fs=Va.b.div(hs()),gs=[{hex:"#FFFFFF",rgb:[255,255,255]},{hex:"#000000",rgb:[0,0,0]},{hex:"#FF0000",rgb:[255,0,0]},{hex:"#FFFF00",rgb:[255,255,0]},{hex:"#00FF00",rgb:[0,255,0]},{hex:"#00FFFF",rgb:[0,255,255]},{hex:"#0000FF",rgb:[0,0,255]},{hex:"#FF00FF",rgb:[255,0,255]}],vs=e=>{let{value:t="",onChange:n}=e;const{color:r,inputText:o,setColor:i}=Hr({value:t,onChange:n});return Object(a.jsxs)(fs,{children:[Object(a.jsx)("div",{className:"color-list",children:gs.map((e=>{let{hex:t,rgb:o}=e;const i=Oa(o);return Object(a.jsx)(Vi,{className:"color-block",title:t,style:{backgroundColor:t},onClick:()=>null===n||void 0===n?void 0:n(t),children:r.hex.toUpperCase()===t&&Object(a.jsx)("div",{className:"active-dot",style:{backgroundColor:i}})},t)}))}),Object(a.jsxs)("div",{className:"color-input",children:[Object(a.jsx)(Vi,{$static:!0,style:{backgroundColor:r.hex}}),Object(a.jsx)(ps.a,{size:"small",value:o,onChange:e=>{i(e.target.value)}})]})]})};var ys=n(67),js=n(294);function xs(){const e=Object(Ua.a)(["\n    position: relative;\n    display: grid;\n    grid-template-columns: 3.5rem 5rem max-content 1fr;\n    gap: var(--spacing-sm);\n    .color-input {\n        .color-state {\n            display: flex;\n            margin-bottom: var(--spacing-xs);\n        }\n        "," {\n            display: inline-block;\n            flex: 1;\n            border: var(--bw) solid var(--sub-level-2);\n            height: 18px;\n        }\n    }\n    .color-list {\n        display: grid;\n        grid-template-columns: repeat(",", max-content);\n        border-radius: var(--br);\n        overflow: hidden;\n        "," {\n            height: 15px;\n            width: 15px;\n            box-shadow: none;\n            border-radius: 0;\n        }\n    }\n"]);return xs=function(){return e},e}function Os(){const e=Object(Ua.a)(["\n    position: relative;\n    border-radius: var(--br);\n    > div,\n    .saturation-white,\n    .saturation-black {\n        border-radius: var(--br);\n    }\n"]);return Os=function(){return e},e}const ws=Va.b.div(Os()),ks=Object(ys.c)((e=>{let{onChange:t}=e,n=Object(s.a)(e,["onChange"]);return Object(a.jsx)(ws,{children:Object(a.jsx)(js.Saturation,Object(c.a)(Object(c.a)({},n),{},{onChange:e=>{null===t||void 0===t||t(e)}}))})})),Ss=[{hex:"#B80000",rgb:[184,0,0]},{hex:"#EB9694",rgb:[235,150,148]},{hex:"#DB3E00",rgb:[219,62,0]},{hex:"#FAD0C3",rgb:[250,208,195]},{hex:"#FCCB00",rgb:[252,203,0]},{hex:"#FEF3BD",rgb:[254,243,189]},{hex:"#008B02",rgb:[0,139,2]},{hex:"#C1E1C5",rgb:[193,225,197]},{hex:"#006B76",rgb:[0,107,118]},{hex:"#BEDADC",rgb:[190,218,220]},{hex:"#1273DE",rgb:[18,115,222]},{hex:"#C4DEF6",rgb:[196,222,246]},{hex:"#004DCF",rgb:[0,77,207]},{hex:"#BED3F3",rgb:[190,211,243]},{hex:"#5300EB",rgb:[83,0,235]},{hex:"#D4C4FB",rgb:[212,196,251]}],Cs=Va.b.div(xs(),Vi,Ss.length/4,Vi),Fs=e=>{let{children:t,onChange:n,value:r}=e;const{color:o,inputText:i,setColor:l}=Hr({value:r,onChange:n}),s=""===i;return Object(a.jsxs)(Cs,{className:"horizontal-sketch-picker",children:[Object(a.jsx)("div",{className:"input-label",children:t}),Object(a.jsxs)("div",{className:"color-input",children:[Object(a.jsxs)("div",{className:"color-state",children:[Object(a.jsx)(Vi,{$empty:s,style:s?{}:{backgroundColor:o.hex}}),Object(a.jsx)(Hi,{size:"sm",Icon:Ja.a,onClick:()=>{n("")}})]}),Object(a.jsx)(ps.a,{size:"small",value:i,onChange:e=>{l(e.target.value)}})]}),Object(a.jsx)("div",{className:"color-list",children:Ss.map((e=>{let{hex:t,rgb:r}=e;const i=Oa(r);return Object(a.jsx)(Vi,{className:"color-block",title:t,style:{backgroundColor:t},onClick:()=>null===n||void 0===n?void 0:n(t),children:o.hex.toUpperCase()===t&&Object(a.jsx)("div",{className:"active-dot",style:{backgroundColor:i}})},t)}))}),Object(a.jsx)(ks,{color:o.hex,onChange:e=>{let{hex:t}=e;return l(t)}})]})};var Ls=n(225),Ts=n(582),Ns=n(583),Rs=n(584),zs=n(585);function Is(){const e=Object(Ua.a)(["\n    width: ","px;\n    height: ","px;\n    overflow: hidden;\n    position: relative;\n    line-height: 0;\n    .card-lightbox-control {\n        position: absolute;\n        z-index: 1;\n        top: var(--spacing);\n        right: var(--spacing);\n        user-select: none;\n        text-align: right;\n        .action-list {\n            display: inline-flex;\n            gap: var(--spacing-xs);\n        }\n        .control-info {\n            background-color: var(--main-level-1);\n            padding: var(--spacing-xs);\n            margin-top: var(--spacing-xs);\n            border-radius: var(--br);\n            border: var(--bw) solid var(--sub-level-1);\n            line-height: 1;\n            box-shadow: var(--bs-1);\n        }\n    }\n    .card-lightbox-content {\n        cursor: grab;\n    }\n"]);return Is=function(){return e},e}const{height:Bs,width:Es}=d,Ds=Va.b.div(Is(),Es,Bs),Ws=e=>{let{zoomIn:t,zoomOut:n,resetTransform:r,setTransform:o,scale:i,globalScale:l,width:s,height:c}=e;return Object(a.jsxs)("div",{className:"control-container",children:[Object(a.jsxs)("div",{className:"action-list",children:[Object(a.jsx)(bl,{disabled:i>=4,onClick:()=>{t()},children:Object(a.jsx)(Ts.a,{})}),Object(a.jsx)(bl,{disabled:i<=1/l,onClick:()=>{n()},children:Object(a.jsx)(Ns.a,{})}),Object(a.jsx)(bl,{onClick:()=>{r()},children:Object(a.jsx)(Rs.a,{})}),Object(a.jsx)(bl,{onClick:()=>{o(-Math.max(0,s-Es)/2,-Math.max(0,c-Bs)/2,1)},children:Object(a.jsx)(zs.a,{})})]}),Object(a.jsxs)("div",{className:"control-info",children:[i&&Object(a.jsxs)(a.Fragment,{children:["\xd7",i<1?"1/".concat(Math.round(1/i*10)/10):Math.round(10*i)/10]}),"\xa0(",s," \xd7 ",c,")"]})]})},Hs=Object(r.forwardRef)(((e,t)=>{let{globalScale:n}=e;const[o,i]=Object(r.useState)(!1),[l,s]=Object(r.useState)(0),u=Object(r.useRef)(null),d=Object(r.useRef)(null),[b,m]=Object(r.useState)((()=>1/n));return Object(r.useImperativeHandle)(t,(()=>({setVisible:i,draw:e=>{var t,n;null===(t=u.current)||void 0===t||null===(n=t.getContext("2d"))||void 0===n||n.drawImage(e,0,0)},refresh:()=>s((e=>e+1)),getCanvasKey:()=>l}))),Object(r.useEffect)((()=>{var e;null===(e=d.current)||void 0===e||e.resetTransform()}),[n]),Object(a.jsx)(Ya.a,{width:"".concat(Es+30,"px"),wrapClassName:"card-lightbox-overlay",visible:o,forceRender:!0,onCancel:()=>i(!1),footer:null,children:Object(a.jsx)(Ds,{className:"card-lightbox-container",children:Object(a.jsx)(Ls.b,{ref:d,initialScale:1/n,initialPositionX:0,initialPositionY:0,minScale:1/n,maxScale:4,onTransformed:e=>{m(e.state.scale)},children:e=>{let t=Object.assign({},e);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"card-lightbox-control",children:Object(a.jsx)(Ws,Object(c.a)(Object(c.a)({},t),{},{scale:b,globalScale:n,width:Es*n,height:Bs*n}))}),Object(a.jsx)(Ls.a,{wrapperClass:"card-lightbox-content",wrapperStyle:{maxWidth:Es,maxHeight:Bs,lineHeight:0},children:Object(a.jsx)("canvas",{id:"lightbox-canvas",ref:u,width:Es*n,height:Bs*n},l+.1)})]})}})})})}));function As(){const e=Object(Ua.a)(["\n    --link-arrow-icon-size: 16px;\n    --link-arrow-border-size: 8px;\n    --link-arrow-half-size: ","px;\n    --link-arrow-full-size: calc(var(--link-arrow-half-size) * 2);\n    --link-arrow-margin-inline: calc(var(--link-arrow-half-size) - var(--link-arrow-icon-size) / 2);\n    --link-arrow-margin-block: calc(var(--link-arrow-half-size) - var(--link-arrow-border-size) / 2);\n    font-weight: 500;\n    color: var(--color-vendor);\n    text-shadow: var(--ts);\n    padding: var(--spacing-xs);\n    background-color: var(--main-level-4);\n    box-shadow: var(--bs-block);\n    border-radius: var(--br-lg);\n    display: inline-block;\n    .title {\n        line-height: 1;\n        margin-bottom: var(--spacing-sm);\n    }\n    .container {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        grid-template-rows: 1fr 1fr 1fr;\n        width: calc(3 * var(--link-arrow-full-size));\n        height: calc(3 * var(--link-arrow-full-size));\n        column-gap: 0;\n        row-gap: 0;\n        background-color: var(--main-level-1);\n        box-shadow: 0 0 2px 1px #141414 inset;\n        border-radius: var(--br-lg);\n        margin: auto;\n        .link-marker-icon {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 0;\n            height: 0;\n            border-style: solid;\n            position: absolute;\n            margin: var(--link-arrow-margin-block) var(--link-arrow-margin-inline);\n            border-width: 0 var(--link-arrow-border-size) var(--link-arrow-border-size) var(--link-arrow-border-size);\n            border-color: transparent transparent #484848 transparent;\n            .anticon {\n                font-size: var(--link-arrow-icon-size);\n            }\n        }\n        .link-marker-button.marker-checked .link-marker-icon {\n            border-color: transparent transparent var(--sub-active) transparent;\n        }\n    }\n    .link-marker-reset {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .marker-checked {\n        color: var(--sub-active);\n    }\n    &.chooser-disabled {\n        .container {\n            background-color: var(--main-level-4);\n            box-shadow: 0 0 0 1px var(--sub-level-4) inset;\n            .link-marker-icon {\n                border-color: transparent transparent #585858 transparent;\n            }\n            .link-marker-button.marker-checked .link-marker-icon {\n                border-color: transparent transparent var(--sub-disabled) transparent;\n            }\n            .link-marker-reset .anticon {\n                color: var(--main-level-4);\n            }\n        }\n    }\n    &.chooser-active {\n        .link-marker-reset,\n        .link-marker-button {\n            cursor: pointer;\n            border-radius: var(--br-lg);\n            &:hover {\n                background-color: var(--sub-level-1);\n            }\n        }\n    }\n"]);return As=function(){return e},e}const Ms=Va.b.div(As(),13),Ps=e=>{let{active:t,defaultValue:n=[],onChange:o=(()=>{}),onStatusChange:i}=e;const[l,s]=Object(r.useState)(n),c=lr(),u=JSON.stringify(l);return Object(r.useEffect)((()=>{o(l)}),[u]),Object(a.jsxs)(Ms,{className:Ka("link-marker-picker",t?"chooser-active":"chooser-disabled"),children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)(Bi.a,{checked:t,onChange:e=>i(e.target.checked),children:c["link-picker.label"]})}),Object(a.jsx)("div",{className:"container",children:[...Array(9)].map(((e,n)=>{const r="".concat(n+1);return"5"===r?Object(a.jsx)(Xa.a,{overlay:t?c["link-picker.reset.tooltip"]:null,children:Object(a.jsx)("div",{className:"link-marker-reset",onClick:()=>{t&&s([])},children:Object(a.jsx)(C.a,{})})},"5"):Object(a.jsx)("div",{className:"link-marker-button marker-".concat(n+1," ").concat(l.includes(r)?"marker-checked":""),onClick:()=>{t&&s((e=>{let t=[...e];return t.includes(r)?t=t.filter((e=>e!==r)):t.push(r),t}))},children:Object(a.jsx)("div",{className:"link-marker-icon link-marker-icon-".concat(n+1),style:{transform:"rotate(".concat(Ae[n],"deg) translateY(-1px)")}})},r)}))})]})};var Ks=n(561);function Us(){const e=Object(Ua.a)(["\n    &li.ant-dropdown-menu-item:hover {\n        background-color: var(--sub-active);\n    }\n    &.active-setting {\n        background-color: var(--main-active);\n    }\n"]);return Us=function(){return e},e}function Ys(){const e=Object(Ua.a)(["\n    color: var(--color);\n    padding: 1px 12px 5px 12px; // Alignment\n    font-size: var(--fs-sm);\n    border-bottom: var(--bw) solid var(--sub-level-4);\n    cursor: default;\n    &.ant-dropdown-menu-item.ant-dropdown-menu-item-disabled:hover {\n        cursor: default;\n        background: var(--main-level-3);\n    }\n"]);return Ys=function(){return e},e}const Gs=Object(Va.b)(Ks.a.Item)(Ys()),Xs=Object(Va.b)(Ks.a.Item)(Us()),Vs=e=>{let{onChange:t}=e,n=Object(s.a)(e,["onChange"]);const r=lr(),{resolution:o,updateSetting:i}=Dr(Object(ri.useShallow)((e=>{let{setting:{allowHotkey:t,resolution:n},updateSetting:a}=e;return{allowHotkey:t,resolution:n,updateSetting:a}})));return Object(a.jsxs)(Ks.a,Object(c.a)(Object(c.a)({onClick:e=>e.domEvent.stopPropagation()},n),{},{children:[Object(a.jsx)(Gs,{disabled:!0,onClick:e=>e.domEvent.stopPropagation(),children:r["setting.option.resolution.label"]}),Gt.map((e=>{let{width:n,height:l,label:s,scale:c}=e;return Object(a.jsx)(Xs,{className:o[0]===n&&o[1]===l?"active-setting":"",onClick:()=>{i({resolution:[n,l],globalScale:c}),null===t||void 0===t||t([n,l],c)},children:c>1?Object(a.jsx)(Li.a,{overlayClassName:"explanation-overlay",placement:"left",content:Object(a.jsx)(ul,{children:r["setting.option.resolution.warning"]}),children:Object(a.jsx)(gl,{width:n,height:l,warning:!0})}):Object(a.jsx)(gl,{width:n,height:l})},"".concat(n,"-").concat(l))}))]}))};var qs=n(139),_s=n(296),$s=n.n(_s),Js=n(586),Zs=n(587),Qs=n(545);function ec(){var e=Object(Ua.a)(["\n    display: flex;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(#fafafaaa, #fafafaaa);\n    justify-content: center;\n    align-items: center;\n    z-index: 999;\n"]);return ec=function(){return e},e}var tc=Va.b.div(ec()),nc=function(){return Object(a.jsx)(Qs.a,{})};nc.FullView=function(){return Object(a.jsx)(tc,{className:"loading-fullview",children:Object(a.jsx)(Qs.a,{size:"large"})})};n(527),n(528);const ac=(e,t,n)=>{if(!t)return e;const{width:a,height:r,x:o=0,y:i=0,unit:l}=e;if("px"===l){const e=.8,r=400/300,{width:l,height:s}=t,c=s/l>=e?r:1,u=Math.min((null!==o&&void 0!==o?o:0)*c,l),d=Math.min((null!==i&&void 0!==i?i:0)*c,s),b=Math.min((null!==a&&void 0!==a?a:0)*c,l);return{unit:"%",x:u/l*100,y:d/s*100,width:b/l*100,height:b/(null!==n&&void 0!==n?n:1)/s*100,aspect:n}}if(o<0)return Object(c.a)(Object(c.a)({},e),{},{x:0});if(i<0)return Object(c.a)(Object(c.a)({},e),{},{y:0});const{naturalHeight:s,naturalWidth:u}=t,d=null!==a&&void 0!==a?a:0,b=null!==r&&void 0!==r?r:0,m=.05*(s>u?s:u),p=Math.abs(b*s*n-d*u)<=m?b:d*t.naturalWidth/n/t.naturalHeight,h=p/100,f=h>1?100:p,g=h>1?d/h:d,v=h>1?(100-g)/2:o<0?0:o,y=h>1||i<0?0:i;return Object(c.a)(Object(c.a)({},e),{},{x:v,y:y,height:f,width:g,aspect:n})},rc=Object(r.forwardRef)(((e,t)=>{let{title:n,backgroundColor:o,className:i,forceFit:l,defaultSourceType:s,defaultInternalSource:u="",defaultExternalSource:d="",receivingCanvas:b,children:m,beforeCropper:p,defaultCropInfo:h,ratio:f,onSourceLoaded:g=(()=>{}),onSourceChange:v=(()=>{}),onCropChange:y=(()=>{}),onTainted:j=(()=>{}),onMaxSizeExceeded:x=(()=>{}),onForceFitChange:O=(()=>{})}=e;const w="offline"===s?"offline":"online",k=lr(),S=Object(r.useRef)(null),[C,F]=Object(r.useState)("anonymous"),[L,T]=Object(r.useState)(0),[N,R]=Object(r.useState)(w),[z,I]=Object(r.useState)(w),[B,E]=Object(r.useState)(u),[D,W]=Object(r.useState)(!1),[H,A]=Object(r.useState)(null),[M,P]=Object(r.useState)(!1),[K,U]=Object(r.useState)(d),Y=Object(r.useRef)(null),[G,X]=Object(r.useState)({current:h,completed:null}),[V,q]=Object(r.useState)("%"===h.unit),{current:_,completed:$}=G,J=Object(r.useRef)({source:"",crop:null}),Z=Object(r.useCallback)((e=>{if(W(!1),A(null),g(C),Y.current=e,e.src===J.current.source&&J.current.crop){const t=Q.current;setTimeout((()=>{if(t!==Q.current||!J.current.crop)return;const n=ac(J.current.crop,e,f);X({completed:n,current:n}),q(!0),J.current={source:"",crop:null}}),250)}else setTimeout((()=>{X((t=>{const n=ac(t.current,e,f);return{completed:n,current:n}})),q(!0)}),250)}),[C,g,f]);Object(r.useEffect)((()=>{var e,t,n,a;const r=Y.current;if(!$||!b||!r)return;const{aspect:o}=$;b.style.transform="scale(2)";const i=b.getContext("2d");if(!i||"number"!==typeof o||o<=0)return;const{naturalHeight:s,naturalWidth:u}=r,d=u/r.width,m=s/r.height,p=null!==(e=$.unit)&&void 0!==e?e:"px",h=window.devicePixelRatio;i.setTransform(h,0,0,h,0,0);let f,g=Math.floor((null!==(t=$.width)&&void 0!==t?t:0)*("px"===p?d:u/100)),v=Math.min(u,g),j=Math.floor(g/o),x=Math.min(s,j),O=Math.min(u,Math.floor((null!==(n=$.x)&&void 0!==n?n:0)*("px"===p?d:u/100))),w=Math.min(s,Math.floor((null!==(a=$.y)&&void 0!==a?a:0)*("px"===p?m:s/100)));if(i.imageSmoothingQuality="high",!(v<=0||x<=0)){if(O+v>u||w+x>s||O<0||w<0||Math.abs((g-v)/v)>.01||Math.abs((j-x)/x)>.01){"width"===(o*s>u?"width":"height")?(v=u,x=v/o,O=0,w=(s-x)/2,f={unit:"%",aspect:o,height:x/s*100,width:v/u*100,x:0,y:w/s*100}):(v=s*o,x=s,O=(u-v)/2,w=0,f={unit:"%",aspect:o,height:x/s*100,width:v/u*100,x:O/u*100,y:0})}if(l){"width"===(o*s>u?"width":"height")?(v=u,x=v/o):(v=s*o,x=s),b.width=v,b.height=x,i.drawImage(r,0,0,u,s,0,0,v,x)}else{var k,S;b.width=null!==(k=v)&&void 0!==k?k:0,b.height=null!==(S=x)&&void 0!==S?S:0,i.drawImage(r,O,w,v,x,0,0,v,x)}"offline"===N&&(null!==B&&void 0!==B?B:"").length<=0||o===$.aspect&&y($,N,M),f&&X((e=>Object(c.a)(Object(c.a)({},e),{},{current:f})))}}),[$,b,L,l]),Object(r.useEffect)((()=>{P(!1),X((e=>{if(null!=Y.current&&e.current){const t=ac(e.current,Y.current,f);return{current:t,completed:t}}return e}))}),[f]);const Q=Object(r.useRef)(0);Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>D,hasImage:()=>"string"===typeof B&&B.length>0&&"offline"===N||"string"===typeof K&&K.length>0&&"online"===N,forceSource:(e,t,n)=>{const a="offline"===N?B:K;P(!1),a!==t&&(W(!0),R(e),I(e),v(e,t),"offline"===e?E(t):U(t)),F("anonymous"),q("%"===n.unit),Q.current+=1,J.current={source:t,crop:n},T((e=>e+1))}})));const ee="offline"===N&&(null!==B&&void 0!==B?B:"").length>0||"online"===N&&(null!==K&&void 0!==K?K:"").length>0,te=b&&ee&&!D&&(null===$||void 0===$?void 0:$.width)&&(null===$||void 0===$?void 0:$.height);return Object(a.jsxs)("div",{className:"card-image-cropper ".concat(i),children:[Object(a.jsxs)("div",{className:"card-image-source-input",children:[Object(a.jsxs)("div",{className:"card-image-source-input-container",children:[Object(a.jsxs)("div",{className:"card-image-source-input-title",children:[Object(a.jsxs)("span",{className:"field-title",children:[n," ",Object(a.jsx)(Hi,{Icon:Js.a,containerProps:{className:te?"":"disabled"},tooltipProps:{overlay:te?k["image-cropper.download"]:k["image-cropper.no-download"]},onClick:()=>te&&b&&function(e,t){t&&e&&e.toBlob((e=>{if(null!==e){const t=window.URL.createObjectURL(e),n=document.createElement("a");n.download="crop-preview.png",n.href=URL.createObjectURL(e),n.click(),window.URL.revokeObjectURL(t)}}),"image/png",1)}(b,$)})]}),Object(a.jsxs)(Cl.a.Group,{className:"card-image-source-type-input",onChange:e=>{const t=e.target.value;I(t),((null!==B&&void 0!==B?B:"").length>0&&"offline"===t||(null!==K&&void 0!==K?K:"").length>0&&"online"===t)&&(R(t),"offline"===t?(F("anonymous"),v("offline",B)):v("online",K))},value:z,children:[Object(a.jsx)(Xa.a,{title:Object(a.jsx)("div",{className:"image-info",children:k["image-cropper.online-tip"]}),children:Object(a.jsx)(Cl.a.Button,{value:"online",checked:"online"===z,children:k["image-cropper.source.online.tooltip"]})}),Object(a.jsx)(Xa.a,{title:Object(a.jsx)("div",{className:"image-warning",children:k["image-cropper.offline-warning"]}),children:Object(a.jsx)(Cl.a.Button,{value:"offline",checked:"offline"===z,children:k["image-cropper.source.offline.tooltip"]})})]})]}),Object(a.jsx)("div",{className:["card-image-input","online"===z?"":"input-inactive"].join(" "),children:Object(a.jsx)(ps.a,{placeholder:k["image-cropper.placeholder"],value:K,onChange:e=>{const t=e.target.value;F("anonymous"),W(!0),R("online"),I("online"),v("online",t),U(t)},maxLength:512,allowClear:!0},"key")}),Object(a.jsx)("div",{className:["card-image-input","offline"===z?"":"input-inactive"].join(" "),children:Object(a.jsx)(ps.a,{ref:S,type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0],n=4;if(t.size<1024*n*1024){W(!0);const e=new FileReader;e.addEventListener("load",(()=>{"string"===typeof e.result&&(F("anonymous"),E(e.result),R("offline"),I("offline"),v("offline",e.result),W(!1))})),e.readAsDataURL(t)}else x(n)}else alert(k["image-cropper.not-found-warning"])},onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.setValue("")}})})]}),m]}),p,Object(a.jsxs)("div",{className:"card-cropper",onKeyDown:()=>{P(!0)},children:[D&&Object(a.jsx)(nc.FullView,{}),ee&&!H&&Object(a.jsxs)("div",{className:"card-image-option",children:[Object(a.jsx)(Xa.a,{placement:"left",overlay:l?k["image-cropper.button.use-crop.tooltip"]:k["image-cropper.button.force-fit.tooltip"],children:Object(a.jsx)("div",{className:Ka("image-option force-fit-option",l?"option-active":""),onClick:()=>{P(!0),O(!l)},children:Object(a.jsx)(zs.a,{})})}),!l&&Object(a.jsx)(Xa.a,{placement:"left",overlay:k["image-cropper.button.center-vertical.tooltip"],children:Object(a.jsx)("div",{className:"image-option alignment-center-option",onClick:()=>{P(!0),X((e=>{var t;const{width:n,x:a}=null!==(t=e.completed)&&void 0!==t?t:{};if("number"!==typeof n||"number"!==typeof a)return e;const r=Object(c.a)(Object(c.a)({},e.completed),{},{x:(100-n)/2});return{current:r,completed:r}}))},children:Object(a.jsx)(Zs.a,{})})}),!l&&Object(a.jsx)(Xa.a,{placement:"left",overlay:k["image-cropper.button.center-horizontal.tooltip"],children:Object(a.jsx)("div",{className:"image-option alignment-middle-option",onClick:()=>{P(!0),X((e=>{var t;const{height:n,y:a}=null!==(t=e.completed)&&void 0!==t?t:{};if("number"!==typeof n||"number"!==typeof a)return e;const r=Object(c.a)(Object(c.a)({},e.completed),{},{y:(100-n)/2});return{current:r,completed:r}}))},children:Object(a.jsx)(Zs.a,{})})})]}),(!ee||H&&void 0===C)&&!D&&Object(a.jsx)(qs.a,{description:k["image-cropper.not-found-warning"],image:null}),Object(a.jsx)($s.a,{src:"offline"===N?B:K,disabled:l,className:l?"force-fitted":"",imageStyle:o?{backgroundColor:o}:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/transparent-tile.png")')},onImageLoaded:Z,onImageError:()=>{if(b)if("online"===N&&""===(null!==K&&void 0!==K?K:"")||"offline"===N&&""===(null!==B&&void 0!==B?B:"")){J.current={source:"",crop:null};const{width:e,height:t}=b,n=b.getContext("2d");null===n||void 0===n||n.clearRect(0,0,e,t),$&&y($,N,M),g(C),W(!1),A("Image not found")}else F(void 0),j();else J.current={source:"",crop:null},W(!1),A("No receiving canvas"),j();void 0===C&&(W(!1),A("Tainted canvas"))},crop:_,onDragStart:()=>{P(!0)},onChange:(e,t)=>{const n=Y.current;J.current.crop||(V?X((e=>Object(c.a)(Object(c.a)({},e),{},{current:ac(t,n,f)}))):(q(!0),X((t=>Object(c.a)(Object(c.a)({},t),{},{current:ac(e,n,f)})))))},onComplete:(e,t)=>{J.current.crop||X((e=>Object(c.a)(Object(c.a)({},e),{},{completed:t})))},ruleOfThirds:!0,crossorigin:C},"".concat(N,"-").concat(V,"-").concat(L))]})]})}));function oc(){const e=Object(Ua.a)(["\n    color: var(--color);\n    font-size: var(--fs-sm);\n    border-bottom: var(--bw) solid var(--sub-level-4);\n    padding: 0 var(--spacing);\n    padding-bottom: var(--spacing-xs);\n    line-height: 1;\n    cursor: default;\n    &:hover {\n        cursor: default;\n        background: var(--main-level-3);\n    }\n"]);return oc=function(){return e},e}function ic(){const e=Object(Ua.a)(["\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    background-color: var(--main-level-3);\n    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05); // Mimic antd\n    padding: var(--spacing-xs) 0;\n    color: var(--color);\n"]);return ic=function(){return e},e}function lc(){const e=Object(Ua.a)(["\n    display: flex;\n    align-items: center;\n    padding: var(--spacing-xs) var(--spacing);\n    cursor: pointer;\n    &:hover {\n        background-color: var(--sub-active);\n    }\n    &.menu-active {\n        background-color: var(--main-active);\n        &:hover {\n            background-color: var(--sub-active);\n        }\n    }\n"]);return lc=function(){return e},e}function sc(){const e=Object(Ua.a)(["\n    font-weight: 500;\n    border-color: transparent;\n    background-color: transparent;\n    color: var(--color-vendor);\n    text-shadow: var(--ts);\n    user-select: none;\n    display: inline-block;\n    height: 32px;\n    width: var(--width-label);\n    line-height: 30px;\n    position: relative;\n    min-width: var(--width-label);\n    text-align: right;\n    padding-right: var(--spacing-antd);\n"]);return sc=function(){return e},e}const cc=e=>Object(a.jsx)(ji,{fallback:Object(a.jsx)(a.Fragment,{}),children:Object(a.jsx)(vi.a,Object(c.a)({},e))}),uc=Va.b.div(sc()),dc=Va.b.div(lc()),bc=Va.b.div(ic()),mc=Va.b.div(oc()),pc={Container:bc,Option:dc};function hc(){const e=Object(Ua.a)(["\n    padding: 0;\n    .button-label {\n        height: 100%; // Alignment\n        align-content: center;\n        border-radius: var(--br-lg);\n        line-height: 1.5;\n        .label-content {\n            padding: 4px 15px;\n            border: var(--bw) solid transparent;\n            border-radius: var(--br-lg);\n            line-height: 29px; // Alignment\n        }\n    }\n"]);return hc=function(){return e},e}function fc(){const e=Object(Ua.a)(["\n    position: absolute;\n    right: 0;\n    top: 0;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding: var(--spacing-xs) var(--spacing);\n    border-left: var(--bw) solid var(--sub-secondary);\n    border-radius: 0 var(--br-lg) var(--br-lg) 0;\n    color: var(--color);\n    cursor: pointer;\n    .anticon {\n        font-size: var(--fs-2xl);\n        margin-left: 0;\n    }\n    .resolution-overlay {\n        position: absolute;\n        left: 50%;\n        bottom: 3px; // Alignment\n        font-size: var(--fs-xs);\n        text-align: center;\n        transform: translateX(-50%);\n    }\n    .resolution-icon {\n        transform: translateY(-5px); // Alignment\n    }\n"]);return fc=function(){return e},e}const gc=Va.b.div(fc()),vc=Object(Va.b)(hi.a)(hc()),yc=Object(r.forwardRef)(((e,t)=>{let{isTainted:n,isInitializing:o,imageChangeCount:i,globalScale:l,canvasMap:s,onDownloadError:c}=e;const u=lr(),{allowHotkey:d,resolution:b}=Dr(Object(ri.useShallow)((e=>{let{setting:{allowHotkey:t,resolution:n}}=e;return{allowHotkey:t,resolution:n}}))),{onExport:m}=ai(!0,s,{imageChangeCount:i,isInitializing:o,language:u,globalScale:l}),{exportCanvasRef:p}=s,h=Object(r.useRef)({currentPipeline:Promise.resolve(),pipelineRunning:!1}),[f,g]=Object(r.useState)(!1),v=Object(r.useCallback)((()=>{g(!1)}),[]),{onSave:y,isPipelineRunning:j}=Wr({isTainted:n,isInitializing:o,exportCanvasRef:p,exportRef:h,onExport:m,onDownloadError:c,onDownloadComplete:v}),x=e=>{f||(n?Ga.a.error({message:u["prompt.download.tainted.message"]}):(g(!0),y(e)))};return Object(r.useImperativeHandle)(t,(()=>({download:x,isPipelineRunning:j}))),n?null:Object(a.jsxs)("div",{className:"save-button-container",children:[Object(a.jsx)("div",{id:"save-button-waiting"}),Object(a.jsxs)(vc,{className:"save-button",id:"save-button-ready",children:[Object(a.jsx)(Xa.a,{overlay:d?Object(a.jsx)(a.Fragment,{children:"Ctrl-S / \u2318-S"}):null,children:Object(a.jsx)("div",{className:"button-label",children:Object(a.jsx)("div",{className:"label-content",onClick:()=>x(),children:f?u["button.download.ongoing.label"]:u["button.download.label"]})})}),Object(a.jsx)(fi.a,{disabled:f,className:"save-button-dropdown",placement:"bottomRight",overlay:Object(a.jsx)(Vs,{onChange:()=>Ma()}),children:Object(a.jsxs)(gc,{className:"resolution-option",onClick:e=>e.stopPropagation(),children:[Object(a.jsx)(gi.a,{className:"resolution-icon"}),Object(a.jsx)("span",{className:"resolution-overlay",children:b[1]})]})})]})]})}));var jc=n(589),xc=n(590),Oc=n(591);function wc(){const e=Object(Ua.a)(["\n    position: relative;\n    .copiable-overlay {\n        align-items: center;\n        background-color: var(--color-contrast);\n        font-size: var(--fs);\n        font-weight: bold;\n        border-radius: var(--br);\n        color: var(--color);\n        display: flex;\n        height: 100%;\n        justify-content: center;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%;\n        z-index: 999;\n    }\n"]);return wc=function(){return e},e}function kc(){const e=Object(Ua.a)(["\n    "," {\n        font-size: var(--fs);\n        padding-bottom: var(--spacing-sm);\n        .icon {\n            font-size: var(--fs-4xl);\n        }\n        &.export-download-image {\n            border-radius: var(--br-lg) var(--br-lg) 0 0;\n            border-bottom: var(--bw) solid var(--sub-secondary);\n            &:disabled {\n                border-bottom: var(--bw) solid var(--main-level-1);\n            }\n        }\n    }\n    .radio-train-input-group {\n        flex-wrap: wrap;\n    }\n    .export-container-result {\n        margin-top: var(--spacing-lg);\n        display: grid;\n        gap: var(--spacing-lg);\n        align-items: center;\n        grid-template-columns: 1fr 1fr 1fr 1fr;\n        &.mode_other {\n            grid-template-columns: 1fr 1fr;\n        }\n        button {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            width: 100%;\n            height: 100%;\n        }\n        > div {\n            height: 100%;\n        }\n    }\n    .partial-alert {\n        margin-top: var(--spacing-lg);\n        padding-bottom: var(--spacing-sm);\n        border-bottom: var(--bw) solid var(--sub-secondary);\n        + .export-container-result {\n            margin-top: var(--spacing-sm);\n        }\n    }\n    .resolution-picker {\n        background-color: var(--main-level-4);\n        border-radius: 0 0 var(--br-lg) var(--br-lg);\n        padding: var(--spacing-xs);\n        line-height: 1;\n        text-align: center;\n        border: var(--bw) solid transparent;\n        cursor: pointer;\n    }\n    .export-input-raw {\n        grid-column: 1 / -1;\n    }\n"]);return kc=function(){return e},e}const Sc=Va.b.div(kc(),_a),Cc=Object(Va.b)(_a)(wc()),Fc=e=>{let{data:t,children:n,disabled:o,withText:i}=e;const[l,s]=Object(r.useState)(!1);return Object(a.jsxs)(Cc,{disabled:o,onClick:e=>{var n;e.stopPropagation(),n=t,_i()(n),s(!0),setTimeout((()=>{s(!1)}),1e3)},children:[l?Object(a.jsx)("div",{className:"copiable-overlay",children:i?Object(a.jsxs)(a.Fragment,{children:["Copied\xa0",Object(a.jsx)($i.a,{})]}):Object(a.jsx)($i.a,{})}):null,n]})},Lc=e=>[{label:e["button.import.for-ygocarder.label"],value:"ygocarder",converter:qn},{label:e["button.import.for-other.label"],value:"other",converter:ma}],Tc=Object(r.forwardRef)(((e,t)=>{let{tainted:n,artworkCanvas:o,onRequireExportData:i,onRequireDownload:l,onClose:s}=e;const[u,d]=Object(r.useState)(!1),[b,m]=Object(r.useState)("ygocarder"),[p,h]=Object(r.useState)({other:{name:"",data:"",isPartial:!1},ygocarder:{name:"",data:"",isPartial:!1}}),{allowHotkey:f,resolution:g}=Dr(Object(ri.useShallow)((e=>{let{setting:{allowHotkey:t,resolution:n}}=e;return{allowHotkey:t,resolution:n}}))),v=lr(),y="export-input-raw",j=Object(r.useCallback)((()=>{const e=document.getElementById(y);e&&(e.focus(),e.select())}),[]);Object(r.useImperativeHandle)(t,(()=>({setCardData:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&d(!0),h(Lc(v).map((t=>{let{value:n,converter:a}=t;try{const{isPartial:t,result:r}=a(e,o);return{value:n,isPartial:t,name:Zn(e.name),data:"".concat(JSON.stringify(r))}}catch(r){return console.error(r),{value:n,isPartial:!1,name:"Unknown",data:""}}})).reduce(((e,t)=>{let{data:n,isPartial:a,value:r,name:o}=t;return e[r]={name:o,data:n,isPartial:a},e}),Object(c.a)({},p)))}}))),Object(r.useEffect)((()=>{setTimeout((()=>{u&&"ygocarder"===b&&j()}),100)}),[b,j,u]);const{data:x,isPartial:O,name:w}=p[b];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ya.a,{visible:u,title:v["button.export-modal.label"],className:"global-overlay",onCancel:()=>{d(!1),s()},cancelText:v["converter.cancel.label"],okButtonProps:{style:{display:"none"}},width:600,destroyOnClose:!1,children:Object(a.jsxs)(Sc,{children:[Object(a.jsx)(Gi,{optionList:Lc(v),onChange:e=>m(e),value:b}),"other"===b&&O&&Object(a.jsxs)("div",{className:"partial-alert",children:[Object(a.jsx)("b",{children:v["service.decode.partial.message"]}),Object(a.jsx)("br",{}),v["service.decode.partial.description"]]}),Object(a.jsxs)("div",{className:Ka("export-container-result","mode_".concat(b)),children:[Object(a.jsx)(dl,{content:n&&"other"===b?Object(a.jsx)(Jl,{}):void 0,children:Object(a.jsx)("div",{children:Object(a.jsxs)(_a,{disabled:n&&"other"===b,onClick:()=>{const e=new Blob([x],{type:"application/json"});ta(Zn(w),e,"application/json")},children:[Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(Js.a,{})}),Object(a.jsx)("div",{className:"label",children:v["button.export-modal.download-button.label"]})]})})}),"ygocarder"===b&&Object(a.jsx)(dl,{placement:"bottom",content:O?Object(a.jsx)(ul,{children:v["prompt.export.offline-warning.message"]}):void 0,children:Object(a.jsx)("div",{children:Object(a.jsxs)(Fc,{disabled:O,data:p.ygocarder.data,withText:!0,children:[Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(jc.a,{})}),Object(a.jsx)("div",{className:"label",children:v["button.export-modal.copy-button.label"]})]})})}),"ygocarder"===b&&Object(a.jsx)(dl,{placement:"bottom",content:O?Object(a.jsx)(ul,{children:v["image-cropper.offline-warning"]}):void 0,children:Object(a.jsx)("div",{children:Object(a.jsxs)(Fc,{disabled:O,data:window.location.href,withText:!0,children:[Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(xc.a,{})}),Object(a.jsx)("div",{className:"label",children:v["button.export-modal.share-button.label"]})]})})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(dl,{content:n?Object(a.jsx)(Jl,{}):void 0,children:Object(a.jsx)("div",{children:Object(a.jsxs)(_a,{disabled:n,className:"export-download-image",onClick:l,children:[Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(Oc.a,{})}),Object(a.jsx)("div",{className:"label",children:v["button.export-modal.save-button.label"]})]})})}),Object(a.jsx)(fi.a,{overlay:Object(a.jsx)(Vs,{}),children:Object(a.jsxs)("div",{className:"resolution-picker",children:[g[0]," \xd7 ",g[1]]})})]}),"ygocarder"===b&&!O&&Object(a.jsx)(ps.a.TextArea,{id:y,className:"export-input-raw",size:"small",value:p.ygocarder.data,rows:5})]})]})}),Object(a.jsx)(Xa.a,{overlay:f?Object(a.jsx)(a.Fragment,{children:"Ctrl-D / \u2318-D"}):null,children:Object(a.jsx)("button",{className:"primary-button export-button",onClick:()=>{i(),d(!0)},children:v["button.export.label"]})}),Object(a.jsx)(fi.a,{overlay:Object(a.jsx)(Ks.a,{onClick:e=>e.domEvent.stopPropagation(),children:Lc(v).map(((e,t)=>{let{converter:n,label:r}=e;return Object(a.jsx)(Ks.a.Item,{onClick:()=>{try{const e=Er.getState().card,{result:t}=n(e,o);((e,t)=>{const n=new Blob([t],{type:"application/json"});ta(Zn(e),n,"application/json")})(Zn(e.name),"".concat(JSON.stringify(t)))}catch(e){console.error(e),Ga.a.error({message:v["error.export.message"],description:v["error.export.description"]})}},children:r},"".concat(t))}))}),children:Object(a.jsx)(_a,{className:"secondary-button export-custom",children:Object(a.jsx)(Js.a,{})})})]})}));var Nc=n(592);function Rc(){const e=Object(Ua.a)(["\n    .ant-dropdown-menu-item {\n        padding: 0;\n    }\n    .import-upload-button {\n        /** Mimic antd */\n        cursor: pointer;\n        padding: 5px 12px;\n        background: transparent;\n        border: none;\n        width: 100%;\n        text-align: left;\n    }\n    .import-upload-input {\n        display: none;\n    }\n"]);return Rc=function(){return e},e}function zc(){const e=Object(Ua.a)(["\n    .prompt-alert {\n        margin-bottom: var(--spacing-sm);\n        .alert {\n            color: var(--main-danger);\n        }\n    }\n    .import-container-upload {\n        margin-top: var(--spacing-sm);\n        text-align: center;\n        .import-custom,\n        .import-empty {\n            font-size: var(--fs);\n        }\n        .import-custom {\n            margin-right: var(--spacing);\n        }\n        .option-separator {\n            display: inline-block;\n            margin-right: var(--spacing);\n        }\n        "," {\n            background-color: var(--main-level-4);\n            border: var(--bw) solid var(--color-contrast);\n            &:hover {\n                background-color: var(--sub-level-4);\n            }\n        }\n    }\n"]);return zc=function(){return e},e}const Ic=Va.b.div(zc(),_a),Bc=Object(r.forwardRef)(((e,t)=>{let{allowHotkey:n,language:o,onImport:i,onClose:l}=e;const s="import-direct-upload",u="import-upload",d="import-textarea",b=Object(r.useRef)(null),m=Object(r.useRef)(null),[p,h]=Object(r.useState)(0),[f,g]=Object(r.useState)("replace"),[v,y]=Object(r.useState)(!1),[j,x]=Object(r.useState)(!1),O=Object(r.useCallback)((()=>{const e=document.getElementById(d);e&&(e.focus(),e.select())}),[]);Object(r.useEffect)((()=>{setTimeout((()=>{v&&O()}),100)}),[O,v]),Object(r.useImperativeHandle)(t,(()=>({requestImport:e=>{g(e),y(!0)}})));const w=()=>{h((e=>e+1)),y(!1),x(!1),l()},k=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(e){const{card:n,isPartial:a}=Ir(e,"replace"===f||"new"===f?void 0:Er.getState().card);if(a&&Ga.a.info({message:o["service.decode.partial.message"],description:o["service.decode.partial.description"]}),t&&"online"===n.artSource&&ea(n.art)){const e=Object(c.a)({},n);i(e,{forcePurityCheck:!0,writeOnCurrentCard:"new"!==f,addToList:"new"===f})}else i(n,{forcePurityCheck:!0,writeOnCurrentCard:"new"!==f,addToList:"new"===f})}}catch(n){console.error("Import error:",n),Ga.a.error({message:o["error.import.error.message"],description:o["error.import.error.description"]})}},S=e=>{if(e)for(let t=0;t<=e.length;t++){const n=e.item(t);if(!n)continue;const a=new FileReader;a.onload=e=>{let{target:t}=e;if(!t)return;const{result:n}=t;"string"===typeof n&&k(n)},a.readAsText(n);break}},C=async()=>{try{const a=document.getElementById(d);if(a){var e;const{value:r}=a,o=null!==(e=r.trim())&&void 0!==e?e:"";let i="";try{i=An(decodeURIComponent(o))}catch(n){}let l=null;if(o.startsWith("{")&&o.endsWith("}"))l=o;else if(i.startsWith("{")&&i.endsWith("}"))l=JSON.parse(i);else{var t;const e=o.startsWith("https://db.ygoprodeck.com/api")?o:"https://db.ygoprodeck.com/api/v7/cardinfo.php?fname=".concat(o,"&num=10&offset=0&misc=yes");x(!0);const n=await fetch(e);if(!n.ok)throw new Error("Response status: ".concat(n.status));const a=await n.json();l=null!==(t=a.data.find((e=>{let{name:t}=e;return t.toLowerCase()===o.toLowerCase()})))&&void 0!==t?t:a.data.sort(((e,t)=>{var n,a;const r=null===(n=e.misc_info)||void 0===n?void 0:n[0],o=null===(a=t.misc_info)||void 0===a?void 0:a[0];if(!r||!o)return 0;return(r.viewsweek+1)/(o.viewsweek+1)>2?o.viewsweek-r.viewsweek:o.views-r.views}))[0]}await k(l,!0)}}catch(n){console.error("Import error:",n),Ga.a.error({message:o["error.import.error.message"],description:o["error.import.error.description"]})}finally{w()}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ya.a,{visible:v,title:"merge"===f?o["button.import.merge.label"]:o["button.import.label"],className:"global-overlay",onCancel:w,okText:o["prompt.import.ok.label"],confirmLoading:j,cancelButtonProps:{style:{display:"none"}},destroyOnClose:!1,onOk:C,children:Object(a.jsxs)(Ic,{children:["merge"!==f?Object(a.jsxs)("div",{className:"prompt-alert",children:[o["prompt.import.instruction.line-1"],Object(a.jsx)("br",{}),o["prompt.import.instruction.line-2"],Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"alert",children:o["prompt.import.instruction.alert.line-1"]})]}):null,Object(a.jsx)("div",{className:"import-container-input",children:Object(a.jsx)(ps.a.TextArea,{id:d,className:"import-input-raw",size:"small",placeholder:o["prompt.import.message"],disabled:j,onPressEnter:C,rows:4},"input-".concat(p))}),"merge"!==f?Object(a.jsxs)("div",{className:"import-container-upload",children:[Object(a.jsx)("span",{className:"option-separator",children:o["prompt.import.alternative.label"]}),Object(a.jsxs)(_a,{className:"import-custom",onClick:()=>{const e=document.getElementById(u);e&&e.click()},children:[Object(a.jsx)("input",{ref:m,type:"file",id:u,accept:"application/json",className:"import-upload-input",onChange:()=>{var e;const t=null===(e=m.current)||void 0===e?void 0:e.files;S(t),w()}},"file-input-".concat(p)),o["button.import.tooltip"]]}),"new"===f&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"option-separator",children:o["prompt.import.alternative.label"]}),Object(a.jsx)(_a,{className:"import-empty",onClick:()=>{k(Pt()),w()},children:o["button.empty.label"]})]})]}):null]})}),Object(a.jsx)(Xa.a,{overlay:n?Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("div",{children:"Ctrl-E / \u2318-E"}),Object(a.jsxs)("div",{children:["Ctrl-G / \u2318-G",o["prompt.import.merge.tooltip"]]})]}):null,children:Object(a.jsx)("button",{className:"primary-button import-button",onClick:()=>{g("replace"),y(!0)},children:o["button.import.label"]})}),Object(a.jsx)(Xa.a,{overlay:o["button.import.tooltip"],children:Object(a.jsxs)(_a,{className:"secondary-button import-custom",onClick:()=>{const e=document.getElementById(s);e&&e.click()},children:[Object(a.jsx)("input",{ref:b,type:"file",id:s,accept:"application/json",className:"import-upload-input",onChange:()=>{var e;const t=null===(e=b.current)||void 0===e?void 0:e.files;S(t),w()}},"direct-file-input-".concat(p)),Object(a.jsx)(Nc.a,{})]})})]})})),Ec=(Object(Va.b)(Ks.a)(Rc()),[{label:"OCG",value:"ocg",props:{className:"ocg-button",style:{fontWeight:"bold"}}},{label:"TCG",value:"tcg",props:{className:"tcg-button",style:{fontWeight:"bold"}}}]),Dc=[{value:"normal",label:Object(a.jsx)(C.a,{})},...Object.values(j).map((e=>{let{value:t,label:n}=e;return{label:n,value:t}}))],Wc=()=>Ee.map((e=>{let{name:t,nameKey:n,labelBackgroundColor:r,labelBackgroundColorList:o,edition:i}=e;return{label:Object(a.jsx)(ms,{labelBackgroundColor:r,labelBackgroundColorList:o,nameKey:n}),value:t,edition:i}})),Hc=[...Array(14)].map(((e,t)=>({label:t,value:t}))),Ac=E.map((e=>{let{value:t}=e;return{label:t===B?Object(a.jsx)(C.a,{}):Object(a.jsx)("img",{alt:t,src:"".concat("/ygocarder","/asset/image/sticker/sticker-").concat(t.toLowerCase(),".png")}),value:t}})),Mc=Object.entries({veryStrict:{label:"5",order:1},strict:{label:"4",order:2},loose:{label:"3",order:3},veryLoose:{label:"2",order:4},relaxed:{label:"1",order:5}}).map((e=>{let[t,{label:n,order:a}]=e;return{label:n,value:t,order:a}})).sort(((e,t)=>e.order-t.order));var Pc=n(603);function Kc(){const e=Object(Ua.a)(["\n    z-index: 10;\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    align-items: center;\n    column-gap: var(--spacing-sm);\n\n    .char-picker {\n        z-index: 1;\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));\n        button.ant-btn {\n            padding: 0 var(--spacing-xs);\n        }\n        .handler,\n        .ant-btn {\n            background-color: var(--main-level-1);\n            color: var(--color-heavy);\n            text-shadow: var(--ts);\n            font-family: Segoe UI Symbol, sans-serif;\n            border: 1px solid var(--sub-level-1);\n            border-radius: 0;\n            padding: 0 var(--spacing);\n            + .ant-btn {\n                border-left-width: 0;\n            }\n            &:hover {\n                color: var(--main-active);\n            }\n            &:first-child {\n                border-radius: var(--br) 0 0 var(--br);\n            }\n            &:last-child {\n                border-radius: 0 var(--br) var(--br) 0;\n            }\n        }\n        /** Currently char picker no longer movable */\n        /* .handler {\n            cursor: grabbing;\n            background-color: var(--main-level-2);\n            height: unset;\n            font-size: var(--fs-xl);\n            height: var(--fs-xl);\n            line-height: 1;\n            padding: 0;\n            text-align: center;\n        } */\n    }\n    .moveable-control-box {\n        .moveable-control.moveable-origin,\n        .moveable-line.moveable-direction {\n            border-color: transparent;\n            background: none;\n        }\n    }\n"]);return Kc=function(){return e},e}const Uc=Va.b.div(Kc()),Yc=e=>{let{targetId:t="",onPick:n=(()=>{})}=e;const r=lr(),o=e=>{const a=document.getElementById(t);if(a){const{value:t}=function(e,t){if(document.selection)return e.focus(),document.selection.createRange().text=t,{value:e.value,position:0};if(e.selectionStart||0===e.selectionStart){const n=e.selectionStart,a=e.selectionEnd;return e.value=e.value.substring(0,n)+t+e.value.substring(a,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.focus(),{value:e.value,position:n+t.length}}return e.value+=t,{value:e.value,position:0}}(a,e);n(t,e)}};return Object(a.jsxs)(Uc,{tabIndex:-1,className:"char-picker-container",children:[Object(a.jsx)("div",{id:"char-picker",className:"char-picker",children:["\u221e","\u2606","\u2605","\u25cf","\xa9","\u2122","\u2c6f","\u042f","\u2205","\u203b"].map((e=>Object(a.jsx)("button",{tabIndex:-1,className:"ant-btn",onClick:()=>o(e),children:e},e)))}),Object(a.jsx)("div",{className:"char-picker-guideline",children:Object(a.jsx)(zi,{content:Object(a.jsxs)(ul,{children:[r["input.char-picker.guide.header"],Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:r["input.char-picker.guide.instruction-1"]}),Object(a.jsx)("li",{children:r["input.char-picker.guide.instruction-2"]})]})]})})})]})};var Gc=n(594),Xc=n(570);n(529),n(530);const Vc=Object(r.forwardRef)(((e,t)=>{let{disabled:n,color:o,onSelect:i,onOffsetChange:l,onRemove:s}=e;const c=lr(),[u,d]=Object(r.useState)(o),[b,m]=Object(r.useState)(0),[p,h]=Object(r.useState)(-1),f=Object(r.useRef)(nr()(m,250)).current;return Object(r.useImperativeHandle)(t,(()=>({setColor:e=>{if(e){const{color:t,offset:n,id:a}=e,{min:r,max:o,round:i}=Math;d(t),m(o(0,r(100,i(100*parseFloat(n))))),h(a)}},setCurrentOffset:(e,t)=>{const{min:n,max:a,round:r}=Math;e===p&&m(a(0,n(100,r(100*parseFloat(t)))))}}))),Object(r.useEffect)((()=>{p>0&&(null===l||void 0===l||l(p,"".concat(b/100)))}),[p,b,l]),Object(a.jsxs)("div",{className:"stop-point-control-panel",children:[Object(a.jsxs)("div",{className:"stop-point-offset-input",children:[Object(a.jsxs)("div",{children:[c["input.name-style.gradient.color-stop.label"],": ",Object(a.jsx)(Xc.a,{value:b,size:"small",max:100,min:0,onChange:e=>f("string"===typeof e?parseInt(e):null!==e&&void 0!==e?e:0)})]}),Object(a.jsx)(hi.a,{className:"remove-stop-color",size:"small",disabled:n,onClick:()=>null===s||void 0===s?void 0:s(p),children:c["input.name-style.gradient.color-remove.label"]})]}),Object(a.jsx)(ys.a,{styles:{default:{picker:{color:"#000000",background:"var(--main-level-3)",boxShadow:"none"},body:{padding:"var(--spacing) var(--spacing)"}}},disableAlpha:!0,color:u,onChange:e=>d(e.hex),onChangeComplete:e=>{d(e.hex),null===i||void 0===i||i(e.hex)}})]})})),qc=e=>({colorList:e,raw:Ra(e)}),_c=e=>{var t,n;let{palette:o=Ra(Na()),angle:i=180,memoizedOnChange:l}=e;const s=lr(),u=Object(r.useRef)(null),[d,b]=Object(r.useState)(i),[m,p]=Object(r.useState)((()=>{var e,t;const n=za(o);return{raw:o,colorList:n,currentControlId:null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1}})),h=Object(r.useCallback)(((e,t)=>p((n=>{const a=n.colorList.map((n=>n.id===e?Object(c.a)(Object(c.a)({},n),{},{offset:t}):n));return Object(c.a)(Object(c.a)({},n),qc(a))}))),[]);Object(r.useEffect)((()=>{b(i)}),[i]),Object(r.useEffect)((()=>{var e,t;const n=za(o);p({raw:o,colorList:n,currentControlId:null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1})}),[o]);const f=Object(r.useRef)(!1);return Object(r.useEffect)((()=>{var e;m.colorList[0]&&f.current&&(f.current=!0,null===(e=u.current)||void 0===e||e.setColor(m.colorList[0]))}),[m.colorList]),Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{const{colorList:t,currentControlId:n}=m;if(e&&n>=0){var a;const e=t.find((e=>e.id===n));e&&(null===(a=u.current)||void 0===a||a.setCurrentOffset(n,e.offset))}}),100),()=>{e=!1}}),[m]),Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&l(m.colorList,d)}),200),()=>{e=!1}}),[m,d,l]),Object(a.jsxs)("div",{className:Ka(wi,"gradient-picker-container"),children:[Object(a.jsxs)("div",{className:"gradient-angle-control",children:[Object(a.jsx)("h2",{children:s["input.name-style.gradient.color-point.label"]}),Object(a.jsxs)(hi.a,{size:"small",className:"add-stop-color",disabled:(null!==(t=null===(n=m.colorList)||void 0===n?void 0:n.length)&&void 0!==t?t:1e4)>20,onClick:()=>{p((e=>{const t=[...e.colorList,{offset:"0.5",color:"#ffffff",id:e.colorList.length+1}].sort(((e,t)=>Number(e.offset)-Number(t.offset)));return Object(c.a)(Object(c.a)({},e),qc(t))}))},children:[s["input.name-style.gradient.add-point.label"]," (",m.colorList.length,"/",20,")"]}),Object(a.jsx)(Si,{angle:d,size:120,setAngle:b,children:Object(a.jsx)("h2",{children:s["input.name-style.gradient.gradient-direction.label"]})})]}),Object(a.jsx)("div",{className:"stop-color-picker-container",children:Object(a.jsx)(xi.GradientPicker,Object(c.a)(Object(c.a)({},{width:370,paletteHeight:32,maxStops:20,minStops:2,stopRemovalDrop:99999,palette:m.colorList,onPaletteChange:e=>p((t=>Object(c.a)(Object(c.a)({},t),qc(e)))),onColorStopSelect:e=>{var t;p((t=>Object(c.a)(Object(c.a)({},t),{},{currentControlId:e.id}))),null===(t=u.current)||void 0===t||t.setColor(e)}}),{},{children:Object(a.jsx)(Vc,{ref:u,disabled:m.colorList.length<=1,onOffsetChange:h,onRemove:e=>{p((t=>{var n;const a=t.colorList.filter((t=>t.id!==e)),r=null!==(n=null===a||void 0===a?void 0:a[0].id)&&void 0!==n?n:-1;var o;r>0&&m.colorList[r]&&(null===(o=u.current)||void 0===o||o.setColor(m.colorList[r]));return Object(c.a)(Object(c.a)({},qc(a)),{},{currentControlId:r})}))}})}))})]})};function $c(){const e=Object(Ua.a)(["\n    line-height: 0;\n    cursor: pointer;\n    min-height: 26.13px;\n    &.menu-active {\n        outline: var(--bw-lg) solid var(--main-active);\n        &:hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.preset-item-focused {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    :hover {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    img {\n        max-width: 100%;\n    }\n"]);return $c=function(){return e},e}function Jc(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: repeat(4, 120px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    &:focus-visible {\n        outline: none;\n        box-shadow: 0 0 0 2px var(--focus) inset;\n    }\n"]);return Jc=function(){return e},e}function Zc(){const e=Object(Ua.a)(["\n    line-height: 0;\n    cursor: pointer;\n    align-self: center;\n    text-align: center;\n    &:not(.menu-off) {\n        min-height: 23.2px;\n        &.menu-active {\n            outline: var(--bw-lg) solid var(--main-active);\n            &:hover {\n                outline: var(--bw-lg) solid var(--sub-active);\n            }\n        }\n        :hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.menu-off {\n        &:hover {\n            color: var(--main-link);\n            .anticon {\n                color: var(--main-link);\n            }\n        }\n    }\n    img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n    }\n"]);return Zc=function(){return e},e}function Qc(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 200px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    .alert {\n        grid-column: span 2;\n        font-size: var(--fs-sm);\n        text-align: center;\n    }\n"]);return Qc=function(){return e},e}const eu=Object(Va.b)(pc.Container)(Qc()),tu=Va.b.div(Zc()),nu=Object(Va.b)(pc.Container)(Jc()),au=Va.b.div($c());var ru=n(305);const ou=Object(r.forwardRef)(((e,t)=>{let{className:n,defaultValue:o,fieldMap:i,labelMap:l,onChange:s}=e;const u=lr(),{x:d,y:b,color:m,width:p}=i,[h,f]=Object(r.useState)((()=>{const e=o[d],t=o[b],n=o[m],a=o[p];return{x:null!==e&&void 0!==e?e:0,y:null!==t&&void 0!==t?t:0,width:null!==a&&void 0!==a?a:0,color:n}})),{x:g,y:v,color:y,width:j}=h,x=l[p];return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&s(h)}),500),()=>{e=!1}}),[h]),Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{const t=Object.keys(e);for(const n in t)if(e[n]!==h[n])return void f((t=>Object(c.a)(Object(c.a)({},t),e)))}}))),Object(a.jsxs)("div",{className:n,children:[Object(a.jsx)("h2",{children:u["input.name-style.slider.position.label"]}),Object(a.jsxs)("div",{className:"line-position",children:[Object(a.jsx)(ru.a,{axis:"xy",styles:{track:{backgroundColor:"var(--main-slider)",width:100,height:100,gridRow:"span 3",position:"relative"},thumb:{backgroundColor:"var(--sub-slider)",zIndex:10}},xmax:8,xmin:-8,ymax:8,ymin:-8,x:null!==g&&void 0!==g?g:0,y:null!==v&&void 0!==v?v:0,onChange:e=>{let{x:t,y:n}=e;return f((e=>Object(c.a)(Object(c.a)({},e),{},{x:t,y:n})))}}),Object(a.jsxs)("div",{className:"single-slider",children:[u["input.name-style.slider.x-offset.label"],": ",Object(a.jsx)(Xc.a,{size:"small",value:g,onChange:e=>f((t=>Object(c.a)(Object(c.a)({},t),{},{x:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})))})]}),Object(a.jsxs)("div",{className:"single-slider",children:[u["input.name-style.slider.y-offset.label"],": ",Object(a.jsx)(Xc.a,{size:"small",value:v,onChange:e=>f((t=>Object(c.a)(Object(c.a)({},t),{},{y:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})))})]}),Object(a.jsxs)("div",{className:"single-slider",children:[x,":\xa0",Object(a.jsx)(cc,{value:j,min:1,max:10,onChange:e=>{"number"===typeof e&&f((t=>Object(c.a)(Object(c.a)({},t),{},{width:e})))}})]})]}),Object(a.jsx)("h2",{children:u["input.name-style.slider.color.label"]}),Object(a.jsx)(ys.b,{colors:Ut,color:y,onChangeComplete:e=>f((t=>Object(c.a)(Object(c.a)({},t),{},{color:e.hex})))})]})})),iu=Object(r.forwardRef)(((e,t)=>{let{active:n,value:o,onClick:i,onCancel:l}=e;const s=Object(r.useRef)(null),[u,d]=Object(r.useState)(0);return Object(r.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.focus()}}))),Object(a.jsx)(nu,Object(c.a)(Object(c.a)({ref:s},Ba({stopPropagation:!0,optionLength:G.length,setFocus:d,onTrigger:()=>{u>=0&&i(G[u])},onCancel:()=>{null===l||void 0===l||l()}})),{},{children:G.map(((e,t)=>{const{key:r,image:l,label:s}=e;return Object(a.jsx)(au,{className:Ka("preset-item",o.preset===r&&n?"menu-active":"",u===t?"preset-item-focused":""),onClick:t=>{t.stopPropagation(),i(e)},children:Object(a.jsx)("img",{className:"preset-preview",src:"".concat("/ygocarder","/").concat(l),alt:s})},r)}))}))}));var lu=n(593);function su(){const e=Object(Ua.a)(["\n    display: inline-grid;\n    grid-template-columns: max-content max-content;\n    color: var(--color);\n    .emboss-control-title {\n        grid-column: -1 / 1;\n        font-size: var(--fs-sm);\n        text-align: center;\n        padding: var(--spacing-sm);\n        padding-bottom: 0;\n    }\n    .emboss-control-left h2 {\n        padding: var(--spacing-sm) 0;\n    }\n    .angle-picker-container {\n        text-align: center;\n    }\n    .emboss-control-right {\n        padding: var(--spacing-sm) 0;\n    }\n    .emboss-control-left {\n        padding: var(--spacing-sm);\n        padding-top: 0;\n    }\n    .slider-label {\n        padding: 0;\n        border: none;\n    }\n    .vertical-angle-control {\n        grid-template-columns: max-content 60px 85px 12px;\n    }\n    .reset-button {\n        cursor: pointer;\n        &:hover {\n            color: var(--color-heavy);\n        }\n    }\n    .navigate-button {\n        cursor: pointer;\n        color: var(--main-link);\n        &:hover {\n            color: var(--sub-link);\n        }\n    }\n    .thickness-row {\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        column-gap: var(--spacing-sm);\n        align-items: center;\n        .ant-slider {\n            height: unset;\n            margin-top: var(--spacing-xs);\n            margin-bottom: var(--spacing-xs);\n        }\n    }\n"]);return su=function(){return e},e}function cu(){const e=Object(Ua.a)(["\n    border: var(--bw) solid var(--sub-level-2);\n    display: inline-block;\n    width: 2rem;\n    height: 1em;\n    border-radius: var(--br-sm);\n    cursor: pointer;\n    ","\n"]);return cu=function(){return e},e}const uu=Va.b.div(cu(),(e=>{let{$color:t}=e;return"background-color: ".concat(t,";")})),du=Va.b.div(su()),bu=.01;const mu={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,embossPitch:90,embossYaw:90,embossThickness:0,hasEmboss:!1,preset:"commonB",pattern:"none"},pu=Object(r.forwardRef)(((e,t)=>{let{defaultPitch:n=mu.embossPitch,defaultYaw:o=mu.embossYaw,defaultThickness:i=mu.embossThickness,materialColor:l,children:s,language:c,onColorTabNavigate:u,onChange:d}=e;const[b,m]=Ia(),[p,h]=Object(r.useState)("#ffffff"),[f,g]=Object(r.useState)(i),[v,y]=Object(r.useState)(o),[j,x]=Object(r.useState)(n),O=Object(r.useRef)([255,255,255]),w=Object(r.useRef)([0,1,0]),k=Object(r.useRef)(i),[S]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{let e=!0;return m&&setTimeout((()=>{if(e){const e=Sn(v,j),t=function(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]}(p);(t[0]!==O.current[0]||t[1]!==O.current[1]||t[2]!==O.current[2]||Math.abs(e[0]-w.current[0])>bu||Math.abs(e[1]-w.current[1])>bu||Math.abs(e[2]-w.current[2])>bu||f!==k.current)&&d({lightColorVec:t,lightAngleVec:e,yaw:v,pitch:j,thickness:f}),O.current=t,w.current=e,k.current=f}}),150),()=>{e=!1}}),[m,p,v,j,f]),Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{let{color:t,pitch:n,yaw:a,thickness:r}=e;t&&h(t),n&&x(n),a&&y(a),"number"===typeof r&&y(r)}}))),Object(a.jsxs)(du,{className:Ka(wi,"emboss-control"),children:[Object(a.jsx)("div",{className:"emboss-control-title",children:s}),Object(a.jsxs)("div",{className:"emboss-control-left",children:[Object(a.jsxs)("h2",{children:[c["input.name-style.emboss.color.label"],"\xa0\xa0",Object(a.jsx)(uu,{className:"material-color",onClick:u,$color:l})]}),c["input.name-style.emboss.color.alert"](Object(a.jsx)("span",{className:"navigate-button",onClick:u,children:c["input.name-style.color.label"]},"color-navigate")),Object(a.jsxs)("h2",{className:"thickness-row",children:[Object(a.jsx)("span",{children:c["input.name-style.emboss.thickness.label"]}),Object(a.jsx)(cc,{value:f,min:0,max:4,onChange:e=>{"number"===typeof e&&(g(e),b())}})]}),Object(a.jsxs)("h2",{children:[c["input.name-style.emboss.pitch.label"],"\xa0\xa0",Object(a.jsx)(lu.a,{className:"reset-button",onClick:()=>{x(90),b()}})]}),Object(a.jsxs)(pl,{className:"vertical-angle-control",children:[Object(a.jsx)("div",{className:"slider-label"}),Object(a.jsx)(Xc.a,{size:"small",min:-90,max:90,onChange:e=>{x("string"===typeof e?parseInt(e):null!==e&&void 0!==e?e:0),b()},value:j}),Object(a.jsx)(cc,{min:-90,max:90,value:j,onChange:e=>{x(e),b()}}),Object(a.jsx)("div",{className:"slider-padding"})]}),Object(a.jsxs)("h2",{children:[c["input.name-style.emboss.yaw.label"],"\xa0\xa0",Object(a.jsx)(lu.a,{className:"reset-button",onClick:()=>{y(90),b()}})]}),Object(a.jsx)("div",{className:"horizontal-angle-contorl",children:Object(a.jsx)(Si,{angle:v,size:120,setAngle:e=>{y(e),b()}})})]}),S&&Object(a.jsxs)("div",{className:"emboss-control-right",children:[Object(a.jsx)("h2",{children:"Light color"}),Object(a.jsx)(ys.a,{styles:{default:{picker:{color:"#000000",background:"var(--main-level-3)",boxShadow:"none"},body:{padding:"var(--spacing) var(--spacing)"}}},disableAlpha:!0,color:p,onChange:e=>{h(e.hex),b()},onChangeComplete:e=>{h(e.hex),b()}})]})]})}));function hu(){const e=Object(Ua.a)(["\n    .chrome-picker {\n        /** Target color format swapper in picker's body */\n        > div:nth-child(2) > .flexbox-fix:nth-child(2) {\n            display: none !important;\n        }\n    }\n"]);return hu=function(){return e},e}const fu=Va.b.div(hu()),gu=e=>{let{color:t,onChange:n}=e;const[o,i]=Object(r.useState)(t);return Object(r.useEffect)((()=>{i(t)}),[t]),Object(a.jsxs)(fu,{children:[Object(a.jsx)(ys.a,{styles:{default:{picker:{color:"#000000",background:"var(--main-level-3)",boxShadow:"none",padding:"var(--spacing-sm) var(--spacing)"},body:{padding:"var(--spacing) var(--spacing)"}}},disableAlpha:!0,color:o,onChange:e=>i(e.hex),onChangeComplete:e=>{i(e.hex),n(e.hex)}}),Object(a.jsx)(ys.b,{colors:Ut,color:t,onChangeComplete:e=>{n(e.hex)}})]})};n(536);const vu=Object(r.forwardRef)(((e,t)=>{let{frameInfo:n,defaultType:o,defaultValue:i,showExtraDecorativeOption:l,onChange:s}=e;const u=lr(),d=Object(r.useRef)(null),[b,m]=Object(r.useState)(-1),[p,h]=Object(r.useState)(!1),[f,g]=Object(r.useState)(o),[v,y]=Object(r.useState)(i),[j,x]=Ia(),O=Object(r.useRef)(nr()(s,250)).current,w=Object(r.useCallback)(((e,t)=>{y((n=>Object(c.a)(Object(c.a)({},n),{},{gradientAngle:t,gradientColor:Ra(e)}))),j()}),[j]),k=Dr((e=>e.setting.reduceMotionColor)),S=Object(r.useMemo)((()=>{return e=u,Object.values(je).map((t=>{let{value:n,labelKey:a}=t;return{label:e[a],value:n}}));var e}),[u]);Object(r.useEffect)((()=>{0!==x&&(g("custom"),O("custom",v))}),[x]);const F=Object(r.useRef)(null),L=Object(r.useRef)(null),T=Object(r.useRef)(null);Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t,n,a;y((t=>Object(c.a)(Object(c.a)({},t),e)));const{lineColor:r,lineWidth:o,lineOffsetX:i,lineOffsetY:l,shadowBlur:s,shadowColor:u,shadowOffsetX:d,shadowOffsetY:b,embossPitch:m,embossYaw:p,embossThickness:h}=e;null===(t=F.current)||void 0===t||t.setValue({x:d,y:b,width:s,color:u}),null===(n=L.current)||void 0===n||n.setValue({x:i,y:l,width:o,color:r}),null===(a=T.current)||void 0===a||a.setValue({pitch:m,yaw:p,thickness:h})}})));const{fillStyle:N,headTextFillStyle:R,hasOutline:z,hasShadow:I,hasGradient:B,gradientColor:E,gradientAngle:D,hasEmboss:W,embossPitch:H,embossYaw:A,embossThickness:M,pattern:P,font:K}=v,{labelBackgroundColor:U,labelBackgroundImage:G}=null!==n&&void 0!==n?n:{},X={background:U,backgroundImage:G},q="custom"===f,_="predefined"===f,$="name-style-option-input-container",J=()=>{g("auto"),"auto"!==f&&O("auto",v)},Z=()=>{var e;const t=v.preset?null===(e=Y[v.preset])||void 0===e?void 0:e.value:{};g("predefined"),y((e=>Object(c.a)(Object(c.a)({},e),t))),O("predefined",Object(c.a)(Object(c.a)({},v),t))},Q=()=>{g("custom"),"custom"!==f&&O("custom",v)},ee="color-picker";return Object(a.jsx)("div",{className:"ant-input-group-wrapper text-style-input",children:Object(a.jsxs)("span",{className:"ant-input-wrapper ant-input-group",children:[Object(a.jsx)("span",{className:"ant-input-group-addon",children:u["input.name-style.label"]}),Object(a.jsxs)("span",{className:"name-style-input-container",children:[Object(a.jsxs)("div",Object(c.a)(Object(c.a)({id:$,className:"ant-radio-group ant-radio-group-outline name-style-option-input-container"},Ba({setFocus:m,optionLength:3,onKeyPress:e=>{if(1===b&&("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key))return e.preventDefault(),m(1),h(!0),setTimeout((()=>{var e;1===b&&(null===(e=d.current)||void 0===e||e.focus())}),200),!1},onTrigger(){0===b&&J(),1===b&&Z(),2===b&&Q()}})),{},{children:[Object(a.jsxs)("label",{className:Ka("ant-radio-wrapper","auto"===f&&"ant-radio-wrapper-checked",0===b&&"ant-radio-focused"),onClick:()=>J(),children:[Object(a.jsxs)("span",{className:"ant-radio ".concat("auto"===f?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"auto"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label",children:u["input.name-style.type.auto.label"]})]}),Object(a.jsx)("span",{className:"name-style-option-break"}),Object(a.jsx)("label",{className:Ka("ant-radio-wrapper",_&&"ant-radio-wrapper-checked",1===b&&"ant-radio-focused"),onClick:()=>Z(),children:Object(a.jsx)(Li.a,{visible:p,onVisibleChange:h,trigger:["hover","click"],placement:"bottomLeft",overlayClassName:"predefined-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(iu,{ref:d,active:_,value:v,onCancel:()=>{var e;h(!1),null===(e=document.getElementById($))||void 0===e||e.focus()},onClick:e=>{var t;let{key:n}=e;const a=n?null===(t=Y[n])||void 0===t?void 0:t.value:{};g("predefined"),y((e=>Object(c.a)(Object(c.a)({},e),a))),O("predefined",Object(c.a)(Object(c.a)({},v),a))}})}),children:Object(a.jsxs)("span",{className:"name-style-option-label",children:[Object(a.jsxs)("span",{className:"ant-radio ".concat(_?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"predefined"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label",children:u["input.name-style.type.predefined.label"]})]})})}),Object(a.jsx)("span",{className:"name-style-option-break"}),Object(a.jsx)("label",{className:Ka("ant-radio-wrapper",q&&"ant-radio-wrapper-checked",2===b&&"ant-radio-focused"),onClick:()=>Q(),children:Object(a.jsxs)("span",{children:[Object(a.jsxs)("span",{className:"ant-radio ".concat(q?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"custom"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label ant-radio-label-custom",children:u["input.name-style.type.custom.label"]})]})})]})),Object(a.jsxs)("div",{className:"style-picker",children:[Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsxs)("div",{className:"custom-style-text",children:[Object(a.jsx)("h3",{children:u["input.name-style.color.text.label"]}),Object(a.jsx)(gu,{color:N,onChange:e=>{g("custom"),y((t=>Object(c.a)(Object(c.a)({},t),{},{fillStyle:e}))),j()}})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"custom-style-text",children:[Object(a.jsx)("h3",{children:u["input.name-style.color.ruby.label"]}),Object(a.jsx)(ys.b,{colors:Ut,color:R,onChangeComplete:e=>{g("custom"),y((t=>Object(c.a)(Object(c.a)({},t),{},{headTextFillStyle:e.hex}))),j()}})]})]})}),placement:"bottom",children:Object(a.jsxs)(hl,{id:ee,$softMode:k,$active:q,className:"picker-dropdown color-picker-dropdown",children:[u["input.name-style.color.label"]," ",Object(a.jsx)(Gc.a,{})]})},"color-picker"),l&&Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Bi.a,{value:"has-shadow",checked:I,onChange:()=>{g("custom"),y((e=>Object(c.a)(Object(c.a)({},e),{},{hasShadow:!e.hasShadow}))),j()},children:u["input.name-style.shadow.toggle.label"]})}),I&&Object(a.jsx)(ou,{ref:F,className:"custom-style-shadow",fieldMap:{color:"shadowColor",width:"shadowBlur",x:"shadowOffsetX",y:"shadowOffsetY"},labelMap:{shadowBlur:u["input.name-style.slider.blur.label"]},defaultValue:v,onChange:e=>{let{color:t,width:n,x:a,y:r}=e;y((e=>Object(c.a)(Object(c.a)({},e),{},{shadowBlur:n,shadowColor:t,shadowOffsetX:a,shadowOffsetY:r}))),j()}})]})}),placement:"bottom",children:Object(a.jsxs)(hl,{$softMode:k,$active:q&&I,className:"picker-dropdown shadow-picker-dropdown",children:[u["input.name-style.shadow.label"]," ",Object(a.jsx)(Gc.a,{})]})},"shadow-picker"),Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Bi.a,{value:"has-line",checked:z,onChange:()=>{g("custom"),y((e=>Object(c.a)(Object(c.a)({},e),{},{hasOutline:!e.hasOutline}))),j()},children:u["input.name-style.outline.toggle.label"]})}),z&&Object(a.jsx)(ou,{ref:L,className:"custom-style-line",fieldMap:{color:"lineColor",width:"lineWidth",x:"lineOffsetX",y:"lineOffsetY"},labelMap:{lineWidth:u["input.name-style.slider.thickness.label"]},defaultValue:v,onChange:e=>{let{color:t,width:n,x:a,y:r}=e;y((e=>Object(c.a)(Object(c.a)({},e),{},{lineWidth:n,lineColor:t,lineOffsetX:a,lineOffsetY:r}))),j()}})]})}),placement:"bottom",children:Object(a.jsxs)(hl,{$softMode:k,$active:q&&z,className:"picker-dropdown outline-picker-dropdown",children:[u["input.name-style.outline.label"]," ",Object(a.jsx)(Gc.a,{})]})},"outline-picker"),l&&Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Bi.a,{value:"has-gradient",checked:B,onChange:()=>{g("custom"),y((e=>Object(c.a)(Object(c.a)({},e),{},{hasGradient:!e.hasGradient}))),j()},children:u["input.name-style.gradient.toggle.label"]})}),B&&Object(a.jsx)("div",{className:"custom-style-gradient",children:Object(a.jsx)(_c,{angle:D,palette:E,memoizedOnChange:w})})]})}),placement:"bottom",children:Object(a.jsxs)(hl,{$softMode:k,$active:q&&B,className:"picker-dropdown gradient-picker-dropdown",children:[u["input.name-style.gradient.label"]," ",Object(a.jsx)(Gc.a,{})]})},"gradient-picker"),l&&Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(eu,{onClick:e=>e.stopPropagation(),children:[Object(a.jsx)("div",{className:"alert",children:u["input.name-style.pattern.alert"]}),V.map((e=>{let{key:t,patternImage:n}=e;return Object(a.jsx)(tu,{className:["pattern-option",v.pattern===t?"menu-active":"",n?"":"menu-off"].join(" "),onClick:()=>{y((e=>Object(c.a)(Object(c.a)({},e),{},{pattern:t}))),j()},children:n?Object(a.jsx)("img",{style:n?X:{},className:"pattern-image",src:"".concat("/ygocarder","/asset/image/finish-name/").concat(n,".png"),alt:t}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{})," ",u["input.name-style.pattern.no-pattern.label"]]})},t)}))]})}),placement:"bottomLeft",children:Object(a.jsx)(hl,{$softMode:k,$active:q&&"string"===typeof P&&"none"!==P,className:"picker-dropdown pattern-picker-dropdown",children:u["input.name-style.pattern.label"]})},"pattern-picker"),Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay font-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(pc.Container,{children:S.map((e=>{let{value:t,label:n}=e;return Object(a.jsx)(pc.Option,{className:K===t?"menu-active":"",onClick:()=>{y((e=>Object(c.a)(Object(c.a)({},e),{},{font:t}))),j()},children:n},t)}))})}),placement:"bottomLeft",children:Object(a.jsx)(hl,{$softMode:k,className:"picker-dropdown font-picker-dropdown",children:u["input.name-style.font.label"]})},"font-picker"),l&&Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Bi.a,{value:"has-emboss",checked:W,onChange:()=>{g("custom"),y((e=>Object(c.a)(Object(c.a)({},e),{},{hasEmboss:!e.hasEmboss}))),j()},children:u["input.name-style.emboss.toggle.label"]})}),W&&Object(a.jsx)(pu,{ref:T,language:u,defaultPitch:H,defaultYaw:A,defaultThickness:M,materialColor:N,onColorTabNavigate:()=>{var e;null===(e=document.getElementById(ee))||void 0===e||e.click()},onChange:e=>{let{thickness:t,yaw:n,pitch:a}=e;y((e=>Object(c.a)(Object(c.a)({},e),{},{embossPitch:a,embossYaw:n,embossThickness:t}))),j()},children:Object(a.jsx)("div",{className:"alert",children:u["input.name-style.emboss.alert"]})})]})}),placement:"bottomLeft",children:Object(a.jsx)(hl,{$softMode:k,$active:q&&W,className:"picker-dropdown emboss-picker-dropdown",children:u["input.name-style.emboss.label"]})},"emboss-picker")]})]})]})})}));function yu(){const e=Object(Ua.a)(["\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tcolumn-gap: var(--spacing-xs);\n\t\trow-gap: var(--spacing-xs);\n\t\tbox-shadow: none;\n\t\tborder-radius: 0;\n\t\t&:focus-visible {\n\t\t\toutline: 3px solid var(--focus); // +1 width size to account for shadow\n\t\t}\n\t\t.ant-radio-button-wrapper:first-child,\n\t\t.ant-radio-button-wrapper:last-child {\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1;\n\t\t\twhite-space: nowrap;\n\t\t\tborder: none;\n\t\t\tbox-shadow: var(--bs-1);\n\t\t\tpadding: 0;\n\t\t\tmin-width: 90px;\n\t\t\theight: 28px;\n\t\t\tline-height: 28px;\n\t\t\ttext-align: center;\n\t\t\ttext-shadow: none;\n\t\t\tfont-size: var(--fs-sm);\n\t\t\t&:hover {\n\t\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\t\toutline-offset: var(--bw);\n\t\t\t}\n\t\t\t&::before {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t.ant-radio-button-wrapper-checked {\n\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\toutline-offset: var(--bw);\n\t\t}\n\t}\n"]);return yu=function(){return e},e}const ju=Object(Va.a)(yu());function xu(){const e=Object(Ua.a)(["\n\t","\n"]);return xu=function(){return e},e}const Ou=Object(Va.b)(Gi)(xu(),ju),wu=Object(r.forwardRef)(((e,t)=>{let{onSTFrameChange:n,onPasswordChange:o,onStatChange:i}=e;const{setting:l}=Dr(),{showExtraDecorativeOption:s}=l,u=Object(r.useMemo)((()=>Wc().filter((e=>s||"normal"===e.edition))),[s]),{frame:d,setCard:b}=Er(Object(ri.useShallow)((e=>{let{card:t,setCard:n}=e;return{frame:t.frame,setCard:n}}))),m=Object(r.useCallback)((e=>{b((t=>{const{typeAbility:a,attribute:r,format:l,password:s,star:u,atk:d,def:b,linkRating:m}=t,p="".concat(e),h="spell"===p||"trap"===p,f=h||"speed-skill"===p,g="tcg"===l?{"Spell Card":"Spell Card","Trap Card":"Trap Card"}:Ie,v="spell"===p?[g["Spell Card"]]:"trap"===p?[g["Trap Card"]]:a,y="token"===p?Re[l]:s,j=f?"":""===d?"0":d,x=f?"":""===b?"0":b,O=f?"":m,w="token"===p?0:u;return o(y),h&&n(v),i(j,x,O),Object(c.a)(Object(c.a)({},t),{},{frame:p,isLink:"link"===p,attribute:"token"===p?F:h?"".concat(p).toUpperCase():r,star:w,typeAbility:v,password:y,atk:j,def:x,linkRating:O})}))}),[b,o,n,i]);return Object(r.useImperativeHandle)(t,(()=>({changeFrame:m}))),Object(a.jsx)(Ou,{className:"frame-radio",value:d,onChange:m,optionList:u})}));function ku(){const e=Object(Ua.a)(["\n    ","\n"]);return ku=function(){return e},e}const Su=Va.b.div(ku(),Pi),Cu=e=>{let{onChange:t,value:n,optionList:o,children:i,className:l}=e;const[s,u]=Object(r.useState)(-1),d=o.length;return Object(a.jsxs)(Su,{className:["ant-radio-group ant-radio-group-outline checkbox-train",l].join(" "),children:[i&&Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:i}),Object(a.jsx)("div",Object(c.a)(Object(c.a)({className:"checkbox-train-input-group"},Ba({setFocus:u,optionLength:d,onTrigger:()=>{const e=o[s];if(e){const a=!!Array.isArray(n)&&n.includes("".concat(e.value));t(a?n.filter((t=>"".concat(e.value)!==t)):[...n,"".concat(e.value)])}}})),{},{children:o.map(((e,r)=>{const{label:o,value:i,props:l,tooltip:u}=e,d=!!Array.isArray(n)&&n.includes("".concat(i)),b=Object(a.jsxs)("label",Object(c.a)(Object(c.a)({},l),{},{className:["ant-radio-button-wrapper",d?"ant-radio-button-wrapper-checked":"",s===r?"checkbox-train-focused":""].join(" "),onClick:()=>{t(d?n.filter((e=>"".concat(i)!==e)):[...n,"".concat(i)])},children:[Object(a.jsx)("span",{className:"ant-radio-button ".concat(d?"ant-radio-button-checked":""),children:Object(a.jsx)("span",{className:"ant-radio-button-inner"})}),Object(a.jsx)("span",{className:"label",children:o})]}),i);return u?Object(a.jsx)(Xa.a,{title:u,children:b},i):b}))}))]})};function Fu(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: max-content max-content;\n    align-items: start;\n    gap: 0;\n    .card-image-source-input {\n        display: flex;\n        flex-direction: column;\n        .online-image-tip {\n            text-align: center;\n        }\n    }\n    .card-cropper {\n        width: 375px;\n        text-align: center;\n    }\n"]);return Fu=function(){return e},e}const Lu=Object(Va.b)(rc)(Fu()),Tu=Object(r.forwardRef)(((e,t)=>{let{backgroundColor:n,children:o,receivingCanvas:i,onSourceLoaded:l,onTainted:s,onCropChange:u}=e;const d=lr(),{background:b,backgroundCrop:m,backgroundType:p,backgroundData:f,backgroundSource:g,backgroundFit:v,isPendulum:y,pendulumSize:j,opacity:x,getUpdater:O,setCard:w}=Er(Object(ri.useShallow)((e=>{let{card:{background:t,backgroundCrop:n,backgroundType:a,backgroundData:r,backgroundSource:o,backgroundFit:i,isPendulum:l,pendulumSize:s,opacity:c},getUpdater:u,setCard:d}=e;return{background:t,backgroundCrop:n,backgroundType:a,backgroundData:r,backgroundSource:o,backgroundFit:i,isPendulum:l,pendulumSize:s,opacity:c,getUpdater:u,setCard:d}}))),k=Object(r.useRef)(null),S=Object(r.useMemo)((()=>O("backgroundSource")),[O]),C=Object(r.useMemo)((()=>O("background")),[O]),F=Object(r.useMemo)((()=>O("backgroundData")),[O]),L=Object(r.useCallback)((e=>w((t=>Object(c.a)(Object(c.a)({},t),{},{backgroundFit:e})))),[w]),T=Object(r.useCallback)(((e,t,n)=>{null===u||void 0===u||u(e,t),e&&w((t=>Object(c.a)(Object(c.a)({},t),{},{backgroundCrop:e})),n)}),[u,w]);return Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=k.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},hasImage:()=>{var e,t;return null!==(e=null===(t=k.current)||void 0===t?void 0:t.hasImage())&&void 0!==e&&e},setValue:e=>{let{background:t,backgroundCrop:n,backgroundData:a,backgroundSource:r}=e;var o,i;"offline"===r?"string"===typeof a&&n&&(null===(o=k.current)||void 0===o||o.forceSource("offline",a,n)):"string"===typeof t&&n&&(null===(i=k.current)||void 0===i||i.forceSource("online",t,n))}}))),Object(a.jsx)(Lu,{ref:k,title:d["input.background-image.label"],backgroundColor:n,defaultSourceType:g,defaultInternalSource:f,defaultExternalSource:b,defaultCropInfo:m,receivingCanvas:i,forceFit:v,onSourceChange:(e,t)=>{S(e),"offline"===e?F(t):C(t)},onCropChange:T,onTainted:s,onSourceLoaded:l,onForceFitChange:L,onMaxSizeExceeded:e=>{Ga.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:h(y,x,p,j).backgroundRatio,beforeCropper:null,children:o})}));var Nu=n(595);n(537);function Ru(){const e=Object(Ua.a)(["\n    --input-width: 315px;\n    &.overlay-no-background-image {\n        .card-image-cropper {\n            grid-template-columns: 1fr;\n        }\n        .card-cropper {\n            min-height: 0;\n            line-height: 0;\n            width: 0;\n            visibility: hidden;\n            position: absolute;\n        }\n        .card-image-source-input {\n            padding-right: 0;\n            margin-right: 0;\n            border-right: none;\n        }\n        i {\n            max-width: var(--input-width); // Alignment\n        }\n    }\n    i {\n        display: inline-block;\n        font-size: var(--fs-sm);\n        color: var(--color);\n        font-weight: normal;\n    }\n    .background-picker {\n        padding: var(--spacing-xs);\n        /** No display none here, again we want to keep card cropper painted, just not visible */\n        &.overlay-no-background {\n            visibility: hidden;\n            height: 0;\n            width: 0;\n            padding: 0;\n        }\n        .layout-picker-panel {\n            margin-top: var(--spacing);\n        }\n        .card-image-input {\n            text-align: center;\n            max-width: var(--input-width);\n        }\n    }\n    .card-image-source-input {\n        height: 100%;\n        justify-content: start;\n        padding-right: var(--spacing-xs);\n        margin-right: var(--spacing-xs);\n        border-right: var(--bw) solid var(--sub-level-4);\n        .type-section h2 {\n            margin-top: var(--spacing-xs);\n        }\n        .background-type-picker {\n            .radio-train-input-group {\n                display: grid;\n            }\n            .ant-radio-button-wrapper {\n                border-left: var(--bw) solid var(--sub-level-1);\n            }\n        }\n        .color-section h2 {\n            padding-top: 0;\n            padding-left: 0;\n        }\n    }\n    .color-section {\n        > h2 + div {\n            > div:first-child {\n                box-shadow: none !important; // Override inline style\n            }\n            > div:nth-child(2) {\n                border: var(--bw) solid var(--main-level-1);\n            }\n        }\n    }\n"]);return Ru=function(){return e},e}function zu(){const e=Object(Ua.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    padding: 2px 0;\n    align-items: center;\n    .art-frame {\n        span {\n            padding: 0;\n        }\n    }\n    div.ant-slider {\n        .ant-slider-handle {\n            height: 19px;\n            top: 8px;\n            border-radius: 0;\n            width: 10px;\n        }\n        .ant-slider-step,\n        .ant-slider-track,\n        .ant-slider-rail {\n            height: 10px;\n        }\n    }\n    .card-opacity-slider {\n        flex: 0 1 auto;\n        .ant-slider {\n            padding-top: 8px;\n        }\n    }\n    .background-label {\n        cursor: pointer;\n        &:hover {\n            .background-preview {\n                box-shadow: 0 0 2px 0 #2a2a2a;\n            }\n        }\n    }\n    .background-preview {\n        display: inline-block;\n        line-height: 0;\n        width: 17px;\n        height: 17px; // Alignment\n        align-self: center;\n        border: 1px solid #333333;\n        text-align: center;\n        user-select: none;\n        .background-preview-callback-passer {\n            width: 100%;\n            height: 100%;\n        }\n        .background-image-preview {\n            max-width: 15px;\n            max-height: 15px;\n        }\n        .no-background-icon {\n            font-size: 15px; // Alignment\n        }\n    }\n"]);return zu=function(){return e},e}function Iu(){const e=Object(Ua.a)(["\n    white-space: pre-line;\n"]);return Iu=function(){return e},e}const Bu=Va.b.span(Iu()),Eu=Va.b.div(zu()),Du=Va.b.div(Ru()),Wu=Object(r.forwardRef)(((e,t)=>{var n;let{receivingCanvas:o,defaultValue:i,onTainted:l,onChange:d,onSourceLoaded:p,onCropChange:h}=e;const f=lr(),{background:g,backgroundData:v,backgroundSource:y,backgroundType:j,getUpdater:x,hasBackground:O,isPendulum:w,setCard:k}=Er(Object(ri.useShallow)((e=>{let{card:{background:t,backgroundData:n,backgroundSource:a,backgroundType:r,hasBackground:o,isPendulum:i},setCard:l,getUpdater:s}=e;return{background:t,backgroundData:n,backgroundSource:a,backgroundType:r,getUpdater:s,hasBackground:o,isPendulum:i,setCard:l}}))),[S,C]=Object(r.useState)(!0),[F,L]=Object(r.useState)(!0),[T,N]=Object(r.useState)((()=>Object(c.a)(Object(c.a)({},m()),i))),R=Object(r.useRef)(null),z=Object(r.useMemo)((()=>x("backgroundType")),[x]),I=Object(r.useCallback)((e=>k((t=>{const n=e.target.checked;return Object(c.a)(Object(c.a)({},t),{},{hasBackground:n})}))),[k]);Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&d(T)}),500),()=>{e=!1}}),[T]),Object(r.useEffect)((()=>{C(!1),setTimeout((()=>{L(!1)}),250)}),[]),Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=R.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:e=>{let{background:t,backgroundCrop:n,backgroundData:a,backgroundSource:r}=e,o=Object(s.a)(e,["background","backgroundCrop","backgroundData","backgroundSource"]);var i;"string"!==typeof t&&"string"!==typeof a||!n||(null===(i=R.current)||void 0===i||i.setValue({background:t,backgroundCrop:n,backgroundData:a,backgroundSource:r}));for(const l in o)o[l]!==T[l]&&N((e=>Object(c.a)(Object(c.a)({},e),o)))}})));const B=0===(null!==g&&void 0!==g?g:"").length&&!0!==(null===(n=R.current)||void 0===n?void 0:n.hasImage());return Object(a.jsxs)(Eu,{className:"card-opacity-slider-container",children:[Object(a.jsx)(Xa.a,{overlayClassName:"long-tooltip-overlay",title:Object(a.jsx)(Bu,{children:f["input.opacity.boundless.tooltip"]}),children:Object(a.jsx)(ml,{className:"background-label",children:Object(a.jsxs)(Bi.a,{className:"art-frame",onChange:e=>N((t=>Object(c.a)(Object(c.a)({},t),{},{boundless:e.target.checked}))),checked:T.boundless,children:["\xa0",f["input.opacity.boundless.label"]]})})}),Object(a.jsx)(Li.a,{visible:S,destroyTooltipOnHide:!1,trigger:["click"],onVisibleChange:C,overlayClassName:["global-input-overlay global-style-picker-overlay layout-picker-overlay",S?"picker-visible":"",F?"picker-hidden":""].join(" "),content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(Du,{className:["custom-style-picker",B?"overlay-no-background-image":""].join(" "),children:[Object(a.jsxs)("h3",{className:"custom-style-expand ".concat(O?"":"inactive"),children:[Object(a.jsx)(Bi.a,{checked:O,onChange:e=>{I(e)},children:f["input.background.toggle-label"]}),Object(a.jsx)("br",{}),Object(a.jsx)("i",{children:f["input.background.description"]})]}),Object(a.jsx)("div",{className:"background-picker ".concat(O?"":"overlay-no-background"),children:Object(a.jsx)(Tu,{ref:R,receivingCanvas:o,onSourceLoaded:p,onTainted:l,onCropChange:h,backgroundColor:T.baseFill,children:Object(a.jsxs)("div",{className:"layout-picker-panel",children:[Object(a.jsxs)("div",{className:"layout-picker-subpanel color-section",children:[Object(a.jsx)("h2",{children:f["input.background-color.label"]}),Object(a.jsx)(ys.b,{colors:Ut,color:T.baseFill,onChangeComplete:e=>{N((t=>Object(c.a)(Object(c.a)({},t),{},{baseFill:e.hex})))}})]}),!B&&Object(a.jsxs)("div",{className:"layout-picker-subpanel type-section",children:[Object(a.jsx)("h2",{children:f["input.background-type.label"]}),Object(a.jsx)(Gi,{className:"background-type-picker",onChange:z,optionList:u({fit:f["input.background-type.fit.label"],full:f["input.background-type.full.label"],frame:f["input.background-type.frame.label"]}),value:j})]})]})})})]})}),placement:"bottom",children:Object(a.jsxs)(ml,{className:"background-label",children:[Object(a.jsx)("div",{className:"background-preview",style:{backgroundColor:O?T.baseFill:b},children:O?g||v?Object(a.jsx)("img",{className:"background-image-preview",src:"online"===y?g:v,alt:"Background"}):null:Object(a.jsx)(Nu.a,{className:"no-background-icon"})}),f["input.background.label"]]})}),Kt.map((e=>{var t,n,r;let{labelKey:o,type:i,subType:l,tooltipKey:s}=e;if("pendulum"===i&&!w)return null;const u=!!l,d=l&&T[l];return Object(a.jsxs)(pl,{className:["card-opacity-slider",d?"":"inactive"].join(" "),children:[Object(a.jsxs)(ml,{className:"slider-label",children:[u&&Object(a.jsx)(Xa.a,{title:s&&null!==(t=f[s])&&void 0!==t?t:null,overlayClassName:"long-tooltip-overlay",children:Object(a.jsx)(Bi.a,{checked:d,onChange:e=>l&&N((t=>Object(c.a)(Object(c.a)({},t),{},{[l]:e.target.checked})))})}),f[o]]}),Object(a.jsx)(Xc.a,{size:"small",min:0,max:100,onChange:e=>N((t=>Object(c.a)(Object(c.a)({},t),{},{[i]:"number"===typeof e?e:100}))),value:null!==(n=T[i])&&void 0!==n?n:100}),Object(a.jsx)(cc,{min:0,max:100,step:5,onChange:e=>N((t=>Object(c.a)(Object(c.a)({},t),{},{[i]:e}))),value:null!==(r=T[i])&&void 0!==r?r:100}),Object(a.jsx)("div",{className:"slider-padding"})]},i)}))]})}));var Hu=n(596),Au=n(597);function Mu(){const e=Object(Ua.a)(["\n    align-self: flex-end;\n    position: relative;\n    min-height: 4px; // Alignment\n    .attribute-region-picker {\n        position: absolute;\n        right: 0;\n        top: calc(var(--spacing-xxs) * -1);\n        z-index: 1;\n    }\n    &.container-block .attribute-region-picker {\n        position: relative;\n        right: 0;\n        top: 0;\n    }\n    .ant-radio-button-wrapper {\n        font-size: var(--fs-sm);\n        height: unset;\n        line-height: 1.25;\n    }\n"]);return Mu=function(){return e},e}const Pu=Va.b.div(Mu()),Ku=e=>{let{language:t}=e;const{format:n,region:o,attribute:i,getUpdater:l}=Er(Object(ri.useShallow)((e=>{let{card:{format:t,region:n,isLink:a,attribute:r},getUpdater:o}=e;return{format:t,region:n,isLink:a,attribute:r,getUpdater:o}}))),{setting:s,updateSetting:c}=Dr(),{showCreativeOption:u,showExtraDecorativeOption:d,showExtraAttribute:b}=s,m=Object(r.useMemo)((()=>l("attribute")),[l]),p=Object(r.useMemo)((()=>l("region")),[l]),h=Object(r.useMemo)((()=>((e,t,n)=>L.map((n=>{var r;let{name:o,nameKey:i,isCreative:l}=n;return{label:o===F?Object(a.jsx)(C.a,{}):Object(a.jsx)(Xa.a,{overlay:t[i],children:Object(a.jsx)("img",{alt:t[i],src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(null===(r=N[e])||void 0===r?void 0:r.fileKey,"-").concat(o.toLowerCase(),".png")})}),value:o,isCreative:l}})).filter((e=>{let{isCreative:t}=e;return!1===t||t===n})))(o,t,u)),[o,t,u]),f=Object(r.useMemo)((()=>((e,t,n)=>T.map((n=>{let{name:r,nameKey:o,isCreative:i}=n;return{label:Object(a.jsx)(Xa.a,{overlay:t[o],children:Object(a.jsx)("img",{alt:t[o],src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(e,"-").concat(r.toLowerCase(),".png")})}),value:r,isCreative:i}})).filter((e=>{let{isCreative:t}=e;return!1===t||t===n})))(n,t,u)),[n,t,u]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Gi,{className:"fill-input-train span-input-train attribute-input",value:i,onChange:m,optionList:h,suffix:!b&&d?Object(a.jsx)(Hi,{onClick:()=>c({showExtraAttribute:!0}),Icon:Hu.a,tooltipProps:{overlay:t["button.more.label"]}}):null,children:Object(a.jsx)("span",{children:t["input.attribute.label"]})}),d&&Object(a.jsx)(Pu,{className:Ka("attribute-region-container",b?"container-block":"container-float"),children:Object(a.jsx)(Gi,{className:"attribute-region-picker",optionList:Object.values(N).map((e=>{let{key:t}=e;return{value:t,label:t.toUpperCase()}})),value:o,onChange:p})}),d&&b&&Object(a.jsx)(Gi,{className:"fill-input-train extra-attribute-input",value:i,onChange:m,optionList:f,suffix:d&&b?Object(a.jsx)(Hi,{onClick:()=>c({showExtraAttribute:!1}),Icon:Au.a,tooltipProps:{overlay:t["button.less.label"]}}):null,children:"\xa0"})]})};var Uu=n(598),Yu=n(599),Gu=n(600);function Xu(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: repeat(13, 2rem);\n    gap: var(--spacing-xs);\n    align-items: center;\n    text-align: center;\n    margin-bottom: var(--spacing-sm);\n    line-height: 0;\n    .star-value {\n        display: inline-flex;\n        height: 2rem;\n        width: 2rem;;\n        align-items: center;\n        justify-content: center;\n        background-color: var(--main-level-1);\n        border-radius: var(--br-lg);\n        margin-top: var(--spacing-xs);\n        cursor: pointer;\n        border: var(--bw) solid transparent;\n        .anticon-close-circle {\n            font-size: var(--fs-lg)\n        }\n        &:hover {\n            border-color: var(--sub-active);\n        }\n    }\n    .icon-image {\n        max-width: 1.5rem; // Alignment\n        max-height: 1.5rem;; // Alignment\n    }\n    .entry-active {\n        .star-value {\n            border-color: var(--main-active);\n        }\n    }\n"]);return Xu=function(){return e},e}function Vu(){const e=Object(Ua.a)(["\n    margin-bottom: var(--spacing);\n"]);return Vu=function(){return e},e}function qu(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: var(--spacing-px);\n    background-color: var(--sub-level-1);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    overflow: hidden;\n    position: relative;\n    .container-group {\n        box-shadow: none;\n        border: none;\n        border-radius: 0;\n    }\n    &.selector-disabled {\n        filter: opacity(0.65) grayscale(0.85);\n    }\n"]);return qu=function(){return e},e}function _u(){const e=Object(Ua.a)(["\n    .anticon-close-circle {\n        font-size: var(--fs-lg);\n    }\n    img.icon-image {\n        width: var(--fs-lg);\n    }\n"]);return _u=function(){return e},e}function $u(){const e=Object(Ua.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: var(--br-lg);\n    cursor: not-allowed;\n"]);return $u=function(){return e},e}const Ju=Va.b.div($u()),Zu=Object(Va.b)(pc.Container)(_u()),Qu=Va.b.div(qu()),ed=e=>{let{disabled:t=!1,className:n,language:r,activeCardIcon:o,showMixableOnly:i=!1,showRemove:l=!1,onChange:s,onRemove:c}=e;const u=i?e=>e.isMixable:()=>!0;return Object(a.jsxs)(Qu,{className:Ka("icon-dropdown-container overlay-event-absorber",t?"selector-disabled":"",n),children:[t&&Object(a.jsx)(Ju,{className:"container-disable-overlay"}),Object(a.jsxs)(Zu,{className:"container-group container-star",children:[l&&Object(a.jsxs)(pc.Option,{onClick:()=>null===c||void 0===c?void 0:c(),children:[Object(a.jsx)(C.a,{}),"\xa0",r["input.icon-type.remove.label"]]}),W.filter(u).map((e=>{let{fullLabelKey:t,value:n,icon:i}=e;return Object(a.jsxs)(pc.Option,{className:n===o?"menu-active":"",onClick:()=>s(n),children:[i?Object(a.jsxs)(a.Fragment,{children:[i,"\xa0"]}):null,r[t]]},n)}))]}),Object(a.jsx)(Zu,{className:"container-group container-attribute",children:A.filter(u).map((e=>{let{fullLabelKey:t,value:n,icon:i}=e;return Object(a.jsxs)(pc.Option,{className:n===o?"menu-active":"",onClick:()=>s(n),children:[i?Object(a.jsxs)(a.Fragment,{children:[i,"\xa0"]}):null,r[t]]},n)}))}),Object(a.jsx)(Zu,{className:"container-group container-icon",children:P.filter(u).map((e=>{let{fullLabelKey:t,value:n,icon:i}=e;return Object(a.jsxs)(pc.Option,{className:n===o?"menu-active":"",onClick:()=>s(n),children:[i?Object(a.jsxs)(a.Fragment,{children:[i,"\xa0"]}):null,r[t]]},n)}))})]})},td=Va.b.div(Vu()),nd=Va.b.div(Xu()),ad=Object(r.forwardRef)(((e,t)=>{let{language:n}=e;const{starList:o,getUpdater:i}=Er(Object(ri.useShallow)((e=>{let{card:{starList:t},getUpdater:n}=e;return{starList:t,getUpdater:n}}))),[l,s]=Object(r.useState)(!1),c=Object(r.useMemo)((()=>i("starList")),[i]),[{slotList:u,fullSlotList:d}]=Object(r.useState)((()=>{const e=[],t=[];for(let n=0;n<13;n++)e.push({slot:"slot-".concat(n),index:n}),t.push(n);return{slotList:e,fullSlotList:t}})),[b,m]=Object(r.useState)({activeList:[]});Object(r.useImperativeHandle)(t,(()=>({changeStatus:e=>{"open"===e?s(!0):"close"===e?s(!1):"toggle"===e&&s((e=>!e)),m({activeList:[]})}})));const{activeList:p}=b;return Object(a.jsxs)(Ya.a,{className:"global-overlay global-no-close",visible:l,width:506,onCancel:()=>s(!1),cancelText:n["manager.template.button.cancel.label"],okButtonProps:{style:{display:"none"}},children:[Object(a.jsxs)(td,{className:"star-list-control-panel",children:[Object(a.jsx)(hi.a,{size:"small",onClick:()=>{m((e=>({activeList:d.filter((t=>!e.activeList.includes(t)))})))},children:n["input.icon-type.slot.revert.label"]}),"\xa0",Object(a.jsx)(hi.a,{size:"small",onClick:()=>{m({activeList:[...d]})},children:n["input.icon-type.slot.select-all.label"]}),"\xa0",Object(a.jsx)(hi.a,{size:"small",onClick:()=>{m({activeList:[]})},children:n["input.icon-type.slot.deselect-all.label"]})]}),Object(a.jsx)(nd,{className:"star-list-container",children:u.map((e=>{let{slot:t,index:n}=e;const r=o[n],i=K[null!==r&&void 0!==r?r:""],l=p.includes(n);return Object(a.jsxs)("div",{className:Ka("star-list-entry",l?"entry-active":""),children:[Object(a.jsx)("div",{className:"checkbox-container",children:Object(a.jsx)(Bi.a,{checked:l,onChange:e=>{const t=e.target.checked;m(t?e=>({activeList:[...e.activeList,n]}):e=>({activeList:e.activeList.filter((e=>e!==n))}))}})}),Object(a.jsx)("div",{className:"star-value",onClick:()=>m({activeList:[n]}),children:i?i.icon:Object(a.jsx)(C.a,{})})]},t)}))}),Object(a.jsx)(ed,{disabled:0===p.length,language:n,activeCardIcon:p.length>1?"":o[p[0]],showMixableOnly:!0,showRemove:!0,onRemove:()=>{const e=u.map(((e,t)=>p.includes(t)?"":o[t]));c(e)},onChange:e=>{const t=u.map(((t,n)=>p.includes(n)?e:o[n]));c(t)}})]})}));function rd(){const e=Object(Ua.a)(["\n    display: flex;\n    align-items: center;\n    .custom-star-preview {\n        display: inline-flex;\n        line-height: 0;\n        align-items: center;\n        background-color: var(--main-level-1);\n        padding: var(--spacing-xs);\n        border-radius: var(--br);\n        .star-preview-entry {\n            margin-right: var(--spacing-xs);\n            .icon-image {\n                max-width: 22px; // Alignment\n                max-height: 22px; // Alignment\n            }\n            .anticon-close-circle {\n                font-size: var(--fs-xl);\n            }\n            &:last-child {\n                margin-right: 0;\n            }\n        }\n    }\n    .custom-star-content {\n        display: inline-flex;\n        flex-wrap: wrap;\n        align-items: center;\n        gap: var(--spacing-sm);\n        margin-right: var(--spacing-sm);\n    }\n"]);return rd=function(){return e},e}function od(){const e=Object(Ua.a)(["\n    margin-left: var(--spacing-sm);\n"]);return od=function(){return e},e}function id(){const e=Object(Ua.a)(["\n    .custom-star-input {\n        width: 7rem;\n    }\n    .checkbox-star-suffix {\n        display: flex;\n        flex-wrap: wrap;\n        column-gap: var(--spacing-sm);\n        row-gap: var(--spacing-xxs);\n        margin-left: var(--spacing-sm);\n    }\n"]);return id=function(){return e},e}function ld(){const e=Object(Ua.a)(["\n    .icon-image {\n        width: 26px;\n        height: 26px;\n    }\n"]);return ld=function(){return e},e}const sd=Va.b.div(ld()),cd=Object(Va.b)(Gi)(id()),ud=Object(Va.b)(hl)(od()),dd=Va.b.div(rd()),bd=e=>{let{language:t,value:n,onChange:r}=e;return Object(a.jsx)(Gi,{value:n,onChange:r,optionList:[{value:"auto",tooltipProps:{overlay:t["input.icon-type.alignment.auto"]},label:Object(a.jsx)(C.a,{})},{value:"left",tooltipProps:{overlay:t["input.icon-type.alignment.left"]},label:Object(a.jsx)(Uu.a,{})},{value:"center",tooltipProps:{overlay:t["input.icon-type.alignment.center"]},label:Object(a.jsx)(Yu.a,{})},{value:"right",tooltipProps:{overlay:t["input.icon-type.alignment.right"]},label:Object(a.jsx)(Gu.a,{})}]})},md=Object(r.forwardRef)(((e,t)=>{let{showCreativeOption:n}=e;const o=lr(),{frame:i,subFamily:l,cardIcon:s,star:c,starList:u,starAlignment:d,getUpdater:b}=Er(Object(ri.useShallow)((e=>{let{card:{frame:t,subFamily:n,cardIcon:a,star:r,starList:o,starAlignment:i},getUpdater:l}=e;return{frame:t,subFamily:n,cardIcon:a,star:r,starList:o,starAlignment:i,getUpdater:l}}))),m=Dr((e=>e.setting.reduceMotionColor)),p=Object(r.useRef)(null),h=Object(r.useMemo)((()=>b("cardIcon")),[b]),f=Object(r.useMemo)((()=>b("subFamily")),[b]),g=Object(r.useMemo)((()=>b("star")),[b]),v=Object(r.useMemo)((()=>b("starAlignment")),[b]);Object(r.useImperativeHandle)(t,(()=>({})));const y=Nn(i),j="auto"===s?K["none"===y?"auto":y]:K[s],{labelKey:x,icon:O,showIcon:w,value:k}=null!==j&&void 0!==j?j:K.level,S="string"===typeof x?o[x]:x({language:o}),F=n?Object(a.jsxs)(sd,{children:[w?O:null," ",S," ",Object(a.jsx)(Gc.a,{})]}):S,L=Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay",content:Object(a.jsx)(ed,{language:o,activeCardIcon:s,onChange:e=>{var t;h(e),"custom"===e&&(null===(t=p.current)||void 0===t||t.changeStatus("open"))}}),placement:"bottomRight",children:Object(a.jsx)("span",{className:"card-icon-dropdown ".concat("auto"===s?"":"active"," ").concat(n?"":"disabled"),children:F})},"icon-type-picker"),T=n?L:F,N=na(u);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ad,{ref:p,language:o}),"auto"===s&&"none"===y?n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Gi,{className:"fill-input-train",value:s,onChange:h,optionList:W.map((e=>{let{icon:t,value:n,fullLabelKey:r}=e;return{label:null!==t&&void 0!==t?t:Object(a.jsx)(C.a,{}),value:n,tooltipProps:{title:o[r]}}})),children:T}),Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Zu,{className:"container-group container-attribute",children:A.map((e=>{let{fullLabelKey:t,value:n,icon:r}=e;return Object(a.jsxs)(pc.Option,{className:n===s?"menu-active":"",onClick:()=>h(n),children:[r?Object(a.jsxs)(a.Fragment,{children:[r,"\xa0"]}):null,o[t]]},n)}))})}),children:Object(a.jsx)(ud,{$softMode:m,className:n?"":"disabled",children:o["input.attribute.label"]})}),Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Zu,{className:"container-group container-icon",children:P.map((e=>{let{fullLabelKey:t,value:n,icon:r}=e;return Object(a.jsxs)(pc.Option,{className:n===s?"menu-active":"",onClick:()=>h(n),children:[r?Object(a.jsxs)(a.Fragment,{children:[r,"\xa0"]}):null,o[t]]},n)}))})}),children:Object(a.jsxs)(ud,{$softMode:m,className:n?"":"disabled",children:[o["input.attribute.spell"],"\xa0/\xa0",o["input.attribute.trap"]]})}),Object(a.jsx)(ud,{$softMode:m,className:n?"":"disabled",onClick:()=>{var e;h("custom"),null===(e=p.current)||void 0===e||e.changeStatus("open")},children:o["input.icon-type.custom.label"]})]}):null:"st"===k?Object(a.jsx)(Gi,{className:"fill-input-train",value:l,onChange:f,optionList:(R=o,I.map((e=>{let{value:t,nameKey:n}=e;return{label:t===z?Object(a.jsx)(C.a,{}):Object(a.jsx)(Xa.a,{overlay:R[n],children:Object(a.jsx)("img",{alt:R[n],src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-").concat(t.toLowerCase(),".png")})}),value:t}}))),children:T}):"custom"===k?Object(a.jsxs)(dd,{className:"custom-star-picker",children:[Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:T}),Object(a.jsxs)("div",{className:"custom-star-content",children:[N.length>0?Object(a.jsx)("div",{className:"custom-star-preview",children:N.map(((e,t)=>{const n=K[e];return Object(a.jsx)("span",{className:"star-preview-entry",children:n?n.icon:Object(a.jsx)(C.a,{})},"".concat(e,"-").concat(t))}))}):null,Object(a.jsx)(hi.a,{size:"small",onClick:()=>{var e;h("custom"),null===(e=p.current)||void 0===e||e.changeStatus("open")},children:o["input.icon-type.slot.edit.label"]})]}),Object(a.jsx)(bd,{language:o,value:d,onChange:v})]}):Object(a.jsx)(cd,{className:"checkbox-star-train",value:c,onChange:g,optionList:Hc,strict:!0,suffix:n&&Object(a.jsxs)("div",{className:"checkbox-star-suffix",children:[Object(a.jsx)(ps.a,{className:"custom-star-input",value:"number"===typeof c?"":c,allowClear:!0,onChange:g,placeholder:o["input.icon-type.custom.placeholder"]}),Object(a.jsx)(bd,{language:o,value:d,onChange:v})]}),children:T})]});var R})),pd=new Set(["1","2","3","4","5"]),hd=(e,t,n,a,r,o,i)=>{const l=e.substring(n,a),s="\n"===e[a]||!r;let c=l,u=2;switch(t){case"1":o?(c="[[".concat(l,"]]").concat(s?"":"\n"),u=s?4:5):(c="[".concat(l,"]").concat(s?"":"\n"),u=s?2:3);break;case"2":c="{".concat(l,"}");break;case"3":c="{".concat(l,"|}");break;case"4":c="{".concat(l,"||}"),u=3;break;case"5":c="{{".concat(l,"}}"),u=4}i(e.substring(0,n)+"".concat(c)+e.substring(a,e.length),a+u)},fd=e=>{let{id:t,placement:n}=e;if(t&&n>=0){var a;const e=document.querySelector("#".concat(t));e&&(null!==(a=e.selectionEnd)&&void 0!==a?a:-1)>=0&&(e.selectionEnd=n)}},{TextArea:gd}=ps.a,vd=Object(r.forwardRef)(((e,t)=>{let{id:n,allowHotkey:o,defaultValue:i,onTakePicker:l,onChange:u,onKeyDown:d,className:b}=e,m=Object(s.a)(e,["id","allowHotkey","defaultValue","onTakePicker","onChange","onKeyDown","className"]);const p=Object(r.useRef)(i),[h,f]=Object(r.useState)(i),[g,v]=Object(r.useState)({id:"",placement:-1}),y=Object(r.useCallback)((e=>{const t="string"===typeof e?e:e.target.value;p.current=t,f(t)}),[]);Object(r.useEffect)((()=>{fd(g)}),[g]),Object(r.useEffect)((()=>{u({target:{value:h}})}),[h]);const j=e=>{e!==p.current&&y(e)};return Object(r.useImperativeHandle)(t,(()=>({setValue:j,getPickerRef:()=>n?{id:n,setValue:j}:null}))),Object(a.jsx)(gd,Object(c.a)({id:n,autoComplete:"off",onFocus:()=>n&&(null===l||void 0===l?void 0:l({id:n,setValue:j})),allowClear:!0,spellCheck:!1,className:"card-textarea ".concat(n,"-input ").concat(b),value:h,onKeyDown:e=>{var t,a;if(null===d||void 0===d||d(e),!o)return;const{ctrlKey:r,key:i,metaKey:l}=e,s=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,c=null!==(a=e.currentTarget.selectionEnd)&&void 0!==a?a:-1;(r||l)&&n&&c!==s&&pd.has(i)&&(e.preventDefault(),hd(e.currentTarget.value,i,s,c,!0,e.shiftKey,((e,t)=>{y(e),v({id:n,placement:t})})))},onChange:y},m))})),yd=Object(r.forwardRef)(((e,t)=>{let{id:n,defaultValue:o,onTakePicker:i,onChange:l,onKeyDown:u,className:d}=e,b=Object(s.a)(e,["id","defaultValue","onTakePicker","onChange","onKeyDown","className"]);const{setting:m}=Dr(),{allowHotkey:p}=m,h=Object(r.useRef)(o),[f,g]=Object(r.useState)(o),[v,y]=Object(r.useState)({id:"",placement:-1}),j=Object(r.useCallback)((e=>{const t="string"===typeof e?e:e.target.value;h.current=t,g(t)}),[]);Object(r.useEffect)((()=>{fd(v)}),[v]),Object(r.useEffect)((()=>{l({target:{value:f}})}),[f]);const x=e=>{e!==f&&j(e)};return Object(r.useImperativeHandle)(t,(()=>({setValue:x}))),Object(a.jsx)(ps.a,Object(c.a)({id:n,autoComplete:"off",onFocus:()=>n&&(null===i||void 0===i?void 0:i({id:n,setValue:x})),allowClear:!0,className:"".concat(n,"-input ").concat(d),value:f,onKeyDown:e=>{var t,a;if(null===u||void 0===u||u(e),!p)return;const{ctrlKey:r,key:o,metaKey:i}=e,l=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,s=null!==(a=e.currentTarget.selectionEnd)&&void 0!==a?a:-1;(r||i)&&n&&s!==l&&pd.has(o)&&(e.preventDefault(),hd(e.currentTarget.value,o,l,s,!1,e.shiftKey,((e,t)=>{j(e),y({id:n,placement:t})})))},onChange:e=>j(e.target.value)},b))})),jd=Object(r.forwardRef)(((e,t)=>{let{onTakePicker:n}=e;const o=Er((e=>e.getUpdater)),i=Object(r.useRef)(null),l=Object(r.useMemo)((()=>o("effect",void 0,"debounce")),[o]);return Object(r.useEffect)((()=>{var e;const t=null===(e=i.current)||void 0===e?void 0:e.getPickerRef();t&&(null===n||void 0===n||n(t))}),[]),Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t;null===(t=i.current)||void 0===t||t.setValue(e)}}))),Object(a.jsx)(vd,{ref:i,id:"effect",allowHotkey:!0,defaultValue:Er.getState().card.effect,onChange:l,onTakePicker:n,autoSize:{minRows:9}})}));function xd(){const e=Object(Ua.a)(["\n    align-self: center;\n    text-align: right;\n    .ant-checkbox + span {\n        user-select: none;\n    }\n"]);return xd=function(){return e},e}const Od=Va.b.div(xd()),wd=e=>{const t=lr(),{isDuelTerminalCard:n,isFirstEdition:o,isSpeedCard:i,isLimitedEdition:l,isLegacyCard:s,setCard:u}=Er(Object(ri.useShallow)((e=>{let{card:t,setCard:n}=e;return{isSpeedCard:t.isSpeedCard,isDuelTerminalCard:t.isDuelTerminalCard,isFirstEdition:t.isFirstEdition,isLimitedEdition:t.isLimitedEdition,isLegacyCard:t.isLegacyCard,setCard:n}}))),d=Object(r.useCallback)((e=>u((t=>{let n;return n=e.target.checked?s?{isDuelTerminalCard:!1,isFirstEdition:!0,isLimitedEdition:!1,isSpeedCard:!1}:{isFirstEdition:!0,isLimitedEdition:!1}:{isFirstEdition:!1},Object(c.a)(Object(c.a)({},t),n)}))),[u,s]),b=Object(r.useCallback)((e=>u((t=>{let n;return n=e.target.checked?s?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!0,isSpeedCard:!1}:{isFirstEdition:!1,isLimitedEdition:!0}:{isLimitedEdition:!1},Object(c.a)(Object(c.a)({},t),n)}))),[u,s]),m=Object(r.useCallback)((e=>u((t=>{let n;return n=e.target.checked?s?{isDuelTerminalCard:!0,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!1}:{isSpeedCard:!1,isDuelTerminalCard:!0}:{isDuelTerminalCard:!1},Object(c.a)(Object(c.a)({},t),n)}))),[u,s]),p=Object(r.useCallback)((e=>u((t=>{let n;return n=e.target.checked?s?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!0}:{isDuelTerminalCard:!1,isSpeedCard:!0}:{isSpeedCard:!1},Object(c.a)(Object(c.a)({},t),n)}))),[u,s]),h=Object(r.useCallback)((e=>u((t=>{const n=e.target.checked,{isDuelTerminalCard:a,isFirstEdition:r,isLimitedEdition:o,isSpeedCard:i}=t;let l=!1,s=!1,u=!1,d=!1;return n?(s=r,d=!s&&i,l=!d&&!s&&a,u=!(l||s||u)&&o):(s=r,u=!s&&o,d=i,l=!d&&a),Object(c.a)(Object(c.a)({},t),{},{isLegacyCard:n,isDuelTerminalCard:l,isFirstEdition:s,isLimitedEdition:u,isSpeedCard:d})}))),[u]);return Object(a.jsxs)(Od,{className:"checkbox-input",children:[Object(a.jsx)(Xa.a,{overlayClassName:"long-tooltip-overlay",overlay:t["input.legacy.tooltip"],children:Object(a.jsx)(Bi.a,{className:"input-legacy",onChange:h,checked:s,tabIndex:0,children:t["input.legacy.label"]})}),Object(a.jsx)(Bi.a,{className:"input-1st",onChange:d,checked:o,tabIndex:0,children:t["input.1st-edition.label"]}),Object(a.jsx)(Bi.a,{className:"input-limited",onChange:b,checked:l,tabIndex:0,children:t["input.limited-edition.label"]}),Object(a.jsx)(Bi.a,{className:"input-speed",onChange:p,checked:i,tabIndex:0,children:t["input.speed-duel.label"]}),Object(a.jsx)(Bi.a,{className:"input-terminal",onChange:m,checked:n,tabIndex:0,children:t["input.duel-terminal.label"]})]})};var kd=n(601);function Sd(){const e=Object(Ua.a)(['\n    &.radio-train {\n        .ant-radio-button-wrapper-checked {\n            &.ocg-button {\n                background-color: var(--main-red-scale);\n                border-color: var(--sub-red-scale);\n                &:not([class*=" ant-radio-button-wrapper-disabled"]).ant-radio-button-wrapper:first-child {\n                    border-right-color: var(--sub-red-scale);\n                }\n                &:not(.ant-radio-button-wrapper-disabled):first-child {\n                    border-color: var(--sub-red-scale);\n                }\n                &:hover {\n                    background-color: var(--sub-red-scale);\n                    color: var(--color-heavy);\n                }\n            }\n            &.tcg-button {\n                background-color: var(--main-blue-scale);\n                border-color: var(--sub-blue-scale);\n                &:hover {\n                    background-color: var(--sub-blue-scale);\n                    color: var(--color-heavy);\n                }\n            }\n        }\n        .ocg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-red-scale);\n            }\n        }\n        .tcg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-blue-scale);\n            }\n        }\n    }\n']);return Sd=function(){return e},e}function Cd(){const e=Object(Ua.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: var(--spacing-sm);\n    flex-wrap: wrap;\n    row-gap: var(--spacing-sm);\n"]);return Cd=function(){return e},e}function Fd(){const e=Object(Ua.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t.input-label {\n\t\tflex: 1;\n\t}\n"]);return Fd=function(){return e},e}function Ld(){const e=Object(Ua.a)(["\n    padding: var(--spacing-xs);\n    position: relative;\n    .radio-train {\n        display: flex;\n        flex-wrap: wrap;\n        max-width: 480px;\n        .radio-train-input-group {\n            gap: var(--spacing);\n        }\n    }\n    .ant-checkbox-wrapper {\n        color: var(--color-heavy);\n    }\n    .inline-input {\n        margin-bottom: var(--spacing-xs);\n    }\n    .checkbox-disabled {\n        .ant-checkbox {\n            display: none;\n        }\n        visibility: hidden; // Avoid collapsing\n    }\n    .frame-part-name {\n        position: absolute;\n        padding: 0 var(--spacing);\n        top: calc(-1 * var(--spacing-xs));\n        right: calc(-1 * var(--spacing-xs));\n        border-radius: 0 0 0 var(--br-lg);\n        background-color: var(--main-level-4);\n        border-left: var(--bw) solid var(--sub-level-4);\n        border-bottom: var(--bw) solid var(--sub-level-4);\n        &:empty {\n            display: none;\n        }\n    }\n    .horizontal-sketch-picker {\n        margin-top: var(--spacing);\n    }\n    ","\n"]);return Ld=function(){return e},e}const Td=Object(Va.b)(pc.Container)(Ld(),ju),Nd=Va.b.div(Fd()),Rd=Va.b.div(Cd()),zd=Object(Va.b)(Gi)(Sd());function Id(){const e=Object(Ua.a)(["\n    .auto-link-rating-input {\n        margin-left: var(--spacing-sm);\n    }\n    .auto-link-rating {\n        display: inline-block;\n        width: 1.5rem;\n        height: 1.5rem;\n        line-height: 1;\n        text-align: center;\n        padding: var(--spacing-xs);\n        background: var(--main-level-4);\n        border-radius: var(--br-lg);\n        font-family: 'RoGSanSrfStd-Bd';\n        box-shadow: var(--bs-button);\n    }\n"]);return Id=function(){return e},e}function Bd(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-sm);\n    .checkbox-input {\n        align-self: center;\n        .ant-checkbox + span {\n            user-select: none;\n        }\n    }\n    .sticker-input,\n    .checkbox-input {\n        grid-column: span 2;\n    }\n    .sticker-input .ant-radio-button-wrapper {\n        padding-left: var(--spacing-sm);\n        padding-right: var(--spacing-sm);\n    }\n"]);return Bd=function(){return e},e}const Ed=Va.b.div(Bd()),Dd=Object(Va.b)(Nd)(Id()),Wd=Object(r.forwardRef)(((e,t)=>{let{isMonster:n,showCreativeOption:o,onTakePicker:i}=e;const l=lr(),{isLink:s,linkRating:c,autoLinkRating:u,showDefAndLink:d,linkRatingDisplayMode:b,sticker:m,format:p,getUpdater:h}=Er(Object(ri.useShallow)((e=>{let{card:{sticker:t,format:n,flag:a,isLink:r,linkRating:o,linkMap:i},getUpdater:l}=e;return{linkRating:o,autoLinkRating:i.length,isLink:r,sticker:t,format:n,showDefAndLink:1===a[ee],linkRatingDisplayMode:a[te],getUpdater:l}}))),f=Object(r.useRef)(null),g=Object(r.useRef)(null),v=Object(r.useRef)(null),y=Object(r.useRef)(null),j=Object(r.useRef)(null),x=!0,O=Bn(b,s),w=!O||d,k=[x,w,O].filter((e=>!0===e)).length%2===1,S=p&&Ne[p]?Ne[p]:Ne.tcg,C=Object(r.useMemo)((()=>h("atk",(e=>e))),[h]),F=Object(r.useMemo)((()=>h("def",(e=>e))),[h]),L=Object(r.useMemo)((()=>h("linkRating",(e=>e))),[h]),T=Object(r.useMemo)((()=>h("password",void 0,"debounce")),[h]),N=Object(r.useMemo)((()=>h("sticker")),[h]),R=Object(r.useMemo)((()=>h("creator",void 0,"debounce")),[h]);return Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t,n,a,r,o;let{password:i,creator:l,atk:s,def:c,linkRating:u}=e;"string"===typeof s&&(null===(t=v.current)||void 0===t||t.setValue(s)),"string"===typeof c&&(null===(n=y.current)||void 0===n||n.setValue(c)),"string"===typeof i&&(null===(a=f.current)||void 0===a||a.setValue(i)),"string"===typeof l&&(null===(r=g.current)||void 0===r||r.setValue(l)),"string"===typeof u&&(null===(o=j.current)||void 0===o||o.setValue(u))}}))),Object(a.jsxs)(Ed,{className:"card-footer-input",children:[(n||o)&&Object(a.jsxs)(a.Fragment,{children:[x&&Object(a.jsx)(yd,{ref:v,id:"atk",addonBefore:l["input.atk.label"],defaultValue:Er.getState().card.atk,onChange:C,onTakePicker:i}),w&&Object(a.jsx)(yd,{ref:y,id:"def",addonBefore:l["input.def.label"],defaultValue:Er.getState().card.def,onChange:F,onTakePicker:i}),k&&Object(a.jsx)("div",{}),O&&Object(a.jsx)(yd,{ref:j,id:"link",addonBefore:Object(a.jsxs)(Dd,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:l["input.link.label"]}),Object(a.jsx)(Xa.a,{title:l["input.link.auto.tooltip"],children:Object(a.jsx)("div",{className:"auto-link-rating-input",children:"string"===typeof c&&c.length>0?Object(a.jsx)(Bi.a,{onChange:e=>{e.target.checked&&(L(""),j.current.setValue(""))}}):Object(a.jsx)("div",{className:"auto-link-rating",children:s?u:"-"})})})]}),defaultValue:"".concat(Er.getState().card.linkRating),onChange:L,onTakePicker:i,placeholder:l["input.link.custom.placeholder"]})]}),Object(a.jsx)(yd,{ref:f,id:"password",addonBefore:Object(a.jsxs)(Nd,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:l["input.password.label"]}),Object(a.jsx)(Hi,{onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.setValue("".concat(Ea("0123456789",8)))},Icon:lu.a,tooltipProps:{overlay:l["button.randomize.label"]}})]}),defaultValue:Er.getState().card.password,onChange:T,onTakePicker:i}),Object(a.jsx)(yd,{ref:g,id:"creator",addonBefore:Object(a.jsxs)(Nd,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:l["input.copyright.label"]}),Object(a.jsx)(fi.a,{className:"save-button-dropdown",placement:"topLeft",arrow:!0,overlay:Object(a.jsx)(Ks.a,{onClick:e=>e.domEvent.stopPropagation(),children:S.map(((e,t)=>Object(a.jsx)(Ks.a.Item,{onClick:()=>{var t;null===(t=g.current)||void 0===t||t.setValue(e)},children:e},"".concat(t))))}),children:Object(a.jsx)("div",{children:Object(a.jsx)(Hi,{onClick:()=>{},Icon:kd.a})})})]}),defaultValue:Er.getState().card.creator,onChange:R,onTakePicker:i}),Object(a.jsx)(wd,{}),Object(a.jsx)(Gi,{className:"sticker-input fill-input-train",value:m,onChange:N,optionList:Ac,children:Object(a.jsx)("span",{children:l["input.sticker.label"]})})]})}));function Hd(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 30px 1fr;\n    column-gap: var(--spacing-xs);\n    .tag {\n        background: var(--sub-level-2);\n        color: var(--color-contrast);\n        box-shadow: 0 0 1px 1px var(--main-level-1) inset;\n        font-size: var(--fs-xs);\n        text-align: center;\n        line-height: 1.5;\n    }\n    &.default {\n        .tag {\n            background: var(--sub-level-4);\n        }\n    }\n"]);return Hd=function(){return e},e}function Ad(){const e=Object(Ua.a)(["\n    text-align: left;\n    .ant-input-group-addon {\n        flex: 0 0 auto;\n        text-align: left;\n    }\n    .radio-train-input-group {\n        flex: 1;\n    }\n    .ant-radio-button-wrapper {\n        padding: 0 var(--spacing-xs);\n    }\n"]);return Ad=function(){return e},e}function Md(){const e=Object(Ua.a)(["\n    position: relative;\n    ","\n"]);return Md=function(){return e},e}const Pd=Va.b.div(Md(),(e=>{let{$hover:t}=e;return t?"\n            .link-marker-picker {\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n        ":""})),Kd=Object(Va.b)(Gi)(Ad()),Ud=Object(Va.b)(pc.Option)(Hd()),Yd=e=>{let{finishValueList:t,changeFinish:n,language:o,showCreativeOption:i}=e;const[l,s]=Object(r.useState)(x.art.key),u={[x.attribute.key]:t[1],[x.background.key]:t[4],[x.icon.key]:t[2],[x.sticker.key]:t[3],[x.art.key]:t[0]},d=Object.values(u).some((e=>"normal"!==e)),b=Object(r.useMemo)((()=>{return e=o,Object.values(x).map((t=>{let{key:n,labelKey:a}=t;return{label:e[a],value:n}}));var e}),[o]),m=i?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:[o["input.finish.label"],":"]}),"\xa0",o[x[l].labelKey]," ",Object(a.jsx)(Gc.a,{})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:[o["input.finish.label"],":"]}),"\xa0",o[x[l].labelKey]]}),p=Object(a.jsx)(Li.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(pc.Container,{children:[Object(a.jsx)(mc,{children:o["input.other-finish.label"]}),b.map((e=>{let{label:t,value:n}=e;return Object(a.jsxs)(Ud,{className:Ka("normal"===u[n]?"default":"",l===n?"menu-active":""),onClick:()=>{s(n)},children:[Object(a.jsx)("div",{className:"value",children:Object(a.jsx)("div",{className:"tag",children:"normal"===u[n]?"Auto":u[n]})}),Object(a.jsx)("div",{className:"label",children:t})]},n)}))]})}),placement:"bottomRight",children:Object(a.jsx)("span",{className:"field-title card-icon-dropdown ".concat(d?"active":""," ").concat(i?"":"disabled"),children:m})},"icon-type-picker");return Object(a.jsx)(Kd,{className:"art-finish-checkbox fill-input-train",value:u[l],onChange:e=>{const t=Object(c.a)({},u);t[l]="".concat(e),n(t)},optionList:Dc,children:p})},Gd=Object(r.forwardRef)(((e,t)=>{let{showExtraDecorativeOption:n,showCreativeOption:o,receivingCanvas:i,onSourceLoaded:l,onTainted:s,onCropChange:u}=e;const d=lr(),{opacity:b,artFinish:m,otherFinish:p,linkMap:f,isPendulum:g,pendulumSize:v,isLink:y,art:j,artCrop:O,artData:w,artSource:k,artFit:S,getUpdater:C,setCard:F}=Er(Object(ri.useShallow)((e=>{let{card:{opacity:t,artFinish:n,otherFinish:a,linkMap:r,isPendulum:o,pendulumSize:i,isLink:l,art:s,artCrop:c,artData:u,artSource:d,artFit:b},getUpdater:m,setCard:p}=e;return{opacity:t,artFinish:n,otherFinish:a,linkMap:r,isPendulum:o,pendulumSize:i,isLink:l,art:s,artCrop:c,artData:u,artSource:d,artFit:b,getUpdater:m,setCard:p}}))),L=Object(r.useRef)(null),T=Object(r.useMemo)((()=>C("linkMap")),[C]),N=Object(r.useCallback)((e=>F((t=>Object(c.a)(Object(c.a)({},t),{},{isLink:e})))),[F]),R=Object(r.useMemo)((()=>C("art")),[C]),z=Object(r.useMemo)((()=>C("artData")),[C]),I=Object(r.useCallback)((e=>F((t=>Object(c.a)(Object(c.a)({},t),{},{artFit:e})))),[F]),B=Object(r.useMemo)((()=>C("artSource")),[C]),E=Object(r.useMemo)((()=>C("artFinish")),[C]),D=Object(r.useMemo)((()=>C("otherFinish")),[C]),W=Object(r.useCallback)(((e,t,n)=>{null===u||void 0===u||u(e,t),e&&F((t=>Object(c.a)(Object(c.a)({},t),{},{artCrop:e})),n)}),[u,F]);return Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=L.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:e=>{let{art:t,artCrop:n,artData:a,artSource:r}=e;var o,i;"offline"===r?"string"===typeof a&&n&&(null===(o=L.current)||void 0===o||o.forceSource("offline",a,n)):"string"===typeof t&&n&&(null===(i=L.current)||void 0===i||i.forceSource("online",t,n))}}))),Object(a.jsx)(rc,{ref:L,title:d["input.card-art.label"],defaultSourceType:k,defaultExternalSource:j,defaultInternalSource:w,defaultCropInfo:O,forceFit:S,receivingCanvas:i,onSourceChange:(e,t)=>{B(e),"offline"===e?z(t):R(t)},onCropChange:W,onTainted:s,onSourceLoaded:l,onForceFitChange:I,onMaxSizeExceeded:e=>{Ga.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:h(g,b,void 0,v).ratio,beforeCropper:n?Object(a.jsx)(Yd,{finishValueList:[m,...p],changeFinish:e=>{E(e[x.art.key]),D([e[x.attribute.key],e[x.icon.key],e[x.sticker.key],e[x.background.key]])},language:d,showCreativeOption:o}):null,children:Object(a.jsx)(Pd,{className:"link-picker-container",style:{minWidth:88},$hover:n,children:Object(a.jsx)(Ps,{active:!0===y,defaultValue:f,onChange:T,onStatusChange:N},"link-".concat(JSON.stringify(f)))})})}));function Xd(){const e=Object(Ua.a)(["\n    cursor: pointer;\n"]);return Xd=function(){return e},e}function Vd(){const e=Object(Ua.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-sm);\n    width: 100%;\n    .name-input {\n        flex: 3;\n        min-width: 400px;\n    }\n    .set-id-input {\n        flex: 1;\n        min-width: 250px;\n    }\n"]);return Vd=function(){return e},e}const qd=Va.b.div(Vd()),_d=Va.b.span(Xd()),$d=Object(r.forwardRef)(((e,t)=>{let{onTakePicker:n}=e;const o=lr(),{name:i,format:l,getUpdater:s}=Er(Object(ri.useShallow)((e=>{let{card:{name:t,format:n},getUpdater:a}=e;return{name:t,format:n,getUpdater:a}}))),c=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useMemo)((()=>s("setId")),[s]),b=Object(r.useMemo)((()=>s("name",void 0,"debounce")),[s]);return Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t,n;let{name:a,setId:r}=e;"string"===typeof a&&(null===(t=c.current)||void 0===t||t.setValue(a)),"string"===typeof r&&(null===(n=u.current)||void 0===n||n.setValue(r))}}))),Object(a.jsxs)(qd,{className:"name-id-input",children:[Object(a.jsx)(yd,{ref:c,id:"name",defaultValue:i,addonBefore:Object(a.jsx)(Xa.a,{title:o["input.name.tooltip"],children:Object(a.jsx)(_d,{onClick:()=>{navigator.clipboard.writeText(Zn(i))},children:o["input.name.label"]})}),onChange:b,onTakePicker:n}),Object(a.jsx)(yd,{ref:u,id:"set-id",defaultValue:Er.getState().card.setId,addonBefore:Object(a.jsxs)(Nd,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:o["input.set-id.label"]}),Object(a.jsx)(Hi,{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.setValue((e=>Ea("ABCDEFGHIJKLMNOPQRSTUVWXYZ",4)+"-"+("OCG"===e?"JP":"EN")+Ea("0000000000111111111122222222223456789",1)+Ea("0123456789",2))(l))},Icon:lu.a,tooltipProps:{overlay:o["button.randomize.label"]}})]}),onChange:d,onTakePicker:n})]})}));var Jd=n(602);function Zd(){const e=Object(Ua.a)(["\n    background-color: var(--main-level-3);\n    padding: var(--spacing-sm);\n    border-top: var(--bw) solid var(--sub-level-3);\n    > * + * {\n        margin-top: var(--spacing-sm);\n    }\n    .link-rating-behavior-panel {\n        .radio-train-input-group {\n            flex: 0 0 auto;\n            margin-right: var(--spacing-sm);\n        }\n        label {\n            flex: 1 1 auto;\n            text-align: left;\n            font-size: var(--fs);\n            color: var(--color);\n        }\n    }\n"]);return Zd=function(){return e},e}const Qd=Va.b.div(Zd()),eb=()=>{const e=lr(),{flag:t,setCard:n}=Er(Object(ri.useShallow)((e=>{let{card:{flag:t},setCard:n,getUpdater:a}=e;return{flag:t,setCard:n,getUpdater:a}}))),r=(e,t)=>n((n=>{const a=[...n.flag];return a[t]=e,Object(c.a)(Object(c.a)({},n),{},{flag:a})}));return Object(a.jsx)(Qd,{children:t.map(((t,n)=>{var o;const{labelKey:i,type:l}=null!==(o=Q[n])&&void 0!==o?o:{};return"checkbox"===l?Object(a.jsx)("div",{children:Object(a.jsx)(Bi.a,{checked:0!==t,onChange:e=>{const t=e.target.checked?1:0;r(t,n)},children:e[i]})},i):"link-rating-behavior"===l?Object(a.jsx)(Gi,{className:"link-rating-behavior-panel",onChange:e=>r(Number(e),n),optionList:[{label:e["input.flag.link-rating-behavior.auto"],value:0},{label:e["input.flag.link-rating-behavior.show"],value:1},{label:e["input.flag.link-rating-behavior.hide"],value:2}],value:t,suffix:Object(a.jsx)("label",{children:e[i]})},i):null}))})};function tb(){const e=Object(Ua.a)(["\n    /** Ensure even width */\n    --layout-width: ","px;\n    --layout-height: ","px;\n    display: inline-block;\n    width: var(--layout-width);\n    height: var(--layout-height);\n    box-shadow: 0 0 2px 0 #202020;\n    position: relative;\n    background: var(--main-level-2);\n    button {\n        border: none;\n    }\n    .overlay-patch {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n    }\n    .dye-patch {\n        position: absolute;\n        z-index: 1;\n        top: 10%;\n        left: 50%;\n        min-width: 6px;\n        min-height: 6px;\n        width: ","px;\n        height: ","px;\n        border-radius: var(--br-lg);\n        transform: translateX(-50%);\n    }\n    .card-layout {\n        position: absolute;\n        cursor: pointer;\n        padding: 0;\n        &.unmodified .overlay-patch {\n            background: var(--gradient-diagonal-stripe);\n        }\n    }\n    .partial-layout {\n        background-clip: padding-box;\n        ","\n    }\n    .float-layout {\n        ","\n    }\n    /** For Zarc's gradient */\n    .partial-layout {\n        background-size: 200%;\n    }\n    .top-left {\n        width: 50%; height: 50%;\n        top: 0; left: 0;\n    }\n    .top-right {\n        width: 50%; height: 50%;\n        top: 0; left: 50%;\n        background-position-x: 100%;\n    }\n    .bottom-left {\n        width: 50%; height: 50%;\n        top: 50%; left: 0;\n    }\n    .bottom-right {\n        width: 50%; height: 50%;\n        top: 50%; left: 50%;\n        background-position-x: 100%;\n    }\n    /** Background width is slightly reduced to help active bottom frames easier */\n    .effect-background {\n        width: 80%;\n        height: 20%;\n        bottom: 5%;\n        left: 10%;\n        background-size: 125%;\n        background-position-x: 50%;\n    }\n    .pendulum-effect-background {\n        width: 80%;\n        height: 13%;\n        bottom: 28%;\n        left: 10%;\n        background-size: 125%;\n        background-position-x: 50%;\n    }\n"]);return tb=function(){return e},e}function nb(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    column-gap: var(--spacing-sm);\n    background-color: var(--main-level-3);\n    padding: var(--spacing-sm);\n    "," {\n        border: none;\n        box-shadow: none;\n        padding: 0;\n    }\n    .visual-preview-container {\n        color: var(--color-heavy);\n        width: 110px; // Alignment\n        text-align: center;\n        label {\n            padding-bottom: var(--spacing-xs);\n        }\n        .frame-info-block {\n\t\t\theight: 30px; // Alignment\n\t\t\tline-height: 28px; // Alignment with border 1px\n            border: var(--bw) solid var(--sub-level-1);\n            background-color: var(--main-level-1);\n            margin-bottom: var(--spacing-xs);\n            cursor: pointer;\n            .frame-info-block-label {\n                padding: 0 var(--spacing-xs);\n            }\n            &.active {\n                border: var(--bw) dashed var(--main-level-2);\n            }\n            &:hover {\n                border: var(--bw) solid var(--main-level-2);\n            }\n        }\n    }\n"]);return nb=function(){return e},e}const{width:ab,height:rb}=d,ob=Va.b.div(nb(),Td),ib=Va.b.div(tb(),(e=>2*Math.round(e.$width/2)),(e=>e.$height),(e=>e.$width/6),(e=>e.$width/6),(e=>e.$hoverable?"\n                border: var(--bw) solid var(--main-level-1);\n                &.active {\n                    border: var(--bw) dashed var(--main-level-1);\n                }\n                &:hover {\n                    border: var(--bw) dashed var(--main-level-2);\n                }\n            ":""),(e=>e.$hoverable?"\n                border: var(--bw) solid var(--main-level-1);\n                &.active {\n                    border: var(--bw) dashed var(--main-level-2);\n                    box-shadow: 0 0 1px 0 var(--main-level-1);\n                }\n                &:hover {\n                    border: var(--bw) solid var(--main-level-2);\n                    box-shadow: 0 0 1px 0 var(--main-level-1);\n                }\n            ":"")),lb=e=>{let{tabIndex:t=0,width:n,height:r,baseLayoutState:o,resolvedLayoutState:i,isPendulum:l,activeLayout:s,dyeList:u,onClick:d}=e;return Object(a.jsx)(ib,{$width:n,$height:r,$hoverable:!!d,children:[{key:"topLeftFrame",className:"card-layout partial-layout top-left"},{key:"topRightFrame",className:"card-layout partial-layout top-right"},{key:"bottomLeftFrame",className:"card-layout partial-layout bottom-left"},{key:"bottomRightFrame",className:"card-layout partial-layout bottom-right"},{key:"effectBackground",className:"card-layout float-layout effect-background"},{key:"pendulumEffectBackground",className:"card-layout float-layout pendulum-effect-background"}].map((e=>{var r;let{className:b,key:m}=e;const p=i[m],h=null==S[m]?void 0:u[S[m]];if(!p)return null;if(!l&&"pendulumEffectBackground"===m)return null;const{labelBackgroundColor:f,labelBackgroundImage:g}=null!==(r=Be[p])&&void 0!==r?r:{};return Object(a.jsx)("button",Object(c.a)(Object(c.a)({},t<0?{}:{tabIndex:t}),{},{className:Ka(b,m===s?"active":"","auto"===(null===o||void 0===o?void 0:o[m])?"unmodified":""),onClick:()=>null===d||void 0===d?void 0:d(m),style:g?{backgroundImage:g}:{backgroundColor:f},children:Object(a.jsx)("div",{className:"overlay-patch",style:h?{boxShadow:"0 0 0 ".concat(Math.round(n/16),"px ").concat(h," inset")}:{}})}),m)}))})},sb=Object(r.forwardRef)(((e,t)=>{var n,o;let{frameList:i,onFrameChange:l,onCancel:s}=e;const u=lr(),{isPendulum:d,frame:b,leftFrame:m,rightFrame:p,pendulumFrame:h,pendulumRightFrame:f,effectBackground:g,pendulumEffectBackground:v,dyeList:y,setCard:j,getUpdater:x}=Er(Object(ri.useShallow)((e=>{let{card:{isPendulum:t,frame:n,leftFrame:a,rightFrame:r,pendulumFrame:o,pendulumRightFrame:i,dyeList:l,effectStyle:s,pendulumStyle:c},setCard:u,getUpdater:d}=e;return{isPendulum:t,frame:n,leftFrame:a,rightFrame:r,pendulumFrame:o,pendulumRightFrame:i,effectBackground:s.background,pendulumEffectBackground:c.background,dyeList:l,setCard:u,getUpdater:d}}))),O=Object(r.useRef)({topLeftFrame:"auto"===h?"spell":h,topRightFrame:"auto"===h?"spell":h,bottomLeftFrame:"auto"===h?"spell":h,bottomRightFrame:"auto"===h?"spell":h,effectBackground:"auto"===h?"spell":h,pendulumEffectBackground:"auto"===h?"spell":h}),[w,k]=Object(r.useState)(0),[C,F]=Object(r.useState)("frame"),L="frame-layout-main";Object(r.useEffect)((()=>{"pendulumEffectBackground"!==C||d||F("frame")}),[C,d]),Object(r.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=document.getElementById(L))||void 0===e?void 0:e.focus()}})));const T=Object(r.useMemo)((()=>x("pendulumFrame")),[x]),N=Object(r.useMemo)((()=>x("pendulumRightFrame")),[x]),R=Object(r.useMemo)((()=>x("leftFrame")),[x]),z=Object(r.useMemo)((()=>x("rightFrame")),[x]),I=e=>j((t=>{const n=Object(c.a)({},t.effectStyle);return n.background=e,Object(c.a)(Object(c.a)({},t),{},{effectStyle:n})})),B=e=>j((t=>{const n=Object(c.a)({},t.pendulumStyle);return n.background=e,Object(c.a)(Object(c.a)({},t),{},{pendulumStyle:n})})),E=Object(r.useMemo)((()=>x("dyeList")),[x]),D=e=>{"bottomLeftFrame"===C&&T(e),"bottomRightFrame"===C&&N(e),"topLeftFrame"===C&&R(e),"topRightFrame"===C&&z(e),"effectBackground"===C&&I(e),"pendulumEffectBackground"===C&&B(e)},W={frame:b,topLeftFrame:m,topRightFrame:p,bottomLeftFrame:h,bottomRightFrame:f,effectBackground:g,pendulumEffectBackground:v},H=W[C],A=En(W,d),M=S[C];return Object(a.jsxs)(ob,{children:[Object(a.jsxs)("div",{className:"visual-preview-container",children:[Object(a.jsx)("label",{children:u["input.advanced-frame.main.label"]}),Object(a.jsx)(ms,Object(c.a)(Object(c.a)({id:L,tabIndex:0,className:"frame"===C?"active":""},null!==(n=Be[b])&&void 0!==n?n:De),{},{onClick:()=>F("frame")})),Object(a.jsx)("label",{children:u["input.advanced-frame.detailed.label"]}),Object(a.jsx)(lb,{width:2*Math.round(ab/20),height:2*Math.round(rb/20),isPendulum:d,baseLayoutState:W,resolvedLayoutState:A,activeLayout:C,onClick:e=>F(e),dyeList:y}),Object(a.jsx)(hi.a,{size:"small",type:"primary",onClick:()=>{T("auto"),N("auto"),R("auto"),z("auto"),I("auto"),B("auto"),E(["","","","","",""])},children:u["button.reset.label"]})]}),Object(a.jsx)("div",{children:Object(a.jsxs)(Td,Object(c.a)(Object(c.a)({className:"pendulum-frame-picker"},Ba({stopPropagation:!0,optionLength:i.length,setFocus:k,onTrigger:()=>{w>=0&&D(i[w].value)},onCancel:s})),{},{children:[Object(a.jsx)("div",{className:"frame-part-name",children:u[null===(o=We[C])||void 0===o?void 0:o.labelKey]}),Object(a.jsx)(Bi.a,{className:Ka("inline-input","frame"===C?"checkbox-disabled":""),checked:"auto"===H,disabled:"frame"===C,onChange:e=>{var t;D(e.target.checked?"auto":null!==(t=O.current[C])&&void 0!==t?t:"auto")},children:u["input.frame.auto"]}),Object(a.jsx)(Gi,{className:"frame-radio",value:H,onChange:e=>{"frame"===C?l(e):D(e)},optionList:i}),"number"===typeof M&&Object(a.jsx)(Fs,{value:y[M],onChange:e=>{e!==y[M]&&((e,t)=>{j((n=>{const a=S[t];if("number"!==typeof a)return n;const r=[...n.dyeList];return r[a]=e,Object(c.a)(Object(c.a)({},n),{},{dyeList:r})}))})(e,C)},children:u["input.advanced-frame.dye"]})]}))})]})})),cb=[Object(c.a)(Object(c.a)({},Q[0]),{},{valueDisplay:(e,t)=>e["input.flag.mix-def-link"],sampleDisplay:e=>Object(a.jsxs)(a.Fragment,{children:[e["input.flag.mix-def-link"],":",Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)(tl,{data:0,children:"0"}),": ",e["manager.template.description.true"]]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(tl,{data:1,children:"1"}),": ",e["manager.template.description.false"]]})]})]})}),Object(c.a)(Object(c.a)({},Q[1]),{},{valueDisplay:(e,t)=>Object(a.jsxs)(a.Fragment,{children:[e["input.flag.link-rating-behavior"],": ",e[1===t?"input.flag.link-rating-behavior.show":"input.flag.link-rating-behavior.hide"]]}),sampleDisplay:e=>Object(a.jsxs)(a.Fragment,{children:[e["input.flag.link-rating-behavior"],":",Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)(tl,{data:0,children:0}),": ",e["input.flag.link-rating-behavior.auto"]]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(tl,{data:1,children:1}),": ",e["input.flag.link-rating-behavior.show"]]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(tl,{data:2,children:2}),": ",e["input.flag.link-rating-behavior.hide"]]})]})]})})];function ub(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    .red-scale {\n        color: var(--sub-red-scale);\n    }\n    .blue-scale {\n        color: var(--sub-blue-scale);\n    }\n    .pendulum-option {\n        display: grid;\n        grid-template-columns: var(--width-label) 1fr;\n        align-items: center;\n        .pendulum-frame-input,\n        .pendulum-checkbox {\n            flex: 0 0 auto;\n        }\n        .mirror-scale {\n            /** Alignment **/\n            line-height: 32px;\n            align-items: center;\n        }\n    }\n    .joined-row {\n        position: relative;\n        grid-column: span 2;\n        .standalone-label {\n            min-width: 0;\n            width: unset;\n            padding-left: var(--spacing-antd);\n        }\n        .pendulum-checkbox {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n            /** Alignment **/\n            line-height: 32px;\n            text-align: right;\n            font-weight: 500;\n            margin-right: 0;\n            padding-right: var(--spacing);\n            > span {\n                padding-right: 0;\n            }\n        }\n        .pendulum-checkbox-placeholder {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n        }\n        .pendulum-frame-input {\n            margin-right: var(--spacing);\n        }\n        .pendulum-size {\n            display: inline-block;\n            line-height: 1.15; // Alignment\n            margin-right: var(--spacing);\n        }\n        .ant-checkbox-wrapper + .ant-checkbox-wrapper {\n            margin-left: 0;\n        }\n    }\n"]);return ub=function(){return e},e}function db(){const e=Object(Ua.a)(["\n    display: inline-flex;\n    cursor: pointer;\n    box-shadow: var(--bs-input);\n    vertical-align: bottom;\n    box-shadow: var(--bs-button);\n    border-radius: var(--br-lg);\n    background-color: var(--main-level-4);\n    &:focus-visible {\n        outline: 2px solid var(--focus);\n    }\n    .pendulum-frame-info-block {\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        line-height: 2; // Alignment\n        min-width: 110px;\n        overflow: hidden;\n        border: var(--bw) solid var(--sub-level-1);\n        .frame-info-block-label {\n            padding: var(--spacing-px) var(--spacing-xs);\n        }\n    }\n    .pendulum-frame-label {\n        display: inline-block;\n        background: var(--main-level-4);\n        border: var(--bw) solid var(--sub-level-1);\n        border-right: none;\n        padding: var(--spacing-px) var(--spacing-xs);\n        border-radius: var(--br-lg) 0 0 var(--br-lg);\n        line-height: 2; // Alignment\n        &:last-child {\n            border-radius: var(--br-lg);\n            border-right: var(--bw) solid var(--sub-level-1);\n        }\n    }\n    .card-layout-preview-container {\n        line-height: 0;\n        border: var(--bw) solid var(--sub-level-1);\n        overflow: hidden;\n    }\n    .anticon {\n        align-content: center;\n        padding: 0 var(--spacing-xs);\n        border: var(--bw) solid var(--sub-level-1);\n        border-left: none;\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n    }\n"]);return db=function(){return e},e}const{width:bb,height:mb}=d,pb=Va.b.div(db()),hb=Va.b.div(ub()),fb=Object(r.forwardRef)(((e,t)=>{let{softMode:n,showCreativeOption:o,showExtraDecorativeOption:i,onTakePicker:l,onFrameChange:s}=e;const u=lr(),{isPendulum:d,frame:b,leftFrame:m,rightFrame:p,pendulumFrame:h,pendulumRightFrame:f,effectBackground:g,pendulumEffectBackground:v,pendulumScaleBlue:y,pendulumScaleRed:j,pendulumSize:x,dyeList:O,flag:w,setCard:k,getUpdater:S}=Er(Object(ri.useShallow)((e=>{let{card:{isPendulum:t,frame:n,leftFrame:a,rightFrame:r,pendulumFrame:o,pendulumRightFrame:i,pendulumScaleBlue:l,pendulumScaleRed:s,pendulumSize:c,effectStyle:u,pendulumStyle:d,dyeList:b,flag:m},setCard:p,getUpdater:h}=e;return{isPendulum:t,frame:n,leftFrame:a,rightFrame:r,pendulumFrame:o,pendulumRightFrame:i,pendulumScaleBlue:l,pendulumScaleRed:s,pendulumSize:c,effectBackground:u.background,pendulumEffectBackground:d.background,dyeList:b,flag:m,setCard:p,getUpdater:h}}))),{mirrorPendulumScale:C,updateSetting:F}=Dr(Object(ri.useShallow)((e=>{let{setting:{mirrorPendulumScale:t},updateSetting:n}=e;return{mirrorPendulumScale:t,updateSetting:n}}))),L=Object(r.useRef)(null),T=Object(r.useRef)(null),N=Object(r.useRef)(null),[R,z]=Object(r.useState)(!1),I=Object(r.useMemo)((()=>S("pendulumScaleRed")),[S]),B=Object(r.useMemo)((()=>S("pendulumScaleBlue")),[S]),E=Object(r.useMemo)((()=>S("pendulumSize")),[S]),D=Object(r.useMemo)((()=>S("pendulumEffect",void 0,"debounce")),[S]),W=Object(r.useMemo)((()=>{return e=u,Object.values(_).map((t=>{let{key:n,labelKey:a}=t;return{label:e[a],value:n}}));var e}),[u]),H=Object(r.useMemo)((()=>Wc().filter((e=>i||"normal"===e.edition))),[i]);Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t;let{pendulumEffect:n}=e;n&&(null===(t=N.current)||void 0===t||t.setValue(n))}})));const A={frame:b,topLeftFrame:m,topRightFrame:p,bottomLeftFrame:h,bottomRightFrame:f,effectBackground:g,pendulumEffectBackground:v},M=w.map(((e,t)=>{const n=cb[t];return 0!==e&&n?Object(a.jsx)("li",{children:n.valueDisplay(u,e)},n.labelKey):null})).filter((e=>null!=e));return Object(a.jsxs)(hb,{className:"pendulum-input",children:[Object(a.jsxs)("div",{className:"joined-row pendulum-option",children:[Object(a.jsx)("div",{className:"pendulum-checkbox",children:Object(a.jsx)(Bi.a,{onChange:e=>k((t=>{const n=e.target.checked;return Object(c.a)(Object(c.a)({},t),{},{isPendulum:n})})),checked:d,children:u["input.pendulum.label"]})}),Object(a.jsxs)("div",{className:"pendulum-option-container",children:[o&&Object(a.jsx)(Li.a,{visible:R,onVisibleChange:z,trigger:["click"],placement:"bottom",overlayClassName:"pendulum-frame-picker-overlay",content:Object(a.jsxs)("div",{className:"overlay-event-absorber",children:[Object(a.jsx)(sb,{ref:T,isPendulum:d,frameList:H,pendulumFrame:h,onFrameChange:s,onCancel:()=>{var e;z(!1),null===(e=L.current)||void 0===e||e.focus()}}),Object(a.jsx)(eb,{})]}),children:Object(a.jsxs)(pb,{ref:L,className:"pendulum-frame-input",tabIndex:0,onKeyDown:e=>{if("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key)return z(!0),setTimeout((()=>{var e;null===(e=T.current)||void 0===e||e.focus()}),200),!1},children:[Object(a.jsx)("span",{className:"pendulum-frame-label",children:u["input.advanced-frame.label"]}),Object(a.jsx)("div",{className:"card-layout-preview-container",children:Object(a.jsx)(lb,{width:Math.round(30*bb/mb),height:30,isPendulum:d,resolvedLayoutState:En(A,d),tabIndex:-1,dyeList:O})}),M.length>0?Object(a.jsx)(dl,{content:Object(a.jsxs)(ul,{children:[u["input.flag.effective.label"],Object(a.jsx)("ul",{children:M})]}),children:Object(a.jsx)(Jd.a,{})}):null,Object(a.jsx)(Gc.a,{})]})}),d&&o&&Object(a.jsx)("div",{className:"pendulum-size",children:Object(a.jsx)(Li.a,{overlayClassName:"global-input-overlay font-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(pc.Container,{children:W.map((e=>{let{value:t,label:n}=e;return Object(a.jsx)(pc.Option,{className:x===t?"menu-active":"",onClick:()=>{E(t)},children:n},t)}))})}),placement:"bottomLeft",children:Object(a.jsx)(hl,{$softMode:n,$active:x!==Z,children:u[_[x].labelKey]})},"color-picker")}),d&&o&&Object(a.jsx)(Bi.a,{className:"mirror-scale",onChange:e=>{const t=e.target.checked;F({mirrorPendulumScale:t}),t&&I(y)},checked:C,children:u["input.mirror-scale.label"]})]})]}),d&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(ps.a,{addonBefore:Object(a.jsx)("span",{children:u["input.scale.label"](Object(a.jsx)("span",{className:"blue-scale",children:u["input.scale.blue.label"]},"blue-scale"))}),value:y,allowClear:!0,onChange:e=>{B(e),C&&I(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(ps.a,{addonBefore:Object(a.jsx)("span",{children:u["input.scale.label"](Object(a.jsx)("span",{className:"red-scale",children:u["input.scale.red.label"]},"red-scale"))}),value:j,allowClear:!0,onChange:e=>{C&&B(e),I(e)}})}),Object(a.jsx)("div",{className:"joined-row",children:Object(a.jsx)(vd,{ref:N,id:"pendulum-effect",allowHotkey:!0,defaultValue:Er.getState().card.pendulumEffect,onChange:D,onTakePicker:l,autoSize:{minRows:5}})})]})]})}));function gb(){const e=Object(Ua.a)(["\n    &.first-line,\n    &.second-line {\n        display: flex;\n        flex-wrap: wrap;\n        gap: var(--spacing-sm);\n        align-items: center;\n        justify-content: right;\n    }\n    .type-ability-input {\n        flex: 1 1 auto;\n        width: unset;\n        max-width: 40rem;\n    }\n    .condense-input {\n        flex: 1 1 auto;\n    }\n    .line-input {\n        flex: 0 0 auto;\n        display: inline-grid;\n        grid-template-columns: var(--width-label) max-content max-content;\n        gap: var(--spacing-sm);\n        align-items: center;\n        .ant-input-number {\n            width: 65px;\n        }\n    }\n    .formatting-help-button,\n    .input-kanji-helper {\n        flex: 0 0 auto;\n    }\n    .formatting-help-button {\n        grid-area: help-button;\n        &:focus {\n            box-shadow: 0 0 0 2px var(--focus);\n        }\n    }\n    .condense-input {\n\t\t.standalone-addon.ant-input-group-addon {\n\t\t\twidth: unset;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1 1 90px;\n\t\t}\n\t}\n"]);return gb=function(){return e},e}const vb=Va.b.div(gb()),yb=Object(r.forwardRef)(((e,t)=>{var n;let{onTakePicker:o}=e;const i=lr(),{frame:l,cardIcon:s,format:u,furiganaHelper:d,condenseTolerant:b,setCard:m,getUpdater:p}=Er(Object(ri.useShallow)((e=>{let{card:{frame:t,cardIcon:n,format:a,furiganaHelper:r,effectStyle:o},setCard:i,getUpdater:l}=e;return{frame:t,cardIcon:n,format:a,furiganaHelper:r,condenseTolerant:null===o||void 0===o?void 0:o.condenseTolerant,setCard:i,getUpdater:l}}))),h=Dr((e=>e.setting.showExtraDecorativeOption)),f="ocg"===u?"\uff0f":"/",g=Object(r.useRef)(null),[v,y]=Object(r.useState)((()=>Er.getState().card.effectStyle.minLine)),[j,x]=Object(r.useState)((()=>Er.getState().card.pendulumStyle.minLine)),O=Object(r.useMemo)((()=>p("typeAbility",(e=>"string"!==typeof e?[]:e.split(/\uff0f|\//).map((e=>"".concat(e).trim())).filter((e=>"string"===typeof e&&e.length>0))),"debounce")),[p]),w=Object(r.useCallback)((e=>m((t=>Object(c.a)(Object(c.a)({},t),{},{furiganaHelper:e.target.checked})))),[m]);Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&m((e=>{const t=Object(c.a)(Object(c.a)({},e.effectStyle),{},{minLine:v}),n=Object(c.a)(Object(c.a)({},e.pendulumStyle),{},{minLine:j});return Object(c.a)(Object(c.a)({},e),{},{effectStyle:t,pendulumStyle:n})}))}),500),()=>{e=!1}}),[v,j,m]),Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t;let{typeAbility:n,effectMinLine:a,pendulumEffectMinLine:r}=e;n&&(null===(t=g.current)||void 0===t||t.setValue(n.join(f))),"number"===typeof a&&y(a),"number"===typeof r&&x(r)}})));const k="auto"===s?Tn({frame:l})?"input.type.monster.label":"input.type.st.label":"st"===(null===(n=D[s])||void 0===n?void 0:n.value)?"input.type.st.label":"input.type.monster.label",S="ocg"===u;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(vb,{className:"post-pendulum-input first-line variant-".concat(u),children:[Object(a.jsx)(yd,{ref:g,addonBefore:i[k],id:"type-ability",defaultValue:Er.getState().card.typeAbility.join(f),onChange:O,onTakePicker:o}),S&&Object(a.jsx)(Xa.a,{overlay:i["input.furigana-helper.tooltip"],overlayClassName:"long-tooltip-overlay",children:Object(a.jsx)(Bi.a,{className:"input-kanji-helper",onChange:w,checked:d,children:i["input.furigana-helper.label"]})}),Object(a.jsx)(ss,{})]}),Object(a.jsxs)(vb,{className:"post-pendulum-input second-line variant-".concat(u),children:[Object(a.jsx)(Gi,{className:"condense-input",value:"".concat(b),onChange:e=>(e=>{m((t=>Object(c.a)(Object(c.a)({},t),{},{effectStyle:Object(c.a)(Object(c.a)({},t.effectStyle),{},{condenseTolerant:e})})))})(e),optionList:Mc,children:Object(a.jsxs)("span",{children:[i["input.condense.label"]," ",Object(a.jsx)(zi,{content:Object(a.jsx)(ul,{children:i["input.condense.tooltip"]})})]})}),h&&Object(a.jsxs)("div",{className:"line-input",children:[Object(a.jsx)("div",{children:i["input.text-style.min-line.label"]}),Object(a.jsx)(Xc.a,{id:"effect-line",value:v,placeholder:i["input.text-style.min-line.effect.placeholder"],onChange:e=>y("number"===typeof e?e:0),min:0,max:50}),Object(a.jsx)(Xc.a,{id:"pendulum-effect-line",value:j,placeholder:i["input.text-style.min-line.pendulum-effect.placeholder"],onChange:e=>x("number"===typeof e?e:0),min:0,max:50})]})]})]})}));function jb(){const e=Object(Ua.a)(["\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-px);\n    &.custom-style-picker {\n        background-color: var(--sub-level-4); // Mimic border color\n    }\n    .style-section {\n        z-index: 1;\n        position: relative;\n        background-color: var(--main-level-3);\n    }\n    .style-picker-section {\n        overflow: hidden;\n        h2.size-picker,\n        h2.font-style-picker {\n            padding: var(--spacing-xs);\n        }\n        .inline-radio-train {\n            display: inline-flex;\n            padding-bottom: 0;\n            margin-left: var(--spacing-sm);\n        }\n        .shadow-checkbox .ant-checkbox {\n            transform: translateY(1px);\n        }\n        > .ant-checkbox-wrapper {\n            padding: var(--spacing-xs);\n        }\n    }\n    .custom-style-expand {\n        display: grid;\n        grid-template-columns: 1fr max-content;\n        column-gap: var(--spacing-xs);\n        .ant-checkbox-wrapper > span {\n            padding-right: 0;\n        }\n    }\n    .radio-train {\n        padding: var(--spacing-xs);\n        padding-top: 0;\n        .standalone-addon {\n            flex: 1 1 auto;\n            text-align: left;\n        }\n        .radio-train-input-group {\n            flex: 0 0 auto;\n        }\n        .ant-radio-button-wrapper {\n            height: 26px;\n            line-height: 24px;\n        }\n    }\n"]);return jb=function(){return e},e}function xb(){const e=Object(Ua.a)(["\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    column-gap: var(--spacing-xxs);\n    padding: var(--spacing-px);\n    margin-right: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br);\n    background-color: var(--main-level-4);\n    cursor: pointer;\n    &:hover {\n        border-color: var(--main-active);\n    }\n    .text-style-grid {\n        display: grid;\n        grid-template-columns: 25px 25px 25px;\n        grid-template-rows: 13px 13px; // Alignment\n        gap: var(--spacing-xxs);\n        font-size: var(--fs-xs);\n        text-align: center;\n        line-height: 1.5;\n    }\n    .text-style-preview-section {\n        border-radius: var(--br-sm);\n        box-shadow: 0 0 1px 1px var(--main-level-1) inset;\n    }\n    .text-style-label {\n        padding: var(--spacing-xxs);\n        line-height: 1.7;\n    }\n"]);return xb=function(){return e},e}const Ob=Va.b.div(xb()),wb=Va.b.div(jb()),kb={effectTextStyle:{keyName:"effectTextStyle",extraKeyname:"effectStyle",labelKey:"input.text-style.section.effect.label"},pendulumTextStyle:{keyName:"pendulumTextStyle",extraKeyname:"pendulumStyle",labelKey:"input.text-style.section.pendulum.label"},statTextStyle:{keyName:"statTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.stat.label"},typeTextStyle:{keyName:"typeTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.type.label"},otherTextStyle:{keyName:"otherTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.other.label"}},Sb=()=>{const e=lr(),{format:t,effectStyle:n,effectTextStyle:r,otherTextStyle:o,pendulumStyle:i,pendulumTextStyle:l,setCard:s,statTextStyle:u,typeTextStyle:d}=Er(Object(ri.useShallow)((e=>{let{card:{format:t,effectStyle:n,effectTextStyle:a,otherTextStyle:r,pendulumStyle:o,pendulumTextStyle:i,statTextStyle:l,typeTextStyle:s},setCard:c}=e;return{format:t,effectStyle:n,effectTextStyle:a,otherTextStyle:r,pendulumStyle:o,pendulumTextStyle:i,setCard:c,statTextStyle:l,typeTextStyle:s}}))),b=[{info:kb.effectTextStyle,value:r,extraValue:n},{info:kb.pendulumTextStyle,value:l,extraValue:i},{info:kb.statTextStyle,value:u},{info:kb.typeTextStyle,value:d},{info:kb.otherTextStyle,value:o}];return Object(a.jsx)(Li.a,{trigger:["click"],placement:"bottomLeft",overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(wb,{className:"custom-style-picker",children:b.map((n=>{let{info:r,value:o,extraValue:i}=n;const{keyName:l,labelKey:u,extraKeyname:d}=r,[b,m,p,h]=o,{upSize:f,fontStyle:g}=null!==i&&void 0!==i?i:{};return Object(a.jsxs)("div",{className:"style-section",children:[Object(a.jsxs)("h3",{className:"custom-style-expand ".concat(b?"":"inactive"),children:[Object(a.jsx)("span",{children:e[u]}),Object(a.jsx)(Bi.a,{checked:b,onChange:e=>{s((t=>{const n=e.target.checked;return Object(c.a)(Object(c.a)({},t),{},{[l]:[n,...o.slice(1)]})}))},children:e["input.text-style.custom.label"]})]}),b&&Object(a.jsxs)("div",{className:"style-picker-section",children:["string"===typeof g&&"tcg"===t&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("h2",{className:"font-style-picker",children:[Object(a.jsx)("span",{className:"label",children:e["input.text-style.font-style.label"]}),Object(a.jsx)(Gi,{className:"inline-radio-train",value:g,optionList:[{label:Object(a.jsx)(C.a,{}),value:"auto"},{label:e["input.text-style.font-style.normal.label"],value:"normal"},{label:e["input.text-style.font-style.italic.label"],value:"italic"}],onChange:e=>{s((t=>{const n=d?Object(c.a)({},t[d]):void 0;return n&&d?(n.fontStyle="string"===typeof e?e:"auto",Object(c.a)(Object(c.a)({},t),{},{[d]:n})):t}))}})]})}),"number"===typeof f&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("h2",{className:"size-picker",children:[Object(a.jsx)("span",{className:"label",children:e["input.text-style.extra-size.label"]}),Object(a.jsx)(Gi,{className:"inline-radio-train",value:f,optionList:[{label:Object(a.jsx)(C.a,{}),value:0},{label:"+1",value:1},{label:"+2",value:2},{label:"+3",value:3}],onChange:e=>{s((t=>{const n=d?Object(c.a)({},t[d]):void 0;return n&&d?(n.upSize="number"===typeof e?e:0,Object(c.a)(Object(c.a)({},t),{},{[d]:n})):t}))}})]})}),Object(a.jsx)("h2",{children:Object(a.jsx)(Bi.a,{className:"shadow-checkbox",checked:p,onChange:e=>{s((t=>{const n=e.target.checked;return Object(c.a)(Object(c.a)({},t),{},{[l]:[...o.slice(0,2),n,o[3]]})}))},children:Object(a.jsx)("span",{className:"label",children:e["input.text-style.shadow.label"]})})}),p&&Object(a.jsx)(vs,{value:h,onChange:e=>s((t=>Object(c.a)(Object(c.a)({},t),{},{[l]:[...o.slice(0,3),e]})))}),Object(a.jsx)("h2",{children:e["input.text-style.color.label"]}),Object(a.jsx)(ys.b,{colors:Ut,color:null!==m&&void 0!==m?m:"",onChangeComplete:e=>{s((t=>Object(c.a)(Object(c.a)({},t),{},{[l]:[o[0],e.hex,...o.slice(2,4)]})))}})]})]},l)}))})}),children:Object(a.jsxs)(Ob,{className:"text-style-preview",children:[Object(a.jsx)("div",{className:"text-style-grid",children:b.map((e=>{let{info:t,value:n,extraValue:r}=e;const{keyName:o}=t,[i,l,s,c]=n,{upSize:u,fontStyle:d}=null!==r&&void 0!==r?r:{};return Object(a.jsx)("div",{className:"text-style-preview-section",style:{background:i?"var(--sub-level-2)":"var(--sub-level-4)",color:0!==(null!==l&&void 0!==l?l:"").length&&i?l:"var(--color-contrast)",textShadow:i&&s?"0 0 2px ".concat(c):"none",fontStyle:i&&"italic"===d?"italic":"normal"},children:u&&i?Object(a.jsxs)("div",{children:["+",u]}):"Auto"},o)}))}),Object(a.jsx)("span",{className:"text-style-label",children:e["input.text-style.custom-effect.label"]})]})})};n(538);const Cb=Object(r.forwardRef)(((e,t)=>{let{artworkCanvas:n,backgroundCanvas:o,onCropChange:i,onTainted:l,onSourceLoaded:s}=e;const u=lr(),{format:d,frame:b,foil:m,finish:p,opacity:h,nameStyleType:f,nameStyle:g,getUpdater:v,setCard:j}=Er(Object(ri.useShallow)((e=>{let{card:{format:t,frame:n,foil:a,finish:r,opacity:o,nameStyleType:i,nameStyle:l,isLink:s},getUpdater:c,setCard:u}=e;return{format:t,frame:n,foil:a,finish:r,opacity:o,nameStyleType:i,nameStyle:l,isLink:s,getUpdater:c,setCard:u}}))),{setting:x}=Dr(),{showCreativeOption:O,showExtraDecorativeOption:k,reduceMotionColor:S}=x,F=Object(r.useRef)(null),L=Tn({frame:b}),[T,N]=Object(r.useState)(0),R=Object(r.useMemo)((()=>{return e={normal:u["input.foil.normal.label"],gold:u["input.foil.gold.label"],platinum:u["input.foil.platinum.label"]},w(e).map((e=>{let{color:t,name:n,label:r}=e;return{label:"normal"===n?Object(a.jsx)(C.a,{}):r,value:n,props:{style:{color:t,fontWeight:"bold"}}}}));var e}),[u]),z=Object(r.useRef)(null),I=Object(r.useRef)(null),B=Object(r.useRef)(null),E=Object(r.useRef)(null),D=Object(r.useRef)(null),W=Object(r.useRef)(null),H=Object(r.useRef)(null),A=Object(r.useRef)(null),[M,P]=Object(r.useState)({id:"",setValue:()=>{}}),K=Object(r.useMemo)((()=>v("foil")),[v]),U=Object(r.useMemo)((()=>v("finish")),[v]),Y=Object(r.useCallback)((e=>j((t=>Object(c.a)(Object(c.a)({},t),{},{opacity:e})))),[j]),G=Object(r.useCallback)(((e,t)=>{j((n=>Object(c.a)(Object(c.a)({},n),{},{nameStyleType:e,nameStyle:t})))}),[j]),X=Object(r.useMemo)((()=>{return e=u,Object.values(y).map((t=>{let{value:n,label:a,labelKey:r,tooltipKey:o}=t;return{label:r?e[r]:a,tooltip:o?e[o]:void 0,value:n}}));var e}),[u]);return Object(r.useEffect)((()=>{var e;null===(e=F.current)||void 0===e||e.setValue({font:g.font})}),[g]),Object(r.useEffect)((()=>{var e;null===(e=B.current)||void 0===e||e.setValue(h)}),[h]),Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t,n,a;return null!==(e=null===(t=I.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e||null!==(n=null===(a=B.current)||void 0===a?void 0:a.isLoading())&&void 0!==n&&n},forceCardData:e=>{var t,n,a,r,o,i,l;N((e=>e+1));const{name:s,art:u,artCrop:d,artData:b,artSource:m,background:p,backgroundCrop:h,backgroundData:f,backgroundSource:g,opacity:v,setId:y,pendulumEffect:j,typeAbility:x,effect:O,atk:w,def:k,creator:S,password:C,effectStyle:F,pendulumStyle:L}=e;null===(t=I.current)||void 0===t||t.setValue({art:u,artCrop:d,artData:b,artSource:m}),null===(n=B.current)||void 0===n||n.setValue(Object(c.a)(Object(c.a)({},v),{},{background:p,backgroundCrop:h,backgroundData:f,backgroundSource:g})),null===(a=E.current)||void 0===a||a.setValue({name:s,setId:y}),null===(r=D.current)||void 0===r||r.setValue({pendulumEffect:j}),null===(o=W.current)||void 0===o||o.setValue(O),null===(i=H.current)||void 0===i||i.setValue({typeAbility:x,effectMinLine:F.minLine,pendulumEffectMinLine:L.minLine}),null===(l=A.current)||void 0===l||l.setValue({atk:w,def:k,creator:S,password:C})}}))),Object(a.jsxs)("div",{className:["card-info-panel","ocg"===d?"input-ocg":"input-tcg"].join(" "),children:[Object(a.jsx)($l,{}),Object(a.jsx)("br",{}),Object(a.jsx)(ql,{}),Object(a.jsxs)("div",{className:"card-overlay-input",children:[Object(a.jsx)(zd,{className:"format-radio",value:d,onChange:e=>{j((t=>{var n,a,r,o,i;const l="".concat(e),s=Qa(t,l),{name:c,setId:u,effect:d,typeAbility:b,password:m,creator:p,pendulumEffect:h}=s;return null===(n=E.current)||void 0===n||n.setValue({name:c,setId:u}),null===(a=W.current)||void 0===a||a.setValue(d),null===(r=D.current)||void 0===r||r.setValue({pendulumEffect:h}),null===(o=H.current)||void 0===o||o.setValue({typeAbility:b}),null===(i=A.current)||void 0===i||i.setValue({creator:p,password:m}),s}))},optionList:Ec,children:Object(a.jsx)("span",{children:u["input.format.label"]})}),Object(a.jsx)(Gi,{className:"foil-radio",value:m,onChange:K,optionList:R,children:Object(a.jsx)("span",{children:u["input.foil.label"]})}),k&&Object(a.jsx)(Cu,{className:"finish-checkbox",value:p,onChange:U,optionList:X,children:Object(a.jsxs)(Nd,{className:"finish-checkbox-label",children:[Object(a.jsx)("div",{className:"input-label",children:u["input.finish.label"]}),Object(a.jsx)(Hi,{onClick:()=>U([]),Icon:Pc.a,tooltipProps:{title:u["input.other-finish.reset.tooltip"]}})]})})]}),O&&Object(a.jsxs)("div",{className:"card-layout-input",children:[Object(a.jsxs)("label",{className:"standalone-addon ant-input-group-addon",children:[u["input.layout.label"]," ",Object(a.jsx)(zi,{content:Object(a.jsx)(ul,{children:u["input.layout.tooltip"]})})]}),Object(a.jsx)(Wu,{ref:B,defaultValue:h,receivingCanvas:o,onChange:Y,onTainted:l,onCropChange:i,onSourceLoaded:s})]}),Object(a.jsx)(wu,{ref:z,onSTFrameChange:e=>{var t;return null===(t=H.current)||void 0===t?void 0:t.setValue({typeAbility:e})},onPasswordChange:e=>{var t;return null===(t=A.current)||void 0===t?void 0:t.setValue({password:e})},onStatChange:(e,t,n)=>{var a;return null===(a=A.current)||void 0===a?void 0:a.setValue({atk:e,def:t,linkRating:n})}}),Object(a.jsxs)(Rd,{className:"name-style-id-input",children:[Object(a.jsx)($d,{ref:E,onTakePicker:P}),Object(a.jsx)(vu,{ref:F,frameInfo:Be[b],defaultType:f,defaultValue:g,showExtraDecorativeOption:k,onChange:G},T),Object(a.jsx)(md,{showCreativeOption:O})]}),Object(a.jsxs)("div",{className:"main-info",children:[Object(a.jsxs)("div",{className:"main-info-first",children:[Object(a.jsx)(Ku,{language:u}),Object(a.jsx)(fb,{ref:D,showCreativeOption:O,showExtraDecorativeOption:k,softMode:S,onTakePicker:P,onFrameChange:e=>z.current.changeFrame(e)}),Object(a.jsx)(yb,{ref:H,onTakePicker:P}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"card-effect-letter-helper",children:[Object(a.jsx)(uc,{className:"standalone-label",children:u["input.effect.label"]}),O?Object(a.jsx)(Sb,{}):Object(a.jsx)("div",{}),Object(a.jsx)(Yc,{targetId:M.id,onPick:M.setValue})]}),Object(a.jsx)(jd,{ref:W,onTakePicker:P})]}),Object(a.jsx)(Wd,{ref:A,isMonster:L,showCreativeOption:O,onTakePicker:P})]}),Object(a.jsx)("div",{className:"main-info-second",children:Object(a.jsx)(Gd,{ref:I,receivingCanvas:n,showCreativeOption:O,showExtraDecorativeOption:k,onSourceLoaded:s,onTainted:l,onCropChange:i})})]})]})}));var Fb=n(546);function Lb(){const e=Object(Ua.a)(["\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    border: var(--bw) solid var(--main-level-1);\n    border-top-color: transparent;\n    background-color: #333333;\n    cursor: pointer;\n    position: relative;\n    z-index: 1;\n    height: ",'px;\n    font-size: var(--fs-thumb);\n    &.alternative-color {\n        background-color: #282828;\n    }\n    &.active {\n        background-color: #484848;\n        border-color: var(--main-active);\n        box-shadow: var(--bs-2);\n        z-index: 2;\n    }\n    &:hover {\n        border-color: var(--sub-active);\n    }\n    .right-slot {\n        display: grid;\n        grid-template-columns: 1fr;\n        row-gap: var(--spacing-xxs);\n        line-height: 1.25;\n        overflow: hidden;\n        padding: var(--spacing-xs);\n        border-left: var(--bw) solid var(--main-level-3);\n        .first-row {\n            &:empty:before {\n                content: "\\00a0";\n            }\n        }\n        .second-row {\n            display: flex;\n            column-gap: var(--spacing-xs);\n            align-items: center;\n            .padding {\n                flex: 1;\n            }\n            .card-icon {\n                width: 1em;\n            }\n            .attribute-icon {\n                width: 1em;\n            }\n            .star-content {\n                flex: 0 0 30px;\n                &.tuner {\n                    color: var(--main-online);\n                }\n            }\n        }\n        .third-row {\n            display: flex;\n            .set-id {\n                flex: 1;\n                text-align: right;\n            }\n        }\n    }\n    .left-slot {\n        --link-arrow-icon-size: 16px;\n        --link-arrow-border-size: 6px;\n        --link-arrow-container-size: 8px;\n        --link-arrow-half-size: 13px;\n        --link-arrow-margin-inline: calc(var(--link-arrow-half-size) - var(--link-arrow-icon-size) / 2);\n        --link-arrow-margin-block: calc(var(--link-arrow-half-size) - var(--link-arrow-border-size) / 2);\n        line-height: 0;\n        position: relative;\n        width: ',"px;\n        overflow: hidden;\n        .card-art-container {\n            cursor: pointer;\n            display: inline-block;\n            max-height: ","px;\n            overflow: hidden;\n            box-shadow: var(--bs-1);\n            position: relative;\n            z-index: 1;\n        }\n        .card-art {\n            display: inline-block;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n        .card-frame {\n            width: 50%;\n            height: 50%;\n            position: absolute;\n            &.top-left-frame {\n                top: 0;\n                left: 0;\n            }\n            &.top-right-frame {\n                top: 0;\n                left: 50%;\n            }\n            &.bottom-left-frame {\n                top: 50%;\n                left: 0;\n            }\n            &.bottom-right-frame {\n                top: 50%;\n                left: 50%;\n            }\n        }\n        .thumb-link-marker-icon {\n            display: inline-block;\n            width: 0;\n            height: 0;\n            left: 21px;\n            border-style: solid;\n            position: absolute;\n            z-index: 3;\n            margin: var(--link-arrow-margin-block) var(--link-arrow-margin-inline);\n            border-width: 0 var(--link-arrow-container-size) var(--link-arrow-container-size) var(--link-arrow-container-size);\n            border-color: transparent transparent #dadada transparent;\n            &:after {\n                content: '';\n                display: inline-block;\n                position: absolute;\n                height: 0;\n                width: 0;\n                top: 0;\n                left: calc(-1 * var(--link-arrow-border-size));\n                border-style: solid;\n                border-width: 0 var(--link-arrow-border-size) var(--link-arrow-border-size) var(--link-arrow-border-size);\n                border-color: transparent transparent #484848 transparent;\n                transform: translateY(1px);\n                z-index: 2;\n            }\n            &.marker-checked:after {\n                border-color: transparent transparent var(--main-link-marker) transparent;\n            }\n        }\n        .pendulum-scale {\n            position: absolute;\n            bottom: 0;\n            text-align: center;\n            width: 18px;\n            line-height: 1;\n            z-index: 3;\n            font-size: var(--fs-sm);\n            background-color: #eaeaea;\n            box-shadow: var(--bs-1);\n            padding: var(--spacing-xxs) 0;\n            &.red-scale {\n                right: 0;\n                color: var(--main-red-scale);\n                border-radius: var(--br-lg) 0 0 0;\n            }\n            &.blue-scale {\n                left: 0;\n                color: var(--main-blue-scale);\n                border-radius: 0 var(--br-lg) 0 0;\n            }\n        }\n    }\n    .action-slot {\n        display: none;\n        padding: var(--spacing-xs);\n        position: absolute;\n        top: 0;\n        right: 0;\n        background: var(--main-level-3);\n        height: 100%;\n        box-shadow: 0 0 3px 0 #2a2a2a;\n        cursor: default;\n        &.force-visible {\n            display: block;\n        }\n        .action-container {\n            display: inline-grid;\n            grid-template-columns: max-content;\n            gap: var(--spacing-xs);\n        }\n        .action-button {\n            cursor: pointer;\n            &.action-duplicate:hover {\n                color: var(--main-active);\n            }\n            &.action-delete:hover {\n                color: var(--main-danger);\n            }\n            &.action-download:hover {\n                color: var(--main-online);\n            }\n        }\n    }\n    &:hover {\n        .action-slot {\n            display: block;\n        }\n    }\n"],["\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    border: var(--bw) solid var(--main-level-1);\n    border-top-color: transparent;\n    background-color: #333333;\n    cursor: pointer;\n    position: relative;\n    z-index: 1;\n    height: ",'px;\n    font-size: var(--fs-thumb);\n    &.alternative-color {\n        background-color: #282828;\n    }\n    &.active {\n        background-color: #484848;\n        border-color: var(--main-active);\n        box-shadow: var(--bs-2);\n        z-index: 2;\n    }\n    &:hover {\n        border-color: var(--sub-active);\n    }\n    .right-slot {\n        display: grid;\n        grid-template-columns: 1fr;\n        row-gap: var(--spacing-xxs);\n        line-height: 1.25;\n        overflow: hidden;\n        padding: var(--spacing-xs);\n        border-left: var(--bw) solid var(--main-level-3);\n        .first-row {\n            &:empty:before {\n                content: "\\\\00a0";\n            }\n        }\n        .second-row {\n            display: flex;\n            column-gap: var(--spacing-xs);\n            align-items: center;\n            .padding {\n                flex: 1;\n            }\n            .card-icon {\n                width: 1em;\n            }\n            .attribute-icon {\n                width: 1em;\n            }\n            .star-content {\n                flex: 0 0 30px;\n                &.tuner {\n                    color: var(--main-online);\n                }\n            }\n        }\n        .third-row {\n            display: flex;\n            .set-id {\n                flex: 1;\n                text-align: right;\n            }\n        }\n    }\n    .left-slot {\n        --link-arrow-icon-size: 16px;\n        --link-arrow-border-size: 6px;\n        --link-arrow-container-size: 8px;\n        --link-arrow-half-size: 13px;\n        --link-arrow-margin-inline: calc(var(--link-arrow-half-size) - var(--link-arrow-icon-size) / 2);\n        --link-arrow-margin-block: calc(var(--link-arrow-half-size) - var(--link-arrow-border-size) / 2);\n        line-height: 0;\n        position: relative;\n        width: ',"px;\n        overflow: hidden;\n        .card-art-container {\n            cursor: pointer;\n            display: inline-block;\n            max-height: ","px;\n            overflow: hidden;\n            box-shadow: var(--bs-1);\n            position: relative;\n            z-index: 1;\n        }\n        .card-art {\n            display: inline-block;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n        .card-frame {\n            width: 50%;\n            height: 50%;\n            position: absolute;\n            &.top-left-frame {\n                top: 0;\n                left: 0;\n            }\n            &.top-right-frame {\n                top: 0;\n                left: 50%;\n            }\n            &.bottom-left-frame {\n                top: 50%;\n                left: 0;\n            }\n            &.bottom-right-frame {\n                top: 50%;\n                left: 50%;\n            }\n        }\n        .thumb-link-marker-icon {\n            display: inline-block;\n            width: 0;\n            height: 0;\n            left: 21px;\n            border-style: solid;\n            position: absolute;\n            z-index: 3;\n            margin: var(--link-arrow-margin-block) var(--link-arrow-margin-inline);\n            border-width: 0 var(--link-arrow-container-size) var(--link-arrow-container-size) var(--link-arrow-container-size);\n            border-color: transparent transparent #dadada transparent;\n            &:after {\n                content: '';\n                display: inline-block;\n                position: absolute;\n                height: 0;\n                width: 0;\n                top: 0;\n                left: calc(-1 * var(--link-arrow-border-size));\n                border-style: solid;\n                border-width: 0 var(--link-arrow-border-size) var(--link-arrow-border-size) var(--link-arrow-border-size);\n                border-color: transparent transparent #484848 transparent;\n                transform: translateY(1px);\n                z-index: 2;\n            }\n            &.marker-checked:after {\n                border-color: transparent transparent var(--main-link-marker) transparent;\n            }\n        }\n        .pendulum-scale {\n            position: absolute;\n            bottom: 0;\n            text-align: center;\n            width: 18px;\n            line-height: 1;\n            z-index: 3;\n            font-size: var(--fs-sm);\n            background-color: #eaeaea;\n            box-shadow: var(--bs-1);\n            padding: var(--spacing-xxs) 0;\n            &.red-scale {\n                right: 0;\n                color: var(--main-red-scale);\n                border-radius: var(--br-lg) 0 0 0;\n            }\n            &.blue-scale {\n                left: 0;\n                color: var(--main-blue-scale);\n                border-radius: 0 var(--br-lg) 0 0;\n            }\n        }\n    }\n    .action-slot {\n        display: none;\n        padding: var(--spacing-xs);\n        position: absolute;\n        top: 0;\n        right: 0;\n        background: var(--main-level-3);\n        height: 100%;\n        box-shadow: 0 0 3px 0 #2a2a2a;\n        cursor: default;\n        &.force-visible {\n            display: block;\n        }\n        .action-container {\n            display: inline-grid;\n            grid-template-columns: max-content;\n            gap: var(--spacing-xs);\n        }\n        .action-button {\n            cursor: pointer;\n            &.action-duplicate:hover {\n                color: var(--main-active);\n            }\n            &.action-delete:hover {\n                color: var(--main-danger);\n            }\n            &.action-download:hover {\n                color: var(--main-online);\n            }\n        }\n    }\n    &:hover {\n        .action-slot {\n            display: block;\n        }\n    }\n"]);return Lb=function(){return e},e}const{height:Tb,width:Nb,cardBorder:Rb}=d,zb=68/Nb,Ib=Va.b.div(Lb(),68,68,56),Bb=e=>{var t,n,o,i,l,s,u,d;let{index:m,card:p,active:f,language:g,onDuplicate:v,onSelect:y,onDelete:j,style:x}=e;const[O,w]=Object(r.useState)(!1),{art:k,artCrop:S,artData:C,artFit:F,artSource:L,atk:T,attribute:N,background:R,backgroundCrop:I,backgroundData:B,backgroundFit:E,backgroundSource:D,backgroundType:W,cardIcon:H,def:A,format:M,frame:P,leftFrame:K,rightFrame:U,hasBackground:Y,isLink:G,isPendulum:X,linkMap:V,name:q,opacity:_,pendulumFrame:$,pendulumRightFrame:J,pendulumScaleBlue:Z,pendulumScaleRed:Q,setId:ee,star:te,subFamily:ne,typeAbility:ae,effectStyle:re,pendulumStyle:oe}=p,{topLeftFrame:ie,topRightFrame:le,bottomLeftFrame:se,bottomRightFrame:ce}=En({frame:P,topLeftFrame:K,topRightFrame:U,bottomLeftFrame:$,bottomRightFrame:J,effectBackground:re.background,pendulumEffectBackground:oe.background},X),ue=Zn(q),de="offline"===L?k?C:"https://i.imgur.com/jjtCuG5.png":k,be="offline"===D?R?B:"https://imgur.com/pdSVzUZ.png":R,me="auto"===H?Nn(P):H,pe="st"===me?ne:me,he=Ln(p),fe=!!(T||A||G&&V.length),ge=ae.join(" / "),ve=h(X,_),{artFrameHeight:ye,artFrameWidth:je}=ve;return Object(a.jsxs)(Ib,{className:Ka("truncate",f?"active":"",m%2===0?"alternative-color":""),onClick:()=>y(p),style:x,children:[Object(a.jsxs)("div",{className:"left-slot",children:[Object(a.jsx)("div",{className:"card-frame top-left-frame",style:{backgroundColor:null===(t=Be[ie])||void 0===t?void 0:t.labelBackgroundColor,backgroundImage:null===(n=Be[ie])||void 0===n?void 0:n.labelBackgroundImage}}),Object(a.jsx)("div",{className:"card-frame top-right-frame",style:{backgroundColor:null===(o=Be[le])||void 0===o?void 0:o.labelBackgroundColor,backgroundImage:null===(i=Be[le])||void 0===i?void 0:i.labelBackgroundImage}}),Object(a.jsx)("div",{className:"card-frame bottom-left-frame",style:{backgroundColor:null===(l=Be[se])||void 0===l?void 0:l.labelBackgroundColor,backgroundImage:null===(s=Be[se])||void 0===s?void 0:s.labelBackgroundImage}}),Object(a.jsx)("div",{className:"card-frame bottom-right-frame",style:{backgroundColor:null===(u=Be[ce])||void 0===u?void 0:u.labelBackgroundColor,backgroundImage:null===(d=Be[ce])||void 0===d?void 0:d.labelBackgroundImage}}),Object(a.jsxs)("a",{className:"card-art-container",href:de,target:"_blank",rel:"noreferrer",onClick:e=>e.preventDefault(),style:{width:je*zb,height:ye*zb,top:(Tb-Nb)/2/2*zb,left:(Nb-je)/2*zb,backgroundColor:b},children:[Y&&Object(a.jsx)(Db,{className:"background-art",artLink:be,name:ue+" - background",fit:E,crop:I,canvasCoordinate:h(X,Object(c.a)(Object(c.a)({},_),{},{boundless:"fit"!==W}))}),Object(a.jsx)(Db,{className:"foreground-art",artLink:de,name:ue,fit:F,crop:S,canvasCoordinate:ve})]}),G&&[...Array(9)].map(((e,t)=>{if(4===t)return null;const n=X?Pe:Me,r=X?Ue:Ke;return Object(a.jsx)("div",{className:Ka("thumb-link-marker-icon thumb-link-marker-icon-".concat(t+1),V.includes("".concat(t+1))?"marker-checked":""),style:{top:X?16:19,transform:"rotate(".concat(Ae[t],"deg) translateY(").concat(n[t],"px) translateX(").concat(r[t],"px)")}},"link-".concat(t))})),X&&Z&&Object(a.jsx)("div",{className:"pendulum-scale blue-scale",children:Z}),X&&Q&&Object(a.jsx)("div",{className:"pendulum-scale red-scale",children:Q})]}),Object(a.jsxs)("div",{className:"right-slot truncate",children:[Object(a.jsx)("div",{className:"first-row truncate",children:ue}),Object(a.jsxs)("div",{className:"second-row truncate",children:[he||"NONE"===N?null:Object(a.jsx)("img",{className:"attribute-icon",src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(M,"-").concat(N.toLowerCase(),".png"),alt:"Icon"}),ae.length>0&&Object(a.jsx)("div",{className:"truncate",children:ge}),"st"!==me&&Object(a.jsx)("div",{className:"padding"}),pe!==z&&"none"!==me&&Object(a.jsx)("img",{className:"card-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-").concat(("custom"===pe?"icon-list":pe).toLowerCase(),".png"),alt:"Icon"}),pe!==z&&"st"!==me&&"none"!==me&&Object(a.jsx)("span",{className:Ka("star-content truncate",ge.toLowerCase().includes("tuner")?"tuner":""),children:"number"===typeof te?te:""!==te?'"'.concat(te,'"'):""})]}),Object(a.jsxs)("div",{className:"third-row truncate",children:[fe&&Object(a.jsx)("div",{children:T}),fe?Object(a.jsx)("div",{children:"\xa0/\xa0"}):Object(a.jsx)("div",{children:"\xa0"}),fe&&Object(a.jsx)("div",{children:G?"Link ".concat(V.length):A}),ee&&Object(a.jsx)("div",{className:"set-id",children:ee})]})]}),Object(a.jsx)("div",{className:Ka("action-slot",O?"force-visible":""),onClick:e=>e.stopPropagation(),children:Object(a.jsxs)("div",{className:"action-container",children:[Object(a.jsx)(Xa.a,{placement:"left",title:g["manager.button.duplicate.tooltip"],children:Object(a.jsx)(jc.a,{className:"action-button action-duplicate",onClick:()=>v(p)})}),Object(a.jsx)(Fb.a,{placement:"left",title:g["manager.button.delete.label"],onVisibleChange:e=>w(e),onConfirm:()=>j(p.id),okText:g["manager.button.delete.confirm.label"],cancelText:g["manager.button.delete.cancel.label"],children:Object(a.jsx)(Xa.a,{placement:"left",title:g["manager.button.delete.tooltip"],children:Object(a.jsx)(Ja.a,{className:"action-button action-delete"})})})]})})]})},Eb=(e,t,n,a,r)=>{var o;const{artWidth:i,artY:l,ratio:s,artFrameWidth:u,artFrameY:d}=n,{width:b,height:m,x:p,y:h}=null!==(o=r?Object(c.a)(Object(c.a)({},a),{},{width:100,height:100,x:0,y:0}):a)&&void 0!==o?o:{},f=d-l,g=e*((null!==b&&void 0!==b?b:0)/100),v=t*((null!==m&&void 0!==m?m:0)/100),y=i*zb/(g<=0?1:g);return{top:(null!==h&&void 0!==h?h:0)/100*-t*y,left:(null!==p&&void 0!==p?p:0)/100*-e*y,width:e*y,height:r?t*(i/s*zb/(v<=0?1:v)):void 0,transform:"translateX(".concat(-(i===u?0:(Nb-u)/2-Rb)*zb,"px) translateY(").concat(-f*zb,"px)")}},Db=e=>{let{artLink:t,name:n,crop:o,className:i,fit:l,canvasCoordinate:s,style:u}=e;const[d,b]=Object(r.useState)("https://imgur.com/pdSVzUZ.png"),m=Object(r.useRef)(null),[p,h]=Object(r.useState)((()=>{var e,t,n,a;return Eb(null!==(e=null===(t=m.current)||void 0===t?void 0:t.naturalWidth)&&void 0!==e?e:1,null!==(n=null===(a=m.current)||void 0===a?void 0:a.naturalHeight)&&void 0!==n?n:1,s,o,l)}));return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&b(t)}),500),()=>{e=!1}}),[t]),Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{var t,n,a,r;e&&h(Eb(null!==(t=null===(n=m.current)||void 0===n?void 0:n.naturalWidth)&&void 0!==t?t:1,null!==(a=null===(r=m.current)||void 0===r?void 0:r.naturalHeight)&&void 0!==a?a:1,s,o,l))}),500),()=>{e=!1}}),[o,s,l]),Object(a.jsx)("img",{ref:m,className:Ka("card-art",i),src:d,alt:n,style:Object(c.a)(Object(c.a)({},p),u),onLoad:()=>{var e,t,n,a;h(Eb(null!==(e=null===(t=m.current)||void 0===t?void 0:t.naturalWidth)&&void 0!==e?e:1,null!==(n=null===(a=m.current)||void 0===a?void 0:a.naturalHeight)&&void 0!==n?n:1,s,o,l))}})};var Wb=n(299),Hb=n(311);function Ab(){const e=Object(Ua.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    position: relative;\n    .list-container {\n        flex: 1;\n        overflow: auto;\n    }\n    .no-card {\n        padding: var(--spacing);\n        text-align: center;\n        position: absolute;\n        width: 100%;\n        .reset-filter {\n            cursor: pointer;\n            color: var(--main-active);\n            &:hover {\n                color: var(--sub-active);\n            }\n        }\n    }\n    .add-card {\n        flex: 0;\n        width: 100%;\n        border-radius: 0;\n        background: var(--main-primary);\n        border-color: var(--main-active);\n        &:hover {\n            background: var(--sub-primary);\n        }\n    }\n"]);return Ab=function(){return e},e}const Mb=Va.b.div(Ab()),Pb=e=>{let{data:t,index:n,style:r}=e;const{activeId:o,language:i,list:l,onDelete:s,onDownload:c,onDuplicate:u,onSelect:d}=t;return Object(a.jsx)(Bb,{index:n,card:l[n],active:l[n].id===o,language:i,onDuplicate:u,onSelect:d,onDownload:c,onDelete:s,style:r})},Kb=e=>{let{language:t,onSelect:n,onDownload:o,onRequestImport:i}=e;const{activeId:l,cardDisplayList:s,deleteCard:u,duplicateCard:d,resetFilter:b}=zr(Object(ri.useShallow)((e=>{let{activeId:t,cardDisplayList:n,deleteCard:a,duplicateCard:r,resetFilter:o}=e;return{activeId:t,cardDisplayList:n,deleteCard:a,duplicateCard:r,resetFilter:o}}))),[m,p]=Object(r.useState)(0),h=e=>{u(e),p((e=>e+1))};return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{if(e&&m>0){const{activeId:e,cardList:t,setCardList:a}=zr.getState(),r=t.find((t=>t.id===e));if(r)n(r);else{const e=Object(c.a)({id:Object(q.a)()},Pt());a([e],e.name)}}}),500),()=>{e=!1}}),[n,m]),Object(a.jsxs)(Mb,{style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/dark-denim-3.png")')},children:[Object(a.jsx)("div",{className:"list-container",children:Object(a.jsx)(Wb.a,{children:e=>{let{height:r,width:i}=e;return Object(a.jsx)(Hb.a,{className:"List",height:r,itemCount:s.length,itemSize:68,itemData:{list:s,language:t,activeId:l,onDuplicate:d,onSelect:n,onDownload:o,onDelete:h},overscanCount:5,width:i,children:Pb})}})}),0===s.length&&Object(a.jsxs)("div",{className:"no-card",children:[Object(a.jsx)("div",{children:t["manager.button.search.no-card.message"]}),Object(a.jsx)("div",{className:"reset-filter",onClick:b,children:t["manager.button.search.button.reset.label"]})]}),Object(a.jsx)(hi.a,{className:"add-card",onClick:i,children:t["manager.button.add.label"]})]})};var Ub=n(605),Yb=n(562),Gb=n(604);function Xb(){const e=Object(Ua.a)(["\n    .ant-modal-close-x {\n        display: none;\n    }\n    .ant-collapse > .ant-collapse-item > .ant-collapse-header {\n        padding: 0;\n        padding-left: 24px;\n        .ant-collapse-arrow {\n            top: 5px;\n            left: 0;\n        }\n    }\n    .ant-collapse-item > .ant-collapse-content > .ant-collapse-content-box {\n        padding: var(--spacing-sm) 0 0 0;\n    }\n    .download-button {\n        text-align: center;\n        margin: var(--spacing-sm) 0;\n        .ant-btn {\n            background: var(--main-primary);\n            border-color: var(--main-active);\n            &:hover {\n                background: var(--sub-primary);\n            }\n        }\n    }\n    .option-container {\n        width: 100%;\n        table-layout: fixed;\n        background-color: #494949;\n        th,\n        td {\n            border: var(--bw) solid var(--sub-level-4);\n            padding: var(--spacing-xs) var(--spacing-sm);\n            &:nth-child(1) {\n                width: 170px;\n            }\n            &:nth-child(2) {\n                "," {\n                    margin-right: var(--spacing-xs);\n                }\n            }\n        }\n    }\n"]);return Xb=function(){return e},e}function Vb(){const e=Object(Ua.a)(["\n    font-weight: normal;\n    letter-spacing: -0.75px;\n    font-size: var(--fs-lg);\n"]);return Vb=function(){return e},e}const{Panel:qb}=Yb.a,_b=Va.b.div(Vb()),$b=Object(Va.b)(Ya.a)(Xb(),el),Jb=e=>{let{language:t}=e;const[n,o]=Object(r.useState)(!1);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(_b,{className:"manager-toggle-button",onClick:()=>o(!0),children:[t["manager.header.button.template.label"],"\xa0",Object(a.jsx)(Gb.a,{})]}),Object(a.jsx)($b,{visible:n,onCancel:()=>o(!1),okButtonProps:{style:{display:"none"}},cancelText:t["manager.template.button.cancel.label"],children:Object(a.jsxs)("div",{className:"sample-modal-container",children:[Object(a.jsxs)("div",{children:[t["manager.template.description.line-1"],Object(a.jsx)("br",{}),t["manager.template.description.line-2"]]}),Object(a.jsx)("div",{className:"download-button",children:Object(a.jsx)("a",{href:"https://drive.google.com/file/d/1c8SdS0n1UERomLKdlm28dSul5ojBfSiC/view?usp=sharing",target:"_blank",rel:"noreferrer",download:!0,children:Object(a.jsx)(hi.a,{children:t["manager.template.download.label"]})})}),Object(a.jsx)(Yb.a,{ghost:!0,children:Object(a.jsx)(qb,{header:Object(a.jsx)("div",{children:t["manager.template.description.line-3"]}),children:Object(a.jsx)("table",{className:"option-container",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("b",{children:t["manager.template.header.field.label"]})}),Object(a.jsx)("th",{children:Object(a.jsx)("b",{children:t["manager.template.header.value.label"]})})]}),[{field:"Format",value:Object(a.jsx)("div",{children:["tcg","ocg"].map((e=>Object(a.jsx)(tl,{data:e,children:e},e)))})},{field:"Frame",altField:"Bottom Frame",value:Object(a.jsx)("div",{children:Ee.map((e=>{let{name:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Attribute",value:Object(a.jsx)("div",{children:[...L,...T].filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{name:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Spell/Trap Icon",value:Object(a.jsx)("div",{children:I.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Sticker",value:Object(a.jsx)("div",{children:E.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Foil",value:Object(a.jsx)("div",{children:w().filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{name:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Card Finish",value:Object(a.jsxs)("div",{children:[Object.values(y).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)})),Object(a.jsx)("div",{children:t["manager.template.description.joinable"]})]})},{field:"Art Finish",value:Object(a.jsx)("div",{children:Object.values(j).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Star Type",value:Object(a.jsx)("div",{children:["number","text"].map((e=>Object(a.jsx)(tl,{data:e,children:e},e)))})},{field:"Star Alignment",value:Object(a.jsx)("div",{children:["left","center","right"].map((e=>Object(a.jsx)(tl,{data:e,children:e},e)))})},{field:"Card Icon Type",value:Object(a.jsx)("div",{children:W.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Background Type",value:Object(a.jsx)("div",{children:u().map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Condense Rate",value:Object(a.jsx)("div",{children:Object.keys(ae).map((e=>Object(a.jsx)(tl,{data:e,children:e},e)))})},{field:"Name Style Type",value:Object(a.jsx)("div",{children:["predefined","custom"].map((e=>Object(a.jsx)(tl,{data:e,children:e},e)))})},{field:"Name Style - Font",value:Object(a.jsx)("div",{children:Object(a.jsx)(tl,{data:"Arial",children:"Arial"})})},{field:"Name Style - Preset",value:Object(a.jsx)("div",{children:Object.keys(Y).map((e=>Object(a.jsx)(tl,{data:e,children:e},e)))})},{field:"Name Style - Pattern",value:Object(a.jsx)("div",{children:V.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{key:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Pendulum Size",value:Object(a.jsx)("div",{children:$.map((e=>{let{key:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Other Finish - Attribute",value:Object(a.jsx)("div",{children:Object.values(j).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Other Finish - Background",value:Object(a.jsx)("div",{children:Object.values(j).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Other Finish - Icon",value:Object(a.jsx)("div",{children:Object.values(j).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Other Finish - Sticker",value:Object(a.jsx)("div",{children:Object.values(j).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))})},{field:"Star List",value:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:t["manager.template.description.star-list"]}),Object.values(K).filter((e=>{let{isMixable:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(tl,{data:t,children:t},t)}))]})},{field:"Dye List",value:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:t["manager.template.description.dye-list"]}),Object(a.jsx)("ul",{children:Object.entries(S).sort(((e,t)=>e[1]-t[1])).map((e=>{var n,r;let[o]=e;return Object(a.jsx)("li",{children:t[null!==(n=null===(r=We[o])||void 0===r?void 0:r.labelKey)&&void 0!==n?n:""]},o)}))})]})},{field:"Flag",value:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:t["manager.template.description.flag"]}),cb.map((e=>{let{sampleDisplay:n,index:r}=e;return Object(a.jsx)("div",{children:n(t)},r)}))]})}].map((e=>{let{field:t,altField:n,value:r}=e;return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[Object(a.jsx)(el,{children:t}),n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),Object(a.jsx)(el,{children:n})]})]}),Object(a.jsx)("td",{children:r})]},t)}))]})})},"sample-option")})]})})]})};var Zb=n(161);function Qb(){const e=Object(Ua.a)(["\n    .header-warning {\n        color: var(--main-danger);\n    }\n"]);return Qb=function(){return e},e}function em(){const e=Object(Ua.a)(["\n    .ant-drawer-header {\n        padding: 0;\n    }\n    .ant-drawer-content {\n        box-shadow: 0 0 3px 2px #202020;\n    }\n    .ant-drawer-body {\n        padding: 0;\n        height: 100%;\n    }\n    .ant-drawer-close {\n        display: none;\n    }\n    .ant-drawer-content {\n        background-color: #484848;\n    }\n\n    .manager-label-container {\n        padding: var(--spacing-sm) 0 0 var(--spacing-sm);\n    }\n    .manager-button-container {\n        padding: var(--spacing-sm) var(--spacing-sm) 0 var(--spacing-sm);\n        .manager-button {\n            cursor: pointer;\n            input {\n                display: none;\n            }\n            &:hover {\n                color: var(--main-active);\n                .anticon {\n                    color: var(--main-active);\n                }\n            }\n            &.close-button:hover {\n                .anticon {\n                    color: var(--main-danger);\n                }\n            }\n        }\n    }\n    .card-manager-header {\n        display: grid;\n        grid-template-columns: 1fr max-content;\n        .card-manager-filter {\n            grid-column: span 2;\n            padding: var(--spacing-xs);\n            .card-manager-search {\n                width: 100%;\n            }\n        }\n    }\n    .manager-button-container {\n        display: inline-flex;\n        gap: var(--spacing-sm);\n    }\n"]);return em=function(){return e},e}function tm(){const e=Object(Ua.a)(["\n    position: absolute;\n    right: 0;\n    top: 125px;\n"]);return tm=function(){return e},e}const nm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.015,t=e;return{check:()=>{const n=Math.random();return t<n?(t+=e,!1):(t=e,!0)}}}(),am=Va.b.div(tm()),rm=Object(Va.b)(Ql.a)(em()),om=Object(r.forwardRef)(((e,t)=>{let{language:n,onVisibleChange:o,onSelect:i,onDownload:l,onRequestImport:s}=e;const c="list-upload-id",u=Object(r.useRef)(null),{cardList:d,changeEditStatus:b,pendingActiveCard:m,setActiveId:p,setCardList:h,setFilterFunction:f,setListName:g,setPendingActiveCard:v,sortList:y,toggleVisible:j,visible:x}=zr(Object(ri.useShallow)((e=>{let{cardList:t,changeEditStatus:n,pendingActiveCard:a,setActiveId:r,setCardList:o,setFilterFunction:i,setListName:l,setPendingActiveCard:s,sortList:c,toggleVisible:u,visible:d}=e;return{cardList:t,changeEditStatus:n,pendingActiveCard:a,setActiveId:r,setCardList:o,setFilterFunction:i,setListName:l,setPendingActiveCard:s,sortList:c,toggleVisible:u,visible:d}}))),O=Dr((e=>e.setting.exportFormat)),[w,k]=Object(r.useState)(0),[S,C]=Object(r.useState)(!1),[F,L]=Object(r.useState)(!1),T=nr()((e=>{f({type:"text",value:e.target.value})}),250),N=Object(r.useCallback)((e=>{i(e),p(e.id)}),[i,p]);return Object(r.useEffect)((()=>{m&&(i(m),p(m.id),v())}),[i,m,p,v]),Object(r.useEffect)((()=>{localStorage.setItem("manager-panel-visible",x.toString()),o(x)}),[o,x]),Object(r.useEffect)((()=>{const e=zr.subscribe((e=>e.filterResetSignal),(e=>{e&&k((e=>e+1))}));return()=>{e()}}),[]),Object(r.useImperativeHandle)(t,(()=>({})),[]),Object(a.jsx)(am,{children:Object(a.jsx)(rm,{title:Object(a.jsxs)("div",{className:"card-manager-header truncate",children:[Object(a.jsx)(lm,{className:"manager-label-container truncate",language:n,children:d.length}),Object(a.jsxs)("div",{className:"manager-button-container",children:[Object(a.jsx)("div",{className:"manager-button",children:Object(a.jsx)(Jb,{language:n})}),Object(a.jsx)(fi.a,{overlay:Object(a.jsx)(Ks.a,{children:[{value:Nr.level.key,label:n["manager.button.sort.level.label"]},{value:Nr.name.key,label:n["manager.button.sort.name.label"]},{value:Nr.atk.key,label:n["manager.button.sort.atk.label"]},{value:Nr.def.key,label:n["manager.button.sort.def.label"]},{value:Nr.set.key,label:n["manager.button.sort.set-id.label"]}].map((e=>{let{value:t,label:n}=e;return Object(a.jsx)(Ks.a.Item,{onClick:()=>y(t),children:n},t)}))}),children:Object(a.jsx)("div",{className:"manager-button",children:Object(a.jsx)(kd.a,{})})}),Object(a.jsx)(Xa.a,{title:n["manager.header.button.download.tooltip"],children:Object(a.jsx)("div",{className:"manager-button",onClick:async()=>{let e=!0;if(L(!0),nm.check()&&(e=window.confirm(n["prompt.remind.backup.label"])),e)try{const{error:e,value:t}=(e=>{const t=[],n=ur.length;let a="";for(let r=0;r<e.length;r++){const o=(e,t)=>{const n=pr[e];"number"===typeof n&&("string"===typeof t&&(i[n]=t),"number"===typeof t&&(i[n]="".concat(t)),"boolean"===typeof t&&(i[n]="".concat(t)),null==t&&(i[n]=""))},i=Array(n).map((()=>"")),{art:l,artCrop:s,artFinish:c,artFit:u,artSource:d,atk:b,attribute:m,background:p,backgroundCrop:h,backgroundFit:f,backgroundSource:g,backgroundType:v,cardIcon:y,creator:j,def:x,effect:O,effectStyle:w,effectTextStyle:k,externalInfo:S,finish:C,flag:F,foil:L,format:T,region:N,frame:R,furiganaHelper:z,hasBackground:I,isDuelTerminalCard:B,isFirstEdition:E,isLegacyCard:D,isLimitedEdition:W,isLink:H,isPendulum:A,isSpeedCard:M,leftFrame:P,linkMap:K,linkRating:U,name:Y,nameStyle:G,nameStyleType:X,opacity:V,otherFinish:q,otherTextStyle:_,password:$,pendulumEffect:J,pendulumFrame:Z,pendulumRightFrame:Q,pendulumScaleBlue:ee,pendulumScaleRed:te,pendulumSize:ne,pendulumStyle:ae,pendulumTextStyle:re,rightFrame:oe,setId:ie,star:le,starAlignment:se,statTextStyle:ce,sticker:ue,subFamily:de,starList:be,typeAbility:me,typeTextStyle:pe,dyeList:he}=e[r],fe=JSON.stringify(S),ge=F.join("|"),ve=he.join("|"),ye=be.join("|");o("Format",T),o("Region",N),o("Frame",R),o("Name",Y),o("Attribute",m),o("Star","".concat(le)),o("Spell/Trap Icon",de),o("Art Link",l),o("Type Ability",me.join("/")),o("Effect",O),o("Set Id",ie),o("ATK",b),o("DEF",x),o("Password",$),o("Sticker",ue),o("Copyright",j),o("Is Pendulum",A),o("Pendulum Effect",J),o("Pendulum Scale Red",te),o("Pendulum Scale Blue",ee),o("Is Link",null!==H&&void 0!==H?H:void 0),o("Link - Top Left Arrow",K.includes("1")),o("Link - Top Arrow",K.includes("2")),o("Link - Top Right Arrow",K.includes("3")),o("Link - Left Arrow",K.includes("4")),o("Link - Right Arrow",K.includes("6")),o("Link - Bottom Left Arrow",K.includes("7")),o("Link - Bottom Arrow",K.includes("8")),o("Link - Bottom Right Arrow",K.includes("9")),o("Link Rating",U),o("Is First Edition",E),o("Is Speed Card",M),o("Is Limited Edition",W),o("Is Duel Terminal Card",B),o("Is Legacy Card",D),o("Foil",L),o("Art Finish",c),o("Card Finish",C.join(",")),o("Art Crop - X (%)",s.x),o("Art Crop - Y (%)",s.y),o("Art Crop - Width (%)",s.width),o("Art Crop - Height (%)",s.height),o("Is Using Full Art",u),o("Star Type","number"===typeof le&&le>=0&&le<=13?"number":"text"),o("Star Alignment",se),o("Card Icon Type",y),o("Opacity - Body",V.body),o("Opacity - Pendulum",V.pendulum),o("Opacity - Text",V.text),o("Opacity - Name",V.name),o("Opacity - Base Fill",V.baseFill),o("Opacity - Art Border",V.artBorder),o("Opacity - Name Border",V.nameBorder),o("Opacity - Boundless",V.boundless),o("Has Background",I),o("Background Link",p),o("Is Using Full Background",f),o("Background Type",v),o("Background Crop - X (%)",h.x),o("Background Crop - Y (%)",h.y),o("Background Crop - Width (%)",h.width),o("Background Crop - Height (%)",h.height),o("Bottom Frame",Z),o("Condense Rate",w.condenseTolerant),o("Use Furigana Helper",z),o("Name Style Type",X),o("Name Style - Font",G.font),o("Name Style - Fill Style",G.fillStyle),o("Name Style - Headtext Fill Style",G.headTextFillStyle),o("Name Style - Shadow Color",G.shadowColor),o("Name Style - Shadow Offset Y",G.shadowOffsetY),o("Name Style - Shadow Offset X",G.shadowOffsetX),o("Name Style - Shadow Blur",G.shadowBlur),o("Name Style - Has Shadow",G.hasShadow),o("Name Style - Line Color",G.lineColor),o("Name Style - Line Width",G.lineWidth),o("Name Style - Line Offset Y",G.lineOffsetY),o("Name Style - Line Offset X",G.lineOffsetX),o("Name Style - Has Outline",G.hasOutline),o("Name Style - Gradient Angle",G.gradientAngle),o("Name Style - Gradient Color",G.gradientColor),o("Name Style - Has Gradient",G.hasGradient),o("Name Style - Emboss Pitch",G.embossPitch),o("Name Style - Emboss Yaw",G.embossYaw),o("Name Style - Emboss Thickness",G.embossThickness),o("Name Style - Has Emboss",G.hasEmboss),o("Name Style - Preset",G.preset),o("Name Style - Pattern",G.pattern),o("Stat Style - Is Custom",ce[0]),o("Stat Style - Fill Color",ce[1]),o("Stat Style - Has Shadow",ce[2]),o("Stat Style - Shadow Color",ce[3]),o("Type Style - Is Custom",pe[0]),o("Type Style - Fill Color",pe[1]),o("Type Style - Has Shadow",pe[2]),o("Type Style - Shadow Color",pe[3]),o("Effect Style - Is Custom",k[0]),o("Effect Style - Fill Color",k[1]),o("Effect Style - Has Shadow",k[2]),o("Effect Style - Shadow Color",k[3]),o("Effect Style - Upsize",w.upSize),o("Effect Style - Font Style",w.fontStyle),o("Effect Style - Background",w.background),o("Effect Style - Min Line",w.minLine),o("Pendulum Size",ne),o("Pendulum Effect Style - Is Custom",re[0]),o("Pendulum Effect Style - Fill Color",re[1]),o("Pendulum Effect Style - Has Shadow",re[2]),o("Pendulum Effect Style - Shadow Color",re[3]),o("Pendulum Effect Style - Upsize",ae.upSize),o("Pendulum Effect Style - Font Style",ae.fontStyle),o("Pendulum Effect Style - Background",ae.background),o("Pendulum Effect Style - Min Line",ae.minLine),o("Other Style - Is Custom",_[0]),o("Other Style - Fill Color",_[1]),o("Other Style - Has Shadow",_[2]),o("Other Style - Shadow Color",_[3]),o("Other Finish - Attribute",q[0]),o("Other Finish - Icon",q[1]),o("Other Finish - Sticker",q[2]),o("Other Finish - Background",q[3]),o("Left Frame",P),o("Right Frame",oe),o("Bottom Right Frame",Q),o("Dye List",ve),o("Star List",ye),o("Flag",ge),o("External Info (JSON)","{}"===fe?"":fe),("offline"===d||I&&"offline"===g)&&(a="offline-data"),t.push(i.map(hr).join(","))}return{value:[ur.join(","),t.join("\n")].join("\n"),error:a}})(zr.getState().cardList);if(e){let t="",a="";switch(e){case"offline-data":t=n["error.export.offline-data.message"],a=n["error.export.offline-data.description"]}(t||a)&&Ga.a.error({message:t,description:a})}switch(O){case"xlsx":{const e=Zb.a.read(t,{type:"string"});Zb.a.writeFile(e,"".concat(zr.getState().listName,".xlsx"));break}default:ta(zr.getState().listName,new Blob([t],{type:"text/csv"}),"text/csv")}b("download")}catch(t){}L(!1)},children:F?Object(a.jsx)(Ub.a,{}):Object(a.jsx)(Js.a,{})})}),Object(a.jsx)(Xa.a,{overlay:n["manager.header.button.upload.tooltip"],children:Object(a.jsxs)("div",{className:"manager-button",onClick:()=>{const e=document.getElementById(c);e&&!S&&e.click()},children:[Object(a.jsx)("input",{ref:u,type:"file",id:c,accept:[".csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].join(","),className:"import-upload-input",onChange:async e=>{var t;const a=null===(t=u.current)||void 0===t?void 0:t.files,{isListDirty:r}=zr.getState(),o=()=>{k((e=>e+1)),C(!1),Ga.a.error({message:n["error.csv-import.message"],description:n["error.csv-import.description"]})};let l=!0;if(r&&(l=window.confirm(n["prompt.warning.on-import.label"])),l&&a&&a[0]){C(!0);try{const e=await a[0].arrayBuffer(),t=a[0].name.replace(/\.[^/.]+$/,""),n=Zb.a.read(e,{codepage:65001}),r=Zb.a.utils.sheet_to_json(n.Sheets[n.SheetNames[0]],{header:1,raw:!1}),l=jr(r);l.length>0?(h(l,l[0].id),g(t),k((e=>e+1)),i(l[0]),C(!1)):o()}catch(e){console.error(e),o()}}else k((e=>e+1)),C(!1)}},"upload-".concat(w)),S?Object(a.jsx)(Ub.a,{}):Object(a.jsx)(Nc.a,{})]})},"".concat(S)),Object(a.jsx)("div",{className:"manager-button close-button",onClick:()=>j(!1),children:Object(a.jsx)(Ja.a,{})})]}),Object(a.jsx)("div",{className:"card-manager-filter",children:Object(a.jsx)(ps.a,{className:"card-manager-search",placeholder:n["manager.button.search.text.placeholder"],onChange:T,onPressEnter:e=>f({type:"text",value:e.currentTarget.value}),allowClear:!0},"search-".concat(w))})]}),visible:x,maskClosable:!1,mask:!1,destroyOnClose:!1,forceRender:!0,closeIcon:null,onClose:()=>j(!1),width:280,children:Object(a.jsx)(Kb,{language:n,onSelect:N,onDownload:l,onRequestImport:s})})})})),im=Va.b.div(Qb()),lm=e=>{let{language:t,children:n}=e,o=Object(s.a)(e,["language","children"]);const{isListDirty:i,cardList:l}=zr(Object(ri.useShallow)((e=>{let{isListDirty:t,cardList:n}=e;return{isListDirty:t,cardList:n}})));return Object(r.useEffect)((()=>{let e=e=>(e.preventDefault(),t["prompt.warning.on-leave.label"]);return i&&l.length>1&&window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[l.length,i,t]),Object(a.jsxs)(im,Object(c.a)(Object(c.a)({},o),{},{children:[n,i&&l.length>1&&Object(a.jsx)("span",{className:"header-warning",children:"\xa0*"})]}))};function sm(){const e=Object(Ua.a)(["\n    top: var(--spacing-xs);\n    right: calc(var(--overlay-size) + 2 * var(--spacing-xs));\n"]);return sm=function(){return e},e}function cm(){const e=Object(Ua.a)(["\n    top: var(--spacing-xs);\n    right: var(--spacing-xs);\n"]);return cm=function(){return e},e}function um(){const e=Object(Ua.a)(["\n    position: absolute;\n    z-index: 101;\n"]);return um=function(){return e},e}function dm(){const e=Object(Ua.a)(["\n    color: var(--main-danger);\n"]);return dm=function(){return e},e}function bm(){const e=Object(Ua.a)(["\n\tposition: fixed;\n\tright: var(--spacing);\n\tbottom: 0;\n\tfont-size: var(--fs-xs);\n\topacity: 0.5;\n\tpadding: var(--spacing-px) var(--spacing-xs);\n\tcolor: var(--color-dim);\n    img {\n        height: 10px;\n        margin-left: 1px;\n    }\n"]);return bm=function(){return e},e}function mm(){const e=Object(Ua.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(45deg, #333, #333);\n\tz-index: 4000;\n\tcolor: white;\n\ttext-shadow:\n\t\t0 1px #333,\n\t\t0 2px #111;\n\tfont-size: var(--fs-3xl);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return mm=function(){return e},e}function pm(){const e=Object(Ua.a)(["\n    width: var(--card-width);\n    height: var(--card-height);\n    margin-bottom: var(--spacing);\n    transform: translateX(calc(var(--resize-percentage) / 2 / var(--global-scale) - 50%))\n        translateY(calc(var(--resize-percentage) / 2 / var(--global-scale) - 50%))\n        scale(calc(var(--resize-ratio) / var(--global-scale)))\n        translateZ(0);\n    position: absolute;\n    top: 0;\n    left: 0;\n    canvas {\n        position: absolute;\n        left: 0;\n        z-index: 1;\n        pointer-events: none;\n    }\n    &:hover {\n        #export-canvas.js-export-available {\n            display: inline-block !important;   // Override js-controlled inline style\n            cursor: default;\n        }\n        #export-canvas-guard {\n            display: flex;\n            cursor: wait;\n            transition: all 2s;\n        }\n    }\n    #export-canvas {\n        display: none;\n        z-index: 100;\n        pointer-events: all;\n    }\n    #export-canvas-guard {\n        position: absolute;\n        left: 0;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        z-index: 101;\n        // background-color: #ffffff08;\n        width: var(--card-width);\n        height: var(--card-height);\n        .anticon {\n            font-size: var(--fs-4xl);\n        }\n        .canvas-guard-alert {\n            position: absolute;\n            top: 0;\n            right: 0;\n            color: white;\n            padding: var(--spacing-xs) var(--spacing);\n            border-radius: 0 0 0 var(--br-lg);\n            background-color: var(--main-active);\n            box-shadow:\n                0 3px 6px rgba(0, 0, 0, 0.16),\n                0 3px 6px rgba(0, 0, 0, 0.23);\n        }\n        &.guard-on {\n            display: flex !important;   // Override js-controlled inline style\n        }\n    }\n    .crop-canvas {\n        position: relative;\n        /** Size here is just a placeholder, crop canvas constantly get its dimensions updated based on the current artwork */\n        width: 416px;\n        height: 416px;\n        z-index: 0;\n        top: 0;\n        left: 0;\n        visibility: hidden;\n    }\n"]);return pm=function(){return e},e}function hm(){const e=Object(Ua.a)(["\n    position: relative;\n    display: block;\n    width: calc(var(--card-width) * var(--resize-ratio) * 1 / var(--global-scale));\n    height: calc(var(--card-height) * var(--resize-ratio) * 1 / var(--global-scale));\n    margin: var(--spacing);\n    margin-top: 0;\n    .reset-button,\n    .lightbox-button {\n        display: none;\n    }\n    #preview-canvas {\n        display: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 1;\n        pointer-events: none;\n        transform: translateX(calc(var(--resize-percentage) / 2 - 50%))\n            translateY(calc(var(--resize-percentage) / 2 - 50%))\n            scale(var(--resize-ratio))\n            translateZ(0);\n        &.js-export-available {\n            display: inline-block !important;   // Override js-controlled inline style\n            cursor: default;\n        }\n    }\n    &:hover {\n        .reset-button,\n        .lightbox-button {\n            display: block;\n        }\n    }\n"]);return hm=function(){return e},e}function fm(){const e=Object(Ua.a)(["\n    display: flex;\n    column-gap: var(--spacing);\n    border-radius: var(--br-lg);\n    font-size: var(--fs-4xl);\n    line-height: 1.5;\n    margin: auto;\n    max-width: var(--card-width);\n    min-height: 59px;\n    outline: none !important;   // Avoid default state styling\n    padding: var(--spacing);\n    padding-right: 0;\n    text-align: center;\n    text-shadow: 0 1px 2px black;\n    .anticon {\n        cursor: pointer;\n    }\n    button {\n        color: white;\n        border-radius: var(--br-lg);\n        outline: none !important;   // Avoid default state styling\n        cursor: pointer;\n    }\n    .save-button {\n        flex: 1;\n        font-size: var(--fs-xl);\n        border: none;\n        font-weight: 500;\n        box-shadow: var(--bs-button);\n        height: 39px; // Alignment\n        line-height: 1;\n        &:focus, &:active {\n            color: white;\n        }\n    }\n    #save-button-waiting {\n        cursor: wait;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        z-index: 1;\n    }\n    #save-button-ready {\n        cursor: pointer;\n        &:hover {\n            background-color: var(--sub-info);\n            box-shadow: none;\n        }\n    }\n    .save-button-container {\n        display: flex;\n        flex: 1;\n        font-size: var(--fs);\n        line-height: 1.35;\n        position: relative;\n    }\n    .save-button-tainted {\n        .alert-label {\n            flex: 1;\n            padding-top: var(--spacing-px);\n        }\n        .resolution-option {\n            position: relative;\n            border: none;\n            border-radius: var(--br-lg);\n            background: var(--main-primary);\n        }\n    }\n    .imexport {\n        flex: 0 0 200px;\n        display: grid;\n        grid-template-columns: 1fr max-content var(--spacing) 1fr max-content;\n        .primary-button {\n            align-content: center;\n            font-size: var(--fs);\n            background-color: var(--main-tertiary);\n            border: var(--bw) solid var(--sub-tertiary);\n            border-radius: var(--br-lg) 0 0 var(--br-lg);\n            &:hover {\n                background-color: var(--sub-tertiary);\n                box-shadow: none;\n            }\n        }\n        "," {\n            border-radius: 0 var(--br-lg) var(--br-lg) 0;\n            border-left: var(--bw) solid var(--sub-level-3);\n        }\n    }\n"]);return fm=function(){return e},e}const gm=Va.b.div(fm(),_a),vm=Va.b.div(hm()),ym=Va.b.div(pm()),jm=Va.b.div(mm()),xm=Va.b.div(bm()),Om=Va.b.span(dm()),wm=Object(Va.b)(bl)(um()),km=Object(Va.b)(wm)(cm()),Sm=Object(Va.b)(wm)(sm());var Cm=n(227),Fm=n(554),Lm=n(555),Tm=n(566),Nm=n(567);Object(Cm.configure)({ignoreTags:[]});const Rm={EXPORT:["ctrl+d","command+d"],IMPORT:["ctrl+e","command+e"],MERGE:["ctrl+g","command+g"],VIEW:["ctrl+b","command+b"],DOWNLOAD:["ctrl+s","command+s"]},{height:zm,width:Im}=d;var Bm=function(){var e,t,n,o,i,l,u;const{allowHotkey:d,softMode:b,globalScale:m,resolution:p}=Dr(Object(ri.useShallow)((e=>{let{setting:{allowHotkey:t,reduceMotionColor:n,globalScale:a,resolution:r}}=e;return{softMode:n,allowHotkey:t,globalScale:a,resolution:r}}))),{isInitiating:h,isLoading:f,language:g,isMetadataReady:v,languageInfo:y,initiate:j,loadDefaultLanguage:x}=ir(Object(ri.useShallow)((e=>{let{isInitiating:t,isLoading:n,language:a,isMetadataReady:r,languageInfo:o,initiate:i,loadDefaultLanguage:l}=e;return{isInitiating:t,isLoading:n,language:a,isMetadataReady:r,languageInfo:o,initiate:i,loadDefaultLanguage:l}}))),[O,w]=Object(r.useState)(!0),[k,S]=Object(r.useState)(""),[C,F]=Object(r.useState)("online"),[L,T]=Object(r.useState)(!1),N=Object(r.useRef)(null),R=Object(r.useRef)(null),z=Object(r.useRef)(null),I=Object(r.useRef)(null),B=Object(r.useRef)(null),E=Object(r.useRef)(null),D=Object(r.useRef)(null),W=Object(r.useRef)(null),H=Object(r.useRef)(null),A=Object(r.useRef)(null),M=Object(r.useRef)(null),P=Object(r.useRef)(null),K=Object(r.useRef)(null),U=Object(r.useRef)(null),Y=Object(r.useRef)(null),G=Object(r.useRef)(null),X=Object(r.useRef)(null),V=Object(r.useRef)(null),q=Object(r.useRef)(null),[_]=Object(r.useState)({artworkCanvasRef:R,backgroundCanvasRef:z,exportCanvasRef:I,frameCanvasRef:E,cardIconCanvasRef:D,pendulumScaleCanvasRef:W,pendulumEffectCanvasRef:H,typeCanvasRef:A,effectCanvasRef:M,nameCanvasRef:P,statCanvasRef:K,setIdCanvasRef:U,passwordCanvasRef:Y,creatorCanvasRef:G,stickerCanvasRef:X,finishCanvasRef:V,lightboxRef:q,previewCanvasRef:B}),$=Object(r.useRef)(null),J=Object(r.useRef)(null),Z=Object(r.useRef)(null),[Q,ee]=Object(r.useState)(0);Object(r.useEffect)((()=>{j()}),[j]),Object(r.useEffect)((()=>{v&&x()}),[v,x]),Object(r.useEffect)((()=>{["font-family","letter-spacing","--width-label"].forEach((e=>{var t,n;document.body.style.setProperty(e,null!==(t=null===(n=y.style)||void 0===n?void 0:n[e])&&void 0!==t?t:"")}))}),[y]),Object(r.useEffect)((()=>{var e;const t=null===(e=I.current)||void 0===e?void 0:e.getContext("2d"),n=Er.getState().setCard;t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",Xr(t)),!1===h&&ci.a.load({custom:{families:["Matrix-Bold","MatrixBoldSmallCaps","MatrixBook","MatrixRegularSmallCaps","RoGSanSrfStd-Bd","StoneSerif-Italic","YuGiOhITCStoneSerifBSc","matrix","palatino-linotype-bold","stone-serif-bold","stone-serif-regular"],urls:["asset/font.css"]},active:()=>{const e=(()=>{try{const n=localStorage.getItem("card-version"),a=localStorage.getItem("card-data"),r=a?Gn(JSON.parse(a)):null,o=new URLSearchParams(window.location.search).get("data");if(o){var e,t;const{card:n}=Ir(o),a=Gn(n),{artSource:i,backgroundSource:l}=a;if("online"===i&&"online"===l)return Ir(o).card;const s=Object(c.a)({},a);return"offline"===i&&(s.artData=null!==(e=null===r||void 0===r?void 0:r.artData)&&void 0!==e?e:""),"offline"===l&&(s.backgroundData=null!==(t=null===r||void 0===r?void 0:r.backgroundData)&&void 0!==t?t:""),s}return null!==r&&"2.3.5"===n?r:Mt()}catch(n){return console.error(n),Mt()}})();n(e),zr.getState().setCardList([e],e.id),w(!1)},fontinactive(e,t){console.error("TCG fontinactive",e,t),Ga.a.error({message:sr()["error.load.font.tcg"](e)})},inactive:()=>{S(sr()["error.load.font.all-tcg"]),w(!1)}})}),[h]);const{styleContent:te}=function(e){var t=e.isLanguageInitiating,n=e.onActive,a=e.onBeforeLoad,o=e.onFontInactive,i=e.onInactive,l=Er(Object(ri.useShallow)((function(e){return{format:e.card.format,font:e.card.nameStyle.font}}))),s=l.font,c=l.format,u=Object(r.useState)(""),d=Object(Ta.a)(u,2),b=d[0],m=d[1],p=Object(r.useRef)(!1),h=Object(r.useRef)(0);return Object(r.useEffect)((function(){("ocg"===c||"OCG"===s)&&!1===p.current&&h.current<=3&&!1===t&&(h.current+=1,m("".concat("/ygocarder","/asset/ocg-font.css")),a(),ci.a.load({custom:{families:["DFHSGothic-W3-WIN-RKSJ-H","DFKakuTaiHiStd-W4","FOT-Rodin Pro M","Yu-Gi-Oh! DF Leisho 3"],urls:["asset/ocg-font.css"]},active:function(){p.current=!0,n()},inactive:function(){p.current=!0,i()},fontinactive:o}))}),[c,s,t,n,a,o,i]),{styleContent:b}}({isLanguageInitiating:h,onBeforeLoad:()=>{var e;w(!0);const t=null===(e=I.current)||void 0===e?void 0:e.getContext("2d");t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",Xr(t))},onActive:()=>{w(!1)},onInactive:()=>{S(sr()["error.load.font.all-ocg"]),w(!1)},onFontInactive:(e,t)=>{console.error("OCG fontinactive",e,t),Ga.a.error({message:sr()["error.load.font.ocg"](e)})}}),[ne,ae]=Object(r.useState)(!1);Object(r.useEffect)((()=>{const e=document.body.classList;b?e.add("reduced-color-motion"):e.remove("reduced-color-motion")}),[b]);const re=Object(r.useCallback)((function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&!d||null===(t=q.current)||void 0===t||t.setVisible((t=>"boolean"===typeof e?e:!t))}),[d]),oe=Object(r.useRef)(!1),ie=document.getElementById("sentry-bug-report");Object(r.useEffect)((()=>{ie&&g&&!1===oe.current&&!1===yi.f()&&(oe.current=!0,Fm.a({dsn:"https://32e20d849c5724b2e63eab9d0a57c165@o4508424630697984.ingest.us.sentry.io/4508424632401920",integrations:[Lm.a(),Tm.a(),Nm.a({colorScheme:"system",autoInject:!1}).attachTo(ie,{formTitle:g["contributor.bug-report.tooltip"],nameLabel:g["contributor.bug-report.name.label"],namePlaceholder:g["contributor.bug-report.name.placeholder"],isEmailRequired:!1,showEmail:!1,messageLabel:g["contributor.bug-report.message.label"],messagePlaceholder:g["contributor.bug-report.message.placeholder"],addScreenshotButtonLabel:g["contributor.bug-report.screenshot.label"],removeScreenshotButtonLabel:g["contributor.bug-report.remove-screenshot.label"],cancelButtonLabel:g["contributor.bug-report.cancel.label"],submitButtonLabel:g["contributor.bug-report.submit.label"],isRequiredLabel:g["contributor.bug-report.required.label"],successMessageText:g["contributor.bug-report.success.label"]})],tracesSampleRate:1,tracePropagationTargets:["lauqerm.github.io"],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}))}),[g,ie]);const le=Object(r.useCallback)(((e,t)=>{var n;const{addToList:a,forcePurityCheck:r,writeOnCurrentCard:o}=null!==t&&void 0!==t?t:{},{setCard:i,card:l}=Er.getState(),s=o?Object(c.a)(Object(c.a)({},e),{},{id:l.id}):e;a&&zr.getState().addCard(s),i(s,r),ee((e=>e+1)),null===(n=N.current)||void 0===n||n.forceCardData(s),Ma()}),[]),se=Object(r.useCallback)((async function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&!d||(null===e||void 0===e||e.preventDefault(),null===(t=Z.current)||void 0===t||t.requestImport("replace"))}),[d]),ce=Object(r.useCallback)((function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&!d||(null===e||void 0===e||e.preventDefault(),null===(t=Z.current)||void 0===t||t.requestImport("merge"))}),[d]),ue=Object(r.useCallback)((function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;if(!n||d)if(null===e||void 0===e||e.preventDefault(),"online"===C&&(null===(t=N.current)||void 0===t?void 0:t.isLoading()))window.alert(g["error.export.image-loading.message"]);else try{var r;const e=null!==a&&void 0!==a?a:Er.getState().card;null===(r=J.current)||void 0===r||r.setCardData(e)}catch(o){console.error(o),Ga.a.error({message:g["error.export.message"],description:g["error.export.description"]})}}),[d,g,C]),de=Object(r.useCallback)((e=>{const{id:t}=e,n=Object(s.a)(e,["id"]);ue(void 0,!1,n)}),[ue]),be=Object(r.useCallback)((function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&!d||(null===e||void 0===e||e.preventDefault(),null===(t=$.current)||void 0===t||t.download())}),[d]),me=Object(r.useMemo)((()=>({IMPORT:e=>se(e,!0),MERGE:e=>ce(e,!0),EXPORT:e=>ue(e,!0),VIEW:()=>re(!0,!0),DOWNLOAD:e=>be(e,!0)})),[be,ue,se,ce,re]),pe=Object(r.useCallback)((()=>{ae(!0),alert(g["prompt.download.tainted.message"])}),[g]),he=Object(r.useCallback)((e=>{var t;"anonymous"===e&&(ae(!1),null===(t=q.current)||void 0===t||t.refresh());ee((e=>e+1))}),[]),fe=Object(r.useCallback)(((e,t)=>{ee((e=>e+1)),F(t)}),[]),ge=Object(r.useCallback)((()=>{ee((e=>e+1)),ae(!0)}),[]),ve=Object(r.useCallback)((e=>{T(e)}),[]),ye=f||O;return Object(a.jsx)(Cm.HotKeys,{keyMap:Rm,handlers:me,children:Object(a.jsxs)("div",{id:"app",onDrop:()=>{},className:"language-".concat(y.codeName," manager-").concat(L?"visible":"hidden"),style:Object(c.a)({backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/debut-dark.png"), linear-gradient(180deg, #00000022, #00000044)'),height:Pa()?"-webkit-fill-available":"100vh"},{"--card-height":"".concat(zm*m,"px"),"--card-width":"".concat(Im*m,"px"),"--global-scale":"".concat(m)}),children:[te&&Object(a.jsx)("link",{rel:"stylesheet",type:"text/css",href:te}),Object(a.jsxs)("div",{className:"app-container",style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/dark-denim-3.png")')},children:[ye&&Object(a.jsx)(jm,{className:"app-loading",children:k.length>0?Object(a.jsx)(Om,{children:k}):null!==(e=y.initialMessage)&&void 0!==e?e:""}),Object(a.jsxs)("div",{className:"card-preview-panel ".concat(ne?"export-tainted":"export-normal"),children:[Object(a.jsxs)(gm,{className:"data-button-panel",children:[Object(a.jsxs)("div",{className:"imexport",children:[Object(a.jsx)(Tc,{ref:J,tainted:ne,artworkCanvas:R.current,onRequireExportData:ue,onRequireDownload:()=>{var e;return null===(e=$.current)||void 0===e?void 0:e.download()},onClose:Ma}),Object(a.jsx)("div",{}),Object(a.jsx)(Bc,{ref:Z,onImport:le,onClose:Ma,allowHotkey:d,language:g})]}),Object(a.jsx)(pi,{language:g}),Object(a.jsx)(yc,{ref:$,canvasMap:_,imageChangeCount:Q,isTainted:ne,isInitializing:O,globalScale:m,onDownloadError:pe}),ne&&Object(a.jsxs)("div",{id:"save-button-tainted",className:"save-button-container save-button-tainted",children:[Object(a.jsxs)("div",{className:"alert-label",children:[g["alert.download.tainted-first-line"],Object(a.jsx)("br",{}),g["alert.download.tainted-second-line"]," ",Object(a.jsx)(Zl,{})]}),Object(a.jsx)(fi.a,{className:"save-button-dropdown",placement:"bottomRight",overlay:Object(a.jsx)(Vs,{onChange:()=>Ma()}),children:Object(a.jsxs)(gc,{className:"resolution-option",onClick:e=>e.stopPropagation(),children:[Object(a.jsx)(gi.a,{className:"resolution-icon"}),Object(a.jsx)("span",{className:"resolution-overlay",children:p[1]})]})})]})]}),Object(a.jsxs)(vm,{className:"card-preview-container",children:[Object(a.jsx)(Xa.a,{title:g["button.reset.tooltip"],children:Object(a.jsx)(Sm,{className:"reset-button",onClick:()=>{if(window.confirm(g["prompt.reset.message"])){var e;const{setCard:t,card:n}=Er.getState(),a=Object(c.a)({id:n.id},At()),r="tcg"===n.format?a:Qa(a,"ocg");t(r,!0),ee((e=>e+1)),null===(e=N.current)||void 0===e||e.forceCardData(r)}},children:Object(a.jsx)(Pc.a,{})})}),Object(a.jsx)(Xa.a,{title:Object(a.jsxs)("div",{className:"center",children:[g["button.full-size.label"],d?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),"Ctrl-B / \u2318-B"]}):null]}),children:Object(a.jsx)(km,{className:"lightbox-button",onClick:()=>re(),children:Object(a.jsx)(Ts.a,{})})}),Object(a.jsx)("canvas",{id:"preview-canvas",ref:B,width:Im,height:zm},(null!==(t=null===(n=q.current)||void 0===n?void 0:n.getCanvasKey())&&void 0!==t?t:0)+.2),Object(a.jsxs)(ym,{className:"card-canvas-group",children:[Object(a.jsx)("canvas",{id:"export-canvas",ref:I,width:Im*m,height:zm*m},(null!==(o=null===(i=q.current)||void 0===i?void 0:i.getCanvasKey())&&void 0!==o?o:0)+.1),Object(a.jsx)("div",{id:"export-canvas-guard",onContextMenu:e=>e.preventDefault()}),Object(a.jsx)("canvas",{id:"frameCanvas",ref:E,width:Im*m,height:zm*m},null!==(l=null===(u=q.current)||void 0===u?void 0:u.getCanvasKey())&&void 0!==l?l:0),Object(a.jsx)("canvas",{id:"nameCanvas",ref:P,width:Im*m,height:148*m}),Object(a.jsx)("canvas",{id:"cardIconCanvas",ref:D,width:Im*m,height:222*m}),Object(a.jsx)("canvas",{id:"pendulumScaleCanvas",ref:W,width:Im*m,height:920*m}),Object(a.jsx)("canvas",{id:"pendulumEffectCanvas",ref:H,width:Im*m,height:920*m}),Object(a.jsx)("canvas",{id:"typeCanvas",ref:A,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"effectCanvas",ref:M,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"statCanvas",ref:K,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"setIdCanvas",ref:U,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"passwordCanvas",ref:Y,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"creatorCanvas",ref:G,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"stickerCanvas",ref:X,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{id:"finishCanvas",ref:V,width:Im*m,height:zm*m}),Object(a.jsx)("canvas",{className:"crop-canvas",ref:R}),Object(a.jsx)("canvas",{className:"crop-canvas",ref:z})]})]})]}),!1===ye&&Object(a.jsx)(Cb,{ref:N,artworkCanvas:R.current,backgroundCanvas:z.current,onSourceLoaded:he,onCropChange:fe,onTainted:ge})]}),Object(a.jsx)(om,{language:g,onVisibleChange:ve,onDownload:de,onSelect:le,onRequestImport:()=>{var e;null===(e=Z.current)||void 0===e||e.requestImport("new")}}),Object(a.jsx)(Hs,{ref:q,globalScale:m}),Object(a.jsxs)(xm,{className:"by-me",children:["Made by Lauqerm ",Object(a.jsx)("img",{src:"https://i.imgur.com/RY6IRqn.png",alt:"avatar"})]})]})})},Em=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,607)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};l.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(Bm,{})}),document.getElementById("root")),Em()}},[[540,1,2]]]);
//# sourceMappingURL=main.0b20f654.chunk.js.map