(this.webpackJsonpygocarder=this.webpackJsonpygocarder||[]).push([[0],{283:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},344:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},467:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},485:function(e,t,a){},499:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),i=a.n(o),l=(a(283),a(1));a(284),a(285),a(286),a(287),a(288);const c={width:813,height:1185,topToPendulumStructure:210,pendulumStructureHeight:912,leftToPendulumStructure:52},s="#404040",d=()=>({body:100,pendulum:100,text:100,name:100,baseFill:s,artBorder:!0,nameBorder:!0,boundless:!1}),u={normal:{artFinishX:100,artFinishY:219,artWidth:614,artX:100,artY:219,ratio:1,type:"normal"},pendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.325,type:"pendulum"},extendedCard:{artFinishX:100,artFinishY:219,artWidth:702,artX:56,artY:213,ratio:.775,type:"extendedCard"},extendedPendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:.775,type:"extendedPendulum"},truePendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.057,type:"truePendulum"},fullCard:{artFinishX:100,artFinishY:219,artWidth:758,artX:28,artY:28,ratio:.67,type:"fullCard"},fullPendulum:{artFinishX:56,artFinishY:213,artWidth:758,artX:28,artY:28,ratio:.67,type:"fullPendulum"}},b=(e,t,a)=>{const{boundless:n,body:r,pendulum:o,text:i}=Object(l.a)(Object(l.a)({},d()),t);if("full"===a)return u.fullCard;return u["fit"!==a&&n||r<100?e?"fullPendulum":"fullCard":e?i<100?"extendedPendulum":o<100?"truePendulum":"pendulum":i<100?"extendedCard":"normal"]};var p=a(530),m=a(2);const f="NONE",g=[{name:f,nameKey:"input.attribute.none",color:"#000000",isCreative:!1},{name:"DARK",nameKey:"input.attribute.dark",label:"Dark",color:"#b41dda",isCreative:!1},{name:"EARTH",nameKey:"input.attribute.earth",label:"Earth",color:"#8d8e8e",isCreative:!1},{name:"FIRE",nameKey:"input.attribute.fire",label:"Fire",color:"#e51b23",isCreative:!1},{name:"LIGHT",nameKey:"input.attribute.light",label:"Light",color:"#bfae32",isCreative:!1},{name:"WATER",nameKey:"input.attribute.water",label:"Water",color:"#008ecd",isCreative:!1},{name:"WIND",nameKey:"input.attribute.wind",label:"Wind",color:"#28ab35",isCreative:!1},{name:"DIVINE",nameKey:"input.attribute.divine",label:"Divine",color:"#ef6300",isCreative:!1},{name:"SPELL",nameKey:"input.attribute.spell",label:"Spell",color:"#1b8f83",isCreative:!1},{name:"TRAP",nameKey:"input.attribute.trap",label:"Trap",color:"#c32a8c",isCreative:!1},{name:"LAUGH",nameKey:"input.attribute.laugh",label:"Laugh",color:"#f78f27",isCreative:!0}],h="NO ICON",v=[{label:Object(m.jsx)(p.a,{}),value:h,nameKey:"input.icon.none"},{label:"Field",value:"FIELD",nameKey:"input.icon.field"},{label:"Continuous",value:"CONTINUOUS",nameKey:"input.icon.continuous"},{label:"Quick-Play",value:"QUICK-PLAY",nameKey:"input.icon.quick-play"},{label:"Ritual",value:"RITUAL",nameKey:"input.icon.ritual"},{label:"Equip",value:"EQUIP",nameKey:"input.icon.equip"},{label:"Counter",value:"COUNTER",nameKey:"input.icon.counter"}],y=e=>Object(l.a)({hasGradient:!1,hasOutline:!1,hasShadow:!1,pattern:"none"},e),j={commonB:{key:"commonB",label:"Common (Black)",image:"asset/image/other/name-common-b.png",value:y({preset:"commonB",fillStyle:"#000000"})},commonW:{key:"commonW",label:"Common (White)",image:"asset/image/other/name-common-w.png",value:y({preset:"commonW",fillStyle:"#ffffff"})},skillDefault:{key:"skillDefault",label:"Skill (Default)",image:"asset/image/other/name-skill-default.png",value:y({preset:"skillDefault",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",hasOutline:!0})},skillArial:{key:"skillArial",label:"Skill (Arial)",image:"asset/image/other/name-skill-arial.png",value:y({preset:"skillArial",font:"Arial",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",lineOffsetX:1,hasOutline:!0})},rare:{key:"rare",label:"Rare",image:"asset/image/other/name-rare.png",value:y({preset:"rare",fillStyle:"#cfc6de"})},secretGradient:{key:"secretGradient",label:"Secret (Gradient)",image:"asset/image/other/name-secret-gradient.png",value:y({preset:"secretGradient",gradientAngle:180,gradientColor:"0.000|#7a71a6,1.000|#a8c1e5",hasGradient:!0})},secret:{key:"secret",label:"Secret",image:"asset/image/other/name-secret.png",value:y({preset:"secret",fillStyle:"#8a8381"})},platinum2:{key:"platinum2",label:"Platinum",image:"asset/image/other/name-platinum.png",value:y({preset:"platinum2",fillStyle:"#a49f9e"})},ultra:{key:"ultra",label:"Ultra",image:"asset/image/other/name-ultra.png",value:y({preset:"ultra",fillStyle:"#dbb473"})},ultra2:{key:"ultra2",label:"Ultra (Type 2)",image:"asset/image/other/name-ultra-2.png",value:y({preset:"ultra2",fillStyle:"#fee002"})},platinum:{key:"platinum",label:"Foil Platinum",image:"asset/image/other/name-foil-platinum.png",value:y({preset:"platinum",fillStyle:"#CCCCCC",shadowColor:"#FFFFFF",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},gold:{key:"gold",label:"Foil Gold",image:"asset/image/other/name-foil-gold.png",value:y({preset:"gold",fillStyle:"#b88c43",shadowColor:"#FCC400",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},animeRed:{key:"animeRed",label:"Anime (Type Red)",image:"asset/image/other/name-anime-red.png",value:y({preset:"animeRed",gradientAngle:180,gradientColor:"0.000|#d81961,0.220|#b81654,0.270|#9e1348,0.330|#95093e,0.380|#95093e,0.450|#ba3264,0.530|#ff5e99,0.620|#ffa0c3,0.690|#ffffff,0.770|#ff5e99,0.870|#d81961,1.000|#b81654",hasGradient:!0,hasOutline:!0,hasShadow:!0,lineColor:"#333333",lineOffsetX:1,lineOffsetY:0,lineWidth:3,shadowBlur:2,shadowColor:"#383838",shadowOffsetX:2,shadowOffsetY:3})},animeSilver:{key:"animeSilver",label:"Anime (Type Silver)",image:"asset/image/other/name-anime-silver.png",value:y({preset:"animeSilver",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#cecbb8,0.220|#b0ad9b,0.270|#94917e,0.330|#797768,0.380|#797768,0.450|#d9d9d9,0.610|#ffffff,0.700|#ffffff,0.870|#d6d7c7,1.000|#c9cbb6",hasGradient:!0})},animeGold:{key:"animeGold",label:"Anime (Type Gold)",image:"asset/image/other/name-anime-gold.png",value:y({preset:"animeGold",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#eee317,0.220|#dbbe15,0.270|#d0920c,0.330|#b57f0b,0.380|#d0920c,0.450|#ffff6b,0.610|#ffffff,0.700|#ffffff,0.870|#e5dd2d,1.000|#e3da23",hasGradient:!0})},promo:{key:"promo",label:"Promo",image:"asset/image/other/name-promo.png",value:y({preset:"promo",fillStyle:"#c7080b",shadowColor:"#333333",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:1,hasShadow:!0,lineColor:"#8a1801",lineWidth:3,lineOffsetX:0,hasOutline:!0,lineOffsetY:0})}},x=Object.values(j),O={none:{key:"none",patternImage:"",blendMode:"source-atop"},type1:{key:"type1",patternImage:"finish-name-type1",blendMode:"source-atop"},type2:{key:"type2",patternImage:"finish-name-type2",blendMode:"source-atop"},type3:{key:"type3",patternImage:"finish-name-type3",blendMode:"source-atop"},type4:{key:"type4",patternImage:"finish-name-type4",blendMode:"source-atop"},type5:{key:"type5",patternImage:"finish-name-type5",blendMode:"multiply",overrideFill:!0},type6:{key:"type6",patternImage:"finish-name-type6",blendMode:"source-atop"},type7:{key:"type7",patternImage:"finish-name-type7",blendMode:"lighter",overrideFill:!0},type8:{key:"type8",patternImage:"finish-name-type8",blendMode:"source-atop"},type9:{key:"type9",patternImage:"finish-name-type9",blendMode:"source-atop"}},w=Object.values(O),F={tcg:[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8}],"tcg-stat":[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8}],"tcg-type-stat":[{trueWidth:684,trueBaseline:919.8,trueEdge:64.5}],"tcg-type":[{trueWidth:684,trueBaseline:921.8,trueEdge:64.5}],ocg:[{trueWidth:684,trueBaseline:895.23,trueEdge:64.8}],"ocg-stat":[{trueWidth:684,trueBaseline:891.23,trueEdge:64.8}],"ocg-type-stat":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5}],"ocg-type":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5}]},k=[{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94},{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94}],C={tcg:{small:{trueBaseline:919,trueEdge:62.5,trueWidth:684.5},medium:{trueBaseline:920,trueEdge:62.5,trueWidth:684.5},large:{trueBaseline:187.5,trueEdge:732,edgeAlignment:"right",trueWidth:648.5}},ocg:{small:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},medium:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},large:{trueBaseline:190.5,trueEdge:728,edgeAlignment:"right",trueWidth:642.5}}},S={ocg:{trueBaseline:1146.5,trueEdge:736,trueWidth:435},tcg:{trueBaseline:1149.5,trueEdge:733,trueWidth:380}},T={ocg:{trueBaseline:1148.931,trueEdge:37.031,trueWidth:255},tcg:{trueBaseline:1149.431,trueEdge:37.031,trueWidth:311}},R=[{shortForm:"\u7279\u6b8a\u53ec\u559a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u30ab\u30fc\u30c9",rubyForm:"{\u30ab\u30fc\u30c9}"},{shortForm:"\u30c7\u30e5\u30a8\u30eb",rubyForm:"{\u30c7\u30e5\u30a8\u30eb}"},{shortForm:"\u30de\u30c3\u30c1",rubyForm:"{\u30de\u30c3\u30c1}"},{shortForm:"\u30bf\u30fc\u30f3",rubyForm:"{\u30bf\u30fc\u30f3}"},{shortForm:"\u30d7\u30ec\u30a4\u30e4\u30fc",rubyForm:"{\u30d7\u30ec\u30a4\u30e4\u30fc}"},{shortForm:"\u81ea\u5206",rubyForm:"{\u81ea|\u3058}{\u5206|\u3076\u3093}"},{shortForm:"\u76f8\u624b",rubyForm:"{\u76f8|\u3042\u3044}{\u624b|\u3066}"},{shortForm:"LP",regexForm:"(?<![a-zA-Z_])LP(?![a-zA-Z_])",rubyForm:"{LP|\u30e9\u30a4\u30d5\u30dd\u30a4\u30f3\u30c8}"},{shortForm:"\u30c7\u30c3\u30ad",rubyForm:"{\u30c7\u30c3\u30ad}"},{shortForm:"\u30e1\u30a4\u30f3",rubyForm:"{\u30e1\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30c9",rubyForm:"{\u30b5\u30a4\u30c9}"},{shortForm:"EX",regexForm:"(?<!\\w)EX(?!\\w)",rubyForm:"{EX|\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a3\u30fc\u30eb\u30c9",rubyForm:"{\u30d5\u30a3\u30fc\u30eb\u30c9}"},{shortForm:"\u5893\u5730",rubyForm:"{\u5893|\u307c}{\u5730|\u3061}"},{shortForm:"\u624b\u672d",rubyForm:"{\u624b|\u3066}{\u672d|\u3075\u3060}"},{shortForm:"\u30be\u30fc\u30f3",rubyForm:"{\u30be\u30fc\u30f3}"},{shortForm:"\u30e2\u30f3\u30b9\u30bf\u30fc",rubyForm:"{\u30e2\u30f3\u30b9\u30bf\u30fc}"},{shortForm:"\u7e26\u5217",rubyForm:"{\u7e26|\u305f\u3066}{\u5217|\u308c\u3064}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc}"},{shortForm:"\u6301\u3061\u4e3b",rubyForm:"{\u6301|\u3082}\u3061{\u4e3b|\u306c\u3057}"},{shortForm:"\u30c0\u30e1\u30fc\u30b8",rubyForm:"{\u30c0\u30e1\u30fc\u30b8}"},{shortForm:"\u6226\u95d8",rubyForm:"{\u6226|\u305b\u3093}{\u95d8|\u3068\u3046}"},{shortForm:"\u30b9\u30da\u30eb",rubyForm:"{\u30b9\u30da\u30eb}"},{shortForm:"\u30b9\u30d4\u30fc\u30c9",rubyForm:"{\u30b9\u30d4\u30fc\u30c9}"},{shortForm:"\u30c1\u30a7\u30fc\u30f3",rubyForm:"{\u30c1\u30a7\u30fc\u30f3}"},{shortForm:"\u30d6\u30ed\u30c3\u30af",rubyForm:"{\u30d6\u30ed\u30c3\u30af}"},{shortForm:"\u76f4\u63a5",rubyForm:"{\u76f4|\u3061\u3087\u304f}{\u63a5|\u305b\u3064}"},{shortForm:"\u7d20\u6750",rubyForm:"{\u7d20|\u305d}{\u6750|\u3056\u3044}"},{shortForm:"\u540d",rubyForm:"{\u540d|\u3081\u3044}"},{shortForm:"\u6761\u4ef6",rubyForm:"{\u6761|\u3058\u3087\u3046}{\u4ef6|\u3051\u3093}"},{shortForm:"\u30b3\u30a4\u30f3",rubyForm:"{\u30b3\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30b3\u30ed",rubyForm:"{\u30b5\u30a4\u30b3\u30ed}"},{shortForm:"\u5143",rubyForm:"{\u5143|\u3082\u3068}"},{shortForm:"\u5148",rubyForm:"{\u5148|\u3055\u304d}"},{shortForm:"\u72b6\u614b",rubyForm:"{\u72b6|\u3058\u3087\u3046}{\u614b|\u305f\u3044}"},{shortForm:"\u76f8\u4e92",rubyForm:"{\u76f8|\u305d\u3046}{\u4e92|\u3054}"},{shortForm:"\u30a8\u30af\u30b9\u30c8\u30e9",rubyForm:"{\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a7\u30a4\u30ba",rubyForm:"{\u30d5\u30a7\u30a4\u30ba}"},{shortForm:"\u30c9\u30ed\u30fc",rubyForm:"{\u30c9\u30ed\u30fc}"},{shortForm:"\u30b9\u30bf\u30f3\u30d0\u30a4",rubyForm:"{\u30b9\u30bf\u30f3\u30d0\u30a4}"},{shortForm:"\u30d0\u30c8\u30eb",rubyForm:"{\u30d0\u30c8\u30eb}"},{shortForm:"\u30a8\u30f3\u30c9",rubyForm:"{\u30a8\u30f3\u30c9}"},{shortForm:"\u30b9\u30bf\u30fc\u30c8",rubyForm:"{\u30b9\u30bf\u30fc\u30c8}"},{shortForm:"\u30b9\u30c6\u30c3\u30d7",rubyForm:"{\u30b9\u30c6\u30c3\u30d7}"},{shortForm:"\u7a2e\u985e",rubyForm:"{\u7a2e|\u3057\u3085}{\u985e|\u308b\u3044}"},{shortForm:"\u5f62\u5f0f",rubyForm:"{\u5f62|\u3051\u3044}{\u5f0f|\u3057\u304d}"},{shortForm:"\u8868\u5074",rubyForm:"{\u8868|\u304a\u3082\u3066}{\u5074|\u304c\u308f}"},{shortForm:"\u88cf\u5074",rubyForm:"{\u88cf|\u3046\u3089}{\u5074|\u304c\u308f}"},{shortForm:"\u8868\u793a",rubyForm:"{\u8868|\u3072\u3087\u3046}{\u793a|\u3058}"},{shortForm:"\u88cf",rubyForm:"{\u88cf|\u3046\u3089}"},{shortForm:"\u7f60",rubyForm:"{\u7f60|\u30c8\u30e9\u30c3\u30d7}"},{shortForm:"\u30a2\u30af\u30b7\u30e7\u30f3",rubyForm:"\u30a2\u30af\u30b7\u30e7\u30f3"},{shortForm:"\u88c5\u5099",rubyForm:"{\u88c5|\u305d\u3046}{\u5099|\u3073}"},{shortForm:"\u901f\u653b",rubyForm:"{\u901f|\u305d\u3063}{\u653b|\u3053\u3046}"},{shortForm:"\u6c38\u7d9a",rubyForm:"{\u6c38|\u3048\u3044}{\u7d9a|\u305e\u304f}"},{shortForm:"\u30ab\u30a6\u30f3\u30bf\u30fc",rubyForm:"{\u30ab\u30a6\u30f3\u30bf\u30fc}"},{shortForm:"\u30ec\u30d9\u30eb",rubyForm:"{\u30ec\u30d9\u30eb}"},{shortForm:"\u30e9\u30f3\u30af",rubyForm:"{\u30e9\u30f3\u30af}"},{shortForm:"\u30b9\u30b1\u30fc\u30eb",rubyForm:"{\u30b9\u30b1\u30fc\u30eb}"},{shortForm:"\u653b\u6483\u529b",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u5b88\u5099\u529b",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u6483\u529b",rubyForm:"{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u52dd\u5229",rubyForm:"{\u52dd|\u3057\u3087\u3046}{\u5229|\u308a}"},{shortForm:"\u5c5e\u6027",rubyForm:"{\u5c5e|\u305e\u304f}{\u6027|\u305b\u3044}"},{shortForm:"\u7a2e\u65cf",rubyForm:"{\u7a2e|\u3057\u3085}{\u65cf|\u305e\u304f}"},{shortForm:"\u52b9\u679c",rubyForm:"{\u52b9|\u3053\u3046}{\u679c|\u304b}"},{shortForm:"\u878d\u5408",rubyForm:"{\u878d|\u3086\u3046}{\u5408|\u3054\u3046}"},{shortForm:"\u5100\u5f0f",rubyForm:"{\u5100|\u304e}{\u5f0f|\u3057\u304d}"},{shortForm:"\u30de\u30ad\u30b7\u30de\u30e0",rubyForm:"{\u30de\u30ad\u30b7\u30de\u30e0}"},{shortForm:"\u30c8\u30fc\u30af\u30f3",rubyForm:"{\u30c8\u30fc\u30af\u30f3}"},{shortForm:"\u30c1\u30e5\u30fc\u30ca\u30fc",rubyForm:"{\u30c1\u30e5\u30fc\u30ca\u30fc}"},{shortForm:"\u30c7\u30e5\u30a2\u30eb",rubyForm:"{\u30c7\u30e5\u30a2\u30eb}"},{shortForm:"\u30ea\u30d0\u30fc\u30b9",rubyForm:"{\u30ea\u30d0\u30fc\u30b9}"},{shortForm:"\u30c8\u30a5\u30fc\u30f3",rubyForm:"{\u30c8\u30a5\u30fc\u30f3}"},{shortForm:"\u30b9\u30d4\u30ea\u30c3\u30c8",rubyForm:"{\u30b9\u30d4\u30ea\u30c3\u30c8}"},{shortForm:"\u30e6\u30cb\u30aa\u30f3",rubyForm:"{\u30e6\u30cb\u30aa\u30f3}"},{shortForm:"\u5149",rubyForm:"{\u5149|\u3072\u304b\u308a}"},{shortForm:"\u95c7",rubyForm:"{\u95c7|\u3084\u307f}"},{shortForm:"\u5730",rubyForm:"{\u5730|\u3061}"},{shortForm:"\u6c34",rubyForm:"{\u6c34|\u307f\u305a}"},{shortForm:"\u708e",rubyForm:"{\u708e|\u307b\u306e\u304a}"},{shortForm:"\u98a8",rubyForm:"{\u98a8|\u304b\u305c}"},{shortForm:"\u7363\u6226\u58eb",rubyForm:"{\u7363|\u3058\u3085\u3046}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u5275\u9020\u795e",rubyForm:"{\u5275|\u305d\u3046}{\u9020|\u305e\u3046}{\u795e|\u3057\u3093}"},{shortForm:"\u30b5\u30a4\u30d0\u30fc\u30b9",rubyForm:"{\u30b5\u30a4\u30d0\u30fc\u30b9}"},{shortForm:"\u6050\u7adc",rubyForm:"{\u6050|\u304d\u3087\u3046}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u5e7b\u795e\u7363",rubyForm:"{\u5e7b|\u3052\u3093}{\u795e|\u3057\u3093}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5929\u4f7f",rubyForm:"{\u5929|\u3066\u3093}{\u4f7f|\u3057}"},{shortForm:"\u60aa\u9b54",rubyForm:"{\u60aa|\u3042\u304f}{\u9b54|\u307e}"},{shortForm:"\u9b5a",rubyForm:"{\u9b5a|\u3055\u304b\u306a}"},{shortForm:"\u30ae\u30e3\u30e9\u30af\u30b7\u30fc",rubyForm:"{\u30ae\u30e3\u30e9\u30af\u30b7\u30fc}"},{shortForm:"\u5e7b\u60f3\u9b54",rubyForm:"{\u5e7b|\u3052\u3093}{\u60f3|\u305d\u3046}{\u9b54|\u307e}"},{shortForm:"\u6606\u866b",rubyForm:"{\u6606|\u3053\u3093}{\u866b|\u3061\u3085\u3046}"},{shortForm:"\u6a5f\u68b0",rubyForm:"{\u6a5f|\u304d}{\u68b0|\u304b\u3044}"},{shortForm:"\u690d\u7269",rubyForm:"{\u690d|\u3057\u3087\u304f}{\u7269|\u3076\u3064}"},{shortForm:"\u722c\u866b\u985e",rubyForm:"{\u722c|\u306f}{\u866b|\u3061\u3085\u3046}{\u985e|\u308b\u3044}"},{shortForm:"\u5ca9\u77f3",rubyForm:"{\u5ca9|\u304c\u3093}{\u77f3|\u305b\u304d}"},{shortForm:"\u6d77\u7adc",rubyForm:"{\u6d77|\u304b\u3044}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u9b54\u6cd5\u4f7f\u3044",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}{\u4f7f|\u3064\u304b}\u3044"},{shortForm:"\u96f7",rubyForm:"{\u96f7|\u3044\u304b\u305a\u3061}"},{shortForm:"\u9ce5\u7363",rubyForm:"{\u9ce5|\u3061\u3087\u3046}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5e7b\u7adc",rubyForm:"{\u5e7b|\u3052\u3093}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u30a2\u30f3\u30c7\u30c3\u30c8",rubyForm:"{\u30a2\u30f3\u30c7\u30c3\u30c8}"},{shortForm:"\u30b5\u30a4\u30dc\u30fc\u30b0",rubyForm:"{\u30b5\u30a4\u30dc\u30fc\u30b0}"},{shortForm:"\u5929\u754c\u6226\u58eb",rubyForm:"{\u5929|\u3066\u3093}{\u754c|\u304b\u3044}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u9b54\u5c0e\u9a0e\u58eb",rubyForm:"{\u9b54|\u307e}{\u5c0e|\u3069\u3046}{\u9a0e|\u304d}{\u58eb|\u3057}"},{shortForm:"\u7121\u52b9\u5316",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}{\u5316|\u304b}"},{shortForm:"\u30aa\u30e1\u30ac",rubyForm:"{\u30aa\u30e1\u30ac}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u6368\u3066\u308b",rubyForm:"{\u6368|\u3059}\u3066\u308b"},{shortForm:"\u52a0\u3048\u308b",rubyForm:"{\u52a0|\u304f\u308f}\u3048\u308b"},{shortForm:"\u304b\u3089\u96e2\u308c\u308b",rubyForm:"\u304b\u3089{\u96e2|\u306f\u306a}\u308c\u308b"},{shortForm:"\u4e0e\u3048\u308b",rubyForm:"{\u4e0e|\u3042\u305f}\u3048\u308b"},{shortForm:"\u91cd\u306d\u308b",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u308b"},{shortForm:"\u53d6\u308a\u9664\u304f",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u53d6\u308a\u9664\u3044",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u3044"},{shortForm:"\u9664\u304f",rubyForm:"{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u884c\u3046",rubyForm:"{\u884c|\u304a\u3053\u306a}\u3046"},{shortForm:"\u5bfe\u3059",rubyForm:"{\u5bfe|\u305f\u3044}\u3059"},{shortForm:"\u9001\u308b",rubyForm:"{\u9001|\u304a\u304f}\u308b"},{shortForm:"\u7f6e\u304f",rubyForm:"{\u7f6e|\u304a}\u304f"},{shortForm:"\u3081\u304f\u308b",rubyForm:"{\u3081\u304f\u308b}"},{shortForm:"\u30a2\u30c9\u30d0\u30f3\u30b9",rubyForm:"{\u30a2\u30c9\u30d0\u30f3\u30b9}"},{shortForm:"\u53cd\u8ee2",rubyForm:"{\u53cd|\u306f\u3093}{\u8ee2|\u3066\u3093}"},{shortForm:"\u7279\u6b8a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}"},{shortForm:"\u767a\u52d5",rubyForm:"{\u767a|\u306f\u3064}{\u52d5|\u3069\u3046}"},{shortForm:"\u7834\u58ca",rubyForm:"{\u7834|\u306f}{\u58ca|\u304b\u3044}"},{shortForm:"\u5bfe\u8c61",rubyForm:"{\u5bfe|\u305f\u3044}{\u8c61|\u3057\u3087\u3046}"},{shortForm:"\u7121\u52b9",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}"},{shortForm:"\u7121\u8996",rubyForm:"{\u7121|\u3080}{\u8996|\u3057}"},{shortForm:"\u78ba\u8a8d",rubyForm:"{\u78ba|\u304b\u304f}{\u8a8d|\u306b\u3093}"},{shortForm:"\u653b\u6483",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}"},{shortForm:"\u51e6\u7406",rubyForm:"{\u51e6|\u3057\u3087}{\u7406|\u308a}"},{shortForm:"\u5ba3\u8a00",rubyForm:"{\u5ba3|\u305b\u3093}{\u8a00|\u3052\u3093}"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u30ea\u30ea\u30fc\u30b9",rubyForm:"{\u30ea\u30ea\u30fc\u30b9}"},{shortForm:"\u30b9\u30ad\u30c3\u30d7",rubyForm:"{\u30b9\u30ad\u30c3\u30d7}"},{shortForm:"\u30b7\u30e3\u30c3\u30d5\u30eb",rubyForm:"{\u30b7\u30e3\u30c3\u30d5\u30eb}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb}"},{shortForm:"\u30bb\u30c3\u30c8",rubyForm:"{\u30bb\u30c3\u30c8}"},{shortForm:"RUM",regexForm:"(?<!\\w)RUM(?!\\w)",rubyForm:"{RUM|\u30e9\u30f3\u30af\u30a2\u30c3\u30d7\u30de\u30b8\u30c3\u30af}"},{shortForm:"S",regexForm:"(?<!\\w)S(?!\\w)",rubyForm:"{S|\u30b7\u30f3\u30af\u30ed}"},{shortForm:"X",regexForm:"(?<!\\w)X(?!\\w)",rubyForm:"{X|\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"L",regexForm:"(?<!\\w)L(?!\\w)",rubyForm:"{L|\u30ea\u30f3\u30af}"},{shortForm:"P",regexForm:"(?<!\\w)P(?!\\w)",rubyForm:"{P|\u30da\u30f3\u30c7\u30e5\u30e9\u30e0}"},{shortForm:"\u30ea\u30f3\u30af",rubyForm:"{\u30ea\u30f3\u30af}"},{shortForm:"\u5b88\u5099",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}"},{shortForm:"\u901a\u5e38",rubyForm:"{\u901a|\u3064\u3046}{\u5e38|\u3058\u3087\u3046}"},{shortForm:"\u53ef\u80fd",rubyForm:"{\u53ef|\u304b}{\u80fd|\u306e\u3046}"},{shortForm:"\u795e",rubyForm:"{\u795e|\u304b\u307f}"},{shortForm:"\u7363",rubyForm:"{\u7363|\u3051\u3082\u306e}"},{shortForm:"\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u91cd\u306d\u3066",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u3066"},{shortForm:"\u9b54\u6cd5",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}"},{shortForm:"\u6226\u58eb",rubyForm:"{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u53ec\u559a",rubyForm:"{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u5408\u8a08",rubyForm:"{\u5408|\u3054\u3046}{\u8a08|\u3051\u3044}"},{shortForm:"\u4ee5\u4e0a",rubyForm:"{\u4ee5|\u3044}{\u4e0a|\u3058\u3087\u3046}"},{shortForm:"\u4e0a\u8a18",rubyForm:"{\u4e0a|\u3058\u3087\u3046}{\u8a18|\u304d}"},{shortForm:"\u5834\u5408",rubyForm:"{\u5834|\u3070}{\u5408|\u3042\u3044}"},{shortForm:"\u964d\u81e8",rubyForm:"{\u964d|\u3053\u3046}{\u81e8|\u308a\u3093}"},{shortForm:"\u4ee5\u5916",rubyForm:"{\u4ee5|\u3044}{\u5916|\u304c\u3044}"},{shortForm:"\u4f7f\u7528",rubyForm:"{\u4f7f|\u3057}{\u7528|\u3088\u3046}"},{shortForm:"\u5b58\u5728",rubyForm:"{\u5b58|\u305d\u3093}{\u5728|\u3056\u3044}"},{shortForm:"\u6700\u5927",rubyForm:"{\u6700|\u3055\u3044}{\u5927|\u3060\u3044}"},{shortForm:"\u6210\u529f",rubyForm:"{\u6210|\u305b\u3044}{\u529f|\u3053\u3046}"},{shortForm:"\u81ea\u8eab",rubyForm:"{\u81ea|\u3058}{\u8eab|\u3057\u3093}"},{shortForm:"\u4ee5\u4e0b",rubyForm:"{\u4ee5|\u3044}{\u4e0b|\u304b}"},{shortForm:"\u7d42\u4e86",rubyForm:"{\u7d42|\u3057\u3085\u3046}{\u4e86|\u308a\u3087\u3046}"},{shortForm:"\u5168\u3066",rubyForm:"{\u5168|\u3059\u3079}\u3066"},{shortForm:"\u6368\u3066",rubyForm:"{\u6368|\u3059}\u3066"},{shortForm:"\u884c\u304b\u305a",rubyForm:"{\u884c|\u3044}\u304b\u305a"},{shortForm:"CNo\uff0e",regexForm:"(?<![a-zA-Z])CNo\uff0e(?![a-zA-Z])",rubyForm:"{CNo\uff0e||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{CNo||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"No\uff0e",regexForm:"(?<![a-zA-Z])No\uff0e(?![a-zA-Z])",rubyForm:"{No\uff0e||\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{No||\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"CX",regexForm:"(?<![a-zA-Z])CX(?![a-zA-Z])",rubyForm:"{CX|\u30ab\u30aa\u30b9\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"\u9069\u7528",rubyForm:"{\u9069|\u3066\u304d}{\u7528|\u3088\u3046}"},{shortForm:"\u6570\u5024",rubyForm:"{\u6570|\u3059\u3046}{\u5024|\u3061}"},{shortForm:"\u8a08\u7b97",rubyForm:"{\u8a08|\u3051\u3044}{\u7b97|\u3055\u3093}"},{shortForm:"\u5fc5\u8981",rubyForm:"{\u5fc5|\u3072\u3064}{\u8981|\u3088\u3046}"},{shortForm:"\u9078\u629e",rubyForm:"{\u9078|\u305b\u3093}{\u629e|\u305f\u304f}"},{shortForm:"\u534a\u5206",rubyForm:"{\u534a|\u306f\u3093}{\u5206|\u3076\u3093}"},{shortForm:"\u958b\u59cb",rubyForm:"{\u958b|\u304b\u3044}{\u59cb|\u3057}"},{shortForm:"\u88cf\u8868",rubyForm:"{\u88cf|\u3046\u3089}{\u8868|\u304a\u3082\u3066}"},{shortForm:"\u56de\u5fa9",rubyForm:"{\u56de|\u304b\u3044}{\u5fa9|\u3075\u304f}"},{shortForm:"\u6307\u5b9a",rubyForm:"{\u6307|\u3057}{\u5b9a|\u3066\u3044}"},{shortForm:"\u4f4d\u7f6e",rubyForm:"{\u4f4d|\u3044}{\u7f6e|\u3061}"},{shortForm:"\u79fb\u52d5",rubyForm:"{\u79fb|\u3044}{\u52d5|\u3069\u3046}"},{shortForm:"\u65b9\u6cd5",rubyForm:"{\u65b9|\u307b\u3046}{\u6cd5|\u307b\u3046}"},{shortForm:"\u5909\u66f4",rubyForm:"{\u5909|\u3078\u3093}{\u66f4|\u3053\u3046}"},{shortForm:"\u767a\u751f",rubyForm:"{\u767a|\u306f\u3063}{\u751f|\u305b\u3044}"},{shortForm:"\u516c\u958b",rubyForm:"{\u516c|\u3053\u3046}{\u958b|\u304b\u3044}"},{shortForm:"\u9806\u756a",rubyForm:"{\u9806|\u3058\u3085\u3093}{\u756a|\u3070\u3093}"},{shortForm:"\u9650\u308a",rubyForm:"{\u9650|\u304b\u304e}\u308a"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u9806",rubyForm:"{\u9806|\u3058\u3085\u3093}"},{shortForm:"\u4ee3",rubyForm:"{\u4ee3|\u304b}"},{shortForm:"\u8d85",rubyForm:"{\u8d85|\u3053}"},{shortForm:"\u6bce",rubyForm:"{\u6bce|\u3054\u3068}"},{shortForm:"\u524d",rubyForm:"{\u524d|\u307e\u3048}"},{shortForm:"\u9055",rubyForm:"{\u9055|\u3061\u304c}"},{shortForm:"\u7d9a",rubyForm:"{\u7d9a|\u3064\u3065}"},{shortForm:"\u6b8b",rubyForm:"{\u6b8b|\u306e\u3053}"},{shortForm:"\u4ed6",rubyForm:"{\u4ed6|\u307b\u304b}"},{shortForm:"\u5f53",rubyForm:"{\u5f53|\u3042}"},{shortForm:"\u5ea6",rubyForm:"{\u5ea6|\u3069}"},{shortForm:"\u6642",rubyForm:"{\u6642|\u3068\u304d}"},{shortForm:"\u65cf",rubyForm:"{\u65cf|\u305e\u304f}"},{shortForm:"\u6570",rubyForm:"{\u6570|\u304b\u305a}"},{shortForm:"\u4f53",rubyForm:"{\u4f53|\u305f\u3044}"},{shortForm:"\u9650",rubyForm:"{\u9650|\u30b2\u30f3}"},{shortForm:"\u7f6e",rubyForm:"{\u7f6e|\u30c1}"},{shortForm:"\u53d7",rubyForm:"{\u53d7|\u3046}"},{shortForm:"\u679a",rubyForm:"{\u679a|\u307e\u3044}"},{shortForm:"\u5f8c",rubyForm:"{\u5f8c|\u3054}"},{shortForm:"\u9001",rubyForm:"{\u9001|\u304a\u304f}"},{shortForm:"\u4e8b",rubyForm:"{\u4e8b|\u3053\u3068}"},{shortForm:"\u5185",rubyForm:"{\u5185|\u3046\u3061}"},{shortForm:"\u898b",rubyForm:"{\u898b|\u307f}"},{shortForm:"\u4e2d",rubyForm:"{\u4e2d|\u306a\u304b}"},{shortForm:"\u52a0",rubyForm:"{\u52a0|\u304f\u308f}"},{shortForm:"\u9078",rubyForm:"{\u9078|\u3048\u3089}"},{shortForm:"\u4e00",rubyForm:"{\u4e00|\u3044\u3061}"},{shortForm:"\u756a",rubyForm:"{\u756a|\u3070\u3093}"},{shortForm:"\u540c",rubyForm:"{\u540c|\u3069\u3046}"},{shortForm:"\u56de",rubyForm:"{\u56de|\u304b\u3044}"},{shortForm:"\u6271",rubyForm:"{\u6271|\u3042\u3064\u304b}"},{shortForm:"\u661f",rubyForm:"{\u661f|\u30ec\u30d9\u30eb}"},{shortForm:"\u653b",rubyForm:"{\u653b|\u3053\u3046}"},{shortForm:"\u5b88",rubyForm:"{\u5b88|\u3057\u3085}"},{shortForm:"\u623b",rubyForm:"{\u623b|\u3082\u3069}"},{shortForm:"\u4e0a",rubyForm:"{\u4e0a|\u3046\u3048}"},{shortForm:"\u6b21",rubyForm:"{\u6b21|\u3064\u304e}"},{shortForm:"\u5024",rubyForm:"{\u5024|\u3061}"},{shortForm:"\u542b",rubyForm:"{\u542b|\u3075\u304f}"},{shortForm:"\u4e0e",rubyForm:"{\u4e0e|\u3080\u305f}"},{shortForm:"\u5f97",rubyForm:"{\u5f97|\u3048}"},{shortForm:"\u53ca",rubyForm:"{\u53ca|\u304a\u3088}"},{shortForm:"\u7570",rubyForm:"{\u7570|\u3053\u3068}"},{shortForm:"\u8a18",rubyForm:"{\u8a18|\u3057\u308b}"},{shortForm:"\u7e70",rubyForm:"{\u7e70|\u304f}"},{shortForm:"\u8fd4",rubyForm:"{\u8fd4|\u304b\u3048}"},{shortForm:"\u6c7a",rubyForm:"{\u6c7a|\u304d}"},{shortForm:"\u4e92",rubyForm:"{\u4e92|\u305f\u304c}"},{shortForm:"\u6255",rubyForm:"{\u6255|\u306f\u3089}"},{shortForm:"\u591a",rubyForm:"{\u591a|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u3082}"},{shortForm:"\u9593",rubyForm:"{\u9593|\u3042\u3044\u3060}"},{shortForm:"\u6240",rubyForm:"{\u6240|\u3057\u3087}"},{shortForm:"\u9ad8",rubyForm:"{\u9ad8|\u305f\u304b}"},{shortForm:"\u500d",rubyForm:"{\u500d|\u3070\u3044}"},{shortForm:"\u4e0b",rubyForm:"{\u4e0b|\u3057\u305f}"},{shortForm:"\u969b",rubyForm:"{\u969b|\u3055\u3044}"},{shortForm:"\u597d",rubyForm:"{\u597d|\u3059}"},{shortForm:"\u8868",rubyForm:"{\u8868|\u304a\u3082\u3066}"}],N=R.reduce(((e,t)=>(e[t.shortForm]=t,e)),{}),L=[{blendMode:"overlay",opacity:1}],E=[{blendMode:"overlay",opacity:.65},{blendMode:"multiply",opacity:.55}],I={type1:{value:"type1",label:"1",partInstructionMap:{}},type2:{value:"type2",label:"2",partInstructionMap:{}},type3:{value:"type3",label:"3",partInstructionMap:{"art-overlay":L,"art-border":L,"art-border-pendulum":L,"border-pendulum":L,attribute:L,frame:L}},type4:{value:"type4",label:"4",partInstructionMap:{}},type5:{value:"type5",label:"5",partInstructionMap:{}},type6:{value:"type6",label:"6",partInstructionMap:{}},type7:{value:"type7",label:"7",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.175},{blendMode:"color-dodge",opacity:.125}]}},type8:{value:"type8",label:"8",partInstructionMap:{"art-border":E,"art-border-pendulum":E,"border-pendulum":E,frame:E,"frame-background":E,name:E,star:E}},type9:{value:"type9",label:"9",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.45}]}}},M={type1:{value:"type1",label:"1",partInstructionMap:{art:[{}]}},type2:{value:"type2",label:"2",partInstructionMap:{art:[{opacity:.08,blendMode:"darken"},{opacity:.28,blendMode:"color-dodge"},{opacity:.48,blendMode:"multiply"}]}},type3:{value:"type3",label:"3",partInstructionMap:{art:[{opacity:.66,blendMode:"color-dodge"},{opacity:.64,blendMode:"multiply"}]}},type4:{value:"type4",label:"4",partInstructionMap:{art:[{opacity:.31,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type5:{value:"type5",label:"5",partInstructionMap:{art:[{opacity:.19,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type6:{value:"type6",label:"6",partInstructionMap:{art:[{opacity:.25,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type7:{value:"type7",label:"7",partInstructionMap:{art:[{}]}}},A={capitalLetterRatio:1,headTextFontRatio:.355,headTextSpacing:.5,largeSymbolRatio:1.35,letterSpacing:0,offsetY:0,ordinalFontOffsetY:-2,ordinalFontRatio:1/1.1,squareBracketRatio:1},B={yOffset:0,yRatio:1},D={headTextHeightRatio:.8,headTextOverflow:"normal",headTextBold:!0,headTextGapRatio:.03125},P={alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextFontRatio:.7,headTextHeightRatio:.815,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:1,headTextGapRatio:0},W=Object(l.a)(Object(l.a)({},P),{},{font:"MatrixBook",headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),z=Object(l.a)(Object(l.a)({},P),{},{font:'"stone-serif-regular"',headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),H=Object(l.a)(Object(l.a)({},P),{},{font:'"Yu-Gi-Oh! DF Leisho 3"',fontStyle:"ocg",metricMethod:"compact",fontList:[]}),K={tcg:Object(l.a)(Object(l.a)({},W),{},{fontList:[{bulletSymbolWidth:23,fontSize:24.38,lineHeight:24.7,lineCount:8},{bulletSymbolWidth:23,fontSize:19.94,lineHeight:21.15,lineCount:10}]}),"tcg-stat":Object(l.a)(Object(l.a)({},W),{},{fontList:[{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:7}]}),"tcg-type-stat":Object(l.a)(Object(l.a)({},W),{},{fontList:[{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:6},{bulletSymbolWidth:23,fontSize:19.95,lineHeight:21.5,lineCount:7},{bulletSymbolWidth:23,fontSize:18.8,lineHeight:18.8,lineCount:8},{bulletSymbolWidth:19,fontSize:16.7,lineHeight:16.7,lineCount:9},{bulletSymbolWidth:19,fontSize:15,lineHeight:15,lineCount:10}]}),"tcg-type":Object(l.a)(Object(l.a)({},W),{},{fontList:[{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:7}]}),ocg:Object(l.a)(Object(l.a)({},H),{},{fontList:[{bulletSymbolWidth:16,fontSize:22,lineHeight:26,lineCount:7},{bulletSymbolWidth:16,fontSize:22,lineHeight:26,lineCount:8}]}),"ocg-stat":Object(l.a)(Object(l.a)({},H),{},{fontList:[{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]}),"ocg-type-stat":Object(l.a)(Object(l.a)({},H),{},{fontList:[{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:6}]}),"ocg-type":Object(l.a)(Object(l.a)({},H),{},{fontList:[{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]})},G=[{bulletSymbolWidth:23,fontSize:21.8,lineHeight:24.9,lineCount:6},{bulletSymbolWidth:23,fontSize:17.28,lineHeight:21.5,lineCount:7},{bulletSymbolWidth:23,fontSize:16.28,lineHeight:18.8,lineCount:8},{bulletSymbolWidth:19,fontSize:14.46,lineHeight:16.7,lineCount:9},{bulletSymbolWidth:19,fontSize:12.99,lineHeight:15,lineCount:10}],Y={tcg:Object(l.a)(Object(l.a)({},W),{},{fontList:[{bulletSymbolWidth:23,fontSize:24.3,lineHeight:24.35,lineCount:5}]}),ocg:Object(l.a)(Object(l.a)({},H),{},{fontList:[{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.2,headTextFontRatio:.4,lineCount:5}]})},X={veryStrict:{1:600,2:620,3:640},strict:{1:645,2:665,3:685},loose:{1:700,2:710,3:720},veryLoose:{1:740,2:770,3:800},relaxed:{1:800,2:850,3:900}},U={Default:{value:"Default",labelKey:"input.name-style.font-type.default",fontData:{alphabetFont:"MatrixRegularSmallCaps",font:"MatrixRegularSmallCaps",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.55,fontList:[{bulletSymbolWidth:64,fontSize:91.5,headTextFontRatio:.19,letterSpacing:.015,lineCount:1,lineHeight:91.5,offsetY:0}],letterDeviationMap:{i:{yOffset:1,yRatio:1.03},"\xec":{yOffset:1,yRatio:1.03},"\xed":{yOffset:1,yRatio:1.03},"\xee":{yOffset:1,yRatio:1.03},"\xef":{yOffset:1,yRatio:1.03},"\u0129":{yOffset:1,yRatio:1.03},"\u012b":{yOffset:1,yRatio:1.03},"\u012d":{yOffset:1,yRatio:1.03},"\u012f":{yOffset:1,yRatio:1.03},"\u01d0":{yOffset:1,yRatio:1.03},"\u0209":{yOffset:1,yRatio:1.03},"\u020b":{yOffset:1,yRatio:1.03},"\u0268":{yOffset:1,yRatio:1.03},"\u0269":{yOffset:1,yRatio:1.03},"\u1d79":{yOffset:1,yRatio:1.03},"\u1d7c":{yOffset:1,yRatio:1.03},"\u1d96":{yOffset:1,yRatio:1.03},"\u1e2d":{yOffset:1,yRatio:1.03},"\u1e2f":{yOffset:1,yRatio:1.03},"\u1ec9":{yOffset:1,yRatio:1.03},"\u1ecb":{yOffset:1,yRatio:1.03},I:{yOffset:1,yRatio:1.022},"\xcc":{yOffset:1,yRatio:1.022},"\xcd":{yOffset:1,yRatio:1.022},"\xce":{yOffset:1,yRatio:1.022},"\xcf":{yOffset:1,yRatio:1.022},"\u0128":{yOffset:1,yRatio:1.022},"\u012a":{yOffset:1,yRatio:1.022},"\u012c":{yOffset:1,yRatio:1.022},"\u012e":{yOffset:1,yRatio:1.022},"\u0130":{yOffset:1,yRatio:1.022},"\u0196":{yOffset:1,yRatio:1.022},"\u0197":{yOffset:1,yRatio:1.022},"\u01cf":{yOffset:1,yRatio:1.022},"\u0208":{yOffset:1,yRatio:1.022},"\u020a":{yOffset:1,yRatio:1.022},"\u1e2c":{yOffset:1,yRatio:1.022},"\u1e2e":{yOffset:1,yRatio:1.022},"\u1ec8":{yOffset:1,yRatio:1.022},"\u1eca":{yOffset:1,yRatio:1.022}}}},Arial:{value:"Arial",labelKey:"input.name-style.font-type.arial",fontData:{alphabetFont:"Arial",font:"Arial",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.825,weight:"bold",fontList:[{bulletSymbolWidth:40.67,fontSize:61,headTextFontRatio:.19,letterSpacing:-.14,lineCount:1,lineHeight:61,offsetY:3}]}},OCG:{value:"OCG",labelKey:"input.name-style.font-type.ocg",fontData:{alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',font:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextHeightRatio:.775,headTextOverflow:"condense",headTextBold:!0,metricMethod:"name",numberFont:"DFKakuTaiHiStd-W4",numberFontRatio:1,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:.775,fontStyle:"ocg",fontList:[{bulletSymbolWidth:42.67,fontSize:64,headTextFontRatio:.175,headTextSpacing:3,letterSpacing:-.03,lineCount:1,lineHeight:64,offsetY:0}]}}},V={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{offsetY:-1,bulletSymbolWidth:20.05,fontSize:21.2,lineHeight:21.2,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:20,lineHeight:20,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",metricMethod:"creator",fontStyle:"ocg",fontList:[{bulletSymbolWidth:18,fontSize:19,letterSpacing:.05,lineHeight:20.5,lineCount:1,headTextFontRatio:0,wordLetterSpacing:.11}]}},q={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletSymbolWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:21,lineHeight:21,lineCount:1,letterSpacing:0,headTextFontRatio:.4,largeSymbolRatio:1.25,offsetY:1}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',numberFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",metricMethod:"furigana",fontList:[{bulletSymbolWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:19,headTextFontRatio:0,largeSymbolRatio:1.25,lineCount:1,lineHeight:20.5,ordinalFontOffsetY:1,ordinalFontRatio:1.25}]}},J={font:"YuGiOhITCStoneSerifBSc",alphabetFont:"YuGiOhITCStoneSerifBSc",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"YuGiOhITCStoneSerifBSc",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletSymbolWidth:20.05,fontSize:31.5,lineHeight:31.5,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:.02,headTextFontRatio:.4},{bulletSymbolWidth:21.8,fontSize:32.75,lineHeight:32.75,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:-.03,headTextFontRatio:.4},{bulletSymbolWidth:14.8,fontSize:44.5,lineHeight:44.5,lineCount:1,iconSymbolWidth:45,capitalLetterRatio:.90001,squareBracketRatio:.94001,letterSpacing:-.03,headTextFontRatio:.4}]},$={font:'"Yu-Gi-Oh! DF Leisho 3"',alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',symbolFont:"matrix",symbolFontRatio:.8,headTextHeightRatio:.775,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",fontList:[{bulletSymbolWidth:20.05,fontSize:25.2,lineHeight:25.2,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletSymbolWidth:21.8,fontSize:26.5,lineHeight:26.5,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletSymbolWidth:36.8,fontSize:48,lineHeight:48,lineCount:1,iconSymbolWidth:45,headTextFontRatio:.25,headTextSpacing:3,letterSpacing:-.07,squareBracketRatio:1.02501}]},_={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\u300c":"\uff62","\u300d":"\uff63","\u3001":"\uff64",":":"\uff1a","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},Z={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\uff62":"\u300c","\uff63":"\u300d","\uff64":"\u3001","\uff1a":":","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},Q={"(\uff11)":"\u2460","(\uff12)":"\u2461","(\uff13)":"\u2462","(\uff14)":"\u2463","(\uff15)":"\u2464","(\uff16)":"\u2465","(\uff17)":"\u2466","(\uff18)":"\u2467","(\uff19)":"\u2468","(\uff11\uff10)":"\u2469","(\uff11\uff11)":"\u246a","(\uff11\uff12)":"\u246b","(\uff11\uff13)":"\u246c","(\uff11\uff14)":"\u246d","(\uff11\uff15)":"\u246e","(\uff11\uff16)":"\u246f","(\uff11\uff17)":"\u2470","(\uff11\uff18)":"\u2471","(\uff11\uff19)":"\u2472","(\uff12\uff10)":"\u2473","(1)":"\u2460","(2)":"\u2461","(3)":"\u2462","(4)":"\u2463","(5)":"\u2464","(6)":"\u2465","(7)":"\u2466","(8)":"\u2467","(9)":"\u2468","(10)":"\u2469","(11)":"\u246a","(12)":"\u246b","(13)":"\u246c","(14)":"\u246d","(15)":"\u246e","(16)":"\u246f","(17)":"\u2470","(18)":"\u2471","(19)":"\u2472","(20)":"\u2473"},ee={ocg:["\xa9\u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e\u30fb\u30c6\u30ec\u30d3\u6771\u4eac\u30fbKONAMI","\xa9\u9ad8\u6a4b\u548c\u5e0c \u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e","\xa9\u9ad8\u6a4b\u548c\u5e0c\uff0f\u96c6\u82f1\u793e"],tcg:["\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI","\xa91996 KAZUKI TAKAHASHI","\xa9KAZUKI TAKAHASHI / SHUEISHA"]},te={"\u6c34\u65cf":"Aqua","\u7363\u65cf":"Beast","\u7363\u6226\u58eb\u65cf":"Beast-Warrior","\u5275\u9020\u795e\u65cf":"Creator God","\u30b5\u30a4\u30d0\u30fc\u30b9\u65cf":"Cyberse","\u6050\u7adc\u65cf":"Dinosaur","\u5e7b\u795e\u7363\u65cf":"Divine-Beast","\u30c9\u30e9\u30b4\u30f3\u65cf":"Dragon","\u5929\u4f7f\u65cf":"Fairy","\u60aa\u9b54\u65cf":"Fiend","\u9b5a\u65cf":"Fish","\u30ae\u30e3\u30e9\u30af\u30b7\u30fc\u65cf":"Galaxy","\u5e7b\u60f3\u9b54\u65cf":"Illusion","\u6606\u866b\u65cf":"Insect","\u6a5f\u68b0\u65cf":"Machine","\u690d\u7269\u65cf":"Plant","\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Psychic","\u708e\u65cf":"Pyro","\u722c\u866b\u985e\u65cf":"Reptile","\u5ca9\u77f3\u65cf":"Rock","\u6d77\u7adc\u65cf":"Sea Serpent","\u9b54\u6cd5\u4f7f\u3044\u65cf":"Spellcaster","\u96f7\u65cf":"Thunder","\u6226\u58eb\u65cf":"Warrior","\u9ce5\u7363\u65cf":"Winged Beast","\u5e7b\u7adc\u65cf":"Wyrm","\u30a2\u30f3\u30c7\u30c3\u30c8\u65cf":"Zombie","\u30b5\u30a4\u30dc\u30fc\u30b0\u65cf":"Cyborg","\u5929\u754c\u6226\u58eb\u65cf":"Celestial Warrior","\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3\u65cf":"High Dragon","\u9b54\u5c0e\u9a0e\u58eb\u65cf":"Magical Knight","\u30aa\u30e1\u30ac\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Omega Psychic","\u30e2\u30f3\u30b9\u30bf\u30fc":"Monster","\u9b54\u6cd5\u30ab\u30fc\u30c9":"Spell Card","\u7f60\u30ab\u30fc\u30c9":"Trap Card","\u30a2\u30af\u30b7\u30e7\u30f3":"Action","\u901a\u5e38":"Normal","\u52b9\u679c":"Effect","\u5100\u5f0f":"Ritual","\u30d5\u30e5\u30fc\u30b8\u30e7\u30f3":"Fusion","\u878d\u5408":"Fusion","\u30b7\u30f3\u30af\u30ed":"Synchro","\u30a8\u30af\u30b7\u30fc\u30ba":"Xyz","\u30da\u30f3\u30c7\u30e5\u30e9\u30e0":"Pendulum","\u30ea\u30f3\u30af":"Link","\u30de\u30ad\u30b7\u30de\u30e0":"Maximum","\u30c8\u30fc\u30af\u30f3":"Token","\u7279\u6b8a\u53ec\u559a":"Special Summon","\u30c0\u30fc\u30af\u30b7\u30f3\u30af\u30ed\u30e2\u30f3\u30b9\u30bf\u30fc":"Dark Synchro","\u30c1\u30e5\u30fc\u30ca\u30fc":"Tuner","\u30c7\u30e5\u30a2\u30eb":"Gemini","\u30ea\u30d0\u30fc\u30b9":"Flip","\u30c8\u30a5\u30fc\u30f3":"Toon","\u30b9\u30d4\u30ea\u30c3\u30c8":"Spirit","\u30e6\u30cb\u30aa\u30f3":"Union",[ee.ocg[2]]:ee.tcg[2],[ee.ocg[1]]:ee.tcg[1],[ee.ocg[0]]:ee.tcg[0],"{\u7d14|\u30b8\u30e5\u30f3}{\u72d0|\u3053}":"Junko","\u81ea\u5206\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u52b9\u679c\u30e2\u30f3\u30b9\u30bf\u30fc\xd7\uff12\u4f53\u4ee5\u4e0a\n\u2460\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u304c\u30e2\u30f3\u30b9\u30bf\u30fc\u30be\u30fc\u30f3\u306b\u5b58\u5728\u3059\u308b\u9650\u308a\u3001\u76f8\u624b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u52b9\u679c\u3092\u767a\u52d5\u3059\u308b\u5ea6\u306b\u3001\u305d\u306e\u76f8\u624b\u306e\u8868\u5074\u8868\u793a\u30e2\u30f3\u30b9\u30bf\u30fc\u306b\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\uff11\u3064\u7f6e\u304f(\u6700\u5927\uff11\u3064\u307e\u3067\uff09\u3002\u2461\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u767a\u52d5\u3057\u305f\u52b9\u679c\u3092\u53d7\u3051\u306a\u3044\u3002\u2462\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3068\u306e\u6226\u95d8\u3067\u306f\u7834\u58ca\u3055\u308c\u306a\u3044\u3002":"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.","\u203b\u516c\u5f0f\u306e\u30c7\u30e5\u30a8\u30eb\u3067\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002":"This card cannot be used in a Duel.","\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002":"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1."},ae=Object.entries(te).reduce(((e,t)=>{const[a,n]=t;return e[n]=a,e}),{"Once per turn: You can pay 800 LP, increase this card\u2019s Pendulum Scale by 1.":"\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002"}),ne={normal:{name:"normal",nameKey:"input.frame.normal",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c49c5e"},effect:{name:"effect",nameKey:"input.frame.effect",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#b96c49"},fusion:{name:"fusion",nameKey:"input.frame.fusion",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#8948a4"},synchro:{name:"synchro",nameKey:"input.frame.synchro",labelColor:"#000",edition:"normal",labelBackgroundColor:"#efefef"},xyz:{name:"xyz",nameKey:"input.frame.xyz",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#000000"},link:{name:"link",nameKey:"input.frame.link",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#0c8ac6"},ritual:{name:"ritual",nameKey:"input.frame.ritual",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#5e85c9"},spell:{name:"spell",nameKey:"input.frame.spell",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#1b8f83"},trap:{name:"trap",nameKey:"input.frame.trap",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c32a8c"},token:{name:"token",nameKey:"input.frame.token",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#6f6c6b"},"dark-synchro":{name:"dark-synchro",nameKey:"input.frame.dark-synchro",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4d4543"},obelisk:{name:"obelisk",nameKey:"input.frame.obelisk",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#515eb0"},osiris:{name:"osiris",nameKey:"input.frame.osiris",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#bd5044"},ra:{name:"ra",nameKey:"input.frame.ra",labelColor:"#000",edition:"extendend",labelBackgroundColor:"#b9ad34"},raviel:{name:"raviel",nameKey:"input.frame.raviel",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#313c5f"},uria:{name:"uria",nameKey:"input.frame.uria",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#623320"},hamon:{name:"hamon",nameKey:"input.frame.hamon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#534a19"},"lg-dragon":{name:"lg-dragon",nameKey:"input.frame.lg-dragon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4e84a4"},"speed-skill":{name:"speed-skill",nameKey:"input.frame.speed-skill",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#199cd5"},zarc:{name:"zarc",nameKey:"input.frame.zarc",labelColor:"#000",edition:"extendend",labelBackgroundColorList:["rgba(185,108,73,1)","rgba(137,72,164,1)","rgba(239,239,239,1)","rgba(0,0,0,1)"],labelBackgroundImage:"linear-gradient(90deg, ".concat(["rgba(185,108,73,1) 23%","rgba(137,72,164,1) 27%","rgba(137,72,164,1) 48%","rgba(239,239,239,1) 52%","rgba(239,239,239,1) 73%","rgba(0,0,0,1) 77%"].join(", "),")")}},re=Object.values(ne),oe=[{top:175,left:55,width:100,height:100},{top:165,left:323,width:170,height:80},{top:175,left:655,width:100,height:100},{top:442,left:45,width:70,height:170},{top:0,left:0,width:0,height:0},{top:442,left:700,width:70,height:170},{top:775,left:55,width:100,height:100},{top:810,left:323,width:170,height:80},{top:775,left:655,width:100,height:100}],ie=new RegExp("[A-Z\uff21-\uff3a]"),le=new RegExp("[\\[\\]\u3010\u3011]"),ce="[#@\u221ea-z\uff41-\uff5aA-Z\uff21-\uff3a0-9\uff10-\uff19!\uff01+\xd7\uff03#@\u221e\u2018\u201c\u2019\u201d:;\\[\\]\\(\\)\u3010\u3011\\.,]+",se=new RegExp(ce),de=new RegExp("({[^{}]+?}|".concat(ce,"|.)")),ue="\u2989",be="\u298a",pe="\u27c5",me="\u27c6",fe="\u27ec",ge="\u27ed",he=new RegExp("[".concat([ue,be,pe,me,fe,ge].join(""),"]|(\\|[^}]+})"),"g"),ve="".concat(ue,"|").concat(be),ye=new RegExp(ve),je="(\\n^[\\r\\t\\f\\v \\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]*\\n".concat(ue,"?\\([\\w\\W]+\\)").concat(be,"?)\\s*$"),xe=new RegExp("[".concat("#\u2605@\u221e","]")),Oe=R.map((e=>{var t;return null!==(t=e.regexForm)&&void 0!==t?t:e.shortForm})).join("|"),we="(".concat(Oe,")(?![^{]*})"),Fe="\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b",ke=new RegExp("[".concat(Fe,"]")),Ce=".[".concat(Fe,")\\]\uff5d\u3015\u3009\u300b\u300d\uff63\u300f\u3011\u3019\u3017\u301f'\"\u2019\u201d\uff60\xbb\u2010\u30a0\u2013\u301c\uff1f!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.\uff61\uff64]+"),Se=new RegExp("[\u2460-\u2473\u203b]"),Te=new RegExp("[\uff21-\uff3a\uff41-\uff5a]"),Re=new RegExp("[\uff10-\uff19]"),Ne=new RegExp("[0-9]"),Le=/[\u3042\u3044\u3046\u3048\u304a\u304b\u304c\u304d\u304e\u304f\u3050\u3051\u3052\u3053\u3054\u3055\u3056\u3057\u3058\u3059\u305a\u305b\u305c\u305d\u305e\u305f\u3060\u3061\u3062\u3064\u3065\u3066\u3067\u3068\u3069\u306a\u306b\u306c\u306d\u306e\u306f\u3070\u3071\u3072\u3073\u3074\u3075\u3076\u3077\u3078\u3079\u307a\u307b\u307c\u307d\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093\u3094]/,Ee=/[\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ac\u30ad\u30ae\u30af\u30b0\u30b1\u30b2\u30b3\u30b4\u30b5\u30b6\u30b7\u30b8\u30b9\u30ba\u30bb\u30bc\u30bd\u30be\u30bf\u30c0\u30c1\u30c2\u30c4\u30c5\u30c6\u30c7\u30c8\u30c9\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d0\u30d1\u30d2\u30d3\u30d4\u30d5\u30d6\u30d7\u30d8\u30d9\u30da\u30db\u30dc\u30dd\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\u30f4\u30f7\u30f8\u30f9\u30fa]/,Ie=new RegExp("[\u30fb]"),Me=new RegExp("[\u30fc]"),Ae=new RegExp("[\u2015]"),Be=new RegExp("[".concat("\uff1a","]")),De=new RegExp("[".concat("\u3002\uff64","]")),Pe=new RegExp("[".concat("\uff1a","]")),We={"\u3002":-.2,"\uff64":-.2,"\uff62":0,"\uff63":0,"\uff1a":0,">":.25,"<":-.25},ze={"\u3002":-.5,"\uff1a":-.25},He={">":.125,"<":.125},Ke={"\\":-.025},Ge={},Ye={"\\":.3},Xe=e=>"tcg"===e?7:1,Ue=/{[^{}]+?}/,Ve="\\s\\-/",qe=-2.25,Je=()=>({version:0,format:"tcg",frame:"fusion",foil:"normal",opacity:d(),finish:[],artFinish:"normal",name:"Junko",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},attribute:"LIGHT",subFamily:h,cardIcon:"auto",star:6,starAlignment:"auto",art:"https://i.imgur.com/h5kXZeC.png",artData:"",artFit:!1,artSource:"online",artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:["1","3","7","9"],isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1.",pendulumScaleRed:"4",pendulumScaleBlue:"4",typeAbility:["Fairy","Fusion","Effect"],effectStyle:{condenseTolerant:"strict"},effect:"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.",setId:"YGOC-EN001",atk:"2000",def:"2000",password:"18111996",sticker:"holo5",isFirstEdition:!0,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],externalInfo:{}}),$e=()=>({version:0,format:"tcg",frame:"effect",foil:"normal",opacity:d(),finish:[],artFinish:"normal",name:"",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},attribute:"LIGHT",subFamily:h,cardIcon:"auto",star:6,starAlignment:"auto",art:"https://i.imgur.com/jjtCuG5.png",artData:"",artSource:"online",artFit:!1,artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:[],isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"",pendulumScaleRed:"4",pendulumScaleBlue:"4",typeAbility:[],effectStyle:{condenseTolerant:"strict"},effect:"",setId:"",atk:"0",def:"0",password:"",sticker:"no-sticker",isFirstEdition:!1,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],externalInfo:{}}),_e=[{type:"body",subType:"artBorder",label:"Card",labelKey:"input.opacity.body.label",tooltipKey:"input.opacity.art-border.tooltip"},{type:"name",subType:"nameBorder",label:"Name",labelKey:"input.opacity.name.label",tooltipKey:"input.opacity.name-border.tooltip"},{type:"pendulum",label:"Pendulum",labelKey:"input.opacity.pendulum.label",tooltipKey:null},{type:"text",label:"Effect",labelKey:"input.opacity.effect.label",tooltipKey:null}],Ze=["#4D4D4D","#999999","#FFFFFF","#FF7F7F","#FFD27F","#FFFF7F","#7FFF7F","#7FBF7F","#7FFFFF","#7F7FFF","#BF7FBF","#FF7FFF","#333333","#808080","#cccccc","#FF0000","#FFA500","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#800080","#FF00FF","#000000","#666666","#B3B3B3","#7F0000","#7F5200","#7F7F00","#007F00","#004000","#007F7F","#00007F","#400040","#7F007F"],Qe=e=>"xyz"===e.frame,et=e=>"link"===e.frame&&at(e),tt=e=>"speed-skill"===e.frame&&!at(e),at=e=>"spell"!==e.frame&&"trap"!==e.frame&&"speed-skill"!==e.frame,nt=e=>!at({frame:e})||rt(e),rt=e=>["link","xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(e);var ot=a(522);const it=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const a=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],n=(e,t)=>e.replace(new RegExp("".concat((t[2]?t[2]:"")+t[0],"|").concat((t[3]?t[3]:"")+t[1]),"g"),(e=>e===t[0]?t[1]:t[0]));if(t)for(t=0;t<a.length;++t)e=n(e,a[t]);else for(t=a.length;t--;)e=n(e,a[t]);return e},lt=Object(l.a)(Object(l.a)({},{version:"ve",format:"fm",frame:"fr",foil:"fo",opacity:{_newKey:"op",body:"opbd",pendulum:"oppd",name:"opnm",text:"optx",boundless:"opbl",artFrame:"opaf",artBorder:"opab",nameBorder:"opnb",baseFill:"opbf"},finish:"fn",art:"ar",artData:"ad",artFit:"af",artSource:"as",artFinish:"afn",artCrop:{_newKey:"arc",x:"arx",y:"ary",width:"arw",height:"arh",unit:"aru",aspect:"ara"},hasBackground:"hbg",background:"bg",backgroundFit:"bf",backgroundData:"bgd",backgroundSource:"bgs",backgroundType:"bgt",backgroundCrop:{_newKey:"bgc",x:"bgx",y:"bgy",width:"bgw",height:"bgh",unit:"bgu",aspect:"bga"},name:"na",nameStyleType:"nst",effectStyle:{_newKey:"es",condenseTolerant:"cdtl"},nameStyle:{_newKey:"ns",font:"nsft",fillStyle:"nsfs",headTextFillStyle:"nshfs",shadowColor:"nssc",shadowOffsetY:"nssoy",shadowOffsetX:"nssox",shadowBlur:"nssb",hasShadow:"nshs",lineColor:"nslc",lineWidth:"nslw",lineOffsetY:"nsloy",lineOffsetX:"nslox",hasOutline:"nshl",gradientAngle:"nsgd",gradientColor:"nscg",hasGradient:"nshg",preset:"nspr",pattern:"nspt"},attribute:"at",subFamily:"sf",star:"st",starAlignment:"sa",cardIcon:"it",linkMap:"lm",isPendulum:"ip",pendulumFrame:"pf",pendulumEffect:"pe",pendulumScaleRed:"rs",pendulumScaleBlue:"bs",typeAbility:"ta",effect:"ef",setId:"si",atk:"atk",def:"def",password:"pw",sticker:"sti",isFirstEdition:"ife",isSpeedCard:"isp",isDuelTerminalCard:"idt",isLimitedEdition:"ile",isLegacyCard:"ilc",creator:"cr",furiganaHelper:"fh",effectTextStyle:"ets",pendulumTextStyle:"pts",statTextStyle:"sts",typeTextStyle:"tts",externalInfo:"ei"}),{passcode:"pc",picture:"pt",pictureCrop:{_newKey:"ptc",x:"ptx",y:"pty",width:"ptw",height:"pth",unit:"ptu",aspect:"pta"}}),ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;const a={},n=Object(l.a)({},e);return Object.keys(n).forEach((e=>{const r=n[e];if("object"!==typeof r||null===r||Array.isArray(r)){const n=t[e];"string"===typeof n&&(a[n]=r)}else{var o;const n=null===(o=t[e])||void 0===o?void 0:o._newKey;n&&(a[n]=ct(r,t[e]))}})),a},st=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;const a={};return Object.keys(t).forEach((n=>{const r=t[n];if("object"!==typeof r||null===r||Array.isArray(r))null!=e[r]&&(a[n]=e[r]);else{const o=null===r||void 0===r?void 0:r._newKey;o&&e[o]&&(a[n]=st(e[o],t[n]))}})),a},dt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;const a="string"===typeof e?JSON.parse((e=>{var t=(e=e.substring(0,e.length-1)).split("\x01");if(e=t[0],1<t.length){t=t[1];for(let a of t)e=(e=e.split(a)).join(e.pop())}return it(e,0)})(decodeURIComponent(e))):e,n={};return Object.keys(t).forEach((e=>{const r=t[e];if("object"!==typeof r||null===r||Array.isArray(r))null!=a[r]&&(n[e]=a[r]);else{const o=null===r||void 0===r?void 0:r._newKey;o&&a[o]&&(n[e]=dt(a[o],t[e]))}})),n},ut=function(e){var t,a,n,r,o,i;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e();const s=Object(l.a)(Object(l.a)({},c),Object(ot.a)(e));return null==s.effectStyle&&(s.effectStyle=Object(l.a)({},$e().effectStyle)),null==s.version&&(s.version=1),null==s.format&&(s.format="tcg"),null==s.pendulumFrame&&(s.pendulumFrame="auto"),null==s.finish&&(s.finish=[]),null==s.artFinish&&(s.artFinish="normal"),s.picture&&!e.art&&(s.art=s.picture),delete s.picture,s.pictureCrop&&!e.artCrop&&(s.artCrop=s.pictureCrop),delete s.pictureCrop,""===(null!==(t=s.art)&&void 0!==t?t:"")&&(s.art=""),""===(null!==(a=s.artData)&&void 0!==a?a:"")&&(s.artData=""),""===(null!==(n=s.artSource)&&void 0!==n?n:"")&&(s.artSource="online"),null==s.artFit&&(s.artFit=!1),"boolean"===typeof s.opacity.artFrame&&null==s.opacity.boundless&&(s.opacity.boundless=!s.opacity.artFrame,delete s.opacity.artFrame),s.opacity=Object(l.a)(Object(l.a)({},d()),s.opacity),""===(null!==(r=s.background)&&void 0!==r?r:"")&&(s.background=""),""===(null!==(o=s.backgroundData)&&void 0!==o?o:"")&&(s.backgroundData=""),""===(null!==(i=s.backgroundSource)&&void 0!==i?i:"")&&(s.backgroundSource="online"),null==s.backgroundFit&&(s.backgroundFit=!1),null==s.hasBackground&&(s.background||s.backgroundData||s.opacity.baseFill)&&(s.hasBackground=!0),s.kanjiHelper&&!e.furiganaHelper&&(s.furiganaHelper=s.kanjiHelper),delete s.kanjiHelper,void 0===s.furiganaHelper&&(s.furiganaHelper=!0),s.passcode&&!e.password&&(s.password=s.passcode),delete s.passcode,s.effectTextStyle||(s.effectTextStyle=[!1,"#000000",!1,"#000000"]),s.pendulumTextStyle||(s.pendulumTextStyle=[!1,"#000000",!1,"#000000"]),s.typeTextStyle||(s.typeTextStyle=[!1,"#000000",!1,"#000000"]),s.statTextStyle||(s.statTextStyle=[!1,"#000000",!1,"#000000"]),"undefined"===typeof s.isLimitedEdition&&(s.isLimitedEdition=!1),"undefined"===typeof s.isLegacyCard&&(s.isLegacyCard=!1),s.starAlignment||(s.starAlignment="auto"),s};var bt=a(19);const pt=e=>{try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1")}catch(t){return console.error(t),e}},mt=e=>{try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1")}catch(t){return console.error(t),e}},ft=(e,t,a)=>{const n=document.createElement("a");n.download=e,n.href=window.URL.createObjectURL(t),n.dataset.downloadurl=[a,n.download,n.href].join(":");const r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});n.dispatchEvent(r),n.remove()},gt=["pendulum","rarity"],ht=e=>{try{return"isFirstEdition"in e&&"typeAbility"in e&&"setId"in e}catch(t){return console.error(t),!1}},vt=e=>{try{return"ife"in e&&"ta"in e&&"si"in e}catch(t){return console.error(t),!1}},yt={CONTINUOUS:"Continuous",COUNTER:"Counter",EQUIP:"Equip",FIELD:"Field","QUICK-PLAY":"Quick-play",RITUAL:"Ritual",[h]:"None"},jt=Object.entries(yt).reduce(((e,t)=>{const[a,n]=t;return e[n]=a,e}),{}),xt={EARTH:"Earth",LIGHT:"Light",DARK:"Dark",FIRE:"Fire",WIND:"Wind",WATER:"Water",SPELL:"Spell",TRAP:"Trap",DIVINE:"Divine"},Ot=Object.entries(xt).reduce(((e,t)=>{const[a,n]=t;return e[n]=a,e}),{}),wt={normal:"Normal",effect:"Effect",ritual:"Ritual",fusion:"Fusion",synchro:"Synchro",xyz:"Xyz",link:"Link",token:"Token",spell:"Spell",trap:"Trap","dark-synchro":"Dark Synchro",zarc:"Unity","speed-skill":"Skill"},Ft=Object.entries(wt).reduce(((e,t)=>{const[a,n]=t;return e[n]=a,e}),{}),kt={common:{key:""},rare:{key:"rare--",text:"rare"},secret:{key:"secretGradient-type3-",text:"secretGradient",artFinish:"type3"},ultra:{key:"ultra-type3-",text:"ultra",artFinish:"type3"},rainbow:{key:"platinum-type1-type1",text:"platinum",artFinish:"type1",finish:["type1"]}},Ct=Object.entries(kt).reduce(((e,t)=>{const[a,n]=t;return e[n.key]=a,e}),{}),St=(e,t)=>{const{name:a,star:n,typeAbility:r,subFamily:o,effect:i,atk:c,def:s,art:d,artData:u,artSource:b,password:p,creator:m,attribute:f,setId:g,pendulumEffect:h,pendulumScaleBlue:v,pendulumScaleRed:y,isPendulum:j,linkMap:x,frame:O,externalInfo:w,nameStyle:F,nameStyleType:k,artFinish:C,finish:S}=e,T=pt(a),R=mt(i),N=mt(h),L=yt[o],E=xt[f],I=wt[O],M="predefined"===k?Ct[[F.preset,C,S.join("|")].join("-")]:"common",A=null!==w&&void 0!==w?w:{},{pendulum:B,rarity:D}=A,P=Object(bt.a)(A,gt);return{isPartial:a!==T||i!==R||h!==N||void 0===L||void 0===E||void 0===I||void 0===M,result:Object(l.a)({version:"1.0.0",name:T,level:"".concat(n),type:r.join("/"),icon:null!==L&&void 0!==L?L:"",effect:R,atk:c,def:s,serial:p,copyright:m,attribute:null!==E&&void 0!==E?E:"None",id:g,pendulum:Object(l.a)({enabled:j,effect:N,blue:v,red:y,boxSize:"Normal",boxSizeEnabled:!0},B),variant:"Normal",link:{topLeft:!!x.includes("1"),topCenter:!!x.includes("2"),topRight:!!x.includes("3"),middleLeft:!!x.includes("4"),middleRight:!!x.includes("6"),bottomLeft:!!x.includes("7"),bottomCenter:!!x.includes("8"),bottomRight:!!x.includes("9")},layout:null!==I&&void 0!==I?I:"Normal",boxSize:"Normal",rarity:null!==M&&void 0!==M?M:D,image:t?t.toDataURL("image/jpeg"):"offline"===b?u:d},P)}},Tt=1e3,Rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=Tt;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt,a=t,n=a,r=30,o=100;const i=()=>r=-1;return{reset:function(){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,t=i,a=i,r=30,o=100,n=i},searchDown:()=>(a-=o,r-=1,a),reverseSearch:()=>(1===o?i():(a+=o,o/=10,a-=o),Math.min(a,t)),finish:i,getMedian:()=>a,setMedian:e=>a=e,setLastEffective:function(){return n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a},getLastEffective:()=>n,applyLastEffective:()=>(a=n,r=-1,a),getIterateCount:()=>r}}();for(;n.getIterateCount()>=0;){if(n.getIterateCount()<=0){a=n.getMedian();break}if(!e(n.getMedian())&&n.getMedian()>0)n.searchDown();else{if(n.getMedian()===Tt)break;a=n.reverseSearch()}}const r=Math.max(t,Math.min(a,Tt));return r!==a&&e(r),r},Nt=e=>{const{defaultWeight:t="",defaultStyle:a="",defaultSize:n="10px",defaultFamily:r="Arial"}=null!==e&&void 0!==e?e:{};let o=t,i=a,l="number"===typeof n?"".concat(n,"px"):n,c="number"===typeof n?n:parseFloat(n.replaceAll("px","")),s=r;return{getFont:()=>"".concat([i,o,l,s].filter((e=>""!==e)).join(" "),", Arial"),getFontInfo:()=>({style:i,size:l,family:s,sizeAsNumber:c,weight:o}),setWeight(e){return o=e,this},setStyle(e){return i=e,this},setSize(e){const t="function"===typeof e?e(c):e;return l="number"===typeof t?"".concat(t,"px"):t,c="number"===typeof t?t:parseFloat(t.replaceAll("px","")),this},setFamily(e){return s=e,this}}},Lt=()=>It("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf"),Et=e=>(null!==e&&void 0!==e?e:[]).map((e=>{let{color:t,offset:a}=e;return"".concat(a,"|").concat(t)})).join(","),It=e=>e?e.split(",").map(((e,t)=>{const[a,n]=e.split("|");return{color:n,offset:a,id:t+1}})):It("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf"),Mt=e=>{let{debug:t,optionLength:a,stopPropagation:n=!1,setFocus:r,onTrigger:o,onCancel:i,onKeyPress:l}=e;return{tabIndex:0,onFocus:()=>{t&&console.info("Navigation Focus",t),r(0)},onBlur:()=>{t&&console.info("Navigation Blur",t),r(-1)},onKeyDown:e=>{n&&e.stopPropagation(),t&&console.info("Navigation Keydown",t,e.key),!1!==(null===l||void 0===l?void 0:l(e))&&("ArrowRight"===e.key||"ArrowDown"===e.key?(e.preventDefault(),r((e=>Math.max(0,a+e+1)%a))):"ArrowLeft"===e.key||"ArrowUp"===e.key?(e.preventDefault(),r((e=>Math.max(0,a+e-1)%a))):"Enter"===e.key||" "===e.key?o():"Escape"===e.key&&(null===i||void 0===i||i()))}}},At=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="";const n=e.length;for(let r=0;r<t;r++)a+=e.charAt(Math.floor(Math.random()*n));return a};const Bt=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".radio-train-input-group";null===(e=document.querySelector(t))||void 0===e||e.focus()},Dt=/^#[a-fA-F0-9]{3}([a-fA-F0-9]{3})?$/,Pt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{const o=e.replace("#","");let i=[0,0,0,1];var a,n,r;if(3===o.length||4===o.length)i=[parseInt("".concat(o[0]).concat(o[0]),16),parseInt("".concat(o[1]).concat(o[1]),16),parseInt("".concat(o[2]).concat(o[2]),16),parseInt("".concat(null!==(a=o[3])&&void 0!==a?a:"f").concat(null!==(n=o[3])&&void 0!==n?n:"f"),16)];if(6===o.length||8===o.length)i=[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16),parseInt(null!==(r=o.slice(6,8))&&void 0!==r?r:"ff",16)];return i.map((e=>isNaN(e)?255:e)).slice(0,t?4:3)}catch(o){return[0,0,0,1].slice(0,t?4:3)}},Wt=()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e};function zt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}var Ht,Kt=a(10),Gt=a(11),Yt=a(523),Xt=a(131),Ut=a(520),Vt=a(527),qt=a(134),Jt=a(242),$t=a.n(Jt),_t=a(531),Zt=a(507);const Qt=Gt.b.div(Ht||(Ht=Object(Kt.a)(["\n    display: flex;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(#fafafaaa, #fafafaaa);\n    justify-content: center;\n    align-items: center;\n    z-index: 999;\n"]))),ea=()=>Object(m.jsx)(Zt.a,{});ea.FullView=()=>Object(m.jsx)(Qt,{className:"loading-fullview",children:Object(m.jsx)(Zt.a,{size:"large"})});const ta=["className","onClick","onKeyDown"];var aa;const na=Gt.b.span(aa||(aa=Object(Kt.a)(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--spacing-xs);\n    width: 24px;\n    height: 24px;\n    border: var(--bw) solid var(--sub-level-1);\n    background-color: var(--main-level-4);\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: var(--sub-level-4);\n\t}\n"]))),ra=e=>{let{Icon:t,children:a,onClick:n,iconProps:r,tooltipProps:o,containerProps:i}=e;const c=null!==i&&void 0!==i?i:{},{className:s,onClick:d,onKeyDown:u}=c,b=Object(bt.a)(c,ta);return Object(m.jsx)(Xt.a,Object(l.a)(Object(l.a)({title:null},o),{},{children:Object(m.jsxs)(na,Object(l.a)(Object(l.a)({tabIndex:0},b),{},{onClick:e=>{null===n||void 0===n||n(),null===d||void 0===d||d(e)},onKeyDown:e=>{null===u||void 0===u||u(e),"Enter"===e.key&&(null===n||void 0===n||n())},className:["icon-button",null!==s&&void 0!==s?s:""].join(" "),children:[Object(m.jsx)(t,Object(l.a)({},r)),a]}))}))},oa=(e,t)=>{var a,n,r,o,i;const{creator:c,effect:s,format:d,isFirstEdition:u,name:b,password:p,pendulumEffect:m,setId:f,typeAbility:g}=e;if(d===t)return e;const h="ocg"===t?ae:te,v="ocg"===t&&/-EN/.test(f)?f.replace("-EN","-JP"):"tcg"===t&&/-JP/.test(f)?f.replace("-JP","-EN"):f;return Object(l.a)(Object(l.a)({},e),{},{name:null!==(a=h[b])&&void 0!==a?a:b,format:t,effect:null!==(n=h[s])&&void 0!==n?n:s,pendulumEffect:null!==(r=h[m])&&void 0!==r?r:m,typeAbility:g.map((e=>{var t;return null!==(t=h[e])&&void 0!==t?t:e})),creator:null!==(o=h[c])&&void 0!==o?o:c,password:null!==(i=h[p])&&void 0!==i?i:p,setId:v,isFirstEdition:"ocg"!==t&&u})};var ia=a(125),la=a(124),ca=a.n(la),sa=a(249),da=a.n(sa),ua=a(277);const ba=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Object(l.a)(Object(l.a)({},t),e.rawDictionary),n=e=>{var t;return null!==(t=a[e])&&void 0!==t?t:""},o=(e,t)=>{const a=new RegExp("\\{(".concat(Object.keys(t).join("|"),")\\}")),n=e.split(a);return Object(m.jsx)(r.a.Fragment,{children:n.map(((e,a)=>a%2===0?Object(m.jsx)(r.a.Fragment,{children:e},"".concat(e,"-").concat(a)):t[e]))},e)},i={"error.load.font.tcg":e=>n("error.load.font.tcg").replaceAll("{familyName}",e),"error.load.font.ocg":e=>n("error.load.font.ocg").replaceAll("{familyName}",e),"error.max-size.description":e=>n("error.max-size.description").replaceAll("{fileSize}","".concat(e)),"contributor.disclaimer.line-1":e=>o(n("contributor.disclaimer.line-1"),{siteLink:e}),"contributor.disclaimer.line-5":(e,t)=>o(n("contributor.disclaimer.line-5"),{author1:e,author2:t}),"contributor.template-maker":(e,t,a,r)=>o(n("contributor.template-maker"),{artist1:e,artist2:t,artist3:a,artist4:r}),"converter.header.warning.label":e=>o(n("converter.header.warning.label"),{maxAmount:e}),"guide.format.introduction":e=>o(n("guide.format.introduction"),{settingIcon:e}),"guide.format.section-1.content":(e,t,a,r)=>o(n("guide.format.section-1.content"),{openTag:e,closeTag:t,hotkey:a,hotkeyAlternative:r}),"guide.format.section-2.content":(e,t,a,r)=>o(n("guide.format.section-2.content"),{openTag:e,closeTag:t,hotkey:a,hotkeyAlternative:r}),"guide.format.section-3.content":(e,t,a)=>o(n("guide.format.section-3.content"),{separator:e,hotkey:t,hotkeyAlternative:a}),"guide.format.section-4.content":(e,t,a)=>o(n("guide.format.section-4.content"),{separator:e,hotkey:t,hotkeyAlternative:a}),"guide.format.section-5.content":(e,t,a,r)=>o(n("guide.format.section-5.content"),{openTag:e,closeTag:t,hotkey:a,hotkeyAlternative:r}),"input.scale.label":e=>o(n("input.scale.label"),{scaleType:e})};return Object(l.a)(Object(l.a)({},e),{},{rawDictionary:a,dictionary:Object(l.a)(Object(l.a)({},a),i)})},pa=Object(ia.create)(((e,t)=>{const a=(()=>{const e=new URL(window.location.href),t=e.searchParams,a=t.get("language");if(t.delete("language"),window.history.replaceState(window.history.state,"",e.href),a)return a;try{const e=window.localStorage.getItem("language");return e||"eng"}catch(n){return console.error("useSetting: Error when getting cached language",n),"eng"}})(),n={},r=ba(Object(l.a)(Object(l.a)({},{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1}),{},{rawDictionary:{}})),o=async e=>{if(n[e])return null;try{var t;const a=await fetch("".concat("/ygocarder","/asset/i18n/").concat(e,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),r=await a.json();if(!r.rawDictionary)throw new Error("No dictionary found");const o=ba(r,null===(t=n.eng)||void 0===t?void 0:t.rawDictionary);return n[e]=o,o}catch(a){return console.error("loadLanguage: Could not load language, revert back to default",a),null}},i=async a=>{const i=t().languageMetadataMap[a];if(!i)return;const l=n[a]?n[a]:await o(a);l?(e({languageInfo:t().languageMetadataMap[a],language:l.dictionary}),window.localStorage.setItem("language",a),e({isLoading:!1,languageInfo:i})):e({isLoading:!1,languageInfo:t().languageMetadataMap.eng,language:r.dictionary})};return{languageMetadataMap:{},languageInfo:{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1},language:r.dictionary,error:null,isInitiating:!0,isLoading:!0,isMetadataReady:!1,initiate:async()=>{(async()=>{try{const t=await fetch("".concat("/ygocarder","/asset/i18n/metadata.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await t.json();if(!a)throw new Error("No metadata found");e({languageMetadataMap:a,isMetadataReady:!0})}catch(t){console.error("loadLanguageMetadata: Could not load language metadata, try to use English",t),e({languageMetadataMap:{eng:{name:"English",formalName:"English",codeName:"eng",initialMessage:"Loading fonts and scripts\u2026",order:1,active:!0}},isMetadataReady:!0})}})()},loadDefaultLanguage:async()=>{await o("eng"),await i(a),e({isInitiating:!1})},loadLanguage:o,changeLanguage:i}})),ma=()=>pa((e=>{let{language:t}=e;return t})),fa=()=>pa.getState().language,ga=(e,t)=>{let a=$e(),n=!1;if(!e)return{isPartial:n,card:a};try{const r="string"===typeof e?JSON.parse(e):e;if(ht(r))a=ut(r,t);else if(vt(r)||null!=t){const e=st(r);a=ut(e,t)}else{const{isPartial:e,result:t}=(e=>{const{name:t,atk:a,def:n,attribute:r,effect:o,boxSize:i,copyright:c,icon:s,id:d,image:u,layout:b,level:p,link:m,pendulum:g,rarity:v,serial:y,type:x,variant:O,version:w}=e,{red:F,blue:k,boxSize:C,boxSizeEnabled:S,effect:T,enabled:R}=g,N=jt[s],L=Ot[r],E=Ft[b],I="string"===typeof(M=u)&&M.startsWith("data:image/");var M;const A=parseInt(p),B=v?kt[v.toLowerCase()]:void 0;let D=void 0===N||void 0===L||void 0===E||void 0===B;const{finish:P,artFinish:W,text:z}=null!==B&&void 0!==B?B:{},H=z?j[z]:null,K=$e();return{isPartial:D,result:Object(l.a)(Object(l.a)({},K),{},{finish:null!==P&&void 0!==P?P:[],name:t,nameStyleType:z?"predefined":"auto",nameStyle:H?H.value:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},atk:a,def:n,attribute:null!==L&&void 0!==L?L:f,effect:o,creator:c,subFamily:null!==N&&void 0!==N?N:h,setId:d,frame:null!==E&&void 0!==E?E:"normal",star:"".concat(A)===p&&A<=13?A:p,typeAbility:x.split("/").map((e=>e.trim())),art:I?"":u,artFit:!0,artData:I?u:"",artSource:I?"offline":"online",artFinish:null!==W&&void 0!==W?W:"normal",linkMap:[!0===(null===m||void 0===m?void 0:m.topLeft)?"1":null,!0===(null===m||void 0===m?void 0:m.topCenter)?"2":null,!0===(null===m||void 0===m?void 0:m.topRight)?"3":null,!0===(null===m||void 0===m?void 0:m.middleLeft)?"4":null,!0===(null===m||void 0===m?void 0:m.middleRight)?"6":null,!0===(null===m||void 0===m?void 0:m.bottomLeft)?"7":null,!0===(null===m||void 0===m?void 0:m.bottomCenter)?"8":null,!0===(null===m||void 0===m?void 0:m.bottomRight)?"9":null].filter((e=>"string"===typeof e)),isPendulum:R,pendulumScaleBlue:k,pendulumScaleRed:F,pendulumEffect:T,password:y,externalInfo:{version:w,variant:O,boxSize:i,rarity:v,pendulum:{boxSize:C,boxSizeEnabled:S}}})}})(r);n=e,a=t}}catch(r){console.error("decodedCard",e,r);try{a=function(e){let t;return t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?dt(e):"string"===typeof e?JSON.parse(e):e,ut(t)}(e,!0),ua.a.info({message:fa()["service.decode.outdated.message"],description:fa()["service.decode.outdated.description"]})}catch(r){console.error("cardData",e,r),ua.a.error({message:fa()["service.decode.error.message"],description:fa()["service.decode.error.description"]})}}return{isPartial:n,card:a}},ha={debounce:{type:"debounce",wait:400},throttle:{type:"throttle",wait:1e3}},va=Object(ia.create)(((e,t)=>({card:Je(),setCard:t=>{e("function"===typeof t?e=>({card:t(e.card)}):{card:t})},getUpdater:function(e){var a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,r=arguments.length>2?arguments[2]:void 0;const{setCard:o}=t(),i=t=>{o((a=>{var r;return Object(l.a)(Object(l.a)({},a),{},{[e]:n("string"===typeof t||"number"===typeof t||Array.isArray(t)?t:null===t||void 0===t||null===(r=t.target)||void 0===r?void 0:r.value)})}))};if(!r)return i;const c="string"===typeof r?null!==(a=ha[r])&&void 0!==a?a:void 0:r;if(!c)return i;const{wait:s,type:d}=c;return"debounce"===d?ca()(i,s):"throttle"===d?da()(i,s):i}}))),ya=Object(ia.create)((e=>{const{resolution:t,allowHotkey:a,reduceMotionColor:n,showCreativeOption:r,showExtraDecorativeOption:o}=(()=>{try{var e;const t=JSON.parse(null!==(e=window.localStorage.getItem("setting"))&&void 0!==e?e:"{}");return t&&"object"===typeof t&&!Array.isArray(t)?t:{}}catch(t){return console.error("useSetting: Error when getting cached setting",t),{}}})();return{setting:{resolution:Array.isArray(t)&&"number"===typeof t[0]&&"number"===typeof t[1]?t:[c.width,c.height],allowHotkey:"boolean"!==typeof a||a,reduceMotionColor:"boolean"===typeof n&&n,showCreativeOption:"boolean"!==typeof r||r,showExtraDecorativeOption:"boolean"!==typeof o||o},updateSetting:t=>{e((e=>{const a="function"===typeof t?t(e.setting):Object(l.a)(Object(l.a)({},e.setting),t);return window.localStorage.setItem("setting",JSON.stringify(a)),{setting:a}}))}}})),ja=e=>{let{isTainted:t,isInitializing:a,drawCanvasRef:r,exportRef:o,onExport:i,onDownloadError:c,onDownloadComplete:s}=e;const d=ma(),{card:u}=va(),b=ya((e=>e.setting.resolution)),{opacity:p,name:m,isPendulum:f}=u,g=Object(n.useRef)(!1),h=Object(n.useCallback)((function(){var e;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const n=r.current,o=null===n||void 0===n?void 0:n.cloneNode(),i=null===n||void 0===n?void 0:n.getContext("2d"),l=null===o||void 0===o?void 0:o.getContext("2d");if(n&&i&&o&&l&&!t)try{a&&(o.width=a[0],o.height=a[1]),l.drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const e=pt(m);var d=document.createElement("a");d.download=e?"".concat(e,".png"):"card.png",d.href=o.toDataURL("image/png"),d.click()}catch(u){c()}null===(e=document.querySelector("#export-canvas-guard"))||void 0===e||e.classList.remove("guard-on"),s()}),[r,t,m,b,s,c]);return Object(n.useEffect)((()=>{let e=!0;return setTimeout((()=>{const t=pt(m);e&&(document.title=t?"".concat(t," - Yu-Gi-Oh Carder"):"Yu-Gi-Oh Carder")}),500),()=>{e=!1}}),[m]),Object(n.useEffect)((()=>{let e=()=>{var e;localStorage.setItem("card-data",JSON.stringify(u)),localStorage.setItem("card-version",null!==(e="2.0.26")?e:"unknown")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}})),Object(n.useEffect)((()=>{let e=!0,t=e=>(e.preventDefault(),"Leave right now may make you lose unsaved progress, proceed?");if(!1===a){try{var n;localStorage.setItem("card-data",JSON.stringify(u)),localStorage.setItem("card-version",null!==(n="2.0.26")?n:"unknown")}catch(c){const e="fail-to-set-storage-notification";ua.a.close(e),ua.a.error({key:e,message:d["error.card-max-size.message"],description:d["error.card-max-size.description"]})}(async()=>{var a,n,c;if(r.current&&(window.addEventListener("beforeunload",t),null===(a=document.getElementById("export-canvas"))||void 0===a||a.classList.remove("js-export-available"),null===(n=document.getElementById("export-canvas-guard"))||void 0===n||n.setAttribute("style",""),null===(c=document.getElementById("save-button-waiting"))||void 0===c||c.setAttribute("style","display: block"),o.current.pipelineRunning=!0,await o.current.currentPipeline,e&&(o.current.currentPipeline=i({isPendulum:f,opacity:p,isRelevant:()=>e}),await o.current.currentPipeline,e))){var s,d,b;const e=Object(l.a)(Object(l.a)({},u),{},{artData:"",backgroundData:""}),a=JSON.stringify(ct(e));"string"===typeof a&&function(e,t){if(window.history.pushState){let a=new URLSearchParams(window.location.search);a.set(e,t);let n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+a.toString();window.history.pushState({path:n},"",n)}}("data",a),null===(s=document.getElementById("export-canvas"))||void 0===s||s.classList.add("js-export-available"),null===(d=document.getElementById("export-canvas-guard"))||void 0===d||d.setAttribute("style","display: none"),null===(b=document.getElementById("save-button-waiting"))||void 0===b||b.setAttribute("style","display: none"),window.removeEventListener("beforeunload",t),o.current.pipelineRunning=!1,g.current&&(g.current=!1,h())}})()}return()=>{window.removeEventListener("beforeunload",t),e=!1}})),{onSave:e=>{var t;null===(t=document.querySelector("#export-canvas-guard"))||void 0===t||t.classList.add("guard-on");const a=e?[...e]:void 0;setTimeout((()=>{!1===o.current.pipelineRunning?h(a):g.current=!0}),200)}}},{height:xa,width:Oa}=c,wa=()=>"#000000".replace(/0/g,(()=>(~~(12*Math.random()+2)).toString(16))),Fa=e=>{let{ctx:t,color:a=wa(),width:n,offset:r=4,edge:o,baseline:i,xRatio:l}=e;const c=t.fillStyle;t.fillStyle=a,t.beginPath(),t.rect(o/l,i+1+Math.random()*r,n/l,2),t.fillStyle=c},ka=(e,t,a,n,r,o)=>{if(!e||!t)return n;const{stroke:i=!1}=null!==o&&void 0!==o?o:{};e.textAlign="left";const l=t.split("");let c=n;return l.forEach((t=>{e.fillText(t,c,r),i&&e.strokeText(t,c,r),c+=e.measureText(t).width*(2+a)/2})),c},Ca=(e,t,a,n,r,o)=>{if(!e||!t)return n;const{stroke:i=!1}=null!==o&&void 0!==o?o:{};e.textAlign="right";const l=t.split("");let c=n;return l.forEach(((t,n)=>{const o=l[l.length-n-1];e.fillText(o,c,r),i&&e.strokeText(o,c,r),c-=e.measureText(o).width*(2+a)/2})),c},Sa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xa;return!!e&&(e.clearRect(0,0,t,a),!0)},Ta=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;return async(a,n,r)=>{if(!a||!Array.isArray(e)||e.length<=0)return Promise.resolve();for(const i of e){const e=t[i];if(r&&t[i]){var o;const{partInstructionMap:t}=e,l=n&&null!==(o=t[n])&&void 0!==o?o:[];if(l.length)for(const{blendMode:e="source-over",opacity:n=1}of l)a.globalCompositeOperation=e,a.globalAlpha=n,await r(i);else await r(i);a.globalAlpha=1,a.globalCompositeOperation="source-over"}}a.globalAlpha=1,a.globalCompositeOperation="source-over"}},Ra=0,Na=0,La=0,Ea="#000000",Ia="#000000",Ma=e=>{let{ctx:t,x:a=Ra,y:n=Na,blur:r=La,color:o=Ia,shadowColor:i=Ea}=e;return t.shadowOffsetX=a,t.shadowOffsetY=n,t.shadowBlur=r,t.shadowColor=i,t.fillStyle=o,()=>{t.shadowOffsetX=Ra,t.shadowOffsetY=Na,t.shadowBlur=La,t.shadowColor=Ea,t.fillStyle=Ia}},Aa={},Ba=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return await async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise(e&&""!==t?r=>{var o;if(!0===(null===(o=Aa[t])||void 0===o?void 0:o.ready)){const o=Aa[t].image,i="number"===typeof a?a:a(o),l="number"===typeof n?n:n(o);e.drawImage(o,i,l),r(!0)}else{var i;if(null!==(i=Aa[t])&&void 0!==i&&i.error)return void r(!0);const o=Aa[t]&&(Aa[t].cache||Aa[t].ready),l=o?Aa[t].image:new Image;o||(l.src="/ygocarder"+t),l.addEventListener("load",(()=>{const o="number"===typeof a?a:a(l),i="number"===typeof n?n:n(l);e.drawImage(l,o,i),Aa[t].ready=!0,Aa[t].error=!1,r(!0)}),{once:!0}),l.addEventListener("error",(()=>{Aa[t].error=!0,r(!1)}),{once:!0}),o||(Aa[t]={image:l,ready:!1,error:!1,cache:!0})}}:e=>e(!1))}(e,"/asset/image/"+t,a,n)},Da=async(e,t,a,n,r,o)=>await(async(e,t,a,n,r,o)=>new Promise(e&&""!==t?i=>{var l;if(!0===(null===(l=Aa[t])||void 0===l?void 0:l.ready)){const l=Aa[t].image,c="number"===typeof a?a:a(l),s="number"===typeof n?n:n(l),d="number"===typeof r?r:r(l),u="number"===typeof o?o:o(l);e.drawImage(l,c,s,d,u),i(!0)}else{var c;if(null!==(c=Aa[t])&&void 0!==c&&c.error)return void i(!0);const l=Aa[t]&&(Aa[t].cache||Aa[t].ready),s=l?Aa[t].image:new Image;l||(s.src="/ygocarder"+t),s.addEventListener("load",(()=>{const l="number"===typeof a?a:a(s),c="number"===typeof n?n:n(s),d="number"===typeof r?r:r(s),u="number"===typeof o?o:o(s);e.drawImage(s,l,c,d,u),Aa[t].ready=!0,Aa[t].error=!1,i(!0)}),{once:!0}),s.addEventListener("error",(()=>{Aa[t].error=!0,i(!1)}),{once:!0}),l||(Aa[t]={image:s,ready:!1,error:!1,cache:!0})}}:e=>e(!1)))(e,"/asset/image/"+t,a,n,r,o),Pa=async(e,t,a,n,r,o,i,c)=>{const s=e.getContext("2d"),d=document.createElement("canvas");d.width=n,d.height=r;const u=d.getContext("2d",{willReadFrequently:!0});if(!u||!s)return;await Ba(u,t,0,0);const b=Pt(a),p=u.getImageData(0,0,n,r).data,m=Ma(Object(l.a)({ctx:u},c));await Ba(u,t,0,0);const f=u.getImageData(0,0,n,r).data;m(),u.clearRect(0,0,n,r),u.drawImage(e,o,i,n,r,0,0,n,r);const g=u.getImageData(0,0,n,r),h=g.data;for(let l=0;l<h.length;l+=4)if(p[l+3]>0)h[l+0]=b[0]*(1-p[l+0]/255),h[l+1]=b[1]*(1-p[l+1]/255),h[l+2]=b[2]*(1-p[l+2]/255),h[l+3]=255;else if(f[l+3]>0){const e=f[l+3]/255;h[l+0]=(1-e)*h[l+0]+e*f[l+0],h[l+1]=(1-e)*h[l+1]+e*f[l+1],h[l+2]=(1-e)*h[l+2]+e*f[l+2],h[l+3]=255}s.putImageData(g,o,i)},Wa=e=>{var t,a;let{ctx:n,letter:r,isLastOfLine:o=!1,debug:i,fontStyle:l,xRatio:c,metricMethod:s="standard"}=e;if(ye.test(r))return{width:0,boundWidth:0};const d="tcg"===l?Ye:He,u="tcg"===l?Ke:We,b="tcg"===l?Ge:ze,p=n.measureText(r),{width:m,actualBoundingBoxLeft:f,actualBoundingBoxRight:g}=p,h=f+g;let v=1;"name"===s&&(v=1+8*(1-c));const y="name"===s||"compact"===s||"furigana"===s?.046875:0;let j=h,x=null!==(t=o?b[r]:u[r])&&void 0!==t?t:0;if("tcg"===l){var O;return{width:m,actualBoundWidth:h,boundWidth:m+2*((null!==(O=d[r])&&void 0!==O?O:0)*m),metric:p,offsetRatio:x}}let w=(null!==(a=d[r])&&void 0!==a?a:0)*m+("furigana"===s?0:Math.min(.075*m,Math.max(.45,m*y)*v)),F=1;Ie.test(r)?(j="furigana"===s?h:h*("creator"===s?1.75:2.5),F=.6):Me.test(r)?(j="furigana"===s?h:Math.max(h,.75*m),w=2):ke.test(r)?j="furigana"===s?h:Math.max(h,.7*m):Re.test(r)?j=m:Be.test(r)?j=2*h:De.test(r)?j=1.25*h*(o?.5:1):Le.test(r)?j="furigana"===s?h:Math.max(h,.75*m):Ee.test(r)?j=Math.max(h,.69*m)*("creator"===s?.975:1):Ae.test(r)?(j=m,w=0):j="furigana"===s?h:Math.max(h,.75*m),w="furigana"===s?0:w;const k=1*m*1;return i&&console.info("getLetterWidth ".concat(i),r,p,1,1,"|",k),{width:m,actualBoundWidth:h,boundWidth:"standard"===s?m*F:j+2*w,metric:p,offsetRatio:x}},za=e=>{let{ctx:t,baseline:a,edge:n,letter:r,xRatio:o,deviation:i={},letterMetric:l,textDrawer:c}=e;const{boundWidth:s,metric:d=t.measureText(r),offsetRatio:u=0}=null!==l&&void 0!==l?l:{},{yOffset:b=B.yOffset,yRatio:p=B.yRatio}=o<1?{}:i,m=d.width*o,f=s?s*o:m,g=null!==c&&void 0!==c?c:e=>{let{ctx:t,letter:a,scaledBaseline:n,scaledEdge:r}=e;t.fillText(a,r,n)},h=(m-f)/2,v=f*u;t.scale(1,p),g({ctx:t,letter:r,scaledEdge:n/o-h-v,scaledBaseline:(a+b)/p}),t.scale(1,1/p)},Ha=function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?new RegExp("([".concat(Ve,"])|(").concat(ue,"[\\w\\W]+?").concat(be,")|(.+?)")):new RegExp("([".concat(Ve,"])|").concat(ue,"([\\w\\W]+?)").concat(be,"|(.+?)"));return e.split(t).filter((e=>null!=e&&""!==e))},Ka=(e,t,a,n)=>{const{fontSize:r,ordinalFontRatio:o=A.ordinalFontRatio,headTextFontRatio:i=A.headTextFontRatio}=a,{font:l,ordinalFont:c,symbolFont:s,symbolFontRatio:d,numberFont:u=l,numberFontRatio:b=1,furiganaFont:p}=t;let m=n.getFontInfo();let f=n.getFontInfo();let g=n.getFontInfo();let h=n.getFontInfo();let v=n.getFontInfo();return{applyNumberFont:()=>{m=n.getFontInfo(),e.font=n.setFamily(u).setSize(r*b).getFont()},stopApplyNumberFont:()=>{e.font=n.setFamily(m.family).setSize(m.size).getFont()},applyLargerText:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;v=n.getFontInfo(),e.font=n.setSize(r*t).getFont()},stopApplyLargerText:()=>{e.font=n.setSize(v.size).getFont()},applySymbolFont:()=>{f=n.getFontInfo(),e.font=n.setFamily(s).setSize(r*d).getFont()},stopApplySymbolFont:()=>{e.font=n.setFamily(f.family).setSize(f.size).getFont()},applyOrdinalFont:()=>{g=n.getFontInfo(),e.font=n.setFamily(c).setSize(r*o).getFont()},stopApplyOrdinalFont:()=>{e.font=n.setFamily(g.family).setSize(g.size).getFont()},applyFuriganaFont:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h=n.getFontInfo(),e.font=n.setFamily(p).setWeight(t?"bold":"").setSize(r*i).getFont()},stopApplyFuriganaFont:()=>{e.font=n.setFamily(h.family).setWeight(h.weight).setSize(h.size).getFont()},applyAsymmetricScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.scale(t,a)},applyScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e.scale(t,a)},resetScale:()=>{e.setTransform(1,0,0,1,0,0)},reverseScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.scale(1/t,1/t)}}},Ga=(e,t,a,n,r)=>{const o=(n-r)/2;e.beginPath(),e.arc(t+o,a-o-1,o,0,2*Math.PI,!1),e.fill(),e.lineWidth=1,e.strokeStyle="#003300",e.stroke()},Ya=e=>{let{footText:t,footTextWidth:a,headText:n,headTextLetterWidth:r,headTextGap:o,headTextSpacing:i,gapPadding:l,debug:c,fitFootText:s,sentenceXRatio:d,xRatio:u}=e;const b=0===n.length,p=r/a*d;let m=i,f=0;p<=.95?m=i:p<=1.175?m=i>=0?0:3*i:p<=1.56?m=i>=0?-1*i/4:3*i:(f=.66,m=i>=0?-1*i/4:2*i),(s||u>0&&u<1)&&(m=i);const g=r*(u&&!s?u:!f||s?1:f)+m*(n.length-1),h=b?0:(a-r)/n.length,v=a,y=1===t.length||2*l+g>a?"center":"space-around",j="center"===y?m:h,x="center"===y?2*l+g:v,O=s?Math.min(x,a):x,w="center"===y?(g-a)/2:0,F=Math.max(o,s?Math.min(w,0):w);return c&&console.info("analyzeHeadText ".concat(c),y,j,"|",n,O,x,t,a,F),{gapPadding:l,letterSpacing:j,trueHeadTextWidth:x,headTextWidth:O,alignment:y,halfGap:F,headTextXRatio:"center"===y?f:0}},Xa=(e,t)=>e>=0?t>=0?0:-1*Math.max(-1*e,t):t>=0?-1*Math.max(e,-1*t):0,Ua=e=>{let{ctx:t,token:a,nextToken:n,xRatio:r,previousTokenGap:o=0,letterSpacing:i=A.letterSpacing,format:l,textData:c}=e;if(!t||!a)return{totalWidth:0,leftMostLetter:"",spaceCount:0,spaceAtEnd:!1,rightGap:0,leftGap:0};const{currentFont:s,fontData:d,fontLevel:u}=c,{metricMethod:b,headTextGapRatio:p=D.headTextGapRatio,headTextOverflow:m=D.headTextOverflow,fontStyle:f}=d,g=d.fontList[u],{bulletSymbolWidth:h,capitalLetterRatio:v,fontSize:y,iconSymbolWidth:j=h,largeSymbolRatio:x=A.largeSymbolRatio,headTextSpacing:O=A.headTextSpacing,squareBracketRatio:w,wordLetterSpacing:F}=g,k=-.5*y,{applyScale:C,reverseScale:S,applyLargerText:T,stopApplyLargerText:R,applyFuriganaFont:N,stopApplyFuriganaFont:L,applyOrdinalFont:E,stopApplyOrdinalFont:I,applySymbolFont:M,stopApplySymbolFont:B,applyNumberFont:P,stopApplyNumberFont:W}=Ka(t,d,g,s),z=1+i/2;let H="",K=0,G=0,Y=!1;const X=void 0===n;let U=null!==o&&void 0!==o?o:0,V=!1,q=0;const J=a.replaceAll(new RegExp(ve,"g"),"").split(de).filter((e=>null!=e&&""!==e));for(let A=0;A<J.length;A++){const e=0===A,a=J[A];if("\u29be"===a){U=0;K+=j/r*z,e&&(q=0,H=a[0])}else if("\u25cf"===a){U=0;K+=h/r*z,e&&(q=0,H=a[0])}else if(/[\xa9]/.test(a)){U=0,T(x);const n=t.measureText(a).width/r;R(),K+=n*z,e&&(q=0,H=a[0])}else if(Se.test(a)){U=0,E();const n=t.measureText(a).width/r;I(),K+=n*z,G+=1,e&&(q=0,H=a[0])}else if(Ue.test(a)){const[o,s,d=""]=a.replaceAll(/{|}/g,"").split(/(\|+)/),u="||"===s,{totalWidth:b}=Ua({ctx:t,token:o,nextToken:n,xRatio:r,letterSpacing:i,previousTokenGap:0,format:l,textData:c});N();const g=d.split("").map((e=>Wa({ctx:t,letter:e,fontStyle:f,metricMethod:"furigana",xRatio:1}).boundWidth)).reduce(((e,t)=>e+t),0);L();const{halfGap:h,headTextWidth:v}=Ya({headText:d,headTextLetterWidth:g/r,footText:o,footTextWidth:b,headTextGap:k/r,headTextSpacing:O,gapPadding:p*y/r,fitFootText:u,sentenceXRatio:r,xRatio:"condense"===m&&o.length>1?Math.min(1,r+.1):0}),j=0===d.length?Math.max(k,b/qe):h,x=j,w=j,F=Math.max(v,b),C=Xa(U,x);U=w,K+=F-C,G+=1,e&&(V=!0,q=x,H=o[0])}else if(se.test(a)){const n=F?1+F/2:z;t.letterSpacing="".concat((n-1)*s.getFontInfo().sizeAsNumber,"px");let r=a,o=0;for(;""!==r;){let e=r[0],a=r.slice(1),n=t.measureText(r).width-t.measureText(a).width;le.test(e)?(C(w),n=t.measureText(r).width-t.measureText(a).width,S(w)):ie.test(e)?(C(v),n=t.measureText(r).width-t.measureText(a).width,S(v)):Ne.test(e)?(P(),n=t.measureText(r).width-t.measureText(a).width,W()):xe.test(e)&&"tcg"===f?(M(),n=t.measureText(r).width-t.measureText(a).width,B()):n=t.measureText(r).width-t.measureText(a).width,o+=n,r=a}const i=Math.max(k,o/qe),l=i;K+=o-Xa(U,i),U=l,e&&(q=i,H=a[0]),t.letterSpacing="0px"}else if(xe.test(a)&&"tcg"===f){M();const n=t.measureText(a).width*z;B();const r=Math.max(k,n/qe),o=r;K+=n-Xa(U,r),U=o,e&&(q=r,H=a[0])}else{const{boundWidth:n}=Wa({ctx:t,letter:a,isLastOfLine:X,fontStyle:f,metricMethod:b,xRatio:r}),o=n*z,i=Math.max(k,o/qe),c=i;K+=o-Xa(U,i),U=c,("ocg"===l||"tcg"===l&&/\s+/.test(a))&&!1===Ae.test(a)&&(G+=1,A===J.length-1&&(Y=!0)),e&&(q=i,H=a[0]),Pe.test(a)&&(q=0,U=0)}}return{totalWidth:K,spaceCount:G,spaceAtEnd:Y,leftMostLetter:H,rightGap:U,leftGap:q,offsetable:V}},Va=e=>{let{ctx:t,line:a,width:n,xRatio:r,format:o,isLast:i,textData:l}=e;const c=Ha(a);let s=0,d=0,u=0;for(let p=0,m=r;p<c.length;p++){const e=c[p],a=c[p+1];if(e===fe){m=1;continue}if(e===ge){m=r;continue}const{spaceCount:n,totalWidth:i,spaceAtEnd:b,leftGap:f,rightGap:g,leftMostLetter:h}=Ua({ctx:t,token:e,nextToken:a,xRatio:m,previousTokenGap:u/m,textData:l,format:o});u=g*m,s+=i*m+((0===p&&f>0?-1*Math.min(20,f*m):0)+(0===p&&Te.test(h)?4*m:0)),d+=n-(b&&void 0===a?1:0)}const b=d>0?(n-s)/d:0;return{tokenList:c,spaceWidth:i?"tcg"===o?b>1.5?0:b:b>3.65?0:b:b}},qa=e=>{let{ctx:t,median:a,paragraphList:n,additionalLineCount:r=0,width:o,format:i,textData:l}=e;const{fontData:c,fontLevel:s}=l,{letterSpacing:d}=c.fontList[s],u=[],b=n.reduce(((e,n)=>{const r=(a<=100?100:a)/1e3,c=o/r,s=Ha(n,!0);let b=1,p=[],m=0,f=0,g=0;for(let o=0,v=r;o<s.length;o++){const e=s[o],n=s[o+1];e===fe?(g+=1,v=1):e===ge&&(g-=1,v=r);let{leftMostLetter:h,totalWidth:y,rightGap:j,leftGap:x}=Ua({ctx:t,token:e,nextToken:n,xRatio:v,previousTokenGap:f,format:i,letterSpacing:d,textData:l});let O=y/(g>0?r:1)+(0===o?(x>0?-1*Math.min(20/v,x):0)+(Te.test(h)?4:0):0);if(m+O>c){let r=p.join("").trim();g>0&&(r+=ge),g<0&&(r=fe+r),g=0,u.push({line:r,effectiveMedian:a,isLast:!1,actualLineWidth:m});let{totalWidth:o,rightGap:c,leftGap:s}=Ua({ctx:t,token:e,nextToken:n,xRatio:v,previousTokenGap:0,format:i,textData:l});m=o+((s>0?-1*Math.min(20/v,s):0)+(Te.test(h)?4:0)),f=c,p=[e],b+=1}else m+=O,f=j,p.push(e)}let h=p.join("").trim();return g>0&&(h+=ge),g<0&&(h=fe+h),g=0,u.push({line:h,effectiveMedian:a,isLast:!0,actualLineWidth:m}),e+b}),0)+(null!==r&&void 0!==r?r:0);return{currentLineList:u,currentLineCount:b}},Ja=e=>{let{ctx:t,fontSize:a,edge:n,baseline:r,headText:o,headTextLetterWidth:i,footText:l,footTextWidth:c,headTextGap:s,headTextSpacing:d,headTextHeightRatio:u,headTextBold:b,headTextGapRatio:p,xRatio:m,fontStyle:f,textWorker:g,fitFootText:h,headTextOverflow:v}=e;const{applyFuriganaFont:y,stopApplyFuriganaFont:j,resetScale:x,applyScale:O}=g,w="condense"===v&&l.length>1?Math.min(1,m+.1):0,{gapPadding:F,letterSpacing:k,trueHeadTextWidth:C,halfGap:S,alignment:T,headTextXRatio:R}=Ya({headText:o,headTextLetterWidth:i,footText:l,footTextWidth:c*m,headTextGap:s,headTextSpacing:d*m,gapPadding:a*p,fitFootText:h,sentenceXRatio:m,xRatio:w}),N=C>c*m;if(0===o.length)return{trueHeadTextWidth:C,halfGap:S};const L=h?Math.min(1,c*m/C):1,E=h?L:w&&"center"===T?w:R;let I=n;x(),(h||E)&&(O(E,1),I=n/E),"center"===T?(I+=F,N?E>L&&(I+=(c*m/E-C)/2/E):I+=(c*m-C)/2):I+=k/2;for(const M of o){y();const{width:e,boundWidth:n}=Wa({ctx:t,letter:M,fontStyle:f,metricMethod:"furigana",xRatio:1}),o=(e-n)/2;j(),y(b),t.fillText(M,I-o,r-a*u),j(),I+=n+k}return(h||E)&&x(),O(m,1),{trueHeadTextWidth:C,halfGap:S}},$a=e=>{let{ctx:t,tokenList:a,trueEdge:n,trueBaseline:r,spaceWidth:o=0,xRatio:i,yRatio:c=1,textData:s,format:d,textDrawer:u,debug:b=!1}=e;const{currentFont:p,fontData:m,fontLevel:f}=s,g=m.fontList[f],{headTextFillStyle:h,headTextBold:v=D.headTextBold,headTextHeightRatio:y=D.headTextHeightRatio,headTextOverflow:j=D.headTextOverflow,headTextGapRatio:x=D.headTextGapRatio,metricMethod:O,fontStyle:w,letterDeviationMap:F={}}=m,{bulletSymbolWidth:k,capitalLetterRatio:C=A.capitalLetterRatio,fontSize:S,headTextSpacing:T=A.headTextSpacing,iconSymbolWidth:R=k,largeSymbolRatio:N=A.largeSymbolRatio,letterSpacing:L=A.letterSpacing,ordinalFontOffsetY:E=A.ordinalFontOffsetY,squareBracketRatio:I=A.squareBracketRatio,wordLetterSpacing:M}=g,B=Ka(t,m,g,p),{stopApplyFuriganaFont:P,applyFuriganaFont:W,stopApplyLargerText:z,applyLargerText:H,stopApplyNumberFont:K,applyNumberFont:G,stopApplyOrdinalFont:Y,applyOrdinalFont:X,applyScale:U,reverseScale:V,applySymbolFont:q,stopApplySymbolFont:J,applyAsymmetricScale:$,resetScale:_}=B,Z=1+L/2,Q=r/c;let ee=0,te=[],ae=0,ne=n;for(let A=0,D=i;A<a.length;A++){const e=a[A];if(e===fe){D=1,t.setTransform(1,0,0,1,0,0);continue}if(e===ge){D=i,t.scale(D,1);continue}const n=-.5*D,m=S*n,f=a[A+1],g=a[A+2],ce={ctx:t,xRatio:D,letterSpacing:L,format:d,textData:s},ue={ctx:t,baseline:Q,xRatio:D,textDrawer:u},be=e.split(de).filter((e=>null!=e&&""!==e)),{leftMostLetter:pe,leftGap:me,rightGap:he,totalWidth:ve,spaceCount:ye}=Ua(Object(l.a)({token:e,nextToken:f,previousTokenGap:ee/D},ce)),je=0===A?(me>0?-1*Math.min(20,me*D):0)+(Te.test(pe)?4:0):0;let Oe=ne+je,we=ee;for(let a=0;a<be.length;a++){var re,oe;const i=be[a],b=null!==(re=be[a+1])&&void 0!==re?re:f,L=null!==(oe=be[A+2])&&void 0!==oe?oe:g;if(e===fe||e===ge);else if("\u29be"===i)te.push({edge:Oe,size:R,baseline:Q}),Oe+=R*Z,we=0,ae=0;else if("\u25cf"===i)_(),Ga(t,Oe,r,k,Xe(d)),Oe+=k*Z,$(D,c),we=0,ae=0;else if(/[\xa9]/.test(i))_(),H(N),za(Object(l.a)(Object(l.a)({},ue),{},{letter:i,edge:Oe*D,baseline:r+2})),Oe+=t.measureText(i).width*Z,z(),$(D,c),we=0,ae=0;else if(Se.test(i))_(),X(),za(Object(l.a)(Object(l.a)({},ue),{},{letter:i,edge:Oe*D,baseline:r+E})),Oe+=t.measureText(i).width*Z,Y(),$(D,c),Oe+=o,we=0,ae=0;else if(Ue.test(i)){const[e,a,r=""]=i.replaceAll(/{|}/g,"").split(/(\|+)/),p="||"===a,{totalWidth:f}=Ua(Object(l.a)({token:e,nextToken:b,previousTokenGap:0},ce));W();const g=r.split("").map((e=>Wa({ctx:t,letter:e,fontStyle:w,metricMethod:"furigana",xRatio:1}).boundWidth)).reduce(((e,t)=>e+t),0);P();const{headTextWidth:O,halfGap:F}=Ya({headText:r,headTextLetterWidth:g,footText:e,footTextWidth:f*D,headTextGap:m,headTextSpacing:T*D,gapPadding:S*x,fitFootText:p,sentenceXRatio:D,xRatio:"condense"===j&&e.length>1?Math.min(1,D+.1):0}),k=0===r.length?Math.max(m,f*n):F,C=k,R=k,N=Xa(we,R),E=R>0?R-N:0,{offsetable:I,leftGap:M}=Ua(Object(l.a)({token:b,nextToken:L,previousTokenGap:C/D},ce)),A=M*D,z=Xa(C,A),H=E+(C>0?C-z:0);let K=0,G=0;H>0&&A>=-2&&I?(K=(H+2*Math.max(A,0))/3,G=Math.max(A,0)-K):K=E;const Y=Oe+(k<0?-N:je?-je:K)+ae;ae=G,$a({ctx:t,format:d,textData:s,tokenList:Ha(e),trueBaseline:Q,trueEdge:Y,xRatio:D,yRatio:c,spaceWidth:0,textDrawer:u,debug:!1});const X=t.fillStyle,U=t.strokeStyle,V=t.shadowColor,q=t.shadowOffsetX,J=t.shadowOffsetY,$=t.shadowBlur;h&&(t.fillStyle=h,t.strokeStyle="",t.shadowColor="",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0);Ja({ctx:t,fontSize:S,edge:Oe-N,baseline:Q,headText:r,headTextLetterWidth:g,footText:e,footTextWidth:f,headTextGap:m,headTextSpacing:T,headTextHeightRatio:y,headTextBold:v,headTextGapRatio:x,xRatio:D,fontStyle:w,textWorker:B,fitFootText:p,headTextOverflow:j}),t.fillStyle=X,t.strokeStyle=U,t.shadowColor=V,t.shadowOffsetX=q,t.shadowOffsetY=J,t.shadowBlur=$,Oe+=Math.max(f*D,O)-N+o,we=C}else if(se.test(i)){const e=M?1+M/2:Z;t.letterSpacing="".concat((e-1)*p.getFontInfo().sizeAsNumber,"px");const a=t.measureText(i).width*D,r=Math.max(m,a*n),o=r;Oe-=Xa(we,r);let c=i,s=Oe;for(;""!==c;){let e=c[0],a=c.slice(1),n=0;const r=Object(l.a)(Object(l.a)({},ue),{},{deviation:F[e],letter:e,edge:s});if(le.test(e))U(I),n=t.measureText(c).width-t.measureText(a).width,za(Object(l.a)(Object(l.a)({},r),{},{edge:s/I,baseline:Q/I})),V(I);else if(ie.test(e)){U(C),n=t.measureText(c).width-t.measureText(a).width;const o=n>t.measureText(e).width*C?Math.round(n*(1-C))/2:0;za(Object(l.a)(Object(l.a)({},r),{},{edge:s/C+o,baseline:Q/C})),V(C)}else Ne.test(e)?(G(),n=t.measureText(c).width-t.measureText(a).width,za(r),K()):xe.test(e)&&"tcg"===w?(q(),n=t.measureText(c).width-t.measureText(a).width,za(r),J()):(n=t.measureText(c).width-t.measureText(a).width,za(r));s+=n*D,c=a}Oe=s,we=o,ae=0,t.letterSpacing="0px"}else if(xe.test(i)&&"tcg"===w){const e=i;q();const a=t.measureText(e).width*Z*D,r=Math.max(m,a*n),o=r;Oe-=Xa(we,r),za(Object(l.a)(Object(l.a)({},ue),{},{letter:e,edge:Oe})),Oe+=a,J(),we=o,ae=0}else{const e=i,a=Wa({ctx:t,letter:e,fontStyle:w,metricMethod:O,isLastOfLine:void 0===b,xRatio:D}),r=a.boundWidth*Z*D,c=Math.max(m,r*n),s=c;Oe-=Xa(we,c),za(Object(l.a)(Object(l.a)({},ue),{},{letter:e,edge:Oe,deviation:F[e],letterMetric:a})),Oe+=r,("ocg"===d||"tcg"===d&&/\s+/.test(e))&&!0!==Ae.test(e)&&(Oe+=o),Pe.test(e)||(we=s),ae=0}}ee=he*D,b&&Fa({ctx:t,baseline:Q,edge:ne,width:ve*D,xRatio:D}),ne+=ve*D+ye*o+je}return{tokenEdge:ne,iconPositionList:te}},_a=(e,t,a)=>{const{multiline:n=!0,furiganaHelper:r=!0,dictionaryType:o="rubyForm"}=null!==a&&void 0!==a?a:{},i=null!==e&&void 0!==e?e:"";let l="",c="ocg"===t?_:Z;for(const f of i){var s;l+=null!==(s=c[f])&&void 0!==s?s:f}const d=l,u=(n?d.replace(/^\[([\w\W]*?)\](?=(\n|$))/gm,"".concat(pe,"$1").concat(me)):d).replace(/(^|[-\u2014\s(["])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/[(\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/--/g,"\u2014").replace(/\u25cf /g,"\u25cf").replace(/(\([\uff10-\uff190-9]{1,2}\))/g,(e=>{const t=Q[e];return null!==t&&void 0!==t?t:e})).replaceAll(new RegExp("{{([^{}]+?)}}","g"),(e=>e.replaceAll("{{",fe).replaceAll("}}",ge))).replaceAll(new RegExp("{[^{}]+?}","g"),(e=>"".concat(ue).concat(e).concat(be))),b=("tcg"===t||!1===r?u:u.replaceAll(new RegExp(we,"g"),(e=>{var t;const a=null!==(t=N[e][o])&&void 0!==t?t:N[e].rubyForm;return"".concat(ue).concat(a).concat(be)}))).replaceAll(new RegExp(ce,"g"),(e=>"".concat(ue).concat(e).concat(be))).replaceAll(new RegExp("[(\\[\uff5b\u3014\u3008\u300a\u300c\uff62\u300e\u3010\u3018\u3016\u301d'\"\u2018\u201c\uff5f\xab\u25cf]+.","g"),(e=>"".concat(ue).concat(e).concat(be))).replaceAll(new RegExp(Ce,"g"),(e=>"".concat(ue).concat(e).concat(be))).replaceAll(new RegExp(".[\u2014...\u2025\u3033\u3034\u3035)]+[^\\s]","g"),(e=>"".concat(ue).concat(e).concat(be))).replaceAll(new RegExp("[\u2460-\u2473]\uff1a.","g"),(e=>"".concat(ue).concat(e).concat(be)));let p=[],m=0;for(const f of b)f===ue?(0===m&&p.push(f),m+=1):f===be?(m-=1,0===m&&p.push(f)):p.push(f);return p.join("").replaceAll("".concat(me).concat(be),"".concat(be).concat(me)).replaceAll("".concat(ue).concat(pe),"".concat(pe).concat(ue)).replaceAll("".concat(fe).concat(be),"".concat(be).concat(fe)).replaceAll("".concat(ue).concat(ge),"".concat(ge).concat(ue)).replaceAll("".concat(pe).concat(me),"").replaceAll("".concat(ue).concat(be),"")},{width:Za}=c,Qa=e=>{var t,a;let{ctx:n,content:r,isNormal:o=!1,fontData:i=K.tcg,textStyle:c,sizeList:s=F["tcg-type"],condenseTolerant:d="strict",format:u,furiganaHelper:b}=e,p=0;if(!n||!r)return p;const m=_a(r.trim(),u,{furiganaHelper:b}),f="tcg"===u?null!==(t=X[d])&&void 0!==t?t:X.strict:{1:800,2:800,3:800},{effectText:g,effectFlavorCondition:h,fullLineList:v}=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=[];const o=new RegExp("^(".concat(pe,"([^").concat(me,"]*)").concat(me,"\\s*)"));let i,l;do{var c,s;i=null===(c=o.exec(n))||void 0===c?void 0:c[1],l=null===(s=o.exec(n))||void 0===s?void 0:s[2],l&&i&&(r.push(l),n=n.replace(i,""))}while(i&&l);let d="";const u=null===(t=new RegExp(je,"m").exec(e))||void 0===t?void 0:t[1];return u&&a?(d=u,n=n.replace(u,"")):d="",{fullLineList:r,effectText:n,effectFlavorCondition:d}}(m,o),y=(null!==(a=v.length)&&void 0!==a?a:0)+(h.length>0?1:0),j=g?g.split("\n"):[],{font:x,fontList:O}=i;for(;p<O.length;){var w,k;const e=O[p],{fontSize:t,lineHeight:a,lineCount:r}=e,{trueEdge:d,trueWidth:b,trueBaseline:m}=null!==(w=s[p])&&void 0!==w?w:s[s.length-1],g=o&&"tcg"===u?b-2:b,F=Nt();n.font=F.setStyle(o&&"tcg"===u?"italic":"").setWeight("").setSize(t).setFamily(x).getFont(),n.textAlign="left";const C={fontData:i,fontLevel:p,currentFont:F};let S=[];const T=Rt((e=>{const{currentLineList:t,currentLineCount:a}=qa({ctx:n,median:e,paragraphList:j,additionalLineCount:y,format:u,textData:C,width:g});return S=t,!(a>r)}),200),R=Ma(Object(l.a)({ctx:n},c));if(!(T<(null!==(k=f["".concat(j.length)])&&void 0!==k?k:f[3])&&p<O.length-1)){n.clearRect(0,0,Za,1111);let e=m+a;if([...v.map((e=>({line:e,isLast:!0,effectiveMedian:Rt((t=>{const{currentLineCount:a}=qa({ctx:n,median:t,paragraphList:[e],format:u,textData:C,width:g});return!(a>1)}))}))),...S].forEach((t=>{let{line:r,isLast:o,effectiveMedian:i}=t;const l=i/1e3,{tokenList:c,spaceWidth:s}=Va({ctx:n,line:r,xRatio:l,format:u,isLast:o,textData:C,width:g});n.scale(l,1),$a({ctx:n,tokenList:c,xRatio:l,yRatio:1,trueEdge:d,trueBaseline:e,spaceWidth:s,textData:C,format:u}),e+=a,n.setTransform(1,0,0,1,0,0)})),h.length>0){const t=Rt((e=>{const{currentLineCount:t}=qa({ctx:n,median:e,paragraphList:[h],format:u,textData:C,width:g});return!(t>1)}))/1e3;n.scale(t,1),n.font=F.setStyle("").getFont();let r=Ha(h);r="\n"===r[0]?r.slice(1):r,$a({ctx:n,tokenList:r,xRatio:t,yRatio:1,trueEdge:d,trueBaseline:e,textData:C,format:u}),e+=a,n.setTransform(1,0,0,1,0,0)}break}p+=1,R()}return p},{width:en}=c,{topToPendulumStructure:tn,pendulumStructureHeight:an,leftToPendulumStructure:nn}=c,rn=e=>{let{canvas:t,artworkCanvas:a,backgroundCanvas:n,format:r,hasBackground:o,frame:i,bottomFrame:c,backgroundType:s,cardIcon:d,attribute:u,star:p,foil:m,pendulumSize:g,opacity:h,isLink:v,isSpeedSkill:y,isXyz:j,isPendulum:x,loopFinish:O,loopArtFinish:w}=e;const F=t.getContext("2d"),{artBorder:k,nameBorder:C,body:S,name:T,pendulum:R,text:N,boundless:L}=h,{artX:E,artY:I,artFinishX:M,artFinishY:A,artWidth:B}=b(x,h),D=S>0||k,P=860,W="normal"!==m,z=j||y?i:"normal",H=z,K=!L&&D,G={calculateCardArtRedrawCoordination(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0;const r=null!==t&&void 0!==t?t:h,{body:o}=r,{artX:i,artY:l,artWidth:c}=b(x,r,n),{width:s,height:d}=e,u=c/s,p=o<100?(nn-i)/u:0,m=p*u,f=o<100?(tn-l)/u:0,g=f*u,v=o<100?d-an/u:0;return{imageScaledRatio:u,sourceOffsetX:p,sourceOffsetY:f,destinationOffsetX:m,destinationOffsetY:g,offsetHeight:v,destinationX:i+m,destinationY:l+g,destinationWidth:c-2*m,destinationHeight:c/(s/d)*a-v*u}},drawFrame:async()=>{F&&(F.globalAlpha=S/100,await Ba(F,"frame/frame-".concat(i,".png"),0,0),await Ba(F,"frame-pendulum/frame-pendulum-".concat(c,".png"),0,0),F.globalAlpha=1)},drawCardArt:()=>{if(!a||!F)return;const{width:e,height:t}=a;t<=0||F.drawImage(a,0,0,e,t,E,I,B,B/(e/t))},drawBackground:e=>{if(!n||!F||!o)return;const{width:t,height:a}=n;if(a<=0)return;if("pendulum"===e){let e=G.calculateCardArtRedrawCoordination(n);"full"===s?e=G.calculateCardArtRedrawCoordination(n,Object(l.a)(Object(l.a)({},h),{},{body:0}),void 0,"full"):"fit"===s&&(e=G.calculateCardArtRedrawCoordination(n,h,void 0,"fit"));const{sourceOffsetX:r,sourceOffsetY:o,offsetHeight:i,destinationX:c,destinationY:d,destinationWidth:u,destinationHeight:b}=e;return void F.drawImage(n,r,o,t-2*r,a-i,c,d,u,b)}const{artX:r,artY:i,artWidth:c}=b(x,Object(l.a)(Object(l.a)({},h),{},{boundless:!0}),s);F.drawImage(n,0,0,t,a,r,i,c,c/(t/a))},drawAttribute:async()=>{await Ba(F,"attribute/attr-".concat(r,"-").concat(u.toLowerCase(),".png"),678,55)},drawStar:async e=>{let{style:t,starAlignment:a}=e;const n="auto"===d?(e=>"spell"===e||"trap"===e?"st":"xyz"===e?"rank":"dark-synchro"===e?"negative-level":"speed-skill"===e?"none":"level")(i):d;await(async e=>{let{ctx:t,cardIcon:a,text:n,star:r,starAlignment:o="auto",style:i,onStarDraw:c}=e,s="string"===typeof r?""===r?0:1:"number"===typeof r?r:0,d=50*s+4*(s-1),u="right";["rank","negative-level"].includes(a)&&(u="left"),u="auto"===o?u:o,s>12&&(u="center"),n&&"center"===u&&(s=0,d=0);const b="center"===u?(en+d)/2:"left"===u?85.9125+d:728.775;let p=-54;if(t&&n&&"st"!==a){const e=50,a=Ma(Object(l.a)({ctx:t},i));t.textAlign="left"===u||"right"===u?u:"left",t.font="bold ".concat(e,"px RoGSanSrfStd-Bd");const r="center"===u?t.measureText(n).width/-2:"left"===u?4:-58;t.fillText(n,b+r,145+.9*e),t.textAlign="left",a()}return await Promise.all([...Array(s)].map((async()=>{p+=54;let e=[b-(50+p),145];return await Ba(t,"subfamily/subfamily-".concat(a,".png"),...e),await c(e)})))})({ctx:F,cardIcon:n,text:"string"===typeof p?p:null,star:p,starAlignment:a,style:t,onStarDraw:async e=>"st"===n?Promise.resolve():await O(F,"star",(async t=>Ba(F,"finish/finish-".concat(t,"-star.png"),...e)))})},drawPendulumScaleIcon:async()=>{await Ba(F,"frame-pendulum/pendulum-scale-".concat(g,".png"),0,750)},drawLinkArrowMap:async e=>{await Promise.all([1,2,3,4,6,7,8,9].map((async t=>{const{left:a,top:n,height:r,width:o}=oe[t-1],i=e.includes("".concat(t)),l="link/link-inactive-".concat(t),c="link/link-active-".concat(t),s=[a,n,o,r];return await Da(F,"".concat(l,"-base").concat(L?"-full":"",".png"),...s),await Da(F,"".concat(l,"-core.png"),...s),i?(await Da(F,"".concat(c,"-base.png"),...s),Da(F,"".concat(c,"-core.png"),...s)):void 0})))},drawStatBorder:async e=>{await Pa(t,"frame/frame-stat-border.png",e,813,20,0,1070)},drawNameBackground:async()=>{F&&(F.globalAlpha=T/100,await Ba(F,"background/background-name-".concat(i,".png"),0,0),F.globalAlpha=1)},drawEffectBackground:async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];F&&(F.globalAlpha=N/100,await Ba(F,"background/background-text-".concat(c,".png"),54,884),e&&(F.globalAlpha=R/100,await Ba(F,"background/background-pendulum-".concat(c,".png"),55,738)),F.globalAlpha=1)},drawFrameBorder:async()=>Ba(F,"frame/frame-border-".concat(z,".png"),0,0),drawNameBorder:async()=>C?Ba(F,"frame/name-border-".concat(H,".png"),0,0):Promise.resolve(),drawArtBorder:async()=>{if(D){let e="";e=j||y?"frame/art-border-".concat(i,".png"):v||["zarc","hamon","uria","raviel"].includes(i)?"frame/art-border-special.png":"frame/art-border.png",await Ba(F,e,60,170)}},drawPendulumBorder:async(e,t)=>{await Ba(F,"frame-pendulum/border-pendulum-".concat(g)+"-".concat(t)+(e?"":"-artless")+".png",30,185)},drawEffectBorder:async()=>{W||"speed-skill"!==c?await Ba(F,"frame/effect-border.png",35,P):await Ba(F,"frame/effect-border-speed-skill.png",35,P)},drawCardBorder:async()=>{await Ba(F,"frame/card-border".concat(W?"-".concat(m):"",".png"),0,0)},drawArtBorderFoil:async()=>{D&&await Ba(F,"frame/art-border-".concat(m,".png"),60,170)},drawEffectBorderFoil:async()=>{await Ba(F,"frame/effect-border-".concat(m,".png"),35,P)},drawLinkMapFoil:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;await Ba(F,"link/link-overlay-arrow-".concat(m).concat(e?"":"-artless",".png"),0,175)},drawNameFinish:async()=>{(D||C)&&await O(F,"name",(async e=>Ba(F,"finish/finish-".concat(e,"-name.png"),0,0)))},drawAttributeFinish:async()=>{u!==f&&await O(F,"attribute",(async e=>Ba(F,"finish/finish-".concat(e,"-attribute.png"),678,55)))},drawArtFinish:async()=>{K&&await w(F,"art",(async e=>await Ba(F,"finish/art-finish-".concat(e).concat(x?"-pendulum-".concat(g):"",".png"),M,A)))},drawArtOverlayFinish:async()=>{await O(F,"art-overlay",(async e=>Ba(F,"finish/finish"+"-".concat(e)+"-".concat(K?"art":"unart")+"-overlay"+(x?"-pendulum-".concat(g):"")+".png",M,A)))},drawArtBorderFinish:async()=>{D&&await O(F,"art-border",(async e=>Ba(F,"finish/finish-".concat(e,"-art-border.png"),0,0)))},drawPendulumArtBorderFinish:async()=>{D&&await O(F,"art-border-pendulum",(e=>Ba(F,"finish/finish-".concat(e,"-art-border-pendulum-").concat(g,".png"),0,0)))},drawBorderPendulumFinish:async()=>{await O(F,"border-pendulum",(async e=>Ba(F,"finish/finish-".concat(e,"-border-pendulum-").concat(g,".png"),0,0)))},drawFrameFinish:async()=>{await O(F,"frame",(async e=>Ba(F,"finish/finish-".concat(e,"-frame").concat(x?"-pendulum-".concat(g):"",".png"),0,0)))},drawFrameBackgroundFinish:async()=>{await O(F,"frame-background",(async e=>Ba(F,"finish/finish-".concat(e,"-frame-background").concat(x?"-pendulum-".concat(g):"",".png"),0,0)))},drawOverlayFinish:async()=>{await O(F,"overlay",(async e=>Ba(F,"finish/finish-".concat(e,"-overlay.png"),0,0)))},drawCardBorderFinish:async()=>{await O(F,"card-border",(async e=>Ba(F,"finish/finish-".concat(e,"-card-border.png"),0,0)))}};return G},on=async(e,t,a,n,r,o,i)=>{const{isSpeedSkill:c,format:s,cloneNode:d,frame:u,furiganaHelper:b}=i,p=null===d||void 0===d?void 0:d.getContext("2d");if(e&&p&&t){var m,f,g;const{font:i,fillStyle:h,headTextFillStyle:v,shadowBlur:y,hasShadow:j,shadowColor:x,shadowOffsetX:w,shadowOffsetY:F,hasOutline:k,lineColor:C,lineWidth:S,lineOffsetX:T,lineOffsetY:R,hasGradient:N,gradientAngle:L,gradientColor:E,pattern:I}=Object(l.a)(Object(l.a)({},{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"}),o),{patternImage:M,blendMode:B}=null!==(m=O[null!==I&&void 0!==I?I:""])&&void 0!==m?m:{},D=k;e.textAlign="left",j&&(e.shadowColor=x,e.shadowOffsetY=F,e.shadowOffsetX=w,e.shadowBlur=y),k&&(e.lineWidth=S,e.strokeStyle=C);const P=Object(l.a)(Object(l.a)({},(null!==(f=U[i])&&void 0!==f?f:U.Default).fontData),{},{headTextFillStyle:v}),W=Nt({defaultFamily:P.font,defaultSize:P.fontList[0].fontSize,defaultWeight:P.weight}),z={fontLevel:0,fontData:P,currentFont:W},H=_a(t,s,{multiline:!1,furiganaHelper:b,dictionaryType:"rubyFormName"}),K="ocg"===s?[H]:H.split(new RegExp("([^".concat("&A-Za-z0-9\\-/\\s\\(\\)!,.\u2018\u201c\u2019\u201d:;<>\\[\\]\\\\","])"),"g")),G=Nt({defaultFamily:P.font,defaultSize:P.fontList[0].fontSize,defaultWeight:P.weight}),Y=G.getFont(),X=G.setSize((e=>e*P.symbolFontRatio)).setStyle("small-caps").setFamily(P.symbolFont).getFont();let V=0,q=0;K.forEach(((t,a)=>{e.font=a%2===0?Y:X;const n=e.measureText(t.replaceAll(he,""));V=Math.max(V,n.actualBoundingBoxAscent),q=Math.max(q,n.actualBoundingBoxDescent)}),0),e.font=Y;let J=0;const $=Rt((t=>{const{currentLineCount:a,currentLineList:n}=qa({ctx:e,median:t,paragraphList:[H],format:s,textData:z,width:r});return!(a>1)&&(J=n[0].actualLineWidth,!0)}))/1e3,_=1;e.scale($,_);const Z=null!==(g=P.fontList[0].offsetY)&&void 0!==g?g:A.offsetY,Q=Ha(H),ee=J>0&&N?((e,t,a,n,r,o,i,l)=>{const c=t%360,s="".concat(Math.floor(c/90)),d=c%90,u=i+l,b=n+r/2,p=o+(l-i)/2;let m=r,f=u;"1"!==s&&"3"!==s||(m=u,f=r);const g=Math.sqrt(m**2/4+f**2/4);if(g>0){const t=90-(180*Math.asin(m/2/g)/Math.PI-d),n=Math.sin(t/180*Math.PI)*g,r=Math.sin(d/180*Math.PI)*n,o=Math.cos(d/180*Math.PI)*n;let i=r,l=o;"1"===s&&(i=o,l=-r),"2"===s&&(i=-r,l=-o),"3"===s&&(i=-o,l=r);const c=b+i,u=p-l,f=b-i,h=p+l,v=e.createLinearGradient(c,u,f,h);return a.forEach((e=>{let{color:t,offset:a}=e;return v.addColorStop(parseFloat(a),t)})),v}})(e,L,It(E),a,J,n,V,q):void 0;e.fillStyle=null!==ee&&void 0!==ee?ee:h,$a({ctx:e,tokenList:Q,xRatio:$,yRatio:_,trueEdge:a,trueBaseline:n,textData:z,format:s,textDrawer:e=>{let{ctx:t,letter:a,scaledEdge:n,scaledBaseline:r}=e;t.fillText(a,n,r-(c?Z:0))}}),M&&d&&(e.setTransform(1,0,0,1,0,0),await Ba(p,"frame/frame-".concat(u,".png"),0,0),await Ba(p,"background/background-name-".concat(u,".png"),0,0),p.globalCompositeOperation=B,await Da(p,"finish-name/".concat(M,".png"),a,n-V,r,V+q),e.globalCompositeOperation="source-in",e.drawImage(d,0,0),e.scale($,_),e.globalCompositeOperation="source-over",$a({ctx:e,tokenList:Q,xRatio:$,yRatio:_,trueEdge:a,trueBaseline:n,textData:z,format:s,textDrawer:()=>{}})),D&&(e.globalCompositeOperation="destination-over",$a({ctx:e,tokenList:Q,xRatio:$,yRatio:_,trueEdge:a,trueBaseline:n,textData:z,format:s,textDrawer:e=>{let{ctx:t,letter:a,scaledEdge:n,scaledBaseline:r}=e;t.lineJoin="round",t.strokeText(a,n+T,r+R-(c?Z:0))}})),e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0);const te={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"};e.fillStyle=te.fillStyle,e.shadowColor=te.shadowColor,e.shadowOffsetY=te.shadowOffsetY,e.shadowOffsetX=te.shadowOffsetX,e.shadowBlur=te.shadowBlur,e.lineWidth=te.lineWidth,e.strokeStyle=te.lineColor,e.lineJoin="miter",e.globalCompositeOperation="source-over"}},ln={small:0,medium:1,large:2},cn=e=>{var t,a;let{ctx:n,value:r,format:o,metricMethod:i,size:c,furiganaHelper:s}=e;const{edgeAlignment:d="left",trueEdge:u,trueBaseline:b,trueWidth:p}=null!==(t=null===(a=C[o])||void 0===a?void 0:a[c])&&void 0!==t?t:C.tcg.medium,m={tcg:J,ocg:$}[o];i&&(m.metricMethod=i);const{font:f}=m,g=ln[c],h=m.fontList[g],v=Nt({defaultFamily:f,defaultSize:"".concat(h.fontSize,"px")}),y={fontLevel:g,fontData:m,currentFont:v};let j=0;n.font=v.getFont(),n.textAlign="left";const x=_a(r,o,{multiline:!1,furiganaHelper:s}),O=Rt((e=>{const{currentLineCount:t,currentLineList:a}=qa({ctx:n,median:e,paragraphList:[x],format:o,textData:y,width:p});return!(t>1)&&(j=a[0].actualLineWidth,!0)}))/1e3;n.scale(O,1);const w=$a({ctx:n,tokenList:Ha(x),xRatio:O,yRatio:1,trueEdge:"left"===d?u:u-j*O,trueBaseline:b,textData:y,format:o,textDrawer:e=>{let{ctx:t,letter:a,scaledEdge:n,scaledBaseline:r}=e;t.fillText(a,n,r)}});return n.setTransform(1,0,0,1,0,0),Object(l.a)(Object(l.a)({},w),{},{xRatio:O})},sn=(e,t,a,n)=>{if(e&&t){const r=60.5;e.font="".concat(r,"px MatrixBoldSmallCaps"),e.textAlign="left";const o=.65,i="".concat(t).split("");let l=0;i.forEach((t=>{l+=e.measureText(t).width*("1"===t?o:1)}));let c=a-l/2;i.forEach((t=>{e.fillText(t,"1"===t?c-3:c,n+r),c+=e.measureText(t).width*("1"===t?o:1)}))}},dn=(e,t,a,n)=>{if(!e)return;e.scale(1,.98),e.font="bold 35.73px Matrix-Bold";const r=ka(e,t,.075,a,n/.98);e.setTransform(1,0,0,1,0,0),e.scale(1,1.01),e.font="bold 34.74px Matrix-Bold",ka(e,"/",.15,r+5,n/1.01),e.setTransform(1,0,0,1,0,0)},un=(e,t,a,n)=>{if(!e||null==t)return;const r=73.97;if("\u221e"===t)e.textAlign="right",e.font="bold 37px matrix",e.fillText(t,a+r,n);else if("?"===t)e.textAlign="right",e.font="bold 34px matrix",e.fillText(t,a+r,n);else{e.textAlign="left";const o="".concat(t).split("?");let i=o.reduce(((t,a,n)=>{e.font="37px MatrixBoldSmallCaps";let r=t+e.measureText(a).width;return n<o.length-1&&(e.font="37px matrix",r+=e.measureText("?").width),r}),0);if(i>0){const t=Math.min(r/i,1);e.scale(t,1),o.reduce(((a,r,i,l)=>{const c=l[l.length-1-i];let s=a;return e.font="37px MatrixBoldSmallCaps",s-=e.measureText(c).width*t,e.fillText(c,s/t,n),i<o.length-1&&(e.font="bold 37px matrix",s-=e.measureText("?").width*t,e.fillText("?",s/t,n)),s}),a+r),e.scale(1/t,1)}}},{height:bn,width:pn}=c,mn=(e,t,a)=>{const{card:r}=va(),{drawCanvasRef:o,artworkCanvasRef:i,backgroundCanvasRef:p,frameCanvasRef:m,creatorCanvasRef:g,effectCanvasRef:v,nameCanvasRef:y,passwordCanvasRef:x,pendulumEffectCanvasRef:O,pendulumScaleCanvasRef:w,setIdCanvasRef:C,statCanvasRef:R,stickerCanvasRef:N,cardIconCanvasRef:L,typeCanvasRef:E,finishCanvasRef:B,lightboxCanvasRef:D}=t,{format:P,hasBackground:W,backgroundType:H,frame:X,foil:U,finish:J,artFinish:$,opacity:_,name:Z,nameStyle:Q,nameStyleType:ee,effectTextStyle:te,pendulumTextStyle:ae,typeTextStyle:ne,statTextStyle:re,effect:oe,effectStyle:ie,typeAbility:le,isPendulum:ce,pendulumFrame:se,pendulumEffect:de,pendulumScaleBlue:ue,pendulumScaleRed:be,atk:pe,def:me,linkMap:fe,attribute:ge,cardIcon:he,subFamily:ve,star:ye,starAlignment:je,setId:xe,password:Oe,creator:we,sticker:Fe,isLegacyCard:ke,isFirstEdition:Ce,isDuelTerminalCard:Se,isSpeedCard:Te,isLimitedEdition:Re,furiganaHelper:Ne}=r,Le=Object(n.useRef)({frame:{name:"frame",order:1,rerun:0,instructor:()=>Promise.resolve()},attribute:{name:"attribute",order:2,rerun:0,instructor:()=>Promise.resolve()},sticker:{name:"sticker",order:3,rerun:0,instructor:()=>Promise.resolve()},creator:{name:"creator",order:4,rerun:0,instructor:()=>Promise.resolve()},name:{name:"name",order:5,rerun:0,instructor:()=>Promise.resolve()},typeAbility:{name:"typeAbility",order:6,rerun:0,instructor:()=>Promise.resolve()},overlay:{name:"overlay",order:7,rerun:0,instructor:()=>Promise.resolve()}}),Ee="auto"===se?ce?"spell":X:se,Ie=null===ie||void 0===ie?void 0:ie.condenseTolerant,Me=(e=>"normal"===e.frame&&at(e))(r),Ae=Qe(r),Be=et(r),De=at(r),Pe=tt(r),{body:We=100,boundless:ze}=_,He=!!(We<50||ze),Ke=["xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(Ee),Ge=nt(X),{levelStyle:Ye,resolvedEffectTextStyle:Xe,resolvedPendulumEffectTextStyle:Ue,resolvedStatTextStyle:Ve,resolvedTypeTextStyle:qe}=Object(n.useMemo)((()=>(e=>{let{lightFooter:t,lightHeader:a,requireShadow:n,effectTextStyle:r,pendulumTextStyle:o,statTextStyle:i,typeTextStyle:c}=e;const s={color:a?"#ffffff":"#000000"},d=n?Object(l.a)({blur:2,y:1,shadowColor:a?"#000000":"#ffffff"},s):s,[u,b,p,m]=r,f=u?Object(l.a)(Object(l.a)({},p?{y:0,blur:4,shadowColor:m}:{}),{},{color:b}):{},[g,h,v,y]=o,j=g?Object(l.a)(Object(l.a)({},v?{y:0,blur:4,shadowColor:y}:{}),{},{color:h}):{},[x,O,w,F]=c,k=x?Object(l.a)(Object(l.a)({},w?{y:1,blur:1,shadowColor:F}:{}),{},{color:O}):{},[C,S,T,R]=i;return{levelStyle:d,resolvedEffectTextStyle:f,resolvedPendulumEffectTextStyle:j,resolvedTypeTextStyle:k,resolvedStatTextStyle:C?Object(l.a)(Object(l.a)({},T?{y:1,blur:1,shadowColor:R}:{}),{},{color:S}):{}}})({lightFooter:Ke,lightHeader:Ge,requireShadow:He,effectTextStyle:te,pendulumTextStyle:ae,statTextStyle:re,typeTextStyle:ne})),[Ke,Ge,He,te,ae,re,ne]),Je=ve.toUpperCase(),$e=le.map((e=>e.trim())).join("ocg"===P?"\uff0f":"/"),_e="auto"!==se||ce?!!(pe||me||Be&&fe.length):De,Ze="auto"===he?De||Pe:"st"!==he||Be,{isInitializing:ot,imageChangeCount:it,pendulumSize:lt="medium",language:ct}=a,st=e&&!1===ot,dt=Object(n.useMemo)((()=>Ta(J,I)),[J]),ut=Object(n.useMemo)((()=>Ta([$],M)),[$]);Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=m.current)||void 0===e?void 0:e.getContext("2d"),a=i.current,n=p.current;Le.current.frame.rerun+=1,Le.current.frame.instructor=async()=>{var e;if(!m.current||!Sa(t))return;const r=Object(l.a)(Object(l.a)({},d()),_),{artBorder:o,body:i,boundless:c,baseFill:b}=r,p=(e,a,n,r)=>{t.fillStyle=W?b:s,t.fillRect(e,a,n,r)},f=i>0||o;p(0,0,pn,bn);const{drawFrame:g,drawCardArt:h,drawBackground:v,drawPendulumScaleIcon:y,drawLinkArrowMap:j,drawStar:x,drawAttribute:O,drawNameBackground:w,drawEffectBackground:F,drawFrameBorder:k,drawNameBorder:C,drawArtBorder:S,drawPendulumBorder:T,drawBorderPendulumFinish:R,drawEffectBorder:N,drawCardBorder:L,drawStatBorder:E,drawAttributeFinish:I,drawArtBorderFoil:M,drawEffectBorderFoil:A,drawLinkMapFoil:B,drawNameFinish:D,drawArtFinish:z,drawArtOverlayFinish:K,drawArtBorderFinish:G,drawPendulumArtBorderFinish:Y,drawFrameFinish:V,drawFrameBackgroundFinish:q,drawOverlayFinish:J,drawCardBorderFinish:$,calculateCardArtRedrawCoordination:Z}=rn({canvas:m.current,artworkCanvas:a,backgroundCanvas:n,format:P,frame:X,bottomFrame:Ee,hasBackground:W,backgroundType:H,attribute:ge,cardIcon:he,star:ye,foil:U,pendulumSize:lt,opacity:r,isLink:Be,isSpeedSkill:Pe,isXyz:Ae,isPendulum:ce,loopFinish:dt,loopArtFinish:ut});if(n&&t&&v(),a&&t&&!c&&h(),await g(),await L(),await $(),ce||(c||(await w(),await F(),await N(),await A()),await S(),await M(),await G()),ce&&!Be&&!c){if(a&&t&&a.height>0){const{width:e,height:n}=a,{sourceOffsetX:r,sourceOffsetY:o,offsetHeight:i,destinationX:l,destinationY:c,destinationWidth:s,destinationHeight:d}=Z(a);p(l,c,s,d),v("pendulum"),t.drawImage(a,r,o,e-2*r,n-i,l,c,s,d)}await w(),await F(!0)}if(await z(),await K(),!ce||Be||c||(await y(),await T(f,"normal"),await T(f,U),await Y(),f&&await R()),c||(await V(),await D()),f&&await q(),c){if(Be)await G();else if(ce){const e=u.fullCard.ratio/u.extendedPendulum.ratio;if(a&&t&&a.height>0){const{destinationX:t,destinationY:n,destinationWidth:r,destinationHeight:o}=Z(a,Object(l.a)(Object(l.a)(Object(l.a)({},d()),_),{},{body:100,boundless:!1}),e);p(t,n,r,o),v("pendulum")}f&&(await T(f,"normal"),await T(f,U)),await Y()}await w(),await D(),await C(),a&&t&&h(),await K(),ce&&!Be?(await F(!0),await y(),await T(!1,"normal"),await T(!1,U),await R()):(await F(),await N(),await A()),await V()}if(_e&&await E(null!==(e=Ve.color)&&void 0!==e?e:"#000000"),!ce&&Be){await j(fe),await B(!1);const e=Ma(Object(l.a)({ctx:t},Ve));await(async(e,t,a)=>{var n;const r=e.getContext("2d");if(!r||!Array.isArray(t))return;const o=null!==(n=a.color)&&void 0!==n?n:"#000000";await Pa(e,"link/link-text.png",o,120,30,600,1080,a),r.textAlign="right",r.scale(1.2,1),r.font="bold 26.55px RoGSanSrfStd-Bd",r.fillText("".concat(t.length),622.75,1105),r.setTransform(1,0,0,1,0,0),r.textAlign="left"})(m.current,null!==fe&&void 0!==fe?fe:[],Ve),e()}await O(),await I(),Be||await x({style:Ye,starAlignment:je}),c||await C(),await k(),await(async e=>{let{ctx:t,type:a,isPendulum:n,isLink:r,isDuelTerminalCard:o,isSpeedCard:i,bordered:l}=e;if(t){if(o){const e=n?[255,1072,175,35]:r?[151,848,216,24]:[80,843,270,30];await Da(t,"text/text-duel-terminal-".concat(a).concat(l?"-bordered":"",".png"),...e)}if(i){const e=n?[255,1084,176.4,25]:r?[151,854,215.6,22]:[80,850,245,25];await Da(t,"text/text-speed-duel-".concat(a).concat(l?"-bordered":"",".png"),...e)}}})({ctx:t,type:Ke&&!ce?"white":"black",bordered:(i<50||c)&&!ce,isDuelTerminalCard:Se,isSpeedCard:Te,isLink:Be,isPendulum:ce}),await J()}}),[st,i,p,m,X,P,W,H,ge,Ee,U,ye,je,he,Se,Be,ce,Te,Pe,Ae,Ke,fe,Ve,ut,dt,_,lt,_e,Ye,it]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=w.current)||void 0===e?void 0:e.getContext("2d");Sa(t)&&ce&&(sn(t,null!==ue&&void 0!==ue?ue:0,84.4,790),sn(t,null!==be&&void 0!==be?be:0,728,790))}),[st,ce,ue,be,w]),Object(n.useEffect)((()=>{st&&(Le.current.name.rerun+=1,Le.current.name.instructor=async()=>{var e,t;const a=null===(e=y.current)||void 0===e?void 0:e.getContext("2d"),n=null===(t=y.current)||void 0===t?void 0:t.cloneNode();Sa(a)&&n&&await on(a,Z,"tcg"===P?60:68,116,ge===f?"tcg"===P?688:674:"tcg"===P?608:598,(e=>{var t;let{format:a,frame:n,nameStyle:r,nameStyleType:o,foil:i}=e;if("custom"===o)return r;const c=tt({frame:n}),s=nt(n);let d="Default";"ocg"===a&&(d="OCG"),c&&"tcg"===a&&(d="Arial");let u={fillStyle:s?"#ffffff":"#000000",headTextFillStyle:s?"#ffffff":"#000000"};if("predefined"===o){var b,p;const e=Object(l.a)({},j[null!==(b=r.preset)&&void 0!==b?b:"commonB"].value);return j[null!==(p=e.preset)&&void 0!==p?p:"commonB"].value.font||(e.font=d),Object(l.a)(Object(l.a)({},u),e)}let m=c?{hasOutline:!0,lineWidth:6,strokeStyle:"#000"}:{};const f="normal"!==i&&null!==(t=j[i].value)&&void 0!==t?t:{},g="zarc"===n?j.animeGold.value:{};return Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({font:d},u),m),f),g)})({format:P,frame:X,nameStyle:Q,nameStyleType:ee,foil:U}),{isSpeedSkill:Pe,format:P,cloneNode:n,frame:X,furiganaHelper:Ne})})}),[st,ge,U,P,X,Ne,Pe,Z,y,Q,ee]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=R.current)||void 0===e?void 0:e.getContext("2d");if(!Sa(t)||!_e)return;const a=Ma(Object(l.a)({ctx:t},Ve));dn(t,"ATK",432.1,1106.494),un(t,pe,508.824,1106.494),Be||(dn(t,"DEF",600.85,1106.494),un(t,me,673.865,1106.494)),a()}),[st,pe,me,Be,De,Ve,R,_e]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=C.current)||void 0===e?void 0:e.getContext("2d");Sa(t)&&((e,t,a)=>{if(!e)return;const{isPendulum:n,isLink:r,withShadow:o,format:i,lightFooter:l}=a;let c=.175,s=0,d=0;e.fillStyle=l&&!n?"#ffffff":"#000000",e.shadowColor=o?l?"#000000":"#ffffff":"#000000",e.shadowOffsetY=0,e.shadowOffsetX=0,e.shadowBlur=o&&!n?3:0,e.font="".concat(o?"bold":""," 22px stone-serif-regular"),"ocg"===i&&(c=.145,s=-1,d=-3),n?ka(e,t,c,66.65+d,1105.01+s):r?Ca(e,t,c,666.56+d,872.94+s):Ca(e,t,c,728.78+d,871.5+s)})(t,xe,{isLink:Be,isPendulum:ce,withShadow:He&&!ce,format:P,lightFooter:Ke})}),[st,P,Be,ce,Ke,C,xe,Pe,Ee,He]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=x.current)||void 0===e?void 0:e.getContext("2d");if(!Sa(t))return;const a=(e=>{var t,a;let{ctx:n,value:r,format:o,alignment:i,baselineOffset:l=0,lightFooter:c,hasShadow:s}=e;if(!Sa(n))return 0;n.fillStyle=c?"#ffffff":"#000000",n.shadowColor=s?c?"#000000":"#ffffff":"#000000",n.shadowOffsetY=0,n.shadowOffsetX=0,n.shadowBlur=s?3:0;const{trueEdge:d,trueBaseline:u,trueWidth:b}=null!==(t=T[o])&&void 0!==t?t:T.tcg,p=/^[0-9]*$/.test(r),m=q[o],{font:f}=m,g=_a(r,o,{multiline:!1,furiganaHelper:!1});let h={fontLevel:p?0:1,fontData:m,currentFont:Nt()},v=0,y=1e3,j=m.fontList[0];for(let w=0;w<m.fontList.length;w++){j=m.fontList[w];const e=Nt({defaultFamily:f,defaultSize:"".concat(j.fontSize,"px"),defaultWeight:s?"bold":""});let t={fontLevel:w,fontData:m,currentFont:e},a=0;if(n.font=e.getFont(),n.textAlign="left",y=Rt((e=>{const{currentLineCount:r,currentLineList:i}=qa({ctx:n,median:e,paragraphList:[g],format:o,textData:t,width:b});return!(r>1)&&(a=i[0].actualLineWidth,!0)})),v=a,h=t,y>=1e3)break}const x=y/1e3;n.scale(x,1);const O=$a({ctx:n,tokenList:Ha(g),xRatio:x,yRatio:1,trueEdge:"left"===i?d:d-v*x,trueBaseline:u+(null!==(a=j.offsetY)&&void 0!==a?a:A.offsetY)+l,textData:h,format:o,textDrawer:e=>{let{ctx:t,letter:a,scaledEdge:n,scaledBaseline:r}=e;t.fillText(a,n,r)}});return n.setTransform(1,0,0,1,0,0),O.tokenEdge})({ctx:t,value:Oe,lightFooter:Ke,alignment:"left",format:P,hasShadow:"zarc"===Ee||He});if(Ce){t.fillStyle=Ke?"#ffffff":"#000000";!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1150.93,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{stroke:!1};if(!e)return;const{stroke:o=!1}=null!==r&&void 0!==r?r:{};e.font="bold 23.7px palatino-linotype-bold";let i=t;e.fillText("1",i,a+n),o&&e.strokeText("1",i,a),i+=e.measureText("1").width-2,e.font="bold 17.78px palatino-linotype-bold",e.fillText("st",i,a-7.4+n),o&&e.strokeText("st",i,a-7.4),i+=e.measureText("st").width,e.font="bold 22.22px palatino-linotype-bold",e.fillText(" Edition",i,a+n),o&&e.strokeText(" Edition",i,a)}(t,ke&&!ce?Be?151:89:Math.max(a+14.813,142.2)-("ocg"===P?10:0),ke&&!ce?871:1150.93,ke&&!ce?0:Pe?-2:-1)}}),[st,Ce,Oe,x,Ke,P,He,Be,Pe,ce,ke,Ee]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=g.current)||void 0===e?void 0:e.getContext("2d");Le.current.creator.rerun+=1,Le.current.creator.instructor=async()=>{var e;if(!Sa(t))return;const a=Object(l.a)(Object(l.a)({},d()),_),{body:n,boundless:r}=a,o=(e=>{var t,a;let{ctx:n,value:r,format:o,alignment:i,baselineOffset:c=0,lightFooter:s,hasShadow:d}=e;if(!Sa(n))return;n.fillStyle=s?"#ffffff":"#000000",n.shadowColor=d?s?"#000000":"#ffffff":"#000000",n.shadowOffsetY=0,n.shadowOffsetX=0,n.shadowBlur=d?3:0;const{trueEdge:u,trueBaseline:b,trueWidth:p}=null!==(t=S[o])&&void 0!==t?t:S.tcg,m=V[o],{font:f}=m,g=_a(r,o,{multiline:!1,furiganaHelper:!1});let h={fontLevel:0,fontData:m,currentFont:Nt()},v=0,y=1e3,j=m.fontList[0];for(let l=0;l<m.fontList.length;l++){j=m.fontList[l];const e=Nt({defaultFamily:f,defaultSize:"".concat(j.fontSize,"px"),defaultWeight:d?"bold":""});let t={fontLevel:l,fontData:m,currentFont:e},a=0;if(n.font=e.getFont(),n.textAlign="left",y=Rt((e=>{const{currentLineCount:r,currentLineList:i}=qa({ctx:n,median:e,paragraphList:[g],format:o,textData:t,width:p});return!(r>1)&&(a=i[0].actualLineWidth,!0)})),v=a,h=t,y>=1e3)break}const x=y/1e3;n.scale(x,1);const O=$a({ctx:n,tokenList:Ha(g),xRatio:x,yRatio:1,trueEdge:"left"===i?u:u-v*x,trueBaseline:b+(null!==(a=j.offsetY)&&void 0!==a?a:A.offsetY)+c,textData:h,format:o,textDrawer:e=>{let{ctx:t,letter:a,scaledEdge:n,scaledBaseline:r}=e;t.fillText(a,n,r)}});return n.setTransform(1,0,0,1,0,0),Object(l.a)({leftEdge:"left"===i?u:u-v*x},O)})({ctx:null===(e=g.current)||void 0===e?void 0:e.getContext("2d"),format:P,value:we,alignment:"right",baselineOffset:Pe?-2:0,hasShadow:He,lightFooter:Ke}),i="tcg"===P?390:350,c="tcg"===P?30:40;var s;Re&&await(async e=>{let{ctx:t,type:a,isPendulum:n,isLink:r,isLegacyCard:o,widthOffset:i,bordered:l}=e;const c=!o||n?[145,1122,240-i,37]:r?[151,846,216,36]:[80,843,240,40];await Da(t,"text/text-limited-edition-".concat(a).concat(l?"-bordered":"",".png"),...c)})({ctx:t,type:Ke&&!ce?"white":"black",bordered:(n<50||r)&&!ce,isLink:Be,isPendulum:ce,widthOffset:(null!==(s=null===o||void 0===o?void 0:o.leftEdge)&&void 0!==s?s:i)<i?c:0,isLegacyCard:ke})}}),[st,we,g,v,P,ke,Re,Be,ce,Pe,Ke,_,He]),Object(n.useEffect)((()=>{st&&(Le.current.sticker.rerun+=1,Le.current.sticker.instructor=async()=>{var e;return await(async e=>{let{ctx:t,sticker:a}=e;if(Sa(t))return"no-sticker"===a?Promise.resolve():Ba(t,"sticker/sticker-".concat(a.toLowerCase(),".png"),739.1438,1110.938)})({ctx:null===(e=N.current)||void 0===e?void 0:e.getContext("2d"),sticker:Fe})})}),[st,Fe,N]),Object(n.useEffect)((()=>{var e,t;if(!st)return;const a=null===(e=v.current)||void 0===e?void 0:e.getContext("2d"),n=null===(t=E.current)||void 0===t?void 0:t.getContext("2d");Le.current.typeAbility.rerun+=1,Le.current.typeAbility.instructor=async()=>{if(!Sa(a)||!Sa(n))return;const e=Qa(Object(l.a)(Object(l.a)({ctx:a,content:oe,isNormal:Me,condenseTolerant:Ie,format:P,furiganaHelper:Ne},(e=>{let{format:t,isNormal:a,statInEffect:n,typeInEffect:r}=e;const o=[t,r?"type":"",n?"stat":""].filter((e=>""!==e)).join("-"),i=[t,r?"type":"",n?"stat":""].filter((e=>""!==e)).join("-");let l=K[i];return n&&r&&a&&"tcg"===t&&(l=z,l.fontList=G),{fontData:l,sizeList:F[o]}})({format:P,statInEffect:_e,typeInEffect:Ze,isNormal:Me})),{},{textStyle:Xe}));await(async e=>{let{ctx:t,typeAbility:a,subFamily:n,format:r,frame:o,size:i,isMonster:c,textStyle:s,furiganaHelper:d}=e;if(!Sa(t))return;const u=a.length>0,b=n!==h&&"large"===i,p=a+(b?"\u29be":""),m=u?"tcg"===r?"large"===i?"[\u200a\u200a".concat(p,"\u200a\u200a]"):"[".concat(p,"]"):"\u3010".concat(p,"\u3011"):"";if(!u)return;const f=rt(o)&&!tt({frame:o})&&"large"===i?"#ffffff":"#000000",g=Object(l.a)({color:f},s),v=Ma(Object(l.a)({ctx:t},g)),{iconPositionList:y,xRatio:j}=cn({ctx:t,format:r,size:i,value:m,metricMethod:c?void 0:"compact",furiganaHelper:d});v();let x="ocg"===r?-4:0,O="ocg"===r?-3:0;if(b){const{edge:e,baseline:a}=y[0];await Da(t,"subfamily/subfamily-".concat(n.toLowerCase(),".png"),(t=>e+.175*t.naturalWidth*j+O),(e=>a-.8*e.naturalWidth+x),(e=>e.naturalWidth),(e=>e.naturalWidth))}})({ctx:n,format:P,frame:X,furiganaHelper:Ne,isMonster:De,textStyle:qe,size:Ze?0===e?"medium":"small":"large",subFamily:Je,typeAbility:$e})}}),[st,Ze,_e,Ie,oe,v,P,X,Ne,De,Me,qe,Xe,Je,$e,E]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=O.current)||void 0===e?void 0:e.getContext("2d");Sa(t)&&ce&&Qa({ctx:t,content:de,isNormal:!1,fontData:Y[P],textStyle:Ue,sizeList:k,condenseTolerant:Ie,format:P,furiganaHelper:Ne})}),[st,Ie,P,ce,O,de,Ne,Ue]),Object(n.useEffect)((()=>{var e;if(!st)return;const t=null===(e=B.current)||void 0===e?void 0:e.getContext("2d");Le.current.overlay.rerun+=1,Le.current.overlay.instructor=async()=>{Sa(t)&&await dt(t,"total-overlay",(e=>Ba(t,"finish/finish-".concat(e,"-total-overlay.png"),0,0)))}}),[st,B,dt,Z]);const bt=Object(n.useRef)({}),pt=Object(n.useCallback)((async e=>{const{isPendulum:t=!1,opacity:a}=e,n=o.current,r=null===n||void 0===n?void 0:n.getContext("2d"),l=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((n=>{setTimeout((()=>{if(e.current&&t)try{e.current.toBlob((e=>{if(e){const a=URL.createObjectURL(e);if(a){const e=new Image;e.src=a,e.onload=()=>{t.drawImage(e,0,0),URL.revokeObjectURL(a),n(!0)},e.onerror=()=>{URL.revokeObjectURL(a),n(!1)}}else n(!1)}else n(!1)}))}catch(a){console.error(a),n(!1)}else n(!1)}),25*a)}))};if(n&&r){var s,d;r.clearRect(0,0,c.width,c.height),await Promise.all(Object.values(Le.current).sort(((e,t)=>e.order-t.order)).map((e=>{let{instructor:t,rerun:a,name:n}=e;return 0!==a&&bt.current[n]!==a||!bt.current[n]?(bt.current[n]=a,t()):Promise.resolve()}))).catch((e=>{console.error(e);const t="fail-to-draw-notification";ua.a.close(t),ua.a.error({key:t,message:ct["error.draw.error.message"],description:ct["error.draw.error.description"]})}));const e=i.current;if(e&&r){const{artX:n,artY:o,artWidth:i}=b(t,a),{width:l,height:c}=e;c>0&&r.drawImage(e,0,0,l,c,n,o,i,i/(l/c))}await l(m,r,0),await l(y,r,0),await l(L,r,0),await l(w,r,0),await l(O,r,0),await l(E,r,0),await l(v,r,0),await l(R,r,0),await l(C,r,0),await l(x,r,0),await l(g,r,0),await l(N,r,0),await l(B,r,0),null===(s=D.current)||void 0===s||null===(d=s.getContext("2d"))||void 0===d||d.drawImage(n,0,0)}}),[ct,i,L,g,o,v,B,D,y,x,O,w,C,m,R,N,E]);return{drawingPipeline:Le,onExport:pt}};var fn=a(170),gn=a.n(fn),hn=a(39);a(343),a(344);const vn=(e,t,a)=>{if(!t)return e;const{width:n,height:r,x:o=0,y:i=0,unit:c}=e;if("px"===c){const e=.8,r=400/300,{width:l,height:c}=t,s=c/l>=e?r:1,d=Math.min((null!==o&&void 0!==o?o:0)*s,l),u=Math.min((null!==i&&void 0!==i?i:0)*s,c),b=Math.min((null!==n&&void 0!==n?n:0)*s,l);return{unit:"%",x:d/l*100,y:u/c*100,width:b/l*100,height:b/(null!==a&&void 0!==a?a:1)/c*100,aspect:a}}if(o<0)return Object(l.a)(Object(l.a)({},e),{},{x:0});if(i<0)return Object(l.a)(Object(l.a)({},e),{},{y:0});const{naturalHeight:s,naturalWidth:d}=t,u=null!==n&&void 0!==n?n:0,b=null!==r&&void 0!==r?r:0,p=.05*(s>d?s:d),m=Math.abs(b*s*a-u*d)<=p;return Object(l.a)(Object(l.a)({},e),{},{x:o<0?0:o,y:i<0?0:i,height:m?b:u*t.naturalWidth/a/t.naturalHeight,aspect:a})},yn=Object(n.forwardRef)(((e,t)=>{let{title:a,backgroundColor:r,className:o,forceFit:i,defaultSourceType:c,defaultInternalSource:s="",defaultExternalSource:d="",receivingCanvas:u,children:b,beforeCropper:p,defaultCropInfo:f,ratio:g,onSourceLoaded:h=()=>{},onSourceChange:v=()=>{},onCropChange:y=()=>{},onTainted:j=()=>{},onMaxSizeExceeded:x=()=>{},onForceFitChange:O=()=>{}}=e;const w="offline"===c?"offline":"online",F=ma(),k=Object(n.useRef)(null),[C]=Object(n.useState)("anonymous"),[S,T]=Object(n.useState)(0),[R,N]=Object(n.useState)(w),[L,E]=Object(n.useState)(w),[I,M]=Object(n.useState)(s),[A,B]=Object(n.useState)(!1),[D,P]=Object(n.useState)(null),[W,z]=Object(n.useState)(d),H=Object(n.useRef)(null),[K,G]=Object(n.useState)({current:f,completed:null}),[Y,X]=Object(n.useState)("%"===f.unit),{current:U,completed:V}=K,q=Object(n.useRef)({source:"",crop:null}),J=Object(n.useCallback)((e=>{if(B(!1),P(null),h(),H.current=e,e.src===q.current.source&&q.current.crop){const t=$.current;setTimeout((()=>{if(t!==$.current||!q.current.crop)return;const a=vn(q.current.crop,e,g);G({completed:a,current:a}),X(!0),q.current={source:"",crop:null}}),250)}else setTimeout((()=>{G((t=>{const a=vn(t.current,e,g);return{completed:a,current:a}})),X(!0)}),250)}),[h,g]);Object(n.useEffect)((()=>{var e,t,a,n;const r=H.current;if(!V||!u||!r)return;const{aspect:o}=V;u.style.transform="scale(2)";const c=u.getContext("2d");if(!c||"number"!==typeof o||o<=0)return;const{naturalHeight:s,naturalWidth:d}=r,b=d/r.width,p=s/r.height,m=null!==(e=V.unit)&&void 0!==e?e:"px",f=window.devicePixelRatio;c.setTransform(f,0,0,f,0,0);let g,h=Math.floor((null!==(t=V.width)&&void 0!==t?t:0)*("px"===m?b:d/100)),v=Math.min(d,h),j=Math.floor(h/o),x=Math.min(s,j),O=Math.min(d,Math.floor((null!==(a=V.x)&&void 0!==a?a:0)*("px"===m?b:d/100))),w=Math.min(s,Math.floor((null!==(n=V.y)&&void 0!==n?n:0)*("px"===m?p:s/100)));if(c.imageSmoothingQuality="high",!(v<=0||x<=0)){if(O+v>d||w+x>s||O<0||w<0||Math.abs((h-v)/v)>.01||Math.abs((j-x)/x)>.01){"width"===(o*s>d?"width":"height")?(v=d,x=v/o,O=0,w=(s-x)/2,g={unit:"%",aspect:o,height:x/s*100,width:v/d*100,x:0,y:w/s*100}):(v=s*o,x=s,O=(d-v)/2,w=0,g={unit:"%",aspect:o,height:x/s*100,width:v/d*100,x:O/d*100,y:0})}if(i){"width"===(o*s>d?"width":"height")?(v=d,x=v/o):(v=s*o,x=s),u.width=v,u.height=x,c.drawImage(r,0,0,d,s,0,0,v,x)}else{var F,k;u.width=null!==(F=v)&&void 0!==F?F:0,u.height=null!==(k=x)&&void 0!==k?k:0,c.drawImage(r,O,w,v,x,0,0,v,x)}"offline"===R&&(null!==I&&void 0!==I?I:"").length<=0||o===V.aspect&&y(V,R),g&&G((e=>Object(l.a)(Object(l.a)({},e),{},{current:g})))}}),[V,u,S,i]),Object(n.useEffect)((()=>{G((e=>{if(null!=H.current&&e.current){const t=vn(e.current,H.current,g);return{current:t,completed:t}}return e}))}),[g]);const $=Object(n.useRef)(0);Object(n.useImperativeHandle)(t,(()=>({isLoading:()=>A,hasImage:()=>"string"===typeof I&&I.length>0&&"offline"===R||"string"===typeof W&&W.length>0&&"online"===R,forceSource:(e,t,a)=>{("offline"===R?I:W)!==t&&(B(!0),N(e),E(e),v(e,t),"offline"===e?M(t):z(t)),X("%"===a.unit),$.current+=1,q.current={source:t,crop:a},T((e=>e+1))}})));const _="offline"===R&&(null!==I&&void 0!==I?I:"").length>0||"online"===R&&(null!==W&&void 0!==W?W:"").length>0,Z=u&&_&&!A&&(null===V||void 0===V?void 0:V.width)&&(null===V||void 0===V?void 0:V.height);return Object(m.jsxs)("div",{className:"card-image-cropper ".concat(o),children:[Object(m.jsxs)("div",{className:"card-image-source-input",children:[b,Object(m.jsxs)("div",{className:"card-image-source-input-container",children:[Object(m.jsxs)("div",{className:"card-image-source-input-title",children:[Object(m.jsxs)("span",{className:"field-title",children:[a," ",Object(m.jsx)(ra,{Icon:_t.a,containerProps:{className:Z?"":"disabled"},tooltipProps:{overlay:Z?F["image-cropper.download"]:F["image-cropper.no-download"]},onClick:()=>Z&&u&&function(e,t){t&&e&&e.toBlob((e=>{if(null!==e){const t=window.URL.createObjectURL(e),a=document.createElement("a");a.download="crop-preview.png",a.href=URL.createObjectURL(e),a.click(),window.URL.revokeObjectURL(t)}}),"image/png",1)}(u,V)})]}),Object(m.jsxs)(Yt.a.Group,{className:"card-image-source-type-input",onChange:e=>{const t=e.target.value;E(t),((null!==I&&void 0!==I?I:"").length>0&&"offline"===t||(null!==W&&void 0!==W?W:"").length>0&&"online"===t)&&(N(t),"offline"===t?v("offline",I):v("online",W))},value:L,children:[Object(m.jsx)(Yt.a.Button,{value:"online",checked:"online"===L,children:F["image-cropper.source.online.tooltip"]}),Object(m.jsx)(Xt.a,{title:Object(m.jsx)("div",{className:"image-warning",children:F["image-cropper.offline-warning"]}),children:Object(m.jsx)(Yt.a.Button,{value:"offline",checked:"offline"===L,children:F["image-cropper.source.offline.tooltip"]})})]})]}),Object(m.jsxs)("div",{className:["card-image-input","online"===L?"":"input-inactive"].join(" "),children:[Object(m.jsx)(Ut.a,{placeholder:F["image-cropper.placeholder"],value:W,onChange:e=>{const t=e.target.value;B(!0),N("online"),E("online"),v("online",t),z(t)},maxLength:512,allowClear:!0},"key"),Object(m.jsx)("div",{className:"online-image-tip",children:F["image-cropper.online-tip"]})]}),Object(m.jsxs)("div",{className:["card-image-input","offline"===L?"":"input-inactive"].join(" "),children:[Object(m.jsx)(Ut.a,{ref:k,type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0],a=4;if(t.size<1024*a*1024){B(!0);const e=new FileReader;e.addEventListener("load",(()=>{"string"===typeof e.result&&(M(e.result),N("offline"),E("offline"),v("offline",e.result),B(!1))})),e.readAsDataURL(t)}else x(a)}else alert(F["image-cropper.not-found-warning"])},onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.setValue("")}}),Object(m.jsx)("hr",{}),F["image-cropper.offline-warning"]]})]})]}),p,Object(m.jsxs)("div",{className:"card-cropper",children:[A&&Object(m.jsx)(ea.FullView,{}),_&&!D&&Object(m.jsxs)(na,{className:"force-fit-toggle",onClick:()=>O(!i),children:[Object(m.jsx)(Vt.a,{checked:i})," ",Object(m.jsx)("span",{children:F["image-cropper.force-fit.label"]})]}),(!_||D)&&Object(m.jsx)(qt.a,{description:F["image-cropper.not-found-warning"],image:null}),Object(m.jsx)($t.a,{src:"offline"===R?I:W,disabled:i,className:i?"force-fitted":"",imageStyle:r?{backgroundColor:r}:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/transparent-tile.png")')},onImageLoaded:J,onImageError:()=>{if(q.current={source:"",crop:null},P("Image error"),B(!1),u)if("online"===R&&""===(null!==W&&void 0!==W?W:"")||"offline"===R&&""===(null!==I&&void 0!==I?I:"")){const{width:e,height:t}=u,a=u.getContext("2d");null===a||void 0===a||a.clearRect(0,0,e,t),V&&y(V,R),h()}else j();else j()},crop:U,onChange:(e,t)=>{const a=H.current;q.current.crop||(Y?G((e=>Object(l.a)(Object(l.a)({},e),{},{current:vn(t,a,g)}))):(X(!0),G((t=>Object(l.a)(Object(l.a)({},t),{},{current:vn(e,a,g)})))))},onComplete:(e,t)=>{q.current.crop||G((e=>Object(l.a)(Object(l.a)({},e),{},{completed:t})))},ruleOfThirds:!0,crossorigin:C},"".concat(R,"-").concat(Y,"-").concat(S))]})]})}));a(358);const jn=e=>{let{defaultValue:t=[],onChange:a=()=>{}}=e;const[r,o]=Object(n.useState)(t),i=[-45,0,45,-90,0,90,-135,180,135],l=ma(),c=JSON.stringify(r);return Object(n.useEffect)((()=>{a(r)}),[c]),Object(m.jsxs)("div",{className:"link-marker-chooser",children:[Object(m.jsx)("div",{className:"title",children:l["link-picker.label"]}),Object(m.jsx)("div",{className:"container",children:[...Array(9)].map(((e,t)=>{const a="".concat(t+1);return"5"===a?Object(m.jsx)(Xt.a,{overlay:l["link-picker.reset.tooltip"],children:Object(m.jsx)("div",{className:"link-marker-reset",onClick:()=>{o([])},children:Object(m.jsx)(p.a,{})})},"5"):Object(m.jsx)("div",{className:"link-marker-button marker-".concat(t+1," ").concat(r.includes(a)?"marker-checked":""),onClick:()=>{o((e=>{let t=[...e];return t.includes(a)?t=t.filter((e=>e!==a)):t.push(a),t}))},children:Object(m.jsx)("div",{className:"link-marker-icon link-marker-icon-".concat(t+1),style:{transform:"rotate(".concat(i[t],"deg)")}})},a)}))})]})};var xn=a(529),On=a(532);a(359);const wn=["overlayClassName","iconProps"],Fn=["className"],kn=e=>{let{overlayClassName:t,iconProps:a}=e,n=Object(bt.a)(e,wn);const r=null!==a&&void 0!==a?a:{},{className:o}=r,i=Object(bt.a)(r,Fn);return Object(m.jsx)(xn.a,Object(l.a)(Object(l.a)({overlayClassName:["explanation-overlay",null!==t&&void 0!==t?t:""].join(" ")},n),{},{children:Object(m.jsx)(On.a,Object(l.a)({className:["explanation-icon",null!==o&&void 0!==o?o:""].join(" ")},i))}))};var Cn=a(524),Sn=a(82),Tn=a(533),Rn=a(534);a(360);const Nn=["caption","containerProps","alt"];var Ln,En,In,Mn;const An=Gt.b.span(Ln||(Ln=Object(Kt.a)(["\n    background: var(--main-level-1);\n    padding: var(--spacing-px) var(--spacing-xxs);\n    border: var(--bw) solid #4e84a4;\n    border-radius: var(--br);\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n"]))),Bn=Gt.b.div(En||(En=Object(Kt.a)(["\n    white-space: pre-line;\n"]))),Dn=Gt.b.div(In||(In=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: 615fr 703fr;\n    gap: var(--spacing-sm);\n    padding: var(--spacing-sm) 0;\n    overflow: hidden;\n    .panel-box {\n        min-width: 0;\n        position: relative;\n        overflow: hidden;\n    }\n"]))),Pn=Gt.b.div(Mn||(Mn=Object(Kt.a)(["\n    min-width: 0;\n    position: relative;\n    overflow: hidden;\n    .caption {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        padding: var(--spacing-px) var(--spacing-sm);\n        background: var(--main-level-5);\n        border-radius: var(--br-lg) 0 0 0;\n        box-shadow: var(--bs-block);\n    }\n    > img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n        border-radius: var(--br-lg);\n    }\n"]))),Wn=e=>{let{caption:t,containerProps:a,alt:n}=e,r=Object(bt.a)(e,Nn);const{className:o}=null!==a&&void 0!==a?a:{};return Object(m.jsxs)(Pn,{className:"image-with-caption ".concat(o),children:[Object(m.jsx)("img",Object(l.a)({alt:n},r)),Object(m.jsx)("div",{className:"caption",children:t})]})},zn=()=>{const[e,t]=Object(n.useState)(!1),a=ma();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Cn.a,{footer:null,visible:e,width:"60%",title:Object(m.jsxs)("div",{className:"overlay-title",children:[a["guide.format.label"]," ",Object(m.jsx)(Sn.a,{size:"small",type:"primary",onClick:()=>{t(!1)},children:a["guide.format.close"]})]}),className:"formattting-guide-overlay",onClose:()=>{t(!1)},children:Object(m.jsxs)(Bn,{children:[Object(m.jsxs)("p",{children:[a["guide.format.introduction"](Object(m.jsx)(Tn.a,{},"icon")),"."]}),Object(m.jsx)("h2",{children:a["guide.format.section-1.label"]}),a["guide.format.section-1.content"](Object(m.jsx)(An,{children:"["},"open-tag"),Object(m.jsx)(An,{children:"]"},"close-tag"),Object(m.jsx)(An,{children:"Ctrl-1"},"hotkey"),Object(m.jsx)(An,{children:"\u2318-1"},"hokey-alternative")),Object(m.jsxs)(Dn,{className:"panel-figure",children:[Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-raw.jpg"),caption:a["guide.format.caption.input"]}),Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-preview.jpg"),caption:a["guide.format.caption.output"]})]}),Object(m.jsx)("h2",{children:a["guide.format.section-2.label"]}),a["guide.format.section-2.content"](Object(m.jsx)(An,{children:"{"},"open-tag"),Object(m.jsx)(An,{children:"}"},"close-tag"),Object(m.jsx)(An,{children:"Ctrl-2"},"hotkey"),Object(m.jsx)(An,{children:"\u2318-2"},"hokey-alternative")),Object(m.jsxs)(Dn,{className:"panel-figure",children:[Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-raw.jpg"),caption:a["guide.format.caption.input"]}),Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-preview.jpg"),caption:a["guide.format.caption.output"]})]}),Object(m.jsx)("h2",{children:a["guide.format.section-3.label"]}),a["guide.format.section-3.content"](Object(m.jsx)(An,{children:"|"},"separator"),Object(m.jsx)(An,{children:"Ctrl-3"},"hotkey"),Object(m.jsx)(An,{children:"\u2318-3"},"hokey-alternative")),Object(m.jsxs)(Dn,{className:"panel-figure",children:[Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-raw.jpg"),caption:a["guide.format.caption.input"]}),Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-preview.jpg"),caption:a["guide.format.caption.output"]})]}),Object(m.jsx)("h2",{children:a["guide.format.section-4.label"]}),a["guide.format.section-4.content"](Object(m.jsx)(An,{children:"||"},"separator"),Object(m.jsx)(An,{children:"Ctrl-4"},"hotkey"),Object(m.jsx)(An,{children:"\u2318-4"},"hokey-alternative")),Object(m.jsxs)(Dn,{className:"panel-figure",children:[Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-raw.jpg"),caption:a["guide.format.caption.input"]}),Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-preview.jpg"),caption:a["guide.format.caption.output"]})]}),Object(m.jsx)("h2",{children:a["guide.format.section-5.label"]}),a["guide.format.section-5.content"](Object(m.jsx)(An,{children:"{{"},"open-tag"),Object(m.jsx)(An,{children:"}}"},"close-tag"),Object(m.jsx)(An,{children:"Ctrl-5"},"hotkey"),Object(m.jsx)(An,{children:"\u2318-5"},"hokey-alternative")),Object(m.jsxs)(Dn,{className:"panel-figure",children:[Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-raw.jpg"),caption:a["guide.format.caption.input"]}),Object(m.jsx)(Wn,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-preview.jpg"),caption:a["guide.format.caption.output"]})]})]})}),Object(m.jsxs)(Sn.a,{className:"formatting-help-button",type:"primary",onClick:()=>{t(!0)},children:[a["guide.format.label"]," ",Object(m.jsx)(Rn.a,{})]})]})};var Hn,Kn;const Gn=Gt.b.div(Hn||(Hn=Object(Kt.a)(["\n    display: grid;\n    ","\n    > label {\n        cursor: pointer;\n        padding: 0 var(--spacing-xxs);\n        text-align: center;\n    }\n"])),(e=>{let{$withPillar:t}=e;return t?"grid-template-columns: max-content 1fr;":"grid-template-columns: 1fr;"})),Yn=Gt.b.div(Kn||(Kn=Object(Kt.a)(["\n    display: inline-block;\n    width: 10px;\n"]))),Xn=e=>{let{nameKey:t,labelBackgroundColor:a,labelBackgroundColorList:n,className:r}=e;const o=ma();return Object(m.jsxs)(Gn,{className:"frame-info-block ".concat(null!==r&&void 0!==r?r:""),$withPillar:!(!a&&!n),children:[n?Object(m.jsx)(Yn,{children:n.map((e=>Object(m.jsx)("div",{style:{backgroundColor:e,height:"".concat(100/n.length,"%")}},e)))}):a?Object(m.jsx)(Yn,{style:{backgroundColor:a}}):null,Object(m.jsx)("label",{className:"frame-info-block-label",children:o[t]})]})};var Un,Vn,qn,Jn;const $n=Object(Gt.c)(Un||(Un=Object(Kt.a)(["\n    to {\n        transform: rotate(360deg);\n    }\n"]))),_n=Gt.b.div(Vn||(Vn=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: var(--spacing-sm);\n    background-color: var(--main-level-3);\n    padding: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    color: var(--color);\n"]))),Zn=Gt.b.div(qn||(qn=Object(Kt.a)(["\n    cursor: pointer;\n    .setting-button-label {\n        display: grid;\n        label {\n            cursor: pointer;\n            line-height: 1;\n            font-size: var(--fs-xs);\n            margin-top: var(--spacing-xs);\n        }\n    }\n    .anticon-setting {\n        font-size: var(--fs-xl);\n        justify-self: center;\n        > svg {\n            ","\n        }\n    }\n    &:hover {\n        color: var(--main-active);\n        .anticon-setting {\n            color: var(--sub-active);\n        }\n    }\n"])),(e=>{let{$softMode:t}=e;return t?"":Object(Gt.a)(Jn||(Jn=Object(Kt.a)(["animation: "," 12s linear infinite;"])),$n)})),Qn=()=>{const e=ma(),{setting:t,updateSetting:a}=ya((e=>{let{setting:t,updateSetting:a}=e;return{setting:t,updateSetting:a}})),{allowHotkey:n,reduceMotionColor:r,showCreativeOption:o,showExtraDecorativeOption:i}=t;return Object(m.jsx)(Zn,{className:"setting-button",$softMode:r,children:Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"setting-button-overlay",content:Object(m.jsxs)(_n,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(Vt.a,{checked:r,onChange:e=>a({reduceMotionColor:e.target.checked}),children:e["setting.option.soft-mode.label"]})}),Object(m.jsx)("div",{children:Object(m.jsx)(Vt.a,{checked:i,onChange:e=>a({showExtraDecorativeOption:e.target.checked}),children:e["setting.option.extra-decorative.label"]})}),Object(m.jsx)("div",{children:Object(m.jsx)(Vt.a,{checked:o,onChange:e=>a({showCreativeOption:e.target.checked}),children:e["setting.option.creative.label"]})}),Object(m.jsx)("div",{children:Object(m.jsx)(Xt.a,{title:e["setting.option.hotkey.tooltip"],placement:"left",children:Object(m.jsx)(Vt.a,{checked:n,onChange:e=>a({allowHotkey:e.target.checked}),children:e["setting.option.hotkey.label"]})})}),Object(m.jsx)("div",{children:Object(m.jsx)("small",{children:e["setting.alert"]})})]}),children:Object(m.jsxs)("div",{className:"setting-button-label",children:[Object(m.jsx)(Tn.a,{}),Object(m.jsx)("label",{children:e["setting.button.label"]})]})})})};var er,tr=a(535),ar=a(536);a(361);const nr=()=>{var e;return Object(m.jsxs)("div",{className:"affiliation",children:[Object(m.jsxs)("span",{className:"version",children:["v",null!==(e="2.0.26")?e:"unknown"]}),Object(m.jsx)("div",{className:"affiliation-link",children:Object(m.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(m.jsx)(tr.a,{})})})]})},rr=Gt.b.div(er||(er=Object(Kt.a)(["\n    align-content: center;\n    align-self: center;\n    border-left: var(--bw) dashed #b1b1b1;\n    padding-left: var(--spacing);\n    margin-left: var(--spacing);\n    height: 100%;\n"]))),or=()=>{const{language:e,languageInfo:t,languageMetadataMap:a,changeLanguage:n}=pa((e=>{let{languageInfo:t,language:a,languageMetadataMap:n,changeLanguage:r}=e;return{languageInfo:t,language:a,languageMetadataMap:n,changeLanguage:r}}));return Object(m.jsxs)("div",{className:"app-header",children:[Object(m.jsx)("img",{alt:"app-logo",src:"".concat("/ygocarder","/logo192.png"),width:35}),Object(m.jsxs)("div",{className:"app-description",children:[Object(m.jsxs)("div",{className:"header-language",children:[Object(m.jsx)("h1",{children:"Yugioh Carder"}),Object(m.jsx)(Yt.a.Group,{value:t.codeName,size:"small",className:"language-option",children:Object.values(a).filter((e=>{let{active:t}=e;return t})).map((e=>{let{codeName:t,name:a}=e;return Object(m.jsx)(Yt.a.Button,{value:t,onChange:e=>n(e.target.value),children:a},t)}))}),Object(m.jsx)("span",{className:"bug-report",children:Object(m.jsxs)("div",{id:"sentry-bug-report",children:[e["contributor.bug-report.tooltip"]," ",Object(m.jsx)(ar.a,{})]})})]}),Object(m.jsxs)("div",{className:"app-contribution",children:[Object(m.jsxs)("span",{className:"app-creator",children:[e["contributor.gui.label"],": ",Object(m.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(m.jsx)("b",{children:"Lauqerm"})}),"\xa0",Object(m.jsx)(kn,{content:Object(m.jsxs)("div",{className:"disclaimer",children:[Object(m.jsx)("h2",{children:e["contributor.disclaimer.label"]}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:e["contributor.disclaimer.line-1"](Object(m.jsx)("a",{href:"https://lauqerm.github.io/ygocarder",children:"lauqerm.github.io/ygocarder"},"app-author"))}),Object(m.jsx)("li",{children:e["contributor.disclaimer.line-2"]}),Object(m.jsx)("li",{children:e["contributor.disclaimer.line-3"]}),Object(m.jsx)("li",{children:e["contributor.disclaimer.line-4"]}),Object(m.jsx)("li",{children:e["contributor.disclaimer.line-5"](Object(m.jsx)("a",{href:"https://www.deviantart.com/grezar",target:"_blank",rel:"noreferrer",children:"Grezar"},"template-maker-1"),Object(m.jsx)("a",{href:"https://www.deviantart.com/9558able",target:"_blank",rel:"noreferrer",children:"9558able"},"template-maker-2"))}),Object(m.jsx)("li",{children:e["contributor.disclaimer.line-6"]})]})]})})]}),Object(m.jsx)("span",{className:"template-creator",children:e["contributor.template-maker"](Object(m.jsx)("a",{href:"https://www.deviantart.com/grezar/art/SKILL-UPDATE-Series-10-Card-Proxy-Template-686736691",target:"_blank",rel:"noreferrer",children:Object(m.jsx)("b",{children:"Grezar"})},"artist-1"),Object(m.jsx)("a",{href:"https://www.deviantart.com/9558able/art/Yugioh-Series-10-Proxy-Template-DELUXE-EDITION-843282421",target:"_blank",rel:"noreferrer",children:Object(m.jsx)("b",{children:"9558able"})},"artist-2"),Object(m.jsx)("a",{href:"https://www.deviantart.com/slackermagician",target:"_blank",rel:"noreferrer",children:Object(m.jsx)("b",{children:"SlackerMagician"})},"artist-3"),Object(m.jsx)("a",{href:"https://www.deviantart.com/icycatelf",target:"_blank",rel:"noreferrer",children:Object(m.jsx)("b",{children:"icycatelf"})},"artist-4"))})]})]}),Object(m.jsx)(rr,{className:"app-setting",children:Object(m.jsx)(Qn,{})})]})},ir=()=>{const e=ma();return Object(m.jsx)(kn,{overlayClassName:"disclaimer-overlay",content:Object(m.jsxs)("div",{className:"disclaimer",children:[Object(m.jsx)("h2",{children:e["alert.explaination.tainted.first-question"]}),Object(m.jsx)("p",{children:e["alert.explaination.tainted.first-answer"]}),Object(m.jsx)("h2",{children:e["alert.explaination.tainted.second-question"]}),Object(m.jsx)("p",{children:e["alert.explaination.tainted.second-answer"]}),Object(m.jsx)("h2",{children:e["alert.explaination.tainted.third-question"]}),Object(m.jsx)("p",{children:e["alert.explaination.tainted.third-answer"]})]})})};var lr,cr,sr;const dr=Gt.b.div(lr||(lr=Object(Kt.a)(["\n    font-weight: 500;\n    border-color: transparent;\n    background-color: transparent;\n    color: var(--color-vendor);\n    text-shadow: var(--ts);\n    user-select: none;\n    display: inline-block;\n    height: 32px;\n    width: var(--width-label);\n    line-height: 30px;\n    position: relative;\n    min-width: var(--width-label);\n    text-align: right;\n    padding-right: var(--spacing-antd);\n"]))),ur=Gt.b.div(cr||(cr=Object(Kt.a)(["\n    display: flex;\n    align-items: center;\n    padding: var(--spacing-xs) var(--spacing);\n    cursor: pointer;\n    &:hover {\n        background-color: var(--sub-active);\n    }\n    &.menu-active {\n        background-color: var(--main-active);\n        &:hover {\n            background-color: var(--sub-active);\n        }\n    }\n"]))),br={Container:Gt.b.div(sr||(sr=Object(Kt.a)(["\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    background-color: var(--main-level-3);\n    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05); // Mimic antd\n    padding: var(--spacing-xs) 0;\n    color: var(--color);\n"]))),Option:ur},pr=[{label:"OCG",value:"ocg",props:{className:"ocg-button",style:{fontWeight:"bold"}}},{label:"TCG",value:"tcg",props:{className:"tcg-button",style:{fontWeight:"bold"}}}],mr=Object.values(I).map((e=>{let{value:t,label:a}=e;return{label:a,value:t}})),fr=[{value:"normal",label:Object(m.jsx)(p.a,{})},...Object.values(M).map((e=>{let{value:t,label:a}=e;return{label:a,value:t}}))],gr=()=>re.map((e=>{let{name:t,nameKey:a,labelBackgroundColor:n,labelBackgroundColorList:r,edition:o}=e;return{label:Object(m.jsx)(Xn,{labelBackgroundColor:n,labelBackgroundColorList:r,nameKey:a}),value:t,edition:o}})),hr=[...Array(14)].map(((e,t)=>({label:t,value:t}))),vr={auto:{value:"auto",labelKey:"input.icon-type.auto.label",fullLabelKey:"input.icon-type.auto.label",icon:null},st:{value:"st",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon-type.icon.label",icon:Object(m.jsx)("img",{className:"icon-image",alt:"s/t-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-continuous.png")})},level:{value:"level",labelKey:"input.icon-type.level.label",fullLabelKey:"input.icon-type.level.label",icon:Object(m.jsx)("img",{className:"icon-image",alt:"level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-level.png")})},"negative-level":{value:"negative-level",labelKey:"input.icon-type.negative-level.label",fullLabelKey:"input.icon-type.negative-level.label",icon:Object(m.jsx)("img",{className:"icon-image",alt:"negative-level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-negative-level.png")})},rank:{value:"rank",labelKey:"input.icon-type.rank.label",fullLabelKey:"input.icon-type.rank.label",icon:Object(m.jsx)("img",{className:"icon-image",alt:"rank-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-rank.png")})}},yr=Object.values(vr),jr=["no-sticker","gold","silver","beta","holo5","holo4","holo3","holo2","holo1","limited","unlimited"].map((e=>({label:"no-sticker"===e?Object(m.jsx)(p.a,{}):Object(m.jsx)("img",{alt:e,src:"".concat("/ygocarder","/asset/image/sticker/sticker-").concat(e.toLowerCase(),".png")}),value:e}))),xr=Object.entries({veryStrict:{label:"5",order:1},strict:{label:"4",order:2},loose:{label:"3",order:3},veryLoose:{label:"2",order:4},relaxed:{label:"1",order:5}}).map((e=>{let[t,{label:a,order:n}]=e;return{label:a,value:t,order:n}})).sort(((e,t)=>e.order-t.order));var Or;const wr=Gt.b.div(Or||(Or=Object(Kt.a)(["\n    z-index: 10;\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    align-items: center;\n    column-gap: var(--spacing-sm);\n\n    .char-picker {\n        z-index: 1;\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));\n        button.ant-btn {\n            padding: 0 var(--spacing-xs);\n        }\n        .handler,\n        .ant-btn {\n            background-color: var(--main-level-1);\n            color: var(--color-heavy);\n            text-shadow: var(--ts);\n            font-family: Segoe UI Symbol, sans-serif;\n            border: 1px solid var(--sub-level-1);\n            border-radius: 0;\n            padding: 0 var(--spacing);\n            + .ant-btn {\n                border-left-width: 0;\n            }\n            &:hover {\n                color: var(--main-active);\n            }\n            &:first-child {\n                border-radius: var(--br) 0 0 var(--br);\n            }\n            &:last-child {\n                border-radius: 0 var(--br) var(--br) 0;\n            }\n        }\n        /** Currently char picker no longer movable */\n        /* .handler {\n            cursor: grabbing;\n            background-color: var(--main-level-2);\n            height: unset;\n            font-size: var(--fs-xl);\n            height: var(--fs-xl);\n            line-height: 1;\n            padding: 0;\n            text-align: center;\n        } */\n    }\n    .moveable-control-box {\n        .moveable-control.moveable-origin,\n        .moveable-line.moveable-direction {\n            border-color: transparent;\n            background: none;\n        }\n    }\n"]))),Fr=e=>{let{targetId:t="",onPick:a=()=>{}}=e;const n=ma(),r=e=>{const n=document.getElementById(t);if(n){const{value:t}=function(e,t){if(document.selection)return e.focus(),document.selection.createRange().text=t,{value:e.value,position:0};if(e.selectionStart||0===e.selectionStart){const a=e.selectionStart,n=e.selectionEnd;return e.value=e.value.substring(0,a)+t+e.value.substring(n,e.value.length),e.selectionStart=a+t.length,e.selectionEnd=a+t.length,e.focus(),{value:e.value,position:a+t.length}}return e.value+=t,{value:e.value,position:0}}(n,e);a(t,e)}};return Object(m.jsxs)(wr,{tabIndex:-1,className:"char-picker-container",children:[Object(m.jsx)("div",{id:"char-picker",className:"char-picker",children:["\u221e","\u2606","\u25cf","\xa9","\u2122","\u2c6f","\u042f","\u203b"].map((e=>Object(m.jsx)("button",{tabIndex:-1,className:"ant-btn",onClick:()=>r(e),children:e},e)))}),Object(m.jsx)("div",{className:"char-picker-guideline",children:Object(m.jsx)(kn,{content:Object(m.jsxs)(m.Fragment,{children:[n["input.char-picker.guide.header"],Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:n["input.char-picker.guide.instruction-1"]}),Object(m.jsx)("li",{children:n["input.char-picker.guide.instruction-2"]})]})]})})})]})};var kr=a(81),Cr=a(537),Sr=a(528),Tr=a(202);a(466),a(467);const Rr=Object(n.forwardRef)(((e,t)=>{let{disabled:a,color:r,onSelect:o,onOffsetChange:i,onRemove:l}=e;const c=ma(),[s,d]=Object(n.useState)(r),[u,b]=Object(n.useState)(0),[p,f]=Object(n.useState)(-1),g=Object(n.useRef)(ca()(b,250)).current;return Object(n.useImperativeHandle)(t,(()=>({setColor:e=>{if(e){const{color:t,offset:a,id:n}=e,{min:r,max:o,round:i}=Math;d(t),b(o(0,r(100,i(100*parseFloat(a))))),f(n)}},setCurrentOffset:(e,t)=>{const{min:a,max:n,round:r}=Math;e===p&&b(n(0,a(100,r(100*parseFloat(t)))))}}))),Object(n.useEffect)((()=>{p>0&&(null===i||void 0===i||i(p,"".concat(u/100)))}),[p,u,i]),Object(m.jsxs)("div",{className:"stop-point-control-panel",children:[Object(m.jsxs)("div",{className:"stop-point-offset-input",children:[Object(m.jsxs)("div",{children:[c["input.name-style.gradient.color-stop.label"],": ",Object(m.jsx)(Sr.a,{value:u,size:"small",max:100,min:0,onChange:e=>g("string"===typeof e?parseInt(e):null!==e&&void 0!==e?e:0)})]}),Object(m.jsx)(Sn.a,{className:"remove-stop-color",size:"small",disabled:a,onClick:()=>null===l||void 0===l?void 0:l(p),children:c["input.name-style.gradient.color-remove.label"]})]}),Object(m.jsx)(kr.a,{styles:{default:{picker:{color:"#000000",background:"var(--main-level-3)",boxShadow:"none"},body:{padding:"var(--spacing) var(--spacing)"}}},disableAlpha:!0,color:s,onChange:e=>d(e.hex),onChangeComplete:e=>{d(e.hex),null===o||void 0===o||o(e.hex)}})]})})),Nr=e=>({colorList:e,raw:Et(e)}),Lr=e=>{var t,a;let{palette:r=Et(Lt()),angle:o=180,memoizedOnChange:i}=e;const c=ma(),s=Object(n.useRef)(null),[d,u]=Object(n.useState)(o),[b,p]=Object(n.useState)((()=>{var e,t;const a=It(r);return{raw:r,colorList:a,currentControlId:null!==(e=null===(t=a[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1}})),f=Object(n.useCallback)(((e,t)=>p((a=>{const n=a.colorList.map((a=>a.id===e?Object(l.a)(Object(l.a)({},a),{},{offset:t}):a));return Object(l.a)(Object(l.a)({},a),Nr(n))}))),[]);Object(n.useEffect)((()=>{u(o)}),[o]),Object(n.useEffect)((()=>{var e,t;const a=It(r);p({raw:r,colorList:a,currentControlId:null!==(e=null===(t=a[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1})}),[r]);const g=Object(n.useRef)(!1);return Object(n.useEffect)((()=>{var e;b.colorList[0]&&g.current&&(g.current=!0,null===(e=s.current)||void 0===e||e.setColor(b.colorList[0]))}),[b.colorList]),Object(n.useEffect)((()=>{let e=!0;return setTimeout((()=>{const{colorList:t,currentControlId:a}=b;if(e&&a>=0){var n;const e=t.find((e=>e.id===a));e&&(null===(n=s.current)||void 0===n||n.setCurrentOffset(a,e.offset))}}),100),()=>{e=!1}}),[b]),Object(n.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&i(b.colorList,d)}),200),()=>{e=!1}}),[b,d,i]),Object(m.jsxs)("div",{className:"controls-wrapper gradient-picker-container",children:[Object(m.jsxs)("div",{className:"gradient-angle-control",children:[Object(m.jsx)("h2",{children:c["input.name-style.gradient.color-point.label"]}),Object(m.jsxs)(Sn.a,{size:"small",className:"add-stop-color",disabled:(null!==(t=null===(a=b.colorList)||void 0===a?void 0:a.length)&&void 0!==t?t:1e4)>20,onClick:()=>{p((e=>{const t=[...e.colorList,{offset:"0.5",color:"#ffffff",id:e.colorList.length+1}].sort(((e,t)=>Number(e.offset)-Number(t.offset)));return Object(l.a)(Object(l.a)({},e),Nr(t))}))},children:[c["input.name-style.gradient.add-point.label"]," (",b.colorList.length,"/",20,")"]}),Object(m.jsxs)("div",{className:"angle-picker-container",children:[Object(m.jsx)("h2",{children:c["input.name-style.gradient.gradient-direction.label"]}),Object(m.jsx)(Tr.AnglePicker,{angle:d,size:120,setAngle:u})]})]}),Object(m.jsx)("div",{className:"stop-color-picker-container",children:Object(m.jsx)(Tr.GradientPicker,{width:370,paletteHeight:32,maxStops:20,minStops:2,stopRemovalDrop:99999,palette:b.colorList,onPaletteChange:e=>p((t=>Object(l.a)(Object(l.a)({},t),Nr(e)))),onColorStopSelect:e=>{var t;p((t=>Object(l.a)(Object(l.a)({},t),{},{currentControlId:e.id}))),null===(t=s.current)||void 0===t||t.setColor(e)},children:Object(m.jsx)(Rr,{ref:s,disabled:b.colorList.length<=1,onOffsetChange:f,onRemove:e=>{p((t=>{var a;const n=t.colorList.filter((t=>t.id!==e)),r=null!==(a=null===n||void 0===n?void 0:n[0].id)&&void 0!==a?a:-1;var o;r>0&&b.colorList[r]&&(null===(o=s.current)||void 0===o||o.setColor(b.colorList[r]));return Object(l.a)(Object(l.a)({},Nr(n)),{},{currentControlId:r})}))}})})})]})};var Er,Ir,Mr,Ar,Br;const Dr=Gt.b.div(Er||(Er=Object(Kt.a)(["\n    background-color: var(--main-level-4);\n    ","\n    padding: var(--spacing-xxs) var(--spacing-xs);\n    margin: calc(-1 * var(--spacing-xxs)) 0;\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n    color: var(--color-heavy);\n    cursor: pointer;\n    ","\n    &:hover {\n        background-color: var(--sub-level-4);\n    }\n"])),(e=>{let{$active:t}=e;return t?"border: var(--bw) solid var(--main-active);":"border: var(--bw) solid var(--sub-level-1);"}),(e=>{let{$softMode:t,$active:a}=e;return t?"\n                border: var(--bw) solid var(--main-level-4);\n                ".concat(a?"outline: var(--bw) solid var(--main-active);":"","\n            "):""})),Pr=Object(Gt.b)(br.Container)(Ir||(Ir=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 200px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    .alert {\n        grid-column: span 2;\n        font-size: var(--fs-sm);\n        text-align: center;\n    }\n"]))),Wr=Gt.b.div(Mr||(Mr=Object(Kt.a)(["\n    line-height: 0;\n    cursor: pointer;\n    align-self: center;\n    text-align: center;\n    &:not(.menu-off) {\n        min-height: 23.2px;\n        &.menu-active {\n            outline: var(--bw-lg) solid var(--main-active);\n            &:hover {\n                outline: var(--bw-lg) solid var(--sub-active);\n            }\n        }\n        :hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.menu-off {\n        &:hover {\n            color: var(--main-link);\n            .anticon {\n                color: var(--main-link);\n            }\n        }\n    }\n    img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n    }\n"]))),zr=Object(Gt.b)(br.Container)(Ar||(Ar=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: repeat(4, 120px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    &:focus-visible {\n        outline: none;\n        box-shadow: 0 0 0 2px var(--focus) inset;\n    }\n"]))),Hr=Gt.b.div(Br||(Br=Object(Kt.a)(["\n    line-height: 0;\n    cursor: pointer;\n    min-height: 26.13px;\n    &.menu-active {\n        outline: var(--bw-lg) solid var(--main-active);\n        &:hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.preset-item-focused {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    :hover {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    img {\n        max-width: 100%;\n    }\n"])));var Kr=a(517),Gr=a(273);const Yr=Object(n.forwardRef)(((e,t)=>{let{className:a,defaultValue:r,fieldMap:o,labelMap:i,onChange:c}=e;const s=ma(),{x:d,y:u,color:b,width:p}=o,[f,g]=Object(n.useState)((()=>{const e=r[d],t=r[u],a=r[b],n=r[p];return{x:null!==e&&void 0!==e?e:0,y:null!==t&&void 0!==t?t:0,width:null!==n&&void 0!==n?n:0,color:a}})),{x:h,y:v,color:y,width:j}=f,x=i[p];return Object(n.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&c(f)}),500),()=>{e=!1}}),[f]),Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{const t=Object.keys(e);for(const a in t)if(e[a]!==f[a])return void g((t=>Object(l.a)(Object(l.a)({},t),e)))}}))),Object(m.jsxs)("div",{className:a,children:[Object(m.jsx)("h2",{children:s["input.name-style.slider.position.label"]}),Object(m.jsxs)("div",{className:"line-position",children:[Object(m.jsx)(Gr.a,{axis:"xy",styles:{track:{backgroundColor:"var(--main-slider)",width:100,height:100,gridRow:"span 3",position:"relative"},thumb:{backgroundColor:"var(--sub-slider)",zIndex:10}},xmax:5,xmin:-5,ymax:5,ymin:-5,x:null!==h&&void 0!==h?h:0,y:null!==v&&void 0!==v?v:0,onChange:e=>{let{x:t,y:a}=e;return g((e=>Object(l.a)(Object(l.a)({},e),{},{x:t,y:a})))}}),Object(m.jsxs)("div",{className:"single-slider",children:[s["input.name-style.slider.x-offset.label"],": ",Object(m.jsx)(Sr.a,{size:"small",value:h,onChange:e=>g((t=>Object(l.a)(Object(l.a)({},t),{},{x:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})))})]}),Object(m.jsxs)("div",{className:"single-slider",children:[s["input.name-style.slider.y-offset.label"],": ",Object(m.jsx)(Sr.a,{size:"small",value:v,onChange:e=>g((t=>Object(l.a)(Object(l.a)({},t),{},{y:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})))})]}),Object(m.jsxs)("div",{className:"single-slider",children:[x,": ",Object(m.jsx)(Kr.a,{value:j,min:1,max:10,onChange:e=>{"number"===typeof e&&g((t=>Object(l.a)(Object(l.a)({},t),{},{width:e})))}})]})]}),Object(m.jsx)("h2",{children:s["input.name-style.slider.color.label"]}),Object(m.jsx)(kr.b,{colors:Ze,color:y,onChangeComplete:e=>g((t=>Object(l.a)(Object(l.a)({},t),{},{color:e.hex})))})]})})),Xr=Object(n.forwardRef)(((e,t)=>{let{active:a,value:r,onClick:o,onCancel:i}=e;const c=Object(n.useRef)(null),[s,d]=Object(n.useState)(0);return Object(n.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}}))),Object(m.jsx)(zr,Object(l.a)(Object(l.a)({ref:c},Mt({stopPropagation:!0,optionLength:x.length,setFocus:d,onTrigger:()=>{s>=0&&o(x[s])},onCancel:()=>{null===i||void 0===i||i()}})),{},{children:x.map(((e,t)=>{const{key:n,image:i,label:l}=e;return Object(m.jsx)(Hr,{className:zt("preset-item",r.preset===n&&a?"menu-active":"",s===t?"preset-item-focused":""),onClick:t=>{t.stopPropagation(),o(e)},children:Object(m.jsx)("img",{className:"preset-preview",src:"".concat("/ygocarder","/").concat(i),alt:l})},n)}))}))}));a(473);const Ur=Object(n.forwardRef)(((e,t)=>{let{frameInfo:a,defaultType:r,defaultValue:o,showExtraDecorativeOption:i,onChange:c}=e;const s=ma(),d=Object(n.useRef)(null),[u,b]=Object(n.useState)(-1),[f,g]=Object(n.useState)(!1),[h,v]=Object(n.useState)(r),[y,x]=Object(n.useState)(o),[O,F]=(()=>{const[e,t]=Object(n.useState)(0);return[Object(n.useCallback)((()=>{t((e=>e+1))}),[]),e]})(),k=Object(n.useRef)(ca()(c,250)).current,C=Object(n.useCallback)(((e,t)=>{x((a=>Object(l.a)(Object(l.a)({},a),{},{gradientAngle:t,gradientColor:Et(e)}))),O()}),[O]),S=ya((e=>e.setting.reduceMotionColor)),T=Object(n.useMemo)((()=>{return e=s,Object.values(U).map((t=>{let{value:a,labelKey:n}=t;return{label:e[n],value:a}}));var e}),[s]);Object(n.useEffect)((()=>{0!==F&&(v("custom"),k("custom",y))}),[F]);const R=Object(n.useRef)(null),N=Object(n.useRef)(null);Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{var t,a;x((t=>Object(l.a)(Object(l.a)({},t),e)));const{lineColor:n,lineWidth:r,lineOffsetX:o,lineOffsetY:i,shadowBlur:c,shadowColor:s,shadowOffsetX:d,shadowOffsetY:u}=e;null===(t=R.current)||void 0===t||t.setValue({x:d,y:u,width:c,color:s}),null===(a=N.current)||void 0===a||a.setValue({x:o,y:i,width:r,color:n})}})));const{fillStyle:L,headTextFillStyle:E,hasOutline:I,hasShadow:M,hasGradient:A,gradientColor:B,gradientAngle:D,pattern:P,font:W}=y,{labelBackgroundColor:z,labelBackgroundImage:H}=null!==a&&void 0!==a?a:{},K={background:z,backgroundImage:H},G="custom"===h,Y="predefined"===h,X="name-style-option-input-container",V=()=>{v("auto"),"auto"!==h&&k("auto",y)},q=()=>{var e;const t=y.preset?null===(e=j[y.preset])||void 0===e?void 0:e.value:{};v("predefined"),x((e=>Object(l.a)(Object(l.a)({},e),t))),k("predefined",Object(l.a)(Object(l.a)({},y),t))},J=()=>{v("custom"),"custom"!==h&&k("custom",y)};return Object(m.jsx)("div",{className:"ant-input-group-wrapper text-style-input",children:Object(m.jsxs)("span",{className:"ant-input-wrapper ant-input-group",children:[Object(m.jsx)("span",{className:"ant-input-group-addon",children:s["input.name-style.label"]}),Object(m.jsxs)("span",{className:"name-style-input-container",children:[Object(m.jsxs)("div",Object(l.a)(Object(l.a)({id:X,className:"ant-radio-group ant-radio-group-outline name-style-option-input-container"},Mt({setFocus:b,optionLength:3,onKeyPress:e=>{if(1===u&&("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key))return e.preventDefault(),b(1),g(!0),setTimeout((()=>{var e;1===u&&(null===(e=d.current)||void 0===e||e.focus())}),200),!1},onTrigger(){0===u&&V(),1===u&&q(),2===u&&J()}})),{},{children:[Object(m.jsxs)("label",{className:zt("ant-radio-wrapper","auto"===h&&"ant-radio-wrapper-checked",0===u&&"ant-radio-focused"),onClick:()=>V(),children:[Object(m.jsxs)("span",{className:"ant-radio ".concat("auto"===h?"ant-radio-checked":""),children:[Object(m.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"auto"}),Object(m.jsx)("span",{className:"ant-radio-inner"})]}),Object(m.jsx)("span",{className:"ant-radio-label",children:s["input.name-style.type.auto.label"]})]}),Object(m.jsx)("span",{className:"name-style-option-break"}),Object(m.jsx)("label",{className:zt("ant-radio-wrapper",Y&&"ant-radio-wrapper-checked",1===u&&"ant-radio-focused"),onClick:()=>q(),children:Object(m.jsx)(xn.a,{visible:f,onVisibleChange:g,trigger:["hover","click"],placement:"bottomLeft",overlayClassName:"predefined-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsx)(Xr,{ref:d,active:Y,value:y,onCancel:()=>{var e;g(!1),null===(e=document.getElementById(X))||void 0===e||e.focus()},onClick:e=>{var t;let{key:a}=e;const n=a?null===(t=j[a])||void 0===t?void 0:t.value:{};v("predefined"),x((e=>Object(l.a)(Object(l.a)({},e),n))),k("predefined",Object(l.a)(Object(l.a)({},y),n))}})}),children:Object(m.jsxs)("span",{className:"name-style-option-label",children:[Object(m.jsxs)("span",{className:"ant-radio ".concat(Y?"ant-radio-checked":""),children:[Object(m.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"predefined"}),Object(m.jsx)("span",{className:"ant-radio-inner"})]}),Object(m.jsx)("span",{className:"ant-radio-label",children:s["input.name-style.type.predefined.label"]})]})})}),Object(m.jsx)("span",{className:"name-style-option-break"}),Object(m.jsx)("label",{className:zt("ant-radio-wrapper",G&&"ant-radio-wrapper-checked",2===u&&"ant-radio-focused"),onClick:()=>J(),children:Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{className:"ant-radio ".concat(G?"ant-radio-checked":""),children:[Object(m.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"custom"}),Object(m.jsx)("span",{className:"ant-radio-inner"})]}),Object(m.jsx)("span",{className:"ant-radio-label ant-radio-label-custom",children:s["input.name-style.type.custom.label"]})]})})]})),Object(m.jsxs)("div",{className:"style-picker",children:[Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsxs)("div",{className:"custom-style-picker",children:[Object(m.jsxs)("div",{className:"custom-style-text",children:[Object(m.jsx)("h3",{children:s["input.name-style.color.text.label"]}),Object(m.jsx)(kr.b,{colors:Ze,color:L,onChangeComplete:e=>{v("custom"),x((t=>Object(l.a)(Object(l.a)({},t),{},{fillStyle:e.hex}))),O()}})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:"custom-style-text",children:[Object(m.jsx)("h3",{children:s["input.name-style.color.ruby.label"]}),Object(m.jsx)(kr.b,{colors:Ze,color:E,onChangeComplete:e=>{v("custom"),x((t=>Object(l.a)(Object(l.a)({},t),{},{headTextFillStyle:e.hex}))),O()}})]})]})}),placement:"bottom",children:Object(m.jsxs)(Dr,{$softMode:S,className:"picker-dropdown color-picker-dropdown",children:[s["input.name-style.color.label"]," ",Object(m.jsx)(Cr.a,{})]})},"color-picker"),i&&Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsxs)("div",{className:"custom-style-picker",children:[Object(m.jsx)("h3",{className:"custom-style-expand",children:Object(m.jsx)(Vt.a,{value:"has-shadow",checked:M,onChange:()=>{v("custom"),x((e=>Object(l.a)(Object(l.a)({},e),{},{hasShadow:!e.hasShadow}))),O()},children:s["input.name-style.shadow.toggle.label"]})}),M&&Object(m.jsx)(Yr,{ref:R,className:"custom-style-shadow",fieldMap:{color:"shadowColor",width:"shadowBlur",x:"shadowOffsetX",y:"shadowOffsetY"},labelMap:{shadowBlur:s["input.name-style.slider.blur.label"]},defaultValue:y,onChange:e=>{let{color:t,width:a,x:n,y:r}=e;x((e=>Object(l.a)(Object(l.a)({},e),{},{shadowBlur:a,shadowColor:t,shadowOffsetX:n,shadowOffsetY:r}))),O()}})]})}),placement:"bottom",children:Object(m.jsxs)(Dr,{$softMode:S,$active:G&&M,className:"picker-dropdown shadow-picker-dropdown",children:[s["input.name-style.shadow.label"]," ",Object(m.jsx)(Cr.a,{})]})},"shadow-picker"),Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsxs)("div",{className:"custom-style-picker",children:[Object(m.jsx)("h3",{className:"custom-style-expand",children:Object(m.jsx)(Vt.a,{value:"has-line",checked:I,onChange:()=>{v("custom"),x((e=>Object(l.a)(Object(l.a)({},e),{},{hasOutline:!e.hasOutline}))),O()},children:s["input.name-style.outline.toggle.label"]})}),I&&Object(m.jsx)(Yr,{ref:N,className:"custom-style-line",fieldMap:{color:"lineColor",width:"lineWidth",x:"lineOffsetX",y:"lineOffsetY"},labelMap:{lineWidth:s["input.name-style.slider.thickness.label"]},defaultValue:y,onChange:e=>{let{color:t,width:a,x:n,y:r}=e;x((e=>Object(l.a)(Object(l.a)({},e),{},{lineWidth:a,lineColor:t,lineOffsetX:n,lineOffsetY:r}))),O()}})]})}),placement:"bottom",children:Object(m.jsxs)(Dr,{$softMode:S,$active:G&&I,className:"picker-dropdown outline-picker-dropdown",children:[s["input.name-style.outline.label"]," ",Object(m.jsx)(Cr.a,{})]})},"outline-picker"),i&&Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsxs)("div",{className:"custom-style-picker",children:[Object(m.jsx)("h3",{className:"custom-style-expand",children:Object(m.jsx)(Vt.a,{value:"has-gradient",checked:A,onChange:()=>{v("custom"),x((e=>Object(l.a)(Object(l.a)({},e),{},{hasGradient:!e.hasGradient}))),O()},children:s["input.name-style.gradient.toggle.label"]})}),A&&Object(m.jsx)("div",{className:"custom-style-gradient",children:Object(m.jsx)(Lr,{angle:D,palette:B,memoizedOnChange:C})})]})}),placement:"bottom",children:Object(m.jsxs)(Dr,{$softMode:S,$active:G&&A,className:"picker-dropdown gradient-picker-dropdown",children:[s["input.name-style.gradient.label"]," ",Object(m.jsx)(Cr.a,{})]})},"gradient-picker"),i&&Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsxs)(Pr,{onClick:e=>e.stopPropagation(),children:[Object(m.jsx)("div",{className:"alert",children:s["input.name-style.pattern.alert"]}),w.map((e=>{let{key:t,patternImage:a}=e;return Object(m.jsx)(Wr,{className:["pattern-option",y.pattern===t?"menu-active":"",a?"":"menu-off"].join(" "),onClick:()=>{x((e=>Object(l.a)(Object(l.a)({},e),{},{pattern:t}))),O()},children:a?Object(m.jsx)("img",{style:a?K:{},className:"pattern-image",src:"".concat("/ygocarder","/asset/image/finish-name/").concat(a,".png"),alt:t}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.a,{})," ",s["input.name-style.pattern.no-pattern.label"]]})},t)}))]})}),placement:"bottomLeft",children:Object(m.jsx)(Dr,{$softMode:S,$active:G&&"string"===typeof P&&"none"!==P,className:"picker-dropdown pattern-picker-dropdown",children:s["input.name-style.pattern.label"]})},"pattern-picker"),Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay font-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsx)(br.Container,{children:T.map((e=>{let{value:t,label:a}=e;return Object(m.jsx)(br.Option,{className:W===t?"menu-active":"",onClick:()=>{x((e=>Object(l.a)(Object(l.a)({},e),{},{font:t}))),O()},children:a},t)}))})}),placement:"bottomLeft",children:Object(m.jsx)(Dr,{$softMode:S,className:"picker-dropdown font-picker-dropdown",children:s["input.name-style.font.label"]})},"font-picker")]})]})]})})}));var Vr,qr;const Jr=Object(Gt.a)(Vr||(Vr=Object(Kt.a)(["\n    display: flex;\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n        display: flex;\n        flex: 1 1 auto;\n\t\t&:focus-visible {\n\t\t\t.radio-train-focused,\n\t\t\t.checkbox-train-focused {\n\t\t\t\tbackground-color: var(--main-level-3);\n\t\t\t}\n\t\t}\n    }\n    .ant-radio-button-wrapper {\n        user-select: none;\n    }\n    .ant-radio-button-wrapper:first-child,\n    .ant-radio-button-wrapper:last-child {\n        border-radius: 0;\n    }\n    .ant-radio-button-wrapper:not(.ant-radio-button-wrapper-checked):first-child {\n        border-left-color: var(--sub-level-1);\n    }\n"]))),$r=Object(Gt.a)(qr||(qr=Object(Kt.a)(["\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tcolumn-gap: var(--spacing-xs);\n\t\trow-gap: var(--spacing-xs);\n\t\tbox-shadow: none;\n\t\tborder-radius: 0;\n\t\t&:focus-visible {\n\t\t\toutline: 3px solid var(--focus); // +1 width size to account for shadow\n\t\t}\n\t\t.ant-radio-button-wrapper:first-child,\n\t\t.ant-radio-button-wrapper:last-child {\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1;\n\t\t\twhite-space: nowrap;\n\t\t\tborder: none;\n\t\t\tbox-shadow: var(--bs-1);\n\t\t\tpadding: 0;\n\t\t\tmin-width: 90px;\n\t\t\theight: 28px;\n\t\t\tline-height: 28px;\n\t\t\ttext-align: center;\n\t\t\ttext-shadow: none;\n\t\t\tfont-size: var(--fs-sm);\n\t\t\t&:hover {\n\t\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\t\toutline-offset: var(--bw);\n\t\t\t}\n\t\t\t&::before {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t.ant-radio-button-wrapper-checked {\n\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\toutline-offset: var(--bw);\n\t\t}\n\t}\n"])));var _r;const Zr=Gt.b.div(_r||(_r=Object(Kt.a)(["\n    ","\n"])),Jr),Qr=Object(n.forwardRef)(((e,t)=>{let{onChange:a,value:r,optionList:o,children:i,suffix:c,className:s,strict:d=!1}=e;const[u,b]=Object(n.useState)(-1),p=Object(n.useRef)(null),f=o.length;return Object(n.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()}}))),Object(m.jsxs)(Zr,{className:["ant-radio-group ant-radio-group-outline radio-train",s].join(" "),children:[i&&Object(m.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:i}),Object(m.jsx)("div",Object(l.a)(Object(l.a)({ref:p,className:"radio-train-input-group"},Mt({setFocus:b,optionLength:f,onTrigger:()=>{const e=o[u];e&&a(e.value)}})),{},{children:o.map(((e,t)=>{let{value:n,props:o,label:i,tooltipProps:c}=e;const{className:s}=null!==o&&void 0!==o?o:{},b=d?n===r:"".concat(n)==="".concat(r);return Object(m.jsx)(Xt.a,Object(l.a)(Object(l.a)({overlay:null},c),{},{children:Object(m.jsxs)("label",Object(l.a)(Object(l.a)({},o),{},{className:["ant-radio-button-wrapper",b?"ant-radio-button-wrapper-checked":"",null!==s&&void 0!==s?s:"",u===t?"radio-train-focused":""].join(" "),onClick:()=>a(n),children:[Object(m.jsx)("span",{className:"ant-radio-button ".concat(b?"ant-radio-button-checked":""),children:Object(m.jsx)("span",{className:"ant-radio-button-inner"})}),Object(m.jsx)("span",{className:"label",children:i})]}))}),n)}))})),c]})}));var eo;const to=Object(Gt.b)(Qr)(eo||(eo=Object(Kt.a)(["\n\t","\n"])),$r),ao=e=>{let{onSTFrameChange:t}=e;const{setting:a}=ya(),{showExtraDecorativeOption:r}=a,o=Object(n.useMemo)((()=>gr().filter((e=>r||"normal"===e.edition))),[r]),{frame:i,setCard:c}=va(Object(hn.useShallow)((e=>{let{card:t,setCard:a}=e;return{frame:t.frame,setCard:a}}))),s=Object(n.useCallback)((e=>{c((a=>{const{typeAbility:n,isPendulum:r,attribute:o,format:i}=a,c="".concat(e),s="spell"===c||"trap"===c,d="tcg"===i?{"Spell Card":"Spell Card","Trap Card":"Trap Card"}:ae,u="spell"===c?[d["Spell Card"]]:"trap"===c?[d["Trap Card"]]:n;return s&&t(u),Object(l.a)(Object(l.a)({},a),{},{frame:c,isPendulum:"link"!==c&&r,attribute:s?"".concat(c).toUpperCase():o,typeAbility:u})}))}),[c,t]);return Object(m.jsx)(to,{className:"frame-radio",value:i,onChange:s,optionList:o})};var no;const ro=Gt.b.div(no||(no=Object(Kt.a)(["\n    ","\n"])),Jr),oo=e=>{let{onChange:t,value:a,optionList:r,children:o,className:i}=e;const[c,s]=Object(n.useState)(-1),d=r.length;return Object(m.jsxs)(ro,{className:["ant-radio-group ant-radio-group-outline checkbox-train",i].join(" "),children:[o&&Object(m.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:o}),Object(m.jsx)("div",Object(l.a)(Object(l.a)({className:"checkbox-train-input-group"},Mt({setFocus:s,optionLength:d,onTrigger:()=>{const e=r[c];if(e){const n=!!Array.isArray(a)&&a.includes("".concat(e.value));t(n?a.filter((t=>"".concat(e.value)!==t)):[...a,"".concat(e.value)])}}})),{},{children:r.map(((e,n)=>{const{label:r,value:o,props:i}=e,s=!!Array.isArray(a)&&a.includes("".concat(o));return Object(m.jsxs)("label",Object(l.a)(Object(l.a)({},i),{},{className:["ant-radio-button-wrapper",s?"ant-radio-button-wrapper-checked":"",c===n?"checkbox-train-focused":""].join(" "),onClick:()=>{t(s?a.filter((e=>"".concat(o)!==e)):[...a,"".concat(o)])},children:[Object(m.jsx)("span",{className:"ant-radio-button ".concat(s?"ant-radio-button-checked":""),children:Object(m.jsx)("span",{className:"ant-radio-button-inner"})}),Object(m.jsx)("span",{className:"label",children:r})]}),o)}))}))]})};var io;const lo=Object(Gt.b)(yn)(io||(io=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: max-content max-content;\n    align-items: start;\n    gap: 0;\n    .card-image-source-input {\n        display: flex;\n        flex-direction: column-reverse;\n        .online-image-tip {\n            text-align: center;\n        }\n    }\n    .card-cropper {\n        width: 375px;\n        text-align: center;\n    }\n"]))),co=Object(n.forwardRef)(((e,t)=>{let{backgroundColor:a,children:r,receivingCanvas:o,onSourceLoaded:i,onTainted:c,onCropChange:s}=e;const d=ma(),{background:u,backgroundCrop:p,backgroundType:f,backgroundData:g,backgroundSource:h,backgroundFit:v,isPendulum:y,opacity:j,getUpdater:x,setCard:O}=va(Object(hn.useShallow)((e=>{let{card:{background:t,backgroundCrop:a,backgroundType:n,backgroundData:r,backgroundSource:o,backgroundFit:i,isPendulum:l,opacity:c},getUpdater:s,setCard:d}=e;return{background:t,backgroundCrop:a,backgroundType:n,backgroundData:r,backgroundSource:o,backgroundFit:i,isPendulum:l,opacity:c,getUpdater:s,setCard:d}}))),w=Object(n.useRef)(null),F=Object(n.useMemo)((()=>x("backgroundSource")),[x]),k=Object(n.useMemo)((()=>x("background")),[x]),C=Object(n.useMemo)((()=>x("backgroundData")),[x]),S=Object(n.useCallback)((e=>O((t=>Object(l.a)(Object(l.a)({},t),{},{backgroundFit:e})))),[O]),T=Object(n.useCallback)(((e,t)=>{null===s||void 0===s||s(e,t),e&&O((t=>Object(l.a)(Object(l.a)({},t),{},{backgroundCrop:e})))}),[s,O]);return Object(n.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=w.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},hasImage:()=>{var e,t;return null!==(e=null===(t=w.current)||void 0===t?void 0:t.hasImage())&&void 0!==e&&e},setValue:e=>{let{background:t,backgroundCrop:a,backgroundData:n,backgroundSource:r}=e;var o,i;"offline"===r?"string"===typeof n&&a&&(null===(o=w.current)||void 0===o||o.forceSource("offline",n,a)):"string"===typeof t&&a&&(null===(i=w.current)||void 0===i||i.forceSource("online",t,a))}}))),Object(m.jsx)(lo,{ref:w,title:d["input.background-image.label"],backgroundColor:a,defaultSourceType:h,defaultInternalSource:g,defaultExternalSource:u,defaultCropInfo:p,receivingCanvas:o,forceFit:v,onSourceChange:(e,t)=>{F(e),"offline"===e?C(t):k(t)},onCropChange:T,onTainted:c,onSourceLoaded:i,onForceFitChange:S,onMaxSizeExceeded:e=>{ua.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:b(y,j,f).ratio,beforeCropper:null,children:r})}));var so=a(538);a(474);const uo=["background","backgroundCrop","backgroundData","backgroundSource"];var bo,po,mo;const fo=Gt.b.span(bo||(bo=Object(Kt.a)(["\n    white-space: pre-line;\n"]))),go=Gt.b.div(po||(po=Object(Kt.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    padding: 2px 0;\n    align-items: center;\n    .slider-label,\n    .ant-slider,\n    .slider-padding {\n        border: var(--bw) solid var(--sub-level-1);\n        background-color: var(--main-level-4);\n    }\n    .slider-label {\n        display: inline-flex;\n        column-gap: var(--spacing-xs);\n        border-right: none;\n        padding: var(--spacing-xxs) var(--spacing-xs);\n        border-radius: var(--br) 0 0 var(--br);\n        box-shadow: var(--bs-input);\n        .ant-checkbox-wrapper {\n            transform: translateY(-1px); // Alignment\n        }\n    }\n    .ant-slider {\n        margin: 0;\n        border-left: none;\n        border-right: none;\n        height: 28px; // Alignment\n        padding-top: 11px; // Alignment\n    }\n    .slider-padding {\n        border-left: none;\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .ant-slider-rail,\n    .ant-slider-track {\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .card-opacity-slider {\n        flex: 0 1 auto;\n        display: grid;\n        grid-template-columns: max-content 60px 45px 12px;\n        &.inactive {\n            .slider-label,\n            .ant-slider,\n            .slider-padding {\n                background-color: var(--main-level-3);\n            }\n        }\n    }\n    .ant-input-number.ant-input-number-sm {\n        height: 28px; // Alignment\n        width: unset;\n        border-radius: 0;\n        box-shadow: var(--bs-input);\n        .ant-input-number-input {\n            height: 26px; // Alignment\n        }\n    }\n    .background-preview {\n        display: inline-block;\n        line-height: 0;\n        width: 17px;\n        height: 17px; // Alignment\n        align-self: center;\n        border: 1px solid #333333;\n        cursor: pointer;\n        text-align: center;\n        user-select: none;\n        &:hover {\n            box-shadow: 0 0 2px 0 #222222;\n        }\n        .background-image-preview {\n            max-width: 15px;\n            max-height: 15px;\n        }\n        .no-background-icon {\n            font-size: 15px; // Alignment\n        }\n    }\n"]))),ho=Gt.b.div(mo||(mo=Object(Kt.a)(["\n    --input-width: 315px;\n    &.overlay-no-background-image {\n        .card-image-cropper {\n            grid-template-columns: 1fr;\n        }\n        .card-cropper {\n            min-height: 0;\n            line-height: 0;\n            width: 0;\n            visibility: hidden;\n            position: absolute;\n        }\n        .card-image-source-input {\n            padding-right: 0;\n            margin-right: 0;\n            border-right: none;\n        }\n        i {\n            max-width: var(--input-width); // Alignment\n        }\n    }\n    i {\n        display: inline-block;\n        font-size: var(--fs-sm);\n        color: var(--color);\n        font-weight: normal;\n    }\n    .background-picker {\n        padding: var(--spacing-xs);\n        /** No display none here, again we want to keep card cropper painted, just not visible */\n        &.overlay-no-background {\n            visibility: hidden;\n            height: 0;\n            width: 0;\n            padding: 0;\n        }\n        .card-image-input {\n            text-align: center;\n            max-width: var(--input-width);\n        }\n    }\n    .card-image-source-input {\n        height: 100%;\n        justify-content: start;\n        padding-right: var(--spacing-xs);\n        margin-right: var(--spacing-xs);\n        border-right: var(--bw) solid var(--sub-level-4);\n        .type-section h2 {\n            margin-top: var(--spacing-xs);\n        }\n        .color-section h2 {\n            padding-top: 0;\n            padding-left: 0;\n        }\n    }\n    .color-section {\n        > h2 + div {\n            > div:first-child {\n                box-shadow: none !important; // Override inline style\n            }\n            > div:nth-child(2) {\n                border: var(--bw) solid var(--main-level-1);\n            }\n        }\n    }\n"]))),vo=Object(n.forwardRef)(((e,t)=>{var a;let{receivingCanvas:r,defaultValue:o,onTainted:i,onChange:c,onSourceLoaded:u,onCropChange:b}=e;const p=ma(),{hasBackground:f,backgroundType:g,isPendulum:h,background:v,setCard:y,getUpdater:j}=va(Object(hn.useShallow)((e=>{let{card:{isPendulum:t,hasBackground:a,backgroundType:n,background:r},setCard:o,getUpdater:i}=e;return{hasBackground:a,backgroundType:n,isPendulum:t,background:r,setCard:o,getUpdater:i}}))),[x,O]=Object(n.useState)(!0),[w,F]=Object(n.useState)(!0),[k,C]=Object(n.useState)(Object(l.a)(Object(l.a)({},d()),o)),S=Object(n.useRef)(null),T=Object(n.useMemo)((()=>j("backgroundType")),[j]),R=Object(n.useCallback)((e=>y((t=>{const a=e.target.checked;return Object(l.a)(Object(l.a)({},t),{},{hasBackground:a})}))),[y]);Object(n.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&c(k)}),500),()=>{e=!1}}),[k]),Object(n.useEffect)((()=>{O(!1),setTimeout((()=>{F(!1)}),250)}),[]),Object(n.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:e=>{let{background:t,backgroundCrop:a,backgroundData:n,backgroundSource:r}=e,o=Object(bt.a)(e,uo);var i;"string"!==typeof t&&"string"!==typeof n||!a||(null===(i=S.current)||void 0===i||i.setValue({background:t,backgroundCrop:a,backgroundData:n,backgroundSource:r}));for(const c in o)o[c]!==k[c]&&C((e=>Object(l.a)(Object(l.a)({},e),o)))}})));const N=0===(null!==v&&void 0!==v?v:"").length&&!0!==(null===(a=S.current)||void 0===a?void 0:a.hasImage());return Object(m.jsxs)(go,{className:"card-opacity-slider-container",children:[Object(m.jsx)(Xt.a,{overlayClassName:"long-tooltip-overlay",title:Object(m.jsx)(fo,{children:p["input.opacity.boundless.tooltip"]}),children:Object(m.jsx)(Vt.a,{className:"art-frame",onChange:e=>C((t=>Object(l.a)(Object(l.a)({},t),{},{boundless:e.target.checked}))),checked:k.boundless,children:p["input.opacity.boundless.label"]})}),_e.map((e=>{var t,a,n;let{labelKey:o,type:c,subType:d,tooltipKey:y}=e;if("pendulum"===c&&!h)return null;const j=!!d,F=d&&k[d];return Object(m.jsxs)("div",{className:["card-opacity-slider",F?"":"inactive"].join(" "),children:[Object(m.jsxs)("div",{className:"slider-label",children:["body"===c&&Object(m.jsx)(xn.a,{visible:x,destroyTooltipOnHide:!1,trigger:["click"],onVisibleChange:O,overlayClassName:["global-input-overlay global-style-picker-overlay layout-picker-overlay",x?"picker-visible":"",w?"picker-hidden":""].join(" "),content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsxs)(ho,{className:["custom-style-picker",N?"overlay-no-background-image":""].join(" "),children:[Object(m.jsxs)("h3",{className:"custom-style-expand ".concat(f?"":"inactive"),children:[Object(m.jsx)(Vt.a,{checked:f,onChange:e=>{R(e)},children:p["input.background.toggle-label"]}),Object(m.jsx)("br",{}),Object(m.jsx)("i",{children:p["input.background.description"]})]}),Object(m.jsx)("div",{className:"background-picker ".concat(f?"":"overlay-no-background"),children:Object(m.jsx)(co,{ref:S,receivingCanvas:r,onSourceLoaded:u,onTainted:i,onCropChange:b,backgroundColor:k.baseFill,children:Object(m.jsxs)("div",{className:"layout-picker-panel",children:[Object(m.jsxs)("div",{className:"layout-picker-subpanel color-section",children:[Object(m.jsx)("h2",{children:p["input.background-color.label"]}),Object(m.jsx)(kr.b,{colors:Ze,color:k.baseFill,onChangeComplete:e=>{C((t=>Object(l.a)(Object(l.a)({},t),{},{baseFill:e.hex})))}})]}),!N&&Object(m.jsxs)("div",{className:"layout-picker-subpanel type-section",children:[Object(m.jsx)("h2",{children:p["input.background-type.label"]}),Object(m.jsx)(Qr,{onChange:T,optionList:(L={fit:p["input.background-type.fit.label"],full:p["input.background-type.full.label"]},[{value:"fit",label:L.fit},{value:"full",label:L.full}]),value:g})]})]})})})]})}),placement:"bottom",children:Object(m.jsx)("div",{className:"background-preview",style:{backgroundColor:f?k.baseFill:s},children:f?v?Object(m.jsx)("img",{className:"background-image-preview",src:v,alt:"Background"}):null:Object(m.jsx)(so.a,{className:"no-background-icon"})})}),j&&Object(m.jsx)(Xt.a,{title:y&&null!==(t=p[y])&&void 0!==t?t:null,overlayClassName:"long-tooltip-overlay",children:Object(m.jsx)(Vt.a,{checked:F,onChange:e=>d&&C((t=>Object(l.a)(Object(l.a)({},t),{},{[d]:e.target.checked})))})}),p[o]]}),Object(m.jsx)(Sr.a,{size:"small",min:0,max:100,onChange:e=>C((t=>Object(l.a)(Object(l.a)({},t),{},{[c]:"number"===typeof e?e:100}))),value:null!==(a=k[c])&&void 0!==a?a:100}),Object(m.jsx)(Kr.a,{min:0,max:100,step:5,onChange:e=>C((t=>Object(l.a)(Object(l.a)({},t),{},{[c]:e}))),value:null!==(n=k[c])&&void 0!==n?n:100}),Object(m.jsx)("div",{className:"slider-padding"})]},c);var L}))]})}));var yo,jo,xo=a(539),Oo=a(540),wo=a(541);const Fo=Object(Gt.b)(br.Container)(yo||(yo=Object(Kt.a)(["\n    img.icon-image {\n        width: var(--fs-lg);\n    }\n"]))),ko=Object(Gt.b)(Qr)(jo||(jo=Object(Kt.a)(["\n    .custom-star-input {\n        width: 6.5rem;\n    }\n    .checkbox-star-suffix {\n        display: flex;\n        flex-wrap: wrap;\n        column-gap: var(--spacing-sm);\n        row-gap: var(--spacing-xxs);\n        margin-left: var(--spacing-sm);\n    }\n"]))),Co=Object(n.forwardRef)(((e,t)=>{let{isLink:a,isMonster:r,showCreativeOption:o}=e;const i=ma(),{frame:l,subFamily:c,cardIcon:s,star:d,starAlignment:u,getUpdater:b}=va(Object(hn.useShallow)((e=>{let{card:{frame:t,subFamily:a,cardIcon:n,star:r,starAlignment:o},getUpdater:i}=e;return{frame:t,subFamily:a,cardIcon:n,star:r,starAlignment:o,getUpdater:i}}))),f="dark-synchro"==={frame:l}.frame;const g=Qe({frame:l}),y=Object(n.useMemo)((()=>b("cardIcon")),[b]),j=Object(n.useMemo)((()=>b("subFamily")),[b]),x=Object(n.useMemo)((()=>b("star")),[b]),O=Object(n.useMemo)((()=>b("starAlignment")),[b]);Object(n.useImperativeHandle)(t,(()=>({})));const w="auto"===s?vr[r?g?"rank":f?"negative-level":"level":"st"]:vr[s],F=i[w.labelKey],k=o?Object(m.jsxs)(m.Fragment,{children:[F," ",Object(m.jsx)(Cr.a,{})]}):F,C=Object(m.jsx)(xn.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsx)(Fo,{children:yr.map((e=>{let{fullLabelKey:t,value:a,icon:n}=e;return Object(m.jsxs)(br.Option,{className:a===s?"menu-active":"",onClick:()=>y(a),children:[n?Object(m.jsxs)(m.Fragment,{children:[n,"\xa0"]}):null,i[t]]},a)}))})}),placement:"bottomRight",children:Object(m.jsx)("span",{className:"card-icon-dropdown ".concat("auto"===s?"":"active"," ").concat(o?"":"disabled"),children:k})},"icon-type-picker"),S=o?C:k;return a?null:"st"===w.value?Object(m.jsx)(Qr,{className:"fill-input-train",value:c,onChange:j,optionList:(T=i,v.map((e=>{let{value:t,nameKey:a}=e;return{label:t===h?Object(m.jsx)(p.a,{}):Object(m.jsx)(Xt.a,{overlay:T[a],children:Object(m.jsx)("img",{alt:T[a],src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-").concat(t.toLowerCase(),".png")})}),value:t}}))),children:S}):Object(m.jsx)(ko,{className:"checkbox-star-train",value:d,onChange:x,optionList:hr,strict:!0,suffix:o&&Object(m.jsxs)("div",{className:"checkbox-star-suffix",children:[Object(m.jsx)(Ut.a,{className:"custom-star-input",value:"number"===typeof d?"":d,allowClear:!0,onChange:x,placeholder:i["input.icon-type.custom.placeholder"]}),Object(m.jsx)(Qr,{value:u,onChange:O,optionList:[{value:"auto",tooltipProps:{overlay:i["input.icon-type.alignment.auto"]},label:Object(m.jsx)(p.a,{})},{value:"left",tooltipProps:{overlay:i["input.icon-type.alignment.left"]},label:Object(m.jsx)(xo.a,{})},{value:"center",tooltipProps:{overlay:i["input.icon-type.alignment.center"]},label:Object(m.jsx)(Oo.a,{})},{value:"right",tooltipProps:{overlay:i["input.icon-type.alignment.right"]},label:Object(m.jsx)(wo.a,{})}]})]}),children:S});var T})),So=new Set(["1","2","3","4","5"]),To=(e,t,a,n,r,o)=>{const i=e.substring(a,n),l="\n"===e[n]||!r;let c=i,s=2;switch(t){case"1":c="[".concat(i,"]").concat(l?"":"\n"),s=l?2:3;break;case"2":c="{".concat(i,"}");break;case"3":c="{".concat(i,"|}");break;case"4":c="{".concat(i,"||}"),s=3;break;case"5":c="{{".concat(i,"}}"),s=4}o(e.substring(0,a)+"".concat(c)+e.substring(n,e.length),n+s)},Ro=e=>{let{id:t,placement:a}=e;if(t&&a>=0){var n;const e=document.querySelector("#".concat(t));e&&(null!==(n=e.selectionEnd)&&void 0!==n?n:-1)>=0&&(e.selectionEnd=a)}},No=["id","allowHotkey","defaultValue","onTakePicker","onChange","onKeyDown","className"],{TextArea:Lo}=Ut.a,Eo=Object(n.forwardRef)(((e,t)=>{let{id:a,allowHotkey:r,defaultValue:o,onTakePicker:i,onChange:c,onKeyDown:s,className:d}=e,u=Object(bt.a)(e,No);const b=Object(n.useRef)(o),[p,f]=Object(n.useState)(o),[g,h]=Object(n.useState)({id:"",placement:-1}),v=Object(n.useCallback)((e=>{const t="string"===typeof e?e:e.target.value;b.current=t,f(t)}),[]);Object(n.useEffect)((()=>{Ro(g)}),[g]),Object(n.useEffect)((()=>{c({target:{value:p}})}),[p]);const y=e=>{e!==b.current&&v(e)};return Object(n.useImperativeHandle)(t,(()=>({setValue:y,getPickerRef:()=>a?{id:a,setValue:y}:null}))),Object(m.jsx)(Lo,Object(l.a)({id:a,autoComplete:"off",onFocus:()=>a&&(null===i||void 0===i?void 0:i({id:a,setValue:y})),allowClear:!0,spellCheck:!1,className:"".concat(a,"-input ").concat(d),value:p,onKeyDown:e=>{var t,n;if(null===s||void 0===s||s(e),!r)return;const{ctrlKey:o,key:i,metaKey:l}=e,c=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,d=null!==(n=e.currentTarget.selectionEnd)&&void 0!==n?n:-1;(o||l)&&a&&d!==c&&So.has(i)&&(e.preventDefault(),To(e.currentTarget.value,i,c,d,!0,((e,t)=>{v(e),h({id:a,placement:t})})))},onChange:v},u))})),Io=["id","defaultValue","onTakePicker","onChange","onKeyDown","className"],Mo=Object(n.forwardRef)(((e,t)=>{let{id:a,defaultValue:r,onTakePicker:o,onChange:i,onKeyDown:c,className:s}=e,d=Object(bt.a)(e,Io);const{setting:u}=ya(),{allowHotkey:b}=u,p=Object(n.useRef)(r),[f,g]=Object(n.useState)(r),[h,v]=Object(n.useState)({id:"",placement:-1}),y=Object(n.useCallback)((e=>{const t="string"===typeof e?e:e.target.value;p.current=t,g(t)}),[]);Object(n.useEffect)((()=>{Ro(h)}),[h]),Object(n.useEffect)((()=>{i({target:{value:f}})}),[f]);const j=e=>{e!==f&&y(e)};return Object(n.useImperativeHandle)(t,(()=>({setValue:j}))),Object(m.jsx)(Ut.a,Object(l.a)({id:a,autoComplete:"off",onFocus:()=>a&&(null===o||void 0===o?void 0:o({id:a,setValue:j})),allowClear:!0,className:"".concat(a,"-input ").concat(s),value:f,onKeyDown:e=>{var t,n;if(null===c||void 0===c||c(e),!b)return;const{ctrlKey:r,key:o,metaKey:i}=e,l=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,s=null!==(n=e.currentTarget.selectionEnd)&&void 0!==n?n:-1;(r||i)&&a&&s!==l&&So.has(o)&&(e.preventDefault(),To(e.currentTarget.value,o,l,s,!1,((e,t)=>{y(e),v({id:a,placement:t})})))},onChange:e=>y(e.target.value)},d))})),Ao=Object(n.forwardRef)(((e,t)=>{let{onTakePicker:a}=e;const r=va((e=>e.getUpdater)),o=Object(n.useRef)(null),i=Object(n.useMemo)((()=>r("effect",void 0,"debounce")),[r]);return Object(n.useEffect)((()=>{var e;const t=null===(e=o.current)||void 0===e?void 0:e.getPickerRef();t&&(null===a||void 0===a||a(t))}),[]),Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{var t;null===(t=o.current)||void 0===t||t.setValue(e)}}))),Object(m.jsx)(Eo,{ref:o,id:"effect",allowHotkey:!0,defaultValue:va.getState().card.effect,onChange:i,onTakePicker:a,rows:9})}));var Bo;const Do=Gt.b.div(Bo||(Bo=Object(Kt.a)(["\n    align-self: center;\n    text-align: right;\n    .ant-checkbox + span {\n        user-select: none;\n    }\n"]))),Po=e=>{const t=ma(),{isDuelTerminalCard:a,isFirstEdition:r,isSpeedCard:o,isLimitedEdition:i,isLegacyCard:c,setCard:s}=va(Object(hn.useShallow)((e=>{let{card:t,setCard:a}=e;return{isSpeedCard:t.isSpeedCard,isDuelTerminalCard:t.isDuelTerminalCard,isFirstEdition:t.isFirstEdition,isLimitedEdition:t.isLimitedEdition,isLegacyCard:t.isLegacyCard,setCard:a}}))),d=Object(n.useCallback)((e=>s((t=>{let a;return a=e.target.checked?c?{isDuelTerminalCard:!1,isFirstEdition:!0,isLimitedEdition:!1,isSpeedCard:!1}:{isFirstEdition:!0,isLimitedEdition:!1}:{isFirstEdition:!1},Object(l.a)(Object(l.a)({},t),a)}))),[s,c]),u=Object(n.useCallback)((e=>s((t=>{let a;return a=e.target.checked?c?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!0,isSpeedCard:!1}:{isFirstEdition:!1,isLimitedEdition:!0}:{isLimitedEdition:!1},Object(l.a)(Object(l.a)({},t),a)}))),[s,c]),b=Object(n.useCallback)((e=>s((t=>{let a;return a=e.target.checked?c?{isDuelTerminalCard:!0,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!1}:{isSpeedCard:!1,isDuelTerminalCard:!0}:{isDuelTerminalCard:!1},Object(l.a)(Object(l.a)({},t),a)}))),[s,c]),p=Object(n.useCallback)((e=>s((t=>{let a;return a=e.target.checked?c?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!0}:{isDuelTerminalCard:!1,isSpeedCard:!0}:{isSpeedCard:!1},Object(l.a)(Object(l.a)({},t),a)}))),[s,c]),f=Object(n.useCallback)((e=>s((t=>{const a=e.target.checked,{isDuelTerminalCard:n,isFirstEdition:r,isLimitedEdition:o,isSpeedCard:i}=t;let c=!1,s=!1,d=!1,u=!1;return a?(s=r,u=!s&&i,c=!u&&!s&&n,d=!(c||s||d)&&o):(s=r,d=!s&&o,u=i,c=!u&&n),Object(l.a)(Object(l.a)({},t),{},{isLegacyCard:a,isDuelTerminalCard:c,isFirstEdition:s,isLimitedEdition:d,isSpeedCard:u})}))),[s]);return Object(m.jsxs)(Do,{className:"checkbox-input",children:[Object(m.jsx)(Xt.a,{overlayClassName:"long-tooltip-overlay",overlay:t["input.legacy.tooltip"],children:Object(m.jsx)(Vt.a,{className:"input-legacy",onChange:f,checked:c,tabIndex:0,children:t["input.legacy.label"]})}),Object(m.jsx)(Vt.a,{className:"input-1st",onChange:d,checked:r,tabIndex:0,children:t["input.1st-edition.label"]}),Object(m.jsx)(Vt.a,{className:"input-limited",onChange:u,checked:i,tabIndex:0,children:t["input.limited-edition.label"]}),Object(m.jsx)(Vt.a,{className:"input-speed",onChange:p,checked:o,tabIndex:0,children:t["input.speed-duel.label"]}),Object(m.jsx)(Vt.a,{className:"input-terminal",onChange:b,checked:a,tabIndex:0,children:t["input.duel-terminal.label"]})]})};var Wo,zo,Ho,Ko,Go=a(542),Yo=a(543);const Xo=Object(Gt.b)(br.Container)(Wo||(Wo=Object(Kt.a)(["\n    padding: var(--spacing-xs);\n    .radio-train {\n        display: flex;\n        flex-wrap: wrap;\n        max-width: 550px;\n        .radio-train-input-group {\n            gap: var(--spacing);\n        }\n    }\n    .ant-checkbox-wrapper {\n        color: var(--color-heavy);\n    }\n    .frame-auto-checkbox {\n        margin-bottom: var(--spacing-xs);\n    }\n    ","\n"])),$r),Uo=Gt.b.div(zo||(zo=Object(Kt.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t.input-label {\n\t\tflex: 1;\n\t}\n"]))),Vo=Gt.b.div(Ho||(Ho=Object(Kt.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: var(--spacing-sm);\n    flex-wrap: wrap;\n    row-gap: var(--spacing-sm);\n"]))),qo=Object(Gt.b)(Qr)(Ko||(Ko=Object(Kt.a)(['\n    &.radio-train {\n        .ant-radio-button-wrapper-checked {\n            &.ocg-button {\n                background-color: var(--main-red-scale);\n                border-color: var(--sub-red-scale);\n                &:not([class*=" ant-radio-button-wrapper-disabled"]).ant-radio-button-wrapper:first-child {\n                    border-right-color: var(--sub-red-scale);\n                }\n                &:not(.ant-radio-button-wrapper-disabled):first-child {\n                    border-color: var(--sub-red-scale);\n                }\n                &:hover {\n                    background-color: var(--sub-red-scale);\n                    color: var(--color-heavy);\n                }\n            }\n            &.tcg-button {\n                background-color: var(--main-blue-scale);\n                border-color: var(--sub-blue-scale);\n                &:hover {\n                    background-color: var(--sub-blue-scale);\n                    color: var(--color-heavy);\n                }\n            }\n        }\n        .ocg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-red-scale);\n            }\n        }\n        .tcg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-blue-scale);\n            }\n        }\n    }\n'])));var Jo,$o=a(521),_o=a(518);const Zo=Gt.b.div(Jo||(Jo=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-sm);\n    .checkbox-input {\n        align-self: center;\n        .ant-checkbox + span {\n            user-select: none;\n        }\n    }\n    .sticker-input,\n    .checkbox-input {\n        grid-column: span 2;\n    }\n    .sticker-input .ant-radio-button-wrapper {\n        padding-left: var(--spacing-sm);\n        padding-right: var(--spacing-sm);\n    }\n"]))),Qo=Object(n.forwardRef)(((e,t)=>{let{isMonster:a,showCreativeOption:r,onTakePicker:o}=e;const i=ma(),{sticker:l,format:c,getUpdater:s}=va(Object(hn.useShallow)((e=>{let{card:{sticker:t,format:a},getUpdater:n}=e;return{sticker:t,format:a,getUpdater:n}}))),d=Object(n.useRef)(null),u=Object(n.useRef)(null),b=Object(n.useRef)(null),p=Object(n.useRef)(null),f=c&&ee[c]?ee[c]:ee.tcg,g=Object(n.useMemo)((()=>s("atk",(e=>"string"===typeof e?e.trim():e))),[s]),h=Object(n.useMemo)((()=>s("def",(e=>"string"===typeof e?e.trim():e))),[s]),v=Object(n.useMemo)((()=>s("password",void 0,"debounce")),[s]),y=Object(n.useMemo)((()=>s("sticker")),[s]),j=Object(n.useMemo)((()=>s("creator",void 0,"debounce")),[s]);return Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{var t,a,n,r;let{password:o,creator:i,atk:l,def:c}=e;"string"===typeof l&&(null===(t=b.current)||void 0===t||t.setValue(l)),"string"===typeof c&&(null===(a=p.current)||void 0===a||a.setValue(c)),"string"===typeof o&&(null===(n=d.current)||void 0===n||n.setValue(o)),"string"===typeof i&&(null===(r=u.current)||void 0===r||r.setValue(i))}}))),Object(m.jsxs)(Zo,{className:"card-footer-input",children:[(a||r)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Mo,{ref:b,id:"atk",addonBefore:i["input.atk.label"],defaultValue:va.getState().card.atk,onChange:g,onTakePicker:o}),Object(m.jsx)(Mo,{ref:p,id:"def",addonBefore:i["input.def.label"],defaultValue:va.getState().card.def,onChange:h,onTakePicker:o})]}),Object(m.jsx)(Mo,{ref:d,id:"password",addonBefore:Object(m.jsxs)(Uo,{className:"input-label-with-button",children:[Object(m.jsx)("div",{className:"input-label",children:i["input.password.label"]}),Object(m.jsx)(ra,{onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.setValue("".concat(At("0123456789",8)))},Icon:Go.a,tooltipProps:{overlay:i["button.randomize.label"]}})]}),defaultValue:va.getState().card.password,onChange:v,onTakePicker:o}),Object(m.jsx)(Mo,{ref:u,id:"creator",addonBefore:Object(m.jsxs)(Uo,{className:"input-label-with-button",children:[Object(m.jsx)("div",{className:"input-label",children:i["input.copyright.label"]}),Object(m.jsx)($o.a,{className:"save-button-dropdown",placement:"topLeft",arrow:!0,overlay:Object(m.jsx)(_o.a,{onClick:e=>e.domEvent.stopPropagation(),children:f.map(((e,t)=>Object(m.jsx)(_o.a.Item,{onClick:()=>{var t;null===(t=u.current)||void 0===t||t.setValue(e)},children:e},"".concat(t))))}),children:Object(m.jsx)("div",{children:Object(m.jsx)(ra,{onClick:()=>{},Icon:Yo.a})})})]}),defaultValue:va.getState().card.creator,onChange:j,onTakePicker:o}),Object(m.jsx)(Po,{}),Object(m.jsx)(Qr,{className:"sticker-input fill-input-train",value:l,onChange:y,optionList:jr,children:Object(m.jsx)("span",{children:i["input.sticker.label"]})})]})}));var ei;const ti=Object(Gt.b)(Qr)(ei||(ei=Object(Kt.a)(["\n    .ant-input-group-addon {\n        flex: 0;\n    }\n    .radio-train-input-group .ant-radio-button-wrapper {\n        min-width: unset;\n    }\n"]))),ai=Object(n.forwardRef)(((e,t)=>{let{isLink:a,showExtraDecorativeOption:r,receivingCanvas:o,onSourceLoaded:i,onTainted:c,onCropChange:s}=e;const d=ma(),{opacity:u,artFinish:p,linkMap:f,isPendulum:g,art:h,artCrop:v,artData:y,artSource:j,artFit:x,getUpdater:O,setCard:w}=va(Object(hn.useShallow)((e=>{let{card:{opacity:t,artFinish:a,linkMap:n,isPendulum:r,art:o,artCrop:i,artData:l,artSource:c,artFit:s},getUpdater:d,setCard:u}=e;return{opacity:t,artFinish:a,linkMap:n,isPendulum:r,art:o,artCrop:i,artData:l,artSource:c,artFit:s,getUpdater:d,setCard:u}}))),F=Object(n.useRef)(null),k=Object(n.useMemo)((()=>O("linkMap")),[O]),C=Object(n.useMemo)((()=>O("art")),[O]),S=Object(n.useMemo)((()=>O("artData")),[O]),T=Object(n.useCallback)((e=>w((t=>Object(l.a)(Object(l.a)({},t),{},{artFit:e})))),[w]),R=Object(n.useMemo)((()=>O("artSource")),[O]),N=Object(n.useMemo)((()=>O("artFinish")),[O]),L=Object(n.useCallback)(((e,t)=>{null===s||void 0===s||s(e,t),e&&w((t=>Object(l.a)(Object(l.a)({},t),{},{artCrop:e})))}),[s,w]);return Object(n.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=F.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:e=>{let{art:t,artCrop:a,artData:n,artSource:r}=e;var o,i;"offline"===r?"string"===typeof n&&a&&(null===(o=F.current)||void 0===o||o.forceSource("offline",n,a)):"string"===typeof t&&a&&(null===(i=F.current)||void 0===i||i.forceSource("online",t,a))}}))),Object(m.jsx)(yn,{ref:F,title:d["input.card-art.label"],defaultSourceType:j,defaultExternalSource:h,defaultInternalSource:y,defaultCropInfo:v,forceFit:x,receivingCanvas:o,onSourceChange:(e,t)=>{R(e),"offline"===e?S(t):C(t)},onCropChange:L,onTainted:c,onSourceLoaded:i,onForceFitChange:T,onMaxSizeExceeded:e=>{ua.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:b(g,u).ratio,beforeCropper:r?Object(m.jsx)(ti,{className:"art-finish-checkbox fill-input-train",value:p,onChange:N,optionList:fr,children:Object(m.jsx)("span",{className:"field-title",children:d["input.art-finish.label"]})}):null,children:a?Object(m.jsx)(jn,{defaultValue:f,onChange:k}):Object(m.jsx)("div",{})})}));var ni,ri;const oi=Gt.b.div(ni||(ni=Object(Kt.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-sm);\n    width: 100%;\n    .name-input {\n        flex: 3;\n        min-width: 400px;\n    }\n    .set-id-input {\n        flex: 1;\n        min-width: 250px;\n    }\n"]))),ii=Gt.b.span(ri||(ri=Object(Kt.a)(["\n    cursor: pointer;\n"]))),li=Object(n.forwardRef)(((e,t)=>{let{onTakePicker:a}=e;const r=ma(),{name:o,format:i,getUpdater:l}=va(Object(hn.useShallow)((e=>{let{card:{name:t,format:a},getUpdater:n}=e;return{name:t,format:a,getUpdater:n}}))),c=Object(n.useRef)(null),s=Object(n.useRef)(null),d=Object(n.useMemo)((()=>l("setId")),[l]),u=Object(n.useMemo)((()=>l("name",void 0,"debounce")),[l]);return Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{var t,a;let{name:n,setId:r}=e;"string"===typeof n&&(null===(t=c.current)||void 0===t||t.setValue(n)),"string"===typeof r&&(null===(a=s.current)||void 0===a||a.setValue(r))}}))),Object(m.jsxs)(oi,{className:"name-id-input",children:[Object(m.jsx)(Mo,{ref:c,id:"name",defaultValue:o,addonBefore:Object(m.jsx)(Xt.a,{title:r["input.name.tooltip"],children:Object(m.jsx)(ii,{onClick:()=>{navigator.clipboard.writeText(pt(o))},children:r["input.name.label"]})}),onChange:u,onTakePicker:a}),Object(m.jsx)(Mo,{ref:s,id:"set-id",defaultValue:va.getState().card.setId,addonBefore:Object(m.jsxs)(Uo,{className:"input-label-with-button",children:[Object(m.jsx)("div",{className:"input-label",children:r["input.set-id.label"]}),Object(m.jsx)(ra,{onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.setValue((e=>At("ABCDEFGHIJKLMNOPQRSTUVWXYZ",4)+"-"+("OCG"===e?"JP":"EN")+At("0000000000111111111122222222223456789",1)+At("0123456789",2))(i))},Icon:Go.a,tooltipProps:{overlay:r["button.randomize.label"]}})]}),onChange:d,onTakePicker:a})]})}));var ci,si;const di=Object(n.forwardRef)(((e,t)=>{let{frameList:a,pendulumFrame:r,onChange:o,onCancel:i}=e;const c=ma(),s=Object(n.useRef)("auto"===r?"spell":r),d=Object(n.useRef)(null),[u,b]=Object(n.useState)(0);return Object(n.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.focus()}}))),Object(m.jsxs)(Xo,Object(l.a)(Object(l.a)({className:"pendulum-frame-picker"},Mt({stopPropagation:!0,optionLength:a.length,setFocus:b,onTrigger:()=>{u>=0&&o(a[u].value)},onCancel:i})),{},{children:[Object(m.jsx)(Vt.a,{ref:d,className:"frame-auto-checkbox",checked:"auto"===r,onChange:e=>{o(e.target.checked?"auto":s.current)},children:c["input.frame.auto"]}),Object(m.jsx)(Qr,{className:"frame-radio",value:r,onChange:o,optionList:a})]}))})),ui=Gt.b.div(ci||(ci=Object(Kt.a)(["\n    display: inline-flex;\n    cursor: pointer;\n    box-shadow: var(--bs-input);\n    vertical-align: bottom;\n    box-shadow: var(--bs-button);\n    border-radius: var(--br-lg);\n    &:focus-visible {\n        outline: 2px solid var(--focus);\n    }\n    .pendulum-frame-info-block {\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        line-height: 2; // Alignment\n        background-color: var(--main-level-4);\n        min-width: 110px;\n        overflow: hidden;\n        border: var(--bw) solid var(--sub-level-1);\n        .frame-info-block-label {\n            padding: var(--spacing-px) var(--spacing-xs);\n        }\n    }\n    .pendulum-frame-label {\n        display: inline-block;\n        background: var(--main-level-4);\n        border: var(--bw) solid var(--sub-level-1);\n        border-right: none;\n        padding: var(--spacing-px) var(--spacing-xs);\n        border-radius: var(--br-lg) 0 0 var(--br-lg);\n        line-height: 2; // Alignment\n        &:last-child {\n            border-radius: var(--br-lg);\n            border-right: var(--bw) solid var(--sub-level-1);\n        }\n    }\n"]))),bi=Gt.b.div(si||(si=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    .red-scale {\n        color: var(--sub-red-scale);\n    }\n    .blue-scale {\n        color: var(--sub-blue-scale);\n    }\n    .joined-row {\n        position: 'relative';\n        grid-column: span 2;\n        .standalone-label {\n            min-width: 0;\n            width: unset;\n            padding-left: var(--spacing-antd);\n        }\n        .pendulum-checkbox {\n            /** Alignment **/\n            width: var(--width-label);\n            line-height: 32px;\n            text-align: right;\n            font-weight: 500;\n            margin-right: 0;\n            padding-right: var(--spacing);\n            > span {\n                padding-right: 0;\n            }\n        }\n        .pendulum-checkbox-placeholder {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n        }\n        .pendulum-frame-input {\n            margin-right: var(--spacing-lg);\n        }\n        .ant-checkbox-wrapper + .ant-checkbox-wrapper {\n            margin-left: 0;\n        }\n    }\n"]))),pi=Object(n.forwardRef)(((e,t)=>{let{showCreativeOption:a,showExtraDecorativeOption:r,onTakePicker:o}=e;const i=ma(),{frame:c,isPendulum:s,pendulumFrame:d,pendulumScaleBlue:u,pendulumScaleRed:b,setCard:p,getUpdater:f}=va(Object(hn.useShallow)((e=>{let{card:{frame:t,isPendulum:a,pendulumFrame:n,pendulumScaleBlue:r,pendulumScaleRed:o},setCard:i,getUpdater:l}=e;return{frame:t,isPendulum:a,pendulumFrame:n,pendulumScaleBlue:r,pendulumScaleRed:o,setCard:i,getUpdater:l}}))),g=Object(n.useRef)(null),h=Object(n.useRef)(null),v=Object(n.useRef)(null),[y,j]=Object(n.useState)(!0),[x,O]=Object(n.useState)(!1),w=Object(n.useRef)("auto"===d?"spell":d),F=Object(n.useMemo)((()=>f("pendulumScaleRed")),[f]),k=Object(n.useMemo)((()=>f("pendulumScaleBlue")),[f]),C=Object(n.useMemo)((()=>f("pendulumEffect",void 0,"debounce")),[f]),S=Object(n.useMemo)((()=>gr().filter((e=>r||"normal"===e.edition))),[r]);Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{var t;let{pendulumEffect:a}=e;a&&(null===(t=v.current)||void 0===t||t.setValue(a))}})));const T=ne[d];return Object(m.jsxs)(bi,{className:"pendulum-input",children:[Object(m.jsxs)("div",{className:"joined-row pendulum-option",children:["link"!==c?Object(m.jsx)(Vt.a,{className:"pendulum-checkbox",onChange:e=>p((t=>{const a=e.target.checked;return Object(l.a)(Object(l.a)({},t),{},{isPendulum:a})})),checked:s,children:i["input.pendulum.label"]}):Object(m.jsx)("div",{className:"pendulum-checkbox-placeholder"}),a&&Object(m.jsx)(xn.a,{visible:x,onVisibleChange:O,trigger:["hover","click"],placement:"bottom",overlayClassName:"pendulum-frame-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsx)(di,{ref:h,frameList:S,pendulumFrame:d,onCancel:()=>{var e;O(!1),null===(e=g.current)||void 0===e||e.focus()},onChange:e=>{const t="".concat(e);"auto"!==t&&(w.current=t),p((e=>Object(l.a)(Object(l.a)({},e),{},{pendulumFrame:t})))}})}),children:Object(m.jsxs)(ui,{ref:g,className:"pendulum-frame-input",tabIndex:0,onKeyDown:e=>{if("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key)return O(!0),setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.focus()}),200),!1},children:[Object(m.jsxs)("span",{className:"pendulum-frame-label",children:[i["input.bottom-frame.label"]," ",Object(m.jsx)(Cr.a,{})]}),T?Object(m.jsx)(Xn,Object(l.a)({className:"pendulum-frame-info-block"},T)):Object(m.jsx)(Xn,{className:"pendulum-frame-info-block",nameKey:"input.frame.auto"})]})}),s&&a&&Object(m.jsx)(Vt.a,{onChange:e=>j(e.target.checked),checked:y,children:i["input.mirror-scale.label"]})]}),s&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(Ut.a,{addonBefore:Object(m.jsx)("span",{children:i["input.scale.label"](Object(m.jsx)("span",{className:"blue-scale",children:i["input.scale.blue.label"]},"blue-scale"))}),value:u,onChange:e=>{k(e),y&&F(e)}})}),Object(m.jsx)("div",{children:Object(m.jsx)(Ut.a,{addonBefore:Object(m.jsx)("span",{children:i["input.scale.label"](Object(m.jsx)("span",{className:"red-scale",children:i["input.scale.red.label"]},"red-scale"))}),value:b,onChange:e=>{y&&k(e),F(e)}})}),Object(m.jsx)("div",{className:"joined-row",children:Object(m.jsx)(Eo,{ref:v,id:"pendulum-effect",allowHotkey:!0,defaultValue:va.getState().card.pendulumEffect,onChange:C,onTakePicker:o,rows:5})})]})]})}));var mi;const fi=Gt.b.div(mi||(mi=Object(Kt.a)(['\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-areas:\n        "type-input input-helper"\n        "condense-input help-button";\n    gap: var(--spacing-sm);\n    align-items: center;\n    .formatting-help-button {\n        grid-area: help-button;\n        &:focus {\n            box-shadow: 0 0 0 2px var(--focus);\n        }\n    }\n    .input-kanji-helper {\n        grid-area: input-helper;\n    }\n    .type-ability-input {\n        grid-area: type-input;\n    }\n    .condense-input {\n        grid-area: condense-input;\n\t\t.standalone-addon.ant-input-group-addon {\n\t\t\twidth: unset;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1 1 90px;\n\t\t}\n\t}\n    &.variant-tcg {\n        .type-ability-input {\n            grid-column: span 2;\n        }\n    }\n']))),gi=Object(n.forwardRef)(((e,t)=>{let{onTakePicker:a}=e;const r=ma(),{frame:o,cardIcon:i,format:c,furiganaHelper:s,condenseTolerant:d,setCard:u,getUpdater:b}=va(Object(hn.useShallow)((e=>{let{card:{frame:t,cardIcon:a,format:n,furiganaHelper:r,effectStyle:o},setCard:i,getUpdater:l}=e;return{frame:t,cardIcon:a,format:n,furiganaHelper:r,condenseTolerant:null===o||void 0===o?void 0:o.condenseTolerant,setCard:i,getUpdater:l}}))),p="ocg"===c?"\uff0f":"/",f=Object(n.useRef)(null),g=Object(n.useMemo)((()=>b("typeAbility",(e=>"string"!==typeof e?[]:e.split(/\uff0f|\//).map((e=>"".concat(e).trim())).filter((e=>"string"===typeof e&&e.length>0))),"debounce")),[b]),h=Object(n.useCallback)((e=>u((t=>Object(l.a)(Object(l.a)({},t),{},{furiganaHelper:e.target.checked})))),[u]);Object(n.useImperativeHandle)(t,(()=>({setValue:e=>{var t;let{typeAbility:a}=e;a&&(null===(t=f.current)||void 0===t||t.setValue(a.join(p)))}})));const v="auto"===i?at({frame:o})?"input.type.monster.label":"input.type.st.label":"st"===vr[i].value?"input.type.st.label":"input.type.monster.label",y="ocg"===c;return Object(m.jsxs)(fi,{className:"post-pendulum-input variant-".concat(c),children:[Object(m.jsx)(Mo,{ref:f,addonBefore:r[v],id:"type-ability",defaultValue:va.getState().card.typeAbility.join(p),onChange:g,onTakePicker:a}),y&&Object(m.jsx)(Xt.a,{overlay:r["input.furigana-helper.tooltip"],overlayClassName:"long-tooltip-overlay",children:Object(m.jsx)(Vt.a,{className:"input-kanji-helper",onChange:h,checked:s,children:r["input.furigana-helper.label"]})}),Object(m.jsx)(Qr,{className:"condense-input",value:"".concat(d),onChange:e=>(e=>{u((t=>Object(l.a)(Object(l.a)({},t),{},{effectStyle:Object(l.a)(Object(l.a)({},t.effectStyle),{},{condenseTolerant:e})})))})(e),optionList:xr,children:Object(m.jsxs)("span",{children:[r["input.condense.label"]," ",Object(m.jsx)(kn,{content:r["input.condense.tooltip"]})]})}),Object(m.jsx)(zn,{})]})}));var hi,vi,yi;const ji=Gt.b.div(hi||(hi=Object(Kt.a)(["\n    color: var(--color);\n    text-shadow: var(--ts);\n    font-weight: 500;\n    padding: 5px;\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    gap: 3px;\n    .color-list {\n        display: flex;\n        flex-wrap: nowrap;\n        gap: 3px;\n    }\n    .color-block {\n        height: 17px;\n        width: 17px;\n        cursor: pointer;\n        position: relative;\n        outline: none;\n        border: var(--bw) solid var(--sub-level-4);\n        &.static-block {\n            cursor: default;\n            height: 9px;\n            width: 9px;\n            margin: 4px 0;\n            border: none;\n        }\n    }\n    .active-dot {\n        position: absolute;\n        inset: var(--spacing-xs);\n        background: rgb(0, 0, 0);\n        border-radius: 50%;\n        opacity: 1;\n    }\n    .color-input {\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        gap: 3px;\n        border-left: var(--bw-lg) solid var(--sub-level-4);\n        padding-left: 3px;\n        input {\n            width: 58px;\n            font-size: var(--fs-sm);\n            line-height: 1;\n            border: none;\n            padding: 0 5px;\n        }\n    }\n"]))),xi=[{hex:"#FFFFFF",rgb:[255,255,255]},{hex:"#000000",rgb:[0,0,0]},{hex:"#FF0000",rgb:[255,0,0]},{hex:"#FFFF00",rgb:[255,255,0]},{hex:"#00FF00",rgb:[0,255,0]},{hex:"#00FFFF",rgb:[0,255,255]},{hex:"#0000FF",rgb:[0,0,255]},{hex:"#FF00FF",rgb:[255,0,255]}],Oi=e=>{let{value:t="",onChange:a}=e;const[r,o]=Object(n.useState)(t),[i,l]=Object(n.useState)((()=>({hex:Dt.test(t)?t:"#000000",rgb:Pt(t,!1)})));return Object(n.useEffect)((()=>{const e=r.startsWith("#")?r:"#".concat(r);Dt.test(e)&&(o(e),l({hex:e,rgb:Pt(e,!1)}),null===a||void 0===a||a(e))}),[r]),Object(n.useEffect)((()=>{o(t),l({hex:Dt.test(t)?t:"#000000",rgb:Pt(t,!1)})}),[t]),Object(m.jsxs)(ji,{children:[Object(m.jsx)("div",{className:"color-list",children:xi.map((e=>{let{hex:t,rgb:n}=e;const r=(299*n[0]+587*n[1]+114*n[2])/1e3>=128?"#000000":"#FFFFFF";return Object(m.jsx)("div",{className:"color-block",title:t,style:{backgroundColor:t},onClick:()=>null===a||void 0===a?void 0:a(t),children:i.hex.toUpperCase()===t&&Object(m.jsx)("div",{className:"active-dot",style:{backgroundColor:r}})})}))}),Object(m.jsxs)("div",{className:"color-input",children:[Object(m.jsx)("div",{className:"color-block static-block",style:{backgroundColor:i.hex}}),Object(m.jsx)(Ut.a,{size:"small",value:r,onChange:e=>{o(e.target.value)}})]})]})},wi=Gt.b.div(vi||(vi=Object(Kt.a)(["\n    display: inline-grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr max-content;\n    column-gap: var(--spacing-xxs);\n    padding: var(--spacing-px);\n    margin-right: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br);\n    background-color: var(--main-level-4);\n    cursor: pointer;\n    &:hover {\n        border-color: var(--main-active);\n    }\n    .text-style-preview-section {\n        width: 7px;\n        height: 28px; // Alignment\n    }\n    .text-style-label {\n        padding: var(--spacing-xxs);\n        line-height: 1.7;\n    }\n"]))),Fi=Gt.b.div(yi||(yi=Object(Kt.a)(["\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-px);\n    &.custom-style-picker {\n        background-color: var(--sub-level-4); // Mimic border color\n    }\n    .style-section {\n        z-index: 1;\n        position: relative;\n        background-color: var(--main-level-3);\n    }\n    .style-picker-section {\n        overflow: hidden;\n        .shadow-checkbox .ant-checkbox {\n            transform: translateY(1px);\n        }\n        > .ant-checkbox-wrapper {\n            padding: var(--spacing-xs);\n        }\n    }\n    .custom-style-expand {\n        display: grid;\n        grid-template-columns: 1fr max-content;\n        column-gap: var(--spacing-xs);\n        .ant-checkbox-wrapper > span {\n            padding-right: 0;\n        }\n    }\n    .radio-train {\n        padding: var(--spacing-xs);\n        padding-bottom: 0;\n        .standalone-addon {\n            flex: 1 1 auto;\n            text-align: left;\n        }\n        .radio-train-input-group {\n            flex: 0 0 auto;\n        }\n        .ant-radio-button-wrapper {\n            height: 26px;\n            line-height: 24px;\n        }\n    }\n"]))),ki={effectTextStyle:{keyName:"effectTextStyle",labelKey:"input.text-style.section.effect.label"},pendulumTextStyle:{keyName:"pendulumTextStyle",labelKey:"input.text-style.section.pendulum.label"},statTextStyle:{keyName:"statTextStyle",labelKey:"input.text-style.section.stat.label"},typeTextStyle:{keyName:"typeTextStyle",labelKey:"input.text-style.section.type.label"}},Ci=()=>{const e=ma(),{statTextStyle:t,typeTextStyle:a,effectTextStyle:n,pendulumTextStyle:r,setCard:o}=va(Object(hn.useShallow)((e=>{let{card:{statTextStyle:t,typeTextStyle:a,effectTextStyle:n,pendulumTextStyle:r},setCard:o,getUpdater:i}=e;return{statTextStyle:t,typeTextStyle:a,effectTextStyle:n,pendulumTextStyle:r,setCard:o}}))),i=[{info:ki.effectTextStyle,value:n},{info:ki.pendulumTextStyle,value:r},{info:ki.statTextStyle,value:t},{info:ki.typeTextStyle,value:a}];return Object(m.jsx)(xn.a,{trigger:["click"],placement:"bottomLeft",overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(m.jsx)("div",{className:"overlay-event-absorber",children:Object(m.jsx)(Fi,{className:"custom-style-picker",children:i.map((t=>{let{info:a,value:n}=t;const{keyName:r,labelKey:i}=a,[c,s,d,u]=n;return Object(m.jsxs)("div",{className:"style-section",children:[Object(m.jsxs)("h3",{className:"custom-style-expand ".concat(c?"":"inactive"),children:[Object(m.jsx)("span",{children:e[i]}),Object(m.jsx)(Vt.a,{checked:c,onChange:e=>{o((t=>{const a=e.target.checked;return Object(l.a)(Object(l.a)({},t),{},{[r]:[a,...n.slice(1)]})}))},children:e["input.text-style.custom.label"]})]}),c&&Object(m.jsxs)("div",{className:"style-picker-section",children:[Object(m.jsx)("h2",{children:Object(m.jsx)(Vt.a,{className:"shadow-checkbox",checked:d,onChange:e=>{o((t=>{const a=e.target.checked;return Object(l.a)(Object(l.a)({},t),{},{[r]:[...n.slice(0,2),a,n[3]]})}))},children:e["input.text-style.shadow.label"]})}),d&&Object(m.jsx)(Oi,{value:u,onChange:e=>o((t=>Object(l.a)(Object(l.a)({},t),{},{[r]:[...n.slice(0,3),e]})))}),Object(m.jsx)("h2",{children:e["input.text-style.color.label"]}),Object(m.jsx)(kr.b,{colors:Ze,color:null!==s&&void 0!==s?s:"",onChangeComplete:e=>{o((t=>Object(l.a)(Object(l.a)({},t),{},{[r]:[n[0],e.hex,...n.slice(2,4)]})))}})]})]},r)}))})}),children:Object(m.jsxs)(wi,{className:"text-style-preview",children:[i.map((e=>{let{info:t,value:a}=e;const{keyName:n}=t,[r,o,i,l]=a;return Object(m.jsx)("div",{className:"text-style-preview-section",style:{backgroundColor:0!==(null!==o&&void 0!==o?o:"").length&&r?o:"#000000",boxShadow:r&&i?"0 0 0 2px ".concat(l," inset"):""}},n)})),Object(m.jsx)("span",{className:"text-style-label",children:e["input.text-style.custom-effect.label"]})]})})};a(485);const Si=Object(n.forwardRef)(((e,t)=>{let{artworkCanvas:a,backgroundCanvas:r,onCropChange:o,onTainted:i,onSourceLoaded:c}=e;const s=ma(),{format:d,frame:u,foil:b,finish:h,opacity:v,nameStyleType:y,nameStyle:j,isPendulum:x,attribute:O,getUpdater:w,setCard:F}=va(Object(hn.useShallow)((e=>{let{card:{format:t,frame:a,foil:n,finish:r,opacity:o,nameStyleType:i,nameStyle:l,isPendulum:c,attribute:s},getUpdater:d,setCard:u}=e;return{format:t,frame:a,foil:n,finish:r,opacity:o,nameStyleType:i,nameStyle:l,isPendulum:c,attribute:s,getUpdater:d,setCard:u}}))),{setting:k}=ya(),{showCreativeOption:C,showExtraDecorativeOption:S}=k,T=Object(n.useRef)(null),R=et({frame:u}),N=at({frame:u}),[L,E]=Object(n.useState)(0),I=Object(n.useMemo)((()=>(e=>[{name:"normal",label:e.normal,color:"#747b95"},{name:"gold",label:e.gold,color:"#cfa65f"},{name:"platinum",label:e.platinum,color:"#b1b1b1"}])({normal:s["input.foil.normal.label"],gold:s["input.foil.gold.label"],platinum:s["input.foil.platinum.label"]}).map((e=>{let{color:t,name:a,label:n}=e;return{label:"normal"===a?Object(m.jsx)(p.a,{}):n,value:a,props:{style:{color:t,fontWeight:"bold"}}}}))),[s]),M=Object(n.useRef)(null),A=Object(n.useRef)(null),B=Object(n.useRef)(null),D=Object(n.useRef)(null),P=Object(n.useRef)(null),W=Object(n.useRef)(null),z=Object(n.useRef)(null),[H,K]=Object(n.useState)({id:"",setValue:()=>{}}),G=Object(n.useMemo)((()=>w("foil")),[w]),Y=Object(n.useMemo)((()=>w("finish")),[w]),X=Object(n.useCallback)((e=>F((t=>Object(l.a)(Object(l.a)({},t),{},{opacity:e})))),[F]),U=Object(n.useMemo)((()=>w("attribute")),[w]),V=Object(n.useCallback)(((e,t)=>{F((a=>Object(l.a)(Object(l.a)({},a),{},{nameStyleType:e,nameStyle:t})))}),[F]),q=Object(n.useMemo)((()=>((e,t,a)=>g.map((a=>{let{name:n,nameKey:r,isCreative:o}=a;return{label:n===f?Object(m.jsx)(p.a,{}):Object(m.jsx)(Xt.a,{overlay:t[r],children:Object(m.jsx)("img",{alt:t[r],src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(e,"-").concat(n.toLowerCase(),".png")})}),value:n,isCreative:o}})).filter((e=>{let{isCreative:t}=e;return!1===t||t===a})))(d,s,C)),[d,s,C]);return Object(n.useEffect)((()=>{var e;null===(e=T.current)||void 0===e||e.setValue({font:j.font})}),[j]),Object(n.useEffect)((()=>{var e;null===(e=A.current)||void 0===e||e.setValue(v)}),[v]),Object(n.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t,a,n;return null!==(e=null===(t=M.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e||null!==(a=null===(n=A.current)||void 0===n?void 0:n.isLoading())&&void 0!==a&&a},forceCardData:e=>{var t,a,n,r,o,i,c;E((e=>e+1));const{name:s,art:d,artCrop:u,artData:b,artSource:p,background:m,backgroundCrop:f,backgroundData:g,backgroundSource:h,opacity:v,setId:y,pendulumEffect:j,typeAbility:x,effect:O,atk:w,def:F,creator:k,password:C}=e;null===(t=M.current)||void 0===t||t.setValue({art:d,artCrop:u,artData:b,artSource:p}),null===(a=A.current)||void 0===a||a.setValue(Object(l.a)(Object(l.a)({},v),{},{background:m,backgroundCrop:f,backgroundData:g,backgroundSource:h})),null===(n=B.current)||void 0===n||n.setValue({name:s,setId:y}),null===(r=D.current)||void 0===r||r.setValue({pendulumEffect:j}),null===(o=P.current)||void 0===o||o.setValue(O),null===(i=W.current)||void 0===i||i.setValue({typeAbility:x}),null===(c=z.current)||void 0===c||c.setValue({atk:w,def:F,creator:k,password:C})}}))),Object(m.jsxs)("div",{className:["card-info-panel","ocg"===d?"input-ocg":"input-tcg"].join(" "),children:[Object(m.jsx)(or,{}),Object(m.jsx)("br",{}),Object(m.jsx)(nr,{}),Object(m.jsxs)("div",{className:"card-overlay-input",children:[Object(m.jsx)(qo,{className:"format-radio",value:d,onChange:e=>{F((t=>{var a,n,r,o,i;const l="".concat(e),c=oa(t,l),{name:s,setId:d,effect:u,typeAbility:b,password:p,creator:m,pendulumEffect:f}=c;return null===(a=B.current)||void 0===a||a.setValue({name:s,setId:d}),null===(n=P.current)||void 0===n||n.setValue(u),null===(r=D.current)||void 0===r||r.setValue({pendulumEffect:f}),null===(o=W.current)||void 0===o||o.setValue({typeAbility:b}),null===(i=z.current)||void 0===i||i.setValue({creator:m,password:p}),c}))},optionList:pr,children:Object(m.jsx)("span",{children:s["input.format.label"]})}),Object(m.jsx)(Qr,{className:"foil-radio",value:b,onChange:G,optionList:I,children:Object(m.jsx)("span",{children:s["input.foil.label"]})}),S&&Object(m.jsx)(oo,{className:"finish-checkbox",value:h,onChange:Y,optionList:mr,children:Object(m.jsx)("span",{children:s["input.finish.label"]})})]}),C&&Object(m.jsxs)("div",{className:"card-layout-input",children:[Object(m.jsxs)("label",{className:"standalone-addon ant-input-group-addon",children:[s["input.layout.label"]," ",Object(m.jsx)(kn,{content:s["input.layout.tooltip"]})]}),Object(m.jsx)(vo,{ref:A,defaultValue:v,receivingCanvas:r,onChange:X,onTainted:i,onCropChange:o,onSourceLoaded:c})]}),Object(m.jsx)(ao,{onSTFrameChange:e=>{var t;return null===(t=W.current)||void 0===t?void 0:t.setValue({typeAbility:e})}}),Object(m.jsxs)(Vo,{className:"name-style-id-input",children:[Object(m.jsx)(li,{ref:B,onTakePicker:K}),Object(m.jsx)(Ur,{ref:T,frameInfo:ne[u],defaultType:y,defaultValue:j,showExtraDecorativeOption:S,onChange:V},L),Object(m.jsx)(Co,{isLink:R,isMonster:N,showCreativeOption:C})]}),Object(m.jsxs)("div",{className:"main-info",children:[Object(m.jsxs)("div",{className:"main-info-first",children:[Object(m.jsx)(Qr,{className:"fill-input-train attribute-input",value:O,onChange:U,optionList:q,children:Object(m.jsx)("span",{children:s["input.attribute.label"]})}),(x||"link"!==u||C)&&Object(m.jsx)(pi,{ref:D,showCreativeOption:C,showExtraDecorativeOption:S,onTakePicker:K}),Object(m.jsx)(gi,{ref:W,onTakePicker:K}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"card-effect-letter-helper",children:[Object(m.jsx)(dr,{className:"standalone-label",children:s["input.effect.label"]}),C?Object(m.jsx)(Ci,{}):Object(m.jsx)("div",{}),Object(m.jsx)(Fr,{targetId:H.id,onPick:H.setValue})]}),Object(m.jsx)(Ao,{ref:P,onTakePicker:K})]}),Object(m.jsx)(Qo,{ref:z,isMonster:N,showCreativeOption:C,onTakePicker:K})]}),Object(m.jsx)("div",{className:"main-info-second",children:Object(m.jsx)(ai,{ref:M,receivingCanvas:a,isLink:R,showExtraDecorativeOption:S,onSourceLoaded:c,onTainted:i,onCropChange:o})})]})]})}));var Ti,Ri=a(519);const Ni=Gt.b.button(Ti||(Ti=Object(Kt.a)(["\n    align-content: center;\n    font-size: var(--fs-lg);\n    border: var(--bw) solid var(--sub-tertiary);\n    border-radius: 0 var(--br-lg) var(--br-lg) 0;\n    background-color: var(--main-primary);\n    border: var(--bw) solid var(--main-primary);\n    border-left: var(--bw) solid var(--sub-level-3);\n    &:hover {\n        background-color: var(--sub-primary);\n    }\n    input {\n        display: none;\n    }  \n"])));var Li,Ei=a(544),Ii=a(545),Mi=a(546),Ai=a(261),Bi=a.n(Ai);const Di=Object(Gt.b)(Ri.a)(Li||(Li=Object(Kt.a)(["\n    .controller {\n        display: flex;\n        gap: var(--spacing);\n        align-items: center;\n        label {\n            background: var(--main-level-4);\n            border: var(--bw) solid var(--sub-level-4);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br);\n        }\n        .toggle-button {\n            padding: 0;\n            /** Alignemnt */\n            width: 26px;\n            height: 26px;\n            background-color: var(--main-primary);\n            border: var(--bw) solid var(--sub-primary);\n            border-radius: var(--br);\n            box-shadow: var(--bs-block);\n            cursor: pointer;\n            transform: rotate(0deg);\n            transition: transform 0.33s ease-in-out;\n            &.reverse{\n                transform: rotate(-180deg);\n                transition: transform 0.33s ease-in-out;\n            }\n            &:hover {\n                background-color: var(--sub-primary);\n            }\n        }\n    }\n    .announce {\n        text-align: center;\n        .warning {\n            color: var(--main-danger);\n        }\n        .in-progress {\n            color: var(--main-info);\n        }\n    }\n    .file-panel {\n        margin-top: var(--spacing);\n        input {\n            width: 100%;\n            background: var(--main-level-4);\n            padding: var(--spacing-xs);\n            border-radius: var(--br);\n            cursor: pointer;\n            margin-bottom: var(--spacing-sm);\n        }\n        .file-list {\n            margin-top: var(--spacing-sm);\n            &:empty {\n                margin-top: 0;\n            }\n        }\n        .file-entry {\n            display: grid;\n            grid-template-columns: 1fr max-content;\n            gap: var(--spacing-xs);\n            background-color: var(--main-level-1);\n            border: 1px solid var(--sub-level-3);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br-lg);\n            + .file-entry {\n                margin-top: var(--spacing-xxs);\n            }\n            .file-action {\n                .anticon:hover {\n                    color: var(--sub-danger);\n                }\n            }\n        }\n    }\n"]))),Pi=e=>{let{language:t}=e;const[a,r]=Object(n.useState)(!1),[o,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!1),[s,d]=Object(n.useState)([]),u=s.length>50;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Di,{visible:a,title:t["converter.header.label"],okButtonProps:{disabled:u||o},okText:t["converter.ok.label"],cancelText:t["converter.cancel.label"],onCancel:()=>r(!1),onOk:async()=>{try{i(!0);const e=await Promise.all(s.map((e=>{let{file:t,name:a}=e;return new Promise(((e,n)=>{const r=new FileReader;r.onload=t=>{let{target:r}=t;if(!r)return void n("Not a valid target");const{result:o}=r;if("string"!==typeof o)return void n("Not a valid result");let i=JSON.parse(o);ht(i)&&(i=ct(i));const c=vt(i);let s=null;if(s=l?c?St(ga(i).card).result:i:c?i:ct(ga(i).card),!s)return void n("Not a valid converted result");const d=new Blob(["".concat(JSON.stringify(s))],{type:"application/json"});e({blob:d,name:a})},r.readAsText(t)}))}))),t=new Bi.a;e.forEach((e=>{let{blob:a,name:n}=e;t.file(n,a)}));const a=await t.generateAsync({type:"blob"});ft("convert-result.zip",a,"application/zip"),i(!1),r(!1)}catch(e){console.error(e),ua.a.error({message:t["error.convert.message"],description:t["error.convert.description"]}),i(!1)}},children:[Object(m.jsxs)("div",{className:"controller",children:[Object(m.jsx)("label",{children:"YGOPro / DuelingNexus / NeoCardMaker"}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:zt("toggle-button",l?"reverse":""),onClick:()=>c((e=>!e)),children:Object(m.jsx)(Ei.a,{})})}),Object(m.jsx)("label",{children:"Yugioh Carder"})]}),Object(m.jsxs)("div",{className:"file-panel",children:[Object(m.jsx)("input",{type:"file",accept:"application/json",multiple:!0,onChange:e=>{const t=e.target.files;if(t){const e=[];for(let a=0;a<=t.length;a++){const n=t.item(a);n&&e.push({file:n,name:n.name})}d(e)}}}),Object(m.jsxs)("div",{className:"announce",children:[t["converter.header.information.label"],o&&Object(m.jsx)("div",{className:"in-progress",children:t["converter.header.in-progress.label"]}),u&&Object(m.jsx)("div",{className:"warning",children:t["converter.header.warning.label"](50)})]}),Object(m.jsx)("div",{className:"file-list",children:s.map((e=>{let{name:t}=e;return Object(m.jsxs)("div",{className:"file-entry",children:[Object(m.jsx)("div",{children:t}),Object(m.jsx)("div",{className:"file-action",children:Object(m.jsx)(Ii.a,{disabled:o,onClick:()=>d((e=>e.filter((e=>e.name!==t))))})})]},t)}))})]})]}),Object(m.jsx)(Xt.a,{overlay:t["converter.header.label"],children:Object(m.jsx)(Ni,{className:"batch-converter",onClick:()=>r(!0),children:Object(m.jsx)(Mi.a,{})})})]})};var Wi,zi,Hi,Ki=a(547);const Gi=Object(Gt.b)(_o.a.Item)(Wi||(Wi=Object(Kt.a)(["\n    color: var(--color);\n    padding: 1px 12px 5px 12px; // Alignment\n    font-size: var(--fs-sm);\n    border-bottom: var(--bw) solid var(--sub-level-4);\n    cursor: default;\n    &.ant-dropdown-menu-item.ant-dropdown-menu-item-disabled:hover {\n        cursor: default;\n        background: var(--main-level-3);\n    }\n"]))),Yi=Object(Gt.b)(_o.a.Item)(zi||(zi=Object(Kt.a)(["\n    &li.ant-dropdown-menu-item:hover {\n        background-color: var(--sub-active);\n    }\n    &.active-resolution {\n        background-color: var(--main-active);\n    }\n"]))),Xi=Object(Gt.b)(Sn.a)(Hi||(Hi=Object(Kt.a)(["\n    padding: 0;\n    .button-label {\n        padding: 4px 15px;\n        height: 100%; // Alignment\n        align-content: center;\n        border-radius: var(--br);\n        line-height: 1.5;\n        .label-content {\n            transform: translateY(-1px);\n        }\n    }\n    .button-option {\n        position: absolute;\n        right: 0;\n        top: 0;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        padding: var(--spacing);\n        border-left: var(--bw) solid var(--sub-secondary);\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        .anticon {\n            font-size: var(--fs-2xl);\n            margin-left: 0;\n        }\n        &:hover {\n            background: #399af9;\n        }\n    }\n"]))),Ui=Object(n.forwardRef)(((e,t)=>{let{isTainted:a,isInitializing:r,imageChangeCount:o,canvasMap:i,onDownloadError:l}=e;const c=ma(),{allowHotkey:s,resolution:d,updateSetting:u}=ya(Object(hn.useShallow)((e=>{let{setting:{allowHotkey:t,resolution:a},updateSetting:n}=e;return{allowHotkey:t,resolution:a,updateSetting:n}}))),{onExport:b}=mn(!0,i,{imageChangeCount:o,isInitializing:r,language:c}),{drawCanvasRef:p}=i,f=Object(n.useRef)({currentPipeline:Promise.resolve(),pipelineRunning:!1}),[g,h]=Object(n.useState)(!1),v=Object(n.useCallback)((()=>{h(!1)}),[]),{onSave:y}=ja({isTainted:a,isInitializing:r,drawCanvasRef:p,exportRef:f,onExport:b,onDownloadError:l,onDownloadComplete:v}),j=e=>{g||(a?ua.a.error({message:"Your card is tainted, you must save manually",description:'Right click the card \u2192 Choose "Save image as..."'}):(h(!0),y(e)))};return Object(n.useImperativeHandle)(t,(()=>({download:j}))),a?null:Object(m.jsxs)("div",{className:"save-button-container",children:[Object(m.jsx)("div",{id:"save-button-waiting"}),Object(m.jsxs)(Xi,{className:"save-button",id:"save-button-ready",onClick:()=>j(),children:[Object(m.jsx)(Xt.a,{overlay:s?Object(m.jsx)(m.Fragment,{children:"Ctrl-S / \u2318-S"}):null,children:Object(m.jsx)("div",{className:"button-label",children:Object(m.jsx)("div",{className:"label-content",children:g?c["button.download.ongoing.label"]:c["button.download.label"]})})}),Object(m.jsx)($o.a,{disabled:g,className:"save-button-dropdown",placement:"bottomRight",overlay:Object(m.jsxs)(_o.a,{onClick:e=>e.domEvent.stopPropagation(),children:[Object(m.jsx)(Gi,{disabled:!0,children:c["button.download.resolution.label"]}),[{width:549,height:800},{width:561,height:818},{width:813,height:1185}].map((e=>{let{width:t,height:a}=e;return Object(m.jsxs)(Yi,{className:d[0]===t&&d[1]===a?"active-resolution":"",onClick:()=>{u({resolution:[t,a]}),Bt()},children:[t," \xd7 ",a]},"".concat(t,"-").concat(a))}))]}),children:Object(m.jsx)("div",{className:"button-option",onClick:e=>e.stopPropagation(),children:Object(m.jsx)(Ki.a,{})})})]})]})}));var Vi,qi=a(548);const Ji=e=>{let{language:t,importData:a}=e;const r="import-upload",o=Object(n.useRef)(null);return Object(m.jsx)(Xt.a,{overlay:t["button.import.tooltip"],children:Object(m.jsxs)(Ni,{className:"secondary-button import-custom",onClick:()=>{const e=document.getElementById(r);e&&e.click()},children:[Object(m.jsx)("input",{ref:o,type:"file",id:r,accept:"application/json",className:"import-upload-input",onChange:()=>{var e;const t=null===(e=o.current)||void 0===e?void 0:e.files;if(t)for(let n=0;n<=t.length;n++){const e=t.item(n);if(!e)continue;const r=new FileReader;r.onload=e=>{let{target:t}=e;if(!t)return;const{result:n}=t;"string"===typeof n&&a(void 0,!1,n)},r.readAsText(e)}}}),Object(m.jsx)(qi.a,{})]})})};Object(Gt.b)(_o.a)(Vi||(Vi=Object(Kt.a)(["\n    .ant-dropdown-menu-item {\n        padding: 0;\n    }\n    .import-upload-button {\n        /** Mimic antd */\n        cursor: pointer;\n        padding: 5px 12px;\n        background: transparent;\n        border: none;\n        width: 100%;\n        text-align: left;\n    }\n    .import-upload-input {\n        display: none;\n    }\n"])));var $i,_i,Zi,Qi,el,tl,al,nl,rl=a(549),ol=a(550);const il=Gt.b.div($i||($i=Object(Kt.a)(["\n    display: flex;\n    column-gap: var(--spacing);\n    border-radius: var(--br-lg);\n    font-size: var(--fs-4xl);\n    line-height: 1.5;\n    margin: auto;\n    max-width: var(--card-width);\n    min-height: 59px;\n    outline: none !important;   // Avoid default state styling\n    padding: var(--spacing);\n    padding-right: 0;\n    text-align: center;\n    text-shadow: 0 1px 2px black;\n    .anticon {\n        cursor: pointer;\n    }\n    button {\n        color: white;\n        border-radius: var(--br-lg);\n        outline: none !important;   // Avoid default state styling\n        cursor: pointer;\n    }\n    .save-button {\n        flex: 1;\n        font-size: var(--fs-xl);\n        border: var(--bw) solid var(--sub-secondary);\n        font-weight: 500;\n        box-shadow: var(--bs-button);\n        height: 39px; // Alignment\n        line-height: 1;\n        &:focus, &:active {\n            color: white;\n        }\n    }\n    #save-button-waiting {\n        cursor: wait;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        z-index: 1;\n    }\n    #save-button-ready {\n        cursor: pointer;\n        &:hover {\n            background-color: var(--sub-info);\n            box-shadow: none;\n        }\n    }\n    .save-button-container {\n        display: flex;\n        flex: 1;\n        font-size: var(--fs);\n        line-height: 1.35;\n        position: relative;\n    }\n    .imexport {\n        flex: 0 0 200px;\n        display: grid;\n        grid-template-columns: 1fr max-content var(--spacing) 1fr max-content;\n        .primary-button {\n            align-content: center;\n            font-size: var(--fs);\n            background-color: var(--main-tertiary);\n            border: var(--bw) solid var(--sub-tertiary);\n            border-radius: var(--br-lg) 0 0 var(--br-lg);\n            &:hover {\n                background-color: var(--sub-tertiary);\n                box-shadow: none;\n            }\n        }\n        "," {\n            border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        }\n    }\n"])),Ni),ll=Gt.b.div(_i||(_i=Object(Kt.a)(["\n    width: var(--card-width);\n    height: var(--card-height);\n    margin-bottom: var(--spacing);\n    transform: translateX(var(--translate-ratio)) translateY(var(--translate-ratio)) scale(var(--resize-ratio))\n        translateZ(0);\n    position: absolute;\n    top: 0;\n    left: 0;\n    canvas {\n        position: absolute;\n        left: 0;\n        z-index: 1;\n        pointer-events: none;\n    }\n    &:hover {\n        .reset-button,\n        .lightbox-button {\n            display: block;\n        }\n        #export-canvas.js-export-available {\n            display: inline-block !important;   // Override js-controlled inline style\n            cursor: default;\n        }\n        #export-canvas-guard {\n            display: flex;\n            cursor: wait;\n            transition: all 2s;\n        }\n    }\n    #export-canvas {\n        display: none;\n        z-index: 100;\n        pointer-events: all;\n    }\n    #export-canvas-guard {\n        position: absolute;\n        left: 0;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        z-index: 101;\n        // background-color: #ffffff08;\n        width: var(--card-width);\n        height: var(--card-height);\n        .anticon {\n            font-size: var(--fs-4xl);\n        }\n        .canvas-guard-alert {\n            position: absolute;\n            top: 0;\n            right: 0;\n            color: white;\n            padding: var(--spacing-xs) var(--spacing);\n            border-radius: 0 0 0 var(--br-lg);\n            background-color: var(--main-active);\n            box-shadow:\n                0 3px 6px rgba(0, 0, 0, 0.16),\n                0 3px 6px rgba(0, 0, 0, 0.23);\n        }\n        &.guard-on {\n            display: flex !important;   // Override js-controlled inline style\n        }\n    }\n    .crop-canvas {\n        position: relative;\n        width: 416px;\n        height: 416px;\n        z-index: 0;\n        visibility: hidden;\n    }\n"]))),cl=Gt.b.div(Zi||(Zi=Object(Kt.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(45deg, #333, #333);\n\tz-index: 4000;\n\tcolor: white;\n\ttext-shadow:\n\t\t0 1px #333,\n\t\t0 2px #111;\n\tfont-size: var(--fs-3xl);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]))),sl=Gt.b.div(Qi||(Qi=Object(Kt.a)(["\n\tposition: fixed;\n\tright: var(--spacing);\n\tbottom: 0;\n\tfont-size: var(--fs-xs);\n\topacity: 0.5;\n\tpadding: var(--spacing-px) var(--spacing-xs);\n\tcolor: var(--color-dim);\n    img {\n        height: 10px;\n        margin-left: 1px;\n    }\n"]))),dl=Gt.b.span(el||(el=Object(Kt.a)(["\n    color: var(--main-danger);\n"]))),ul=Gt.b.div(tl||(tl=Object(Kt.a)(["\n    --overlay-size: 51px;\n    position: absolute;\n    z-index: 101;\n    background: var(--main-primary);\n    border-color: var(--main-active);\n    color: var(--color-heavy);\n    padding: var(--spacing);\n    line-height: 1;\n    font-size: var(--fs-3xl);\n    text-align: center;\n    width: var(--overlay-size);\n    height: var(--overlay-size);\n    border-radius: var(--br-lg);\n    cursor: pointer;\n    box-shadow: var(--bs-1);\n    display: none;\n    &:hover {\n        background: var(--sub-primary);\n    }\n"]))),bl=Object(Gt.b)(ul)(al||(al=Object(Kt.a)(["\n    top: var(--spacing-xs);\n    right: var(--spacing-xs);\n"]))),pl=Object(Gt.b)(ul)(nl||(nl=Object(Kt.a)(["\n    top: var(--spacing-xs);\n    right: calc(var(--overlay-size) + 2 * var(--spacing-xs));\n"])));var ml=a(205),fl=a(179),gl=a(508),hl=a(516),vl=a(525),yl=a(526),jl=a(501);Object(ml.configure)({ignoreTags:[]});const xl={EXPORT:["ctrl+d","command+d"],IMPORT:["ctrl+e","command+e"],MERGE:["ctrl+g","command+g"],VIEW:["ctrl+b","command+b"],DOWNLOAD:["ctrl+s","command+s"]},{height:Ol,width:wl}=c;var Fl=function(){var e;const{allowHotkey:t,softMode:a}=ya(Object(hn.useShallow)((e=>{let{setting:{allowHotkey:t,reduceMotionColor:a}}=e;return{softMode:a,allowHotkey:t}}))),{isInitiating:r,isLoading:o,language:i,isMetadataReady:s,languageInfo:d,initiate:u,loadDefaultLanguage:b}=pa(Object(hn.useShallow)((e=>{let{isInitiating:t,isLoading:a,language:n,isMetadataReady:r,languageInfo:o,initiate:i,loadDefaultLanguage:l}=e;return{isInitiating:t,isLoading:a,language:n,isMetadataReady:r,languageInfo:o,initiate:i,loadDefaultLanguage:l}}))),[p,f]=Object(n.useState)(!0),[g,h]=Object(n.useState)(""),[v,y]=Object(n.useState)("online"),[j,x]=Object(n.useState)(0),[O,w]=Object(n.useState)(!1),F=Object(n.useRef)(null),k=Object(n.useRef)(null),C=Object(n.useRef)(null),S=Object(n.useRef)(null),T=Object(n.useRef)(null),R=Object(n.useRef)(null),N=Object(n.useRef)(null),L=Object(n.useRef)(null),E=Object(n.useRef)(null),I=Object(n.useRef)(null),M=Object(n.useRef)(null),A=Object(n.useRef)(null),B=Object(n.useRef)(null),D=Object(n.useRef)(null),P=Object(n.useRef)(null),W=Object(n.useRef)(null),z=Object(n.useRef)(null),H=Object(n.useRef)(null),[K]=Object(n.useState)({artworkCanvasRef:k,backgroundCanvasRef:C,drawCanvasRef:S,frameCanvasRef:T,cardIconCanvasRef:R,pendulumScaleCanvasRef:N,pendulumEffectCanvasRef:L,typeCanvasRef:E,effectCanvasRef:I,nameCanvasRef:M,statCanvasRef:A,setIdCanvasRef:B,passwordCanvasRef:D,creatorCanvasRef:P,stickerCanvasRef:W,finishCanvasRef:z,lightboxCanvasRef:H}),G=Object(n.useRef)(null),[Y,X]=Object(n.useState)(0);Object(n.useEffect)((()=>{u()}),[u]),Object(n.useEffect)((()=>{s&&b()}),[s,b]),Object(n.useEffect)((()=>{["font-family","letter-spacing","--width-label"].forEach((e=>{var t,a;document.body.style.setProperty(e,null!==(t=null===(a=d.style)||void 0===a?void 0:a[e])&&void 0!==t?t:"")}))}),[d]),Object(n.useEffect)((()=>{var e;const t=null===(e=S.current)||void 0===e?void 0:e.getContext("2d"),a=va.getState().setCard;t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",Sa(t)),!1===r&&gn.a.load({custom:{families:["Matrix-Bold","MatrixBoldSmallCaps","MatrixBook","MatrixRegularSmallCaps","RoGSanSrfStd-Bd","YuGiOhITCStoneSerifBSc","matrix","palatino-linotype-bold","stone-serif-bold","stone-serif-regular"],urls:["asset/font.css"]},active:()=>{const e=(()=>{try{const a=window.localStorage.getItem("card-version"),n=window.localStorage.getItem("card-data"),r=n?ut(JSON.parse(n)):null,o=new URLSearchParams(window.location.search).get("data");if(o){var e,t;const{card:a}=ga(o),{artSource:n,backgroundSource:i}=a;if("online"===n&&"online"===i)return ga(o).card;const c=Object(l.a)({},a);return"offline"===n&&(c.artData=null!==(e=null===r||void 0===r?void 0:r.artData)&&void 0!==e?e:""),"offline"===i&&(c.backgroundData=null!==(t=null===r||void 0===r?void 0:r.backgroundData)&&void 0!==t?t:""),c}return null!==r&&"2.0.26"===a?r:Je()}catch(a){return console.error(a),Je()}})();a(e),f(!1)},fontinactive(e,t){console.error("TCG fontinactive",e,t),ua.a.error({message:fa()["error.load.font.tcg"](e)})},inactive:()=>{h(fa()["error.load.font.all-tcg"]),f(!1)}})}),[r]);const{styleContent:U}=(e=>{let{isLanguageInitiating:t,onActive:a,onBeforeLoad:r,onFontInactive:o,onInactive:i}=e;const{font:l,format:c}=va(Object(hn.useShallow)((e=>({format:e.card.format,font:e.card.nameStyle.font})))),[s,d]=Object(n.useState)(""),u=Object(n.useRef)(!1),b=Object(n.useRef)(0);return Object(n.useEffect)((()=>{("ocg"===c||"OCG"===l)&&!1===u.current&&b.current<=3&&!1===t&&(b.current+=1,d("".concat("/ygocarder","/asset/ocg-font.css")),r(),gn.a.load({custom:{families:["DFHSGothic-W3-WIN-RKSJ-H","DFKakuTaiHiStd-W4","FOT-Rodin Pro M","Yu-Gi-Oh! DF Leisho 3"],urls:["asset/ocg-font.css"]},active:()=>{u.current=!0,a()},inactive:()=>{u.current=!0,i()},fontinactive:o}))}),[c,l,t,a,r,o,i]),{styleContent:s}})({isLanguageInitiating:r,onBeforeLoad:()=>{var e;f(!0);const t=null===(e=S.current)||void 0===e?void 0:e.getContext("2d");t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",Sa(t))},onActive:()=>{f(!1)},onInactive:()=>{h(fa()["error.load.font.all-ocg"]),f(!1)},onFontInactive:(e,t)=>{console.error("OCG fontinactive",e,t),ua.a.error({message:fa()["error.load.font.ocg"](e)})}}),[V,q]=Object(n.useState)(!1);Object(n.useEffect)((()=>{const e=document.body.classList;a?e.add("reduced-color-motion"):e.remove("reduced-color-motion")}),[a]);const J=Object(n.useCallback)((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!t||w((t=>"boolean"===typeof e?e:!t))}),[t]),$=Object(n.useRef)(!1),_=document.getElementById("sentry-bug-report");Object(n.useEffect)((()=>{_&&i&&!1===$.current&&!1===fl.f()&&($.current=!0,gl.a({dsn:"https://32e20d849c5724b2e63eab9d0a57c165@o4508424630697984.ingest.us.sentry.io/4508424632401920",integrations:[hl.a(),vl.a(),yl.a({colorScheme:"system",autoInject:!1}).attachTo(_,{formTitle:i["contributor.bug-report.tooltip"],nameLabel:i["contributor.bug-report.name.label"],namePlaceholder:i["contributor.bug-report.name.placeholder"],isEmailRequired:!1,showEmail:!1,messageLabel:i["contributor.bug-report.message.label"],messagePlaceholder:i["contributor.bug-report.message.placeholder"],addScreenshotButtonLabel:i["contributor.bug-report.screenshot.label"],removeScreenshotButtonLabel:i["contributor.bug-report.remove-screenshot.label"],cancelButtonLabel:i["contributor.bug-report.cancel.label"],submitButtonLabel:i["contributor.bug-report.submit.label"],isRequiredLabel:i["contributor.bug-report.required.label"],successMessageText:i["contributor.bug-report.success.label"]})],beforeSend:e=>(e.exception&&e.event_id&&jl.b({eventId:e.event_id}),e),tracesSampleRate:1,tracePropagationTargets:["lauqerm.github.io"],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}))}),[i,_]);const Z=Object(n.useCallback)((function(e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||t||a){null===e||void 0===e||e.preventDefault();try{const e=a||window.prompt(i["prompt.import.message"]),t=va.getState().setCard;if(e){var n;const{card:a,isPartial:r}=ga(e);r&&ua.a.info({message:i["service.decode.partial.message"],description:i["service.decode.partial.description"]}),t(a),X((e=>e+1)),null===(n=F.current)||void 0===n||n.forceCardData(a),Bt()}}catch(r){console.error(r),ua.a.error({message:i["error.import.error.message"],description:i["error.import.error.description"]})}}}),[t,i]),Q=Object(n.useCallback)((function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||t){null===e||void 0===e||e.preventDefault();try{const e=window.prompt(i["prompt.import.message"]),t=va.getState().setCard;if(e){var a;const{card:n,isPartial:r}=ga(e,va.getState().card);r&&ua.a.info({message:i["service.decode.partial.message"],description:i["service.decode.partial.description"]}),t(n),X((e=>e+1)),null===(a=F.current)||void 0===a||a.forceCardData(n),Bt()}}catch(n){console.error(n),ua.a.error({message:i["error.import.error.message"],description:i["error.import.error.description"]})}}}),[t,i]),ee=Object(n.useCallback)((function(e){var a;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>({isPartial:!1,result:ct(e)});if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||t||n)if(null===e||void 0===e||e.preventDefault(),"offline"===v&&!1===n&&window.alert(i["prompt.export.offline-warning.message"]),"online"===v&&null!==(a=F.current)&&void 0!==a&&a.isLoading())window.alert(i["error.export.image-loading.message"]);else try{const e=va.getState().card,{isPartial:t,result:a}=r(e,k.current);if(t&&ua.a.info({message:i["service.decode.partial.message"],description:i["service.decode.partial.description"]}),n){const t=new Blob(["".concat(JSON.stringify(a))],{type:"application/json"});ft(pt(e.name),t,"application/json")}else window.prompt(i["prompt.export.message"],"".concat(JSON.stringify(a)))}catch(o){console.error(o),ua.a.error({message:i["error.export.message"],description:i["error.export.description"]})}}),[t,i,v]),te=Object(n.useCallback)((function(e){var a;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!t||(null===e||void 0===e||e.preventDefault(),null===(a=G.current)||void 0===a||a.download())}),[t]),ae=Object(n.useMemo)((()=>({IMPORT:e=>Z(e,!0),MERGE:e=>Q(e,!0),EXPORT:e=>ee(e,!0),VIEW:()=>J(!0,!0),DOWNLOAD:e=>te(e,!0)})),[te,ee,Z,Q,J]),ne=Object(n.useCallback)((()=>{q(!0),alert(i["prompt.download.tainted.message"])}),[i]),re=Object(n.useCallback)((()=>{x((e=>e+1)),X((e=>e+1)),q(!1)}),[]),oe=Object(n.useCallback)(((e,t)=>{X((e=>e+1)),y(t)}),[]),ie=Object(n.useCallback)((()=>{X((e=>e+1)),q(!0)}),[]),le=o||p;return Object(m.jsx)(ml.HotKeys,{keyMap:xl,handlers:ae,children:Object(m.jsxs)("div",{id:"app",onDrop:()=>{},className:"language-".concat(d.codeName),style:Object(l.a)({backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/debut-dark.png"), linear-gradient(180deg, #00000022, #00000044)'),height:Wt()?"-webkit-fill-available":"100vh"},{"--card-height":"".concat(c.height,"px"),"--card-width":"".concat(c.width,"px")}),children:[U&&Object(m.jsx)("link",{rel:"stylesheet",type:"text/css",href:U}),Object(m.jsxs)("div",{className:"app-container",style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/dark-denim-3.png")')},children:[le&&Object(m.jsx)(cl,{className:"app-loading",children:g.length>0?Object(m.jsx)(dl,{children:g}):null!==(e=d.initialMessage)&&void 0!==e?e:""}),Object(m.jsxs)("div",{className:"card-preview-panel ".concat(V?"export-tainted":"export-normal"),children:[Object(m.jsxs)(il,{className:"data-button-panel",children:[Object(m.jsxs)("div",{className:"imexport",children:[Object(m.jsx)(Xt.a,{overlay:t?Object(m.jsx)(m.Fragment,{children:"Ctrl-D / \u2318-D"}):null,children:Object(m.jsx)("button",{className:"primary-button export-button",onClick:ee,children:i["button.export.label"]})}),Object(m.jsx)($o.a,{overlay:Object(m.jsx)(_o.a,{onClick:e=>e.domEvent.stopPropagation(),children:[{label:i["button.export.for-ygocarder.label"],converter:void 0},{label:i["button.export.for-other.label"],converter:St}].map(((e,t)=>{let{converter:a,label:n}=e;return Object(m.jsx)(_o.a.Item,{onClick:()=>ee(void 0,!1,!0,a),children:n},"".concat(t))}))}),children:Object(m.jsx)(Ni,{className:"secondary-button export-custom",children:Object(m.jsx)(_t.a,{})})}),Object(m.jsx)("div",{}),Object(m.jsx)(Xt.a,{overlay:t?Object(m.jsxs)("div",{className:"center",children:[Object(m.jsx)("div",{children:"Ctrl-E / \u2318-E"}),Object(m.jsxs)("div",{children:["Ctrl-G / \u2318-G",i["prompt.import.merge.tooltip"]]})]}):null,children:Object(m.jsx)("button",{className:"primary-button import-button",onClick:Z,children:i["button.import.label"]})}),Object(m.jsx)(Ji,{importData:Z,language:i})]}),Object(m.jsx)(Pi,{language:i}),Object(m.jsx)(Ui,{ref:G,canvasMap:K,imageChangeCount:Y,isTainted:V,isInitializing:p,onDownloadError:ne}),V&&Object(m.jsx)("div",{id:"save-button-tainted",className:"save-button-container",children:Object(m.jsxs)("span",{children:[i["alert.download.tainted-first-line"],Object(m.jsx)("br",{}),i["alert.download.tainted-second-line"]," ",Object(m.jsx)(ir,{})]})})]}),Object(m.jsx)("div",{className:"card-canvas-container",children:Object(m.jsxs)(ll,{className:"card-canvas-group",children:[Object(m.jsx)(Xt.a,{title:i["button.reset.tooltip"],children:Object(m.jsx)(pl,{className:"reset-button",onClick:()=>{if(window.confirm(i["prompt.reset.message"])){var e;const{setCard:t,card:a}=va.getState(),n=Je(),r="tcg"===a.format?n:oa(n,"ocg");t(r),X((e=>e+1)),null===(e=F.current)||void 0===e||e.forceCardData(r)}},children:Object(m.jsx)(rl.a,{})})}),Object(m.jsx)(Xt.a,{title:Object(m.jsxs)("div",{className:"center",children:[i["button.full-size.label"],t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),"Ctrl-B / \u2318-B"]}):null]}),children:Object(m.jsx)(bl,{className:"lightbox-button",onClick:()=>J(),children:Object(m.jsx)(ol.a,{})})}),Object(m.jsx)("canvas",{id:"export-canvas",ref:S,width:wl,height:Ol},j+.1),Object(m.jsx)("div",{id:"export-canvas-guard",onContextMenu:e=>e.preventDefault()}),Object(m.jsx)("canvas",{id:"frameCanvas",ref:T,width:wl,height:Ol},j),Object(m.jsx)("canvas",{id:"nameCanvas",ref:M,width:wl,height:148}),Object(m.jsx)("canvas",{id:"cardIconCanvas",ref:R,width:wl,height:222}),Object(m.jsx)("canvas",{id:"pendulumScaleCanvas",ref:N,width:wl,height:889}),Object(m.jsx)("canvas",{id:"pendulumEffectCanvas",ref:L,width:wl,height:889}),Object(m.jsx)("canvas",{id:"typeCanvas",ref:E,width:wl,height:1037}),Object(m.jsx)("canvas",{id:"effectCanvas",ref:I,width:wl,height:1111}),Object(m.jsx)("canvas",{id:"statCanvas",ref:A,width:wl,height:Ol}),Object(m.jsx)("canvas",{id:"setIdCanvas",ref:B,width:wl,height:Ol}),Object(m.jsx)("canvas",{id:"passwordCanvas",ref:D,width:wl,height:Ol}),Object(m.jsx)("canvas",{id:"creatorCanvas",ref:P,width:wl,height:Ol}),Object(m.jsx)("canvas",{id:"stickerCanvas",ref:W,width:wl,height:Ol}),Object(m.jsx)("canvas",{id:"finishCanvas",ref:z,width:wl,height:Ol}),Object(m.jsx)("canvas",{className:"crop-canvas",ref:k}),Object(m.jsx)("canvas",{className:"crop-canvas",ref:C})]})})]}),!1===le&&Object(m.jsx)(Si,{ref:F,artworkCanvas:k.current,backgroundCanvas:C.current,onSourceLoaded:re,onCropChange:oe,onTainted:ie})]}),Object(m.jsx)(Ri.a,{width:"843px",wrapClassName:"card-lightbox-overlay",visible:O,forceRender:!0,onCancel:()=>w(!1),footer:null,children:Object(m.jsx)("canvas",{id:"lightbox-canvas",ref:H,width:wl,height:Ol},j+.1)}),Object(m.jsxs)(sl,{className:"by-me",children:["Made by Lauqerm ",Object(m.jsx)("img",{src:"https://i.imgur.com/RY6IRqn.png",alt:"avatar"})]})]})})};var kl=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,552)).then((t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:o,getTTFB:i}=t;a(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(Fl,{})}),document.getElementById("root")),kl()}},[[499,1,2]]]);
//# sourceMappingURL=main.e60c7ba8.chunk.js.map