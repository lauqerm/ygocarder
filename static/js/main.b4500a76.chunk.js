(this.webpackJsonpygocarder=this.webpackJsonpygocarder||[]).push([[0],{293:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},359:function(e,t,n){},474:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},484:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),i=n(41),l=n.n(i),c=(n(293),n(46)),s=n(2);n(294),n(295),n(296),n(297),n(298);const d=e=>[{value:"fit",label:null===e||void 0===e?void 0:e.fit},{value:"full",label:null===e||void 0===e?void 0:e.full}],u={width:813,height:1185,topToPendulumStructure:210,topToArtFrame:213,pendulumStructureHeight:912,leftToPendulumStructure:52,cardBorder:28},b="#404040",p=()=>({body:100,pendulum:100,text:100,name:100,baseFill:b,artBorder:!0,nameBorder:!0,boundless:!1}),m={normal:{artFinishX:100,artFinishY:219,artWidth:614,artX:100,artY:219,ratio:1,artFrameWidth:614,artFrameHeight:614,artFrameY:219,artRatio:1,type:"normal"},pendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.325,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artRatio:1.325,type:"pendulum"},extendedCard:{artFinishX:100,artFinishY:219,artWidth:702,artX:56,artY:213,ratio:.775,artFrameWidth:614,artFrameHeight:614,artFrameY:219,artRatio:1,type:"extendedCard"},extendedPendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:.775,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artRatio:1.325,type:"extendedPendulum"},truePendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.057,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artRatio:1.325,type:"truePendulum"},fullCard:{artFinishX:100,artFinishY:219,artWidth:758,artX:28,artY:28,ratio:.67,artFrameWidth:614,artFrameHeight:614,artFrameY:219,artRatio:1,type:"fullCard"},fullPendulum:{artFinishX:56,artFinishY:213,artWidth:758,artX:28,artY:28,ratio:.67,artFrameWidth:702,artFrameHeight:530,artFrameY:213,artRatio:1.325,type:"fullPendulum"}},f=(e,t,n)=>{const{boundless:a,body:r,pendulum:o,text:i}=Object(s.a)(Object(s.a)({},p()),t);if("full"===n)return m.fullCard;return m["fit"!==n&&a||r<100?e?"fullPendulum":"fullCard":e?i<100?"extendedPendulum":o<100?"truePendulum":"pendulum":i<100?"extendedCard":"normal"]};var h=n(515);const g="NONE",v=[{name:g,nameKey:"input.attribute.none",color:"#000000",isCreative:!1,isOption:!1},{name:"DARK",nameKey:"input.attribute.dark",label:"Dark",color:"#b41dda",isCreative:!1,isOption:!0},{name:"EARTH",nameKey:"input.attribute.earth",label:"Earth",color:"#8d8e8e",isCreative:!1,isOption:!0},{name:"FIRE",nameKey:"input.attribute.fire",label:"Fire",color:"#e51b23",isCreative:!1,isOption:!0},{name:"LIGHT",nameKey:"input.attribute.light",label:"Light",color:"#bfae32",isCreative:!1,isOption:!0},{name:"WATER",nameKey:"input.attribute.water",label:"Water",color:"#008ecd",isCreative:!1,isOption:!0},{name:"WIND",nameKey:"input.attribute.wind",label:"Wind",color:"#28ab35",isCreative:!1,isOption:!0},{name:"DIVINE",nameKey:"input.attribute.divine",label:"Divine",color:"#ef6300",isCreative:!1,isOption:!0},{name:"SPELL",nameKey:"input.attribute.spell",label:"Spell",color:"#1b8f83",isCreative:!1,isOption:!0},{name:"TRAP",nameKey:"input.attribute.trap",label:"Trap",color:"#c32a8c",isCreative:!1,isOption:!0},{name:"LAUGH",nameKey:"input.attribute.laugh",label:"Laugh",color:"#f78f27",isCreative:!0,isOption:!0}],y="NO ICON",j=[{label:Object(a.jsx)(h.a,{}),value:y,nameKey:"input.icon.none",isOption:!1},{label:"Field",value:"FIELD",nameKey:"input.icon.field",isOption:!0},{label:"Continuous",value:"CONTINUOUS",nameKey:"input.icon.continuous",isOption:!0},{label:"Quick-Play",value:"QUICK-PLAY",nameKey:"input.icon.quick-play",isOption:!0},{label:"Ritual",value:"RITUAL",nameKey:"input.icon.ritual",isOption:!0},{label:"Equip",value:"EQUIP",nameKey:"input.icon.equip",isOption:!0},{label:"Counter",value:"COUNTER",nameKey:"input.icon.counter",isOption:!0}],x="no-sticker",O=[{value:x,isOption:!1},{value:"gold",isOption:!0},{value:"silver",isOption:!0},{value:"beta",isOption:!0},{value:"holo5",isOption:!0},{value:"holo4",isOption:!0},{value:"holo3",isOption:!0},{value:"holo2",isOption:!0},{value:"holo1",isOption:!0},{value:"limited",isOption:!0},{value:"unlimited",isOption:!0}],w={auto:{value:"auto",labelKey:"input.icon-type.auto.label",fullLabelKey:"input.icon-type.auto.label",icon:null,isOption:!1},st:{value:"st",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon-type.icon.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"s/t-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-continuous.png")}),isOption:!0},level:{value:"level",labelKey:"input.icon-type.level.label",fullLabelKey:"input.icon-type.level.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-level.png")}),isOption:!0},"negative-level":{value:"negative-level",labelKey:"input.icon-type.negative-level.label",fullLabelKey:"input.icon-type.negative-level.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"negative-level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-negative-level.png")}),isOption:!0},rank:{value:"rank",labelKey:"input.icon-type.rank.label",fullLabelKey:"input.icon-type.rank.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"rank-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-rank.png")}),isOption:!0}},k=Object.values(w),S=e=>Object(s.a)({hasGradient:!1,hasOutline:!1,hasShadow:!1,pattern:"none"},e),F={commonB:{key:"commonB",label:"Common (Black)",image:"asset/image/other/name-common-b.png",value:S({preset:"commonB",fillStyle:"#000000"})},commonW:{key:"commonW",label:"Common (White)",image:"asset/image/other/name-common-w.png",value:S({preset:"commonW",fillStyle:"#ffffff"})},skillDefault:{key:"skillDefault",label:"Skill (Default)",image:"asset/image/other/name-skill-default.png",value:S({preset:"skillDefault",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",hasOutline:!0})},skillArial:{key:"skillArial",label:"Skill (Arial)",image:"asset/image/other/name-skill-arial.png",value:S({preset:"skillArial",font:"Arial",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",lineOffsetX:1,hasOutline:!0})},rare:{key:"rare",label:"Rare",image:"asset/image/other/name-rare.png",value:S({preset:"rare",fillStyle:"#cfc6de"})},secretGradient:{key:"secretGradient",label:"Secret (Gradient)",image:"asset/image/other/name-secret-gradient.png",value:S({preset:"secretGradient",gradientAngle:180,gradientColor:"0.000|#7a71a6,1.000|#a8c1e5",hasGradient:!0})},secret:{key:"secret",label:"Secret",image:"asset/image/other/name-secret.png",value:S({preset:"secret",fillStyle:"#8a8381"})},platinum2:{key:"platinum2",label:"Platinum",image:"asset/image/other/name-platinum.png",value:S({preset:"platinum2",fillStyle:"#a49f9e"})},ultra:{key:"ultra",label:"Ultra",image:"asset/image/other/name-ultra.png",value:S({preset:"ultra",fillStyle:"#dbb473"})},ultra2:{key:"ultra2",label:"Ultra (Type 2)",image:"asset/image/other/name-ultra-2.png",value:S({preset:"ultra2",fillStyle:"#fee002"})},platinum:{key:"platinum",label:"Foil Platinum",image:"asset/image/other/name-foil-platinum.png",value:S({preset:"platinum",fillStyle:"#CCCCCC",shadowColor:"#FFFFFF",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},gold:{key:"gold",label:"Foil Gold",image:"asset/image/other/name-foil-gold.png",value:S({preset:"gold",fillStyle:"#b88c43",shadowColor:"#FCC400",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},animeRed:{key:"animeRed",label:"Anime (Type Red)",image:"asset/image/other/name-anime-red.png",value:S({preset:"animeRed",gradientAngle:180,gradientColor:"0.000|#d81961,0.220|#b81654,0.270|#9e1348,0.330|#95093e,0.380|#95093e,0.450|#ba3264,0.530|#ff5e99,0.620|#ffa0c3,0.690|#ffffff,0.770|#ff5e99,0.870|#d81961,1.000|#b81654",hasGradient:!0,hasOutline:!0,hasShadow:!0,lineColor:"#333333",lineOffsetX:1,lineOffsetY:0,lineWidth:3,shadowBlur:2,shadowColor:"#383838",shadowOffsetX:2,shadowOffsetY:3})},animeSilver:{key:"animeSilver",label:"Anime (Type Silver)",image:"asset/image/other/name-anime-silver.png",value:S({preset:"animeSilver",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#cecbb8,0.220|#b0ad9b,0.270|#94917e,0.330|#797768,0.380|#797768,0.450|#d9d9d9,0.610|#ffffff,0.700|#ffffff,0.870|#d6d7c7,1.000|#c9cbb6",hasGradient:!0})},animeGold:{key:"animeGold",label:"Anime (Type Gold)",image:"asset/image/other/name-anime-gold.png",value:S({preset:"animeGold",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#eee317,0.220|#dbbe15,0.270|#d0920c,0.330|#b57f0b,0.380|#d0920c,0.450|#ffff6b,0.610|#ffffff,0.700|#ffffff,0.870|#e5dd2d,1.000|#e3da23",hasGradient:!0})},promo:{key:"promo",label:"Promo",image:"asset/image/other/name-promo.png",value:S({preset:"promo",fillStyle:"#c7080b",shadowColor:"#333333",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:1,hasShadow:!0,lineColor:"#8a1801",lineWidth:3,lineOffsetX:0,hasOutline:!0,lineOffsetY:0})}},C=Object.values(F),T={none:{key:"none",patternImage:"",blendMode:"source-atop",isOption:!1},type1:{key:"type1",patternImage:"finish-name-type1",blendMode:"source-atop",isOption:!0},type2:{key:"type2",patternImage:"finish-name-type2",blendMode:"source-atop",isOption:!0},type3:{key:"type3",patternImage:"finish-name-type3",blendMode:"source-atop",isOption:!0},type4:{key:"type4",patternImage:"finish-name-type4",blendMode:"source-atop",isOption:!0},type5:{key:"type5",patternImage:"finish-name-type5",blendMode:"multiply",overrideFill:!0,isOption:!0},type6:{key:"type6",patternImage:"finish-name-type6",blendMode:"source-atop",isOption:!0},type7:{key:"type7",patternImage:"finish-name-type7",blendMode:"lighter",overrideFill:!0,isOption:!0},type8:{key:"type8",patternImage:"finish-name-type8",blendMode:"source-atop",isOption:!0},type9:{key:"type9",patternImage:"finish-name-type9",blendMode:"source-atop",isOption:!0}},L=Object.values(T);var N=n(506);var R={tcg:[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8}],"tcg-stat":[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8}],"tcg-type-stat":[{trueWidth:684,trueBaseline:919.8,trueEdge:64.5}],"tcg-type":[{trueWidth:684,trueBaseline:921.8,trueEdge:64.5}],ocg:[{trueWidth:684,trueBaseline:895.23,trueEdge:64.8}],"ocg-stat":[{trueWidth:684,trueBaseline:891.23,trueEdge:64.8}],"ocg-type-stat":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5}],"ocg-type":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5}]},I=[{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94},{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94}],E={tcg:{small:{trueBaseline:919,trueEdge:62.5,trueWidth:684.5},medium:{trueBaseline:920,trueEdge:62.5,trueWidth:684.5},large:{trueBaseline:187.5,trueEdge:732,edgeAlignment:"right",trueWidth:648.5}},ocg:{small:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},medium:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},large:{trueBaseline:190.5,trueEdge:728,edgeAlignment:"right",trueWidth:642.5}}},A={ocg:{trueBaseline:1146.5,trueEdge:736,trueWidth:435},tcg:{trueBaseline:1149.5,trueEdge:733,trueWidth:380}},B={ocg:{trueBaseline:1148.931,trueEdge:37.031,trueWidth:255},tcg:{trueBaseline:1149.431,trueEdge:37.031,trueWidth:311}},z=[{shortForm:"\u7279\u6b8a\u53ec\u559a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u30ab\u30fc\u30c9",rubyForm:"{\u30ab\u30fc\u30c9}"},{shortForm:"\u30c7\u30e5\u30a8\u30eb",rubyForm:"{\u30c7\u30e5\u30a8\u30eb}"},{shortForm:"\u30de\u30c3\u30c1",rubyForm:"{\u30de\u30c3\u30c1}"},{shortForm:"\u30bf\u30fc\u30f3",rubyForm:"{\u30bf\u30fc\u30f3}"},{shortForm:"\u30d7\u30ec\u30a4\u30e4\u30fc",rubyForm:"{\u30d7\u30ec\u30a4\u30e4\u30fc}"},{shortForm:"\u81ea\u5206",rubyForm:"{\u81ea|\u3058}{\u5206|\u3076\u3093}"},{shortForm:"\u76f8\u624b",rubyForm:"{\u76f8|\u3042\u3044}{\u624b|\u3066}"},{shortForm:"LP",regexForm:"(?<![a-zA-Z_])LP(?![a-zA-Z_])",rubyForm:"{LP|\u30e9\u30a4\u30d5\u30dd\u30a4\u30f3\u30c8}"},{shortForm:"\u30c7\u30c3\u30ad",rubyForm:"{\u30c7\u30c3\u30ad}"},{shortForm:"\u30e1\u30a4\u30f3",rubyForm:"{\u30e1\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30c9",rubyForm:"{\u30b5\u30a4\u30c9}"},{shortForm:"EX",regexForm:"(?<!\\w)EX(?!\\w)",rubyForm:"{EX|\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a3\u30fc\u30eb\u30c9",rubyForm:"{\u30d5\u30a3\u30fc\u30eb\u30c9}"},{shortForm:"\u5893\u5730",rubyForm:"{\u5893|\u307c}{\u5730|\u3061}"},{shortForm:"\u624b\u672d",rubyForm:"{\u624b|\u3066}{\u672d|\u3075\u3060}"},{shortForm:"\u30be\u30fc\u30f3",rubyForm:"{\u30be\u30fc\u30f3}"},{shortForm:"\u30e2\u30f3\u30b9\u30bf\u30fc",rubyForm:"{\u30e2\u30f3\u30b9\u30bf\u30fc}"},{shortForm:"\u7e26\u5217",rubyForm:"{\u7e26|\u305f\u3066}{\u5217|\u308c\u3064}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc}"},{shortForm:"\u6301\u3061\u4e3b",rubyForm:"{\u6301|\u3082}\u3061{\u4e3b|\u306c\u3057}"},{shortForm:"\u30c0\u30e1\u30fc\u30b8",rubyForm:"{\u30c0\u30e1\u30fc\u30b8}"},{shortForm:"\u6226\u95d8",rubyForm:"{\u6226|\u305b\u3093}{\u95d8|\u3068\u3046}"},{shortForm:"\u30b9\u30da\u30eb",rubyForm:"{\u30b9\u30da\u30eb}"},{shortForm:"\u30b9\u30d4\u30fc\u30c9",rubyForm:"{\u30b9\u30d4\u30fc\u30c9}"},{shortForm:"\u30c1\u30a7\u30fc\u30f3",rubyForm:"{\u30c1\u30a7\u30fc\u30f3}"},{shortForm:"\u30d6\u30ed\u30c3\u30af",rubyForm:"{\u30d6\u30ed\u30c3\u30af}"},{shortForm:"\u76f4\u63a5",rubyForm:"{\u76f4|\u3061\u3087\u304f}{\u63a5|\u305b\u3064}"},{shortForm:"\u7d20\u6750",rubyForm:"{\u7d20|\u305d}{\u6750|\u3056\u3044}"},{shortForm:"\u540d",rubyForm:"{\u540d|\u3081\u3044}"},{shortForm:"\u6761\u4ef6",rubyForm:"{\u6761|\u3058\u3087\u3046}{\u4ef6|\u3051\u3093}"},{shortForm:"\u30b3\u30a4\u30f3",rubyForm:"{\u30b3\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30b3\u30ed",rubyForm:"{\u30b5\u30a4\u30b3\u30ed}"},{shortForm:"\u5143",rubyForm:"{\u5143|\u3082\u3068}"},{shortForm:"\u5148",rubyForm:"{\u5148|\u3055\u304d}"},{shortForm:"\u72b6\u614b",rubyForm:"{\u72b6|\u3058\u3087\u3046}{\u614b|\u305f\u3044}"},{shortForm:"\u76f8\u4e92",rubyForm:"{\u76f8|\u305d\u3046}{\u4e92|\u3054}"},{shortForm:"\u30a8\u30af\u30b9\u30c8\u30e9",rubyForm:"{\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a7\u30a4\u30ba",rubyForm:"{\u30d5\u30a7\u30a4\u30ba}"},{shortForm:"\u30c9\u30ed\u30fc",rubyForm:"{\u30c9\u30ed\u30fc}"},{shortForm:"\u30b9\u30bf\u30f3\u30d0\u30a4",rubyForm:"{\u30b9\u30bf\u30f3\u30d0\u30a4}"},{shortForm:"\u30d0\u30c8\u30eb",rubyForm:"{\u30d0\u30c8\u30eb}"},{shortForm:"\u30a8\u30f3\u30c9",rubyForm:"{\u30a8\u30f3\u30c9}"},{shortForm:"\u30b9\u30bf\u30fc\u30c8",rubyForm:"{\u30b9\u30bf\u30fc\u30c8}"},{shortForm:"\u30b9\u30c6\u30c3\u30d7",rubyForm:"{\u30b9\u30c6\u30c3\u30d7}"},{shortForm:"\u7a2e\u985e",rubyForm:"{\u7a2e|\u3057\u3085}{\u985e|\u308b\u3044}"},{shortForm:"\u5f62\u5f0f",rubyForm:"{\u5f62|\u3051\u3044}{\u5f0f|\u3057\u304d}"},{shortForm:"\u8868\u5074",rubyForm:"{\u8868|\u304a\u3082\u3066}{\u5074|\u304c\u308f}"},{shortForm:"\u88cf\u5074",rubyForm:"{\u88cf|\u3046\u3089}{\u5074|\u304c\u308f}"},{shortForm:"\u8868\u793a",rubyForm:"{\u8868|\u3072\u3087\u3046}{\u793a|\u3058}"},{shortForm:"\u88cf",rubyForm:"{\u88cf|\u3046\u3089}"},{shortForm:"\u7f60",rubyForm:"{\u7f60|\u30c8\u30e9\u30c3\u30d7}"},{shortForm:"\u30a2\u30af\u30b7\u30e7\u30f3",rubyForm:"\u30a2\u30af\u30b7\u30e7\u30f3"},{shortForm:"\u88c5\u5099",rubyForm:"{\u88c5|\u305d\u3046}{\u5099|\u3073}"},{shortForm:"\u901f\u653b",rubyForm:"{\u901f|\u305d\u3063}{\u653b|\u3053\u3046}"},{shortForm:"\u6c38\u7d9a",rubyForm:"{\u6c38|\u3048\u3044}{\u7d9a|\u305e\u304f}"},{shortForm:"\u30ab\u30a6\u30f3\u30bf\u30fc",rubyForm:"{\u30ab\u30a6\u30f3\u30bf\u30fc}"},{shortForm:"\u30ec\u30d9\u30eb",rubyForm:"{\u30ec\u30d9\u30eb}"},{shortForm:"\u30e9\u30f3\u30af",rubyForm:"{\u30e9\u30f3\u30af}"},{shortForm:"\u30b9\u30b1\u30fc\u30eb",rubyForm:"{\u30b9\u30b1\u30fc\u30eb}"},{shortForm:"\u653b\u6483\u529b",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u5b88\u5099\u529b",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u6483\u529b",rubyForm:"{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u52dd\u5229",rubyForm:"{\u52dd|\u3057\u3087\u3046}{\u5229|\u308a}"},{shortForm:"\u5c5e\u6027",rubyForm:"{\u5c5e|\u305e\u304f}{\u6027|\u305b\u3044}"},{shortForm:"\u7a2e\u65cf",rubyForm:"{\u7a2e|\u3057\u3085}{\u65cf|\u305e\u304f}"},{shortForm:"\u52b9\u679c",rubyForm:"{\u52b9|\u3053\u3046}{\u679c|\u304b}"},{shortForm:"\u878d\u5408",rubyForm:"{\u878d|\u3086\u3046}{\u5408|\u3054\u3046}"},{shortForm:"\u5100\u5f0f",rubyForm:"{\u5100|\u304e}{\u5f0f|\u3057\u304d}"},{shortForm:"\u30de\u30ad\u30b7\u30de\u30e0",rubyForm:"{\u30de\u30ad\u30b7\u30de\u30e0}"},{shortForm:"\u30c8\u30fc\u30af\u30f3",rubyForm:"{\u30c8\u30fc\u30af\u30f3}"},{shortForm:"\u30c1\u30e5\u30fc\u30ca\u30fc",rubyForm:"{\u30c1\u30e5\u30fc\u30ca\u30fc}"},{shortForm:"\u30c7\u30e5\u30a2\u30eb",rubyForm:"{\u30c7\u30e5\u30a2\u30eb}"},{shortForm:"\u30ea\u30d0\u30fc\u30b9",rubyForm:"{\u30ea\u30d0\u30fc\u30b9}"},{shortForm:"\u30c8\u30a5\u30fc\u30f3",rubyForm:"{\u30c8\u30a5\u30fc\u30f3}"},{shortForm:"\u30b9\u30d4\u30ea\u30c3\u30c8",rubyForm:"{\u30b9\u30d4\u30ea\u30c3\u30c8}"},{shortForm:"\u30e6\u30cb\u30aa\u30f3",rubyForm:"{\u30e6\u30cb\u30aa\u30f3}"},{shortForm:"\u5149",rubyForm:"{\u5149|\u3072\u304b\u308a}"},{shortForm:"\u95c7",rubyForm:"{\u95c7|\u3084\u307f}"},{shortForm:"\u5730",rubyForm:"{\u5730|\u3061}"},{shortForm:"\u6c34",rubyForm:"{\u6c34|\u307f\u305a}"},{shortForm:"\u708e",rubyForm:"{\u708e|\u307b\u306e\u304a}"},{shortForm:"\u98a8",rubyForm:"{\u98a8|\u304b\u305c}"},{shortForm:"\u7363\u6226\u58eb",rubyForm:"{\u7363|\u3058\u3085\u3046}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u5275\u9020\u795e",rubyForm:"{\u5275|\u305d\u3046}{\u9020|\u305e\u3046}{\u795e|\u3057\u3093}"},{shortForm:"\u30b5\u30a4\u30d0\u30fc\u30b9",rubyForm:"{\u30b5\u30a4\u30d0\u30fc\u30b9}"},{shortForm:"\u6050\u7adc",rubyForm:"{\u6050|\u304d\u3087\u3046}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u5e7b\u795e\u7363",rubyForm:"{\u5e7b|\u3052\u3093}{\u795e|\u3057\u3093}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5929\u4f7f",rubyForm:"{\u5929|\u3066\u3093}{\u4f7f|\u3057}"},{shortForm:"\u60aa\u9b54",rubyForm:"{\u60aa|\u3042\u304f}{\u9b54|\u307e}"},{shortForm:"\u9b5a",rubyForm:"{\u9b5a|\u3055\u304b\u306a}"},{shortForm:"\u30ae\u30e3\u30e9\u30af\u30b7\u30fc",rubyForm:"{\u30ae\u30e3\u30e9\u30af\u30b7\u30fc}"},{shortForm:"\u5e7b\u60f3\u9b54",rubyForm:"{\u5e7b|\u3052\u3093}{\u60f3|\u305d\u3046}{\u9b54|\u307e}"},{shortForm:"\u6606\u866b",rubyForm:"{\u6606|\u3053\u3093}{\u866b|\u3061\u3085\u3046}"},{shortForm:"\u6a5f\u68b0",rubyForm:"{\u6a5f|\u304d}{\u68b0|\u304b\u3044}"},{shortForm:"\u690d\u7269",rubyForm:"{\u690d|\u3057\u3087\u304f}{\u7269|\u3076\u3064}"},{shortForm:"\u722c\u866b\u985e",rubyForm:"{\u722c|\u306f}{\u866b|\u3061\u3085\u3046}{\u985e|\u308b\u3044}"},{shortForm:"\u5ca9\u77f3",rubyForm:"{\u5ca9|\u304c\u3093}{\u77f3|\u305b\u304d}"},{shortForm:"\u6d77\u7adc",rubyForm:"{\u6d77|\u304b\u3044}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u9b54\u6cd5\u4f7f\u3044",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}{\u4f7f|\u3064\u304b}\u3044"},{shortForm:"\u96f7",rubyForm:"{\u96f7|\u3044\u304b\u305a\u3061}"},{shortForm:"\u9ce5\u7363",rubyForm:"{\u9ce5|\u3061\u3087\u3046}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5e7b\u7adc",rubyForm:"{\u5e7b|\u3052\u3093}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u30a2\u30f3\u30c7\u30c3\u30c8",rubyForm:"{\u30a2\u30f3\u30c7\u30c3\u30c8}"},{shortForm:"\u30b5\u30a4\u30dc\u30fc\u30b0",rubyForm:"{\u30b5\u30a4\u30dc\u30fc\u30b0}"},{shortForm:"\u5929\u754c\u6226\u58eb",rubyForm:"{\u5929|\u3066\u3093}{\u754c|\u304b\u3044}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u9b54\u5c0e\u9a0e\u58eb",rubyForm:"{\u9b54|\u307e}{\u5c0e|\u3069\u3046}{\u9a0e|\u304d}{\u58eb|\u3057}"},{shortForm:"\u7121\u52b9\u5316",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}{\u5316|\u304b}"},{shortForm:"\u30aa\u30e1\u30ac",rubyForm:"{\u30aa\u30e1\u30ac}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u6368\u3066\u308b",rubyForm:"{\u6368|\u3059}\u3066\u308b"},{shortForm:"\u52a0\u3048\u308b",rubyForm:"{\u52a0|\u304f\u308f}\u3048\u308b"},{shortForm:"\u304b\u3089\u96e2\u308c\u308b",rubyForm:"\u304b\u3089{\u96e2|\u306f\u306a}\u308c\u308b"},{shortForm:"\u4e0e\u3048\u308b",rubyForm:"{\u4e0e|\u3042\u305f}\u3048\u308b"},{shortForm:"\u91cd\u306d\u308b",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u308b"},{shortForm:"\u53d6\u308a\u9664\u304f",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u53d6\u308a\u9664\u3044",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u3044"},{shortForm:"\u9664\u304f",rubyForm:"{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u884c\u3046",rubyForm:"{\u884c|\u304a\u3053\u306a}\u3046"},{shortForm:"\u5bfe\u3059",rubyForm:"{\u5bfe|\u305f\u3044}\u3059"},{shortForm:"\u9001\u308b",rubyForm:"{\u9001|\u304a\u304f}\u308b"},{shortForm:"\u7f6e\u304f",rubyForm:"{\u7f6e|\u304a}\u304f"},{shortForm:"\u3081\u304f\u308b",rubyForm:"{\u3081\u304f\u308b}"},{shortForm:"\u30a2\u30c9\u30d0\u30f3\u30b9",rubyForm:"{\u30a2\u30c9\u30d0\u30f3\u30b9}"},{shortForm:"\u53cd\u8ee2",rubyForm:"{\u53cd|\u306f\u3093}{\u8ee2|\u3066\u3093}"},{shortForm:"\u7279\u6b8a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}"},{shortForm:"\u767a\u52d5",rubyForm:"{\u767a|\u306f\u3064}{\u52d5|\u3069\u3046}"},{shortForm:"\u7834\u58ca",rubyForm:"{\u7834|\u306f}{\u58ca|\u304b\u3044}"},{shortForm:"\u5bfe\u8c61",rubyForm:"{\u5bfe|\u305f\u3044}{\u8c61|\u3057\u3087\u3046}"},{shortForm:"\u7121\u52b9",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}"},{shortForm:"\u7121\u8996",rubyForm:"{\u7121|\u3080}{\u8996|\u3057}"},{shortForm:"\u78ba\u8a8d",rubyForm:"{\u78ba|\u304b\u304f}{\u8a8d|\u306b\u3093}"},{shortForm:"\u653b\u6483",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}"},{shortForm:"\u51e6\u7406",rubyForm:"{\u51e6|\u3057\u3087}{\u7406|\u308a}"},{shortForm:"\u5ba3\u8a00",rubyForm:"{\u5ba3|\u305b\u3093}{\u8a00|\u3052\u3093}"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u30ea\u30ea\u30fc\u30b9",rubyForm:"{\u30ea\u30ea\u30fc\u30b9}"},{shortForm:"\u30b9\u30ad\u30c3\u30d7",rubyForm:"{\u30b9\u30ad\u30c3\u30d7}"},{shortForm:"\u30b7\u30e3\u30c3\u30d5\u30eb",rubyForm:"{\u30b7\u30e3\u30c3\u30d5\u30eb}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb}"},{shortForm:"\u30bb\u30c3\u30c8",rubyForm:"{\u30bb\u30c3\u30c8}"},{shortForm:"RUM",regexForm:"(?<!\\w)RUM(?!\\w)",rubyForm:"{RUM|\u30e9\u30f3\u30af\u30a2\u30c3\u30d7\u30de\u30b8\u30c3\u30af}"},{shortForm:"S",regexForm:"(?<!\\w)S(?!\\w)",rubyForm:"{S|\u30b7\u30f3\u30af\u30ed}"},{shortForm:"X",regexForm:"(?<!\\w)X(?!\\w)",rubyForm:"{X|\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"L",regexForm:"(?<!\\w)L(?!\\w)",rubyForm:"{L|\u30ea\u30f3\u30af}"},{shortForm:"P",regexForm:"(?<!\\w)P(?!\\w)",rubyForm:"{P|\u30da\u30f3\u30c7\u30e5\u30e9\u30e0}"},{shortForm:"\u30ea\u30f3\u30af",rubyForm:"{\u30ea\u30f3\u30af}"},{shortForm:"\u5b88\u5099",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}"},{shortForm:"\u901a\u5e38",rubyForm:"{\u901a|\u3064\u3046}{\u5e38|\u3058\u3087\u3046}"},{shortForm:"\u53ef\u80fd",rubyForm:"{\u53ef|\u304b}{\u80fd|\u306e\u3046}"},{shortForm:"\u795e",rubyForm:"{\u795e|\u304b\u307f}"},{shortForm:"\u7363",rubyForm:"{\u7363|\u3051\u3082\u306e}"},{shortForm:"\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u91cd\u306d\u3066",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u3066"},{shortForm:"\u9b54\u6cd5",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}"},{shortForm:"\u6226\u58eb",rubyForm:"{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u53ec\u559a",rubyForm:"{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u5408\u8a08",rubyForm:"{\u5408|\u3054\u3046}{\u8a08|\u3051\u3044}"},{shortForm:"\u4ee5\u4e0a",rubyForm:"{\u4ee5|\u3044}{\u4e0a|\u3058\u3087\u3046}"},{shortForm:"\u4e0a\u8a18",rubyForm:"{\u4e0a|\u3058\u3087\u3046}{\u8a18|\u304d}"},{shortForm:"\u5834\u5408",rubyForm:"{\u5834|\u3070}{\u5408|\u3042\u3044}"},{shortForm:"\u964d\u81e8",rubyForm:"{\u964d|\u3053\u3046}{\u81e8|\u308a\u3093}"},{shortForm:"\u4ee5\u5916",rubyForm:"{\u4ee5|\u3044}{\u5916|\u304c\u3044}"},{shortForm:"\u4f7f\u7528",rubyForm:"{\u4f7f|\u3057}{\u7528|\u3088\u3046}"},{shortForm:"\u5b58\u5728",rubyForm:"{\u5b58|\u305d\u3093}{\u5728|\u3056\u3044}"},{shortForm:"\u6700\u5927",rubyForm:"{\u6700|\u3055\u3044}{\u5927|\u3060\u3044}"},{shortForm:"\u6210\u529f",rubyForm:"{\u6210|\u305b\u3044}{\u529f|\u3053\u3046}"},{shortForm:"\u81ea\u8eab",rubyForm:"{\u81ea|\u3058}{\u8eab|\u3057\u3093}"},{shortForm:"\u4ee5\u4e0b",rubyForm:"{\u4ee5|\u3044}{\u4e0b|\u304b}"},{shortForm:"\u7d42\u4e86",rubyForm:"{\u7d42|\u3057\u3085\u3046}{\u4e86|\u308a\u3087\u3046}"},{shortForm:"\u5168\u3066",rubyForm:"{\u5168|\u3059\u3079}\u3066"},{shortForm:"\u6368\u3066",rubyForm:"{\u6368|\u3059}\u3066"},{shortForm:"\u884c\u304b\u305a",rubyForm:"{\u884c|\u3044}\u304b\u305a"},{shortForm:"CNo\uff0e",regexForm:"(?<![a-zA-Z])CNo\uff0e(?![a-zA-Z])",rubyForm:"{CNo\uff0e||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{CNo||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"No\uff0e",regexForm:"(?<![a-zA-Z])No\uff0e(?![a-zA-Z])",rubyForm:"{No\uff0e||\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{No||\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"CX",regexForm:"(?<![a-zA-Z])CX(?![a-zA-Z])",rubyForm:"{CX|\u30ab\u30aa\u30b9\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"\u9069\u7528",rubyForm:"{\u9069|\u3066\u304d}{\u7528|\u3088\u3046}"},{shortForm:"\u6570\u5024",rubyForm:"{\u6570|\u3059\u3046}{\u5024|\u3061}"},{shortForm:"\u8a08\u7b97",rubyForm:"{\u8a08|\u3051\u3044}{\u7b97|\u3055\u3093}"},{shortForm:"\u5fc5\u8981",rubyForm:"{\u5fc5|\u3072\u3064}{\u8981|\u3088\u3046}"},{shortForm:"\u9078\u629e",rubyForm:"{\u9078|\u305b\u3093}{\u629e|\u305f\u304f}"},{shortForm:"\u534a\u5206",rubyForm:"{\u534a|\u306f\u3093}{\u5206|\u3076\u3093}"},{shortForm:"\u958b\u59cb",rubyForm:"{\u958b|\u304b\u3044}{\u59cb|\u3057}"},{shortForm:"\u88cf\u8868",rubyForm:"{\u88cf|\u3046\u3089}{\u8868|\u304a\u3082\u3066}"},{shortForm:"\u56de\u5fa9",rubyForm:"{\u56de|\u304b\u3044}{\u5fa9|\u3075\u304f}"},{shortForm:"\u6307\u5b9a",rubyForm:"{\u6307|\u3057}{\u5b9a|\u3066\u3044}"},{shortForm:"\u4f4d\u7f6e",rubyForm:"{\u4f4d|\u3044}{\u7f6e|\u3061}"},{shortForm:"\u79fb\u52d5",rubyForm:"{\u79fb|\u3044}{\u52d5|\u3069\u3046}"},{shortForm:"\u65b9\u6cd5",rubyForm:"{\u65b9|\u307b\u3046}{\u6cd5|\u307b\u3046}"},{shortForm:"\u5909\u66f4",rubyForm:"{\u5909|\u3078\u3093}{\u66f4|\u3053\u3046}"},{shortForm:"\u767a\u751f",rubyForm:"{\u767a|\u306f\u3063}{\u751f|\u305b\u3044}"},{shortForm:"\u516c\u958b",rubyForm:"{\u516c|\u3053\u3046}{\u958b|\u304b\u3044}"},{shortForm:"\u9806\u756a",rubyForm:"{\u9806|\u3058\u3085\u3093}{\u756a|\u3070\u3093}"},{shortForm:"\u9650\u308a",rubyForm:"{\u9650|\u304b\u304e}\u308a"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u9806",rubyForm:"{\u9806|\u3058\u3085\u3093}"},{shortForm:"\u4ee3",rubyForm:"{\u4ee3|\u304b}"},{shortForm:"\u8d85",rubyForm:"{\u8d85|\u3053}"},{shortForm:"\u6bce",rubyForm:"{\u6bce|\u3054\u3068}"},{shortForm:"\u524d",rubyForm:"{\u524d|\u307e\u3048}"},{shortForm:"\u9055",rubyForm:"{\u9055|\u3061\u304c}"},{shortForm:"\u7d9a",rubyForm:"{\u7d9a|\u3064\u3065}"},{shortForm:"\u6b8b",rubyForm:"{\u6b8b|\u306e\u3053}"},{shortForm:"\u4ed6",rubyForm:"{\u4ed6|\u307b\u304b}"},{shortForm:"\u5f53",rubyForm:"{\u5f53|\u3042}"},{shortForm:"\u5ea6",rubyForm:"{\u5ea6|\u3069}"},{shortForm:"\u6642",rubyForm:"{\u6642|\u3068\u304d}"},{shortForm:"\u65cf",rubyForm:"{\u65cf|\u305e\u304f}"},{shortForm:"\u6570",rubyForm:"{\u6570|\u304b\u305a}"},{shortForm:"\u4f53",rubyForm:"{\u4f53|\u305f\u3044}"},{shortForm:"\u9650",rubyForm:"{\u9650|\u30b2\u30f3}"},{shortForm:"\u7f6e",rubyForm:"{\u7f6e|\u30c1}"},{shortForm:"\u53d7",rubyForm:"{\u53d7|\u3046}"},{shortForm:"\u679a",rubyForm:"{\u679a|\u307e\u3044}"},{shortForm:"\u5f8c",rubyForm:"{\u5f8c|\u3054}"},{shortForm:"\u9001",rubyForm:"{\u9001|\u304a\u304f}"},{shortForm:"\u4e8b",rubyForm:"{\u4e8b|\u3053\u3068}"},{shortForm:"\u5185",rubyForm:"{\u5185|\u3046\u3061}"},{shortForm:"\u898b",rubyForm:"{\u898b|\u307f}"},{shortForm:"\u4e2d",rubyForm:"{\u4e2d|\u306a\u304b}"},{shortForm:"\u52a0",rubyForm:"{\u52a0|\u304f\u308f}"},{shortForm:"\u9078",rubyForm:"{\u9078|\u3048\u3089}"},{shortForm:"\u4e00",rubyForm:"{\u4e00|\u3044\u3061}"},{shortForm:"\u756a",rubyForm:"{\u756a|\u3070\u3093}"},{shortForm:"\u540c",rubyForm:"{\u540c|\u3069\u3046}"},{shortForm:"\u56de",rubyForm:"{\u56de|\u304b\u3044}"},{shortForm:"\u6271",rubyForm:"{\u6271|\u3042\u3064\u304b}"},{shortForm:"\u661f",rubyForm:"{\u661f|\u30ec\u30d9\u30eb}"},{shortForm:"\u653b",rubyForm:"{\u653b|\u3053\u3046}"},{shortForm:"\u5b88",rubyForm:"{\u5b88|\u3057\u3085}"},{shortForm:"\u623b",rubyForm:"{\u623b|\u3082\u3069}"},{shortForm:"\u4e0a",rubyForm:"{\u4e0a|\u3046\u3048}"},{shortForm:"\u6b21",rubyForm:"{\u6b21|\u3064\u304e}"},{shortForm:"\u5024",rubyForm:"{\u5024|\u3061}"},{shortForm:"\u542b",rubyForm:"{\u542b|\u3075\u304f}"},{shortForm:"\u4e0e",rubyForm:"{\u4e0e|\u3080\u305f}"},{shortForm:"\u5f97",rubyForm:"{\u5f97|\u3048}"},{shortForm:"\u53ca",rubyForm:"{\u53ca|\u304a\u3088}"},{shortForm:"\u7570",rubyForm:"{\u7570|\u3053\u3068}"},{shortForm:"\u8a18",rubyForm:"{\u8a18|\u3057\u308b}"},{shortForm:"\u7e70",rubyForm:"{\u7e70|\u304f}"},{shortForm:"\u8fd4",rubyForm:"{\u8fd4|\u304b\u3048}"},{shortForm:"\u6c7a",rubyForm:"{\u6c7a|\u304d}"},{shortForm:"\u4e92",rubyForm:"{\u4e92|\u305f\u304c}"},{shortForm:"\u6255",rubyForm:"{\u6255|\u306f\u3089}"},{shortForm:"\u591a",rubyForm:"{\u591a|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u3082}"},{shortForm:"\u9593",rubyForm:"{\u9593|\u3042\u3044\u3060}"},{shortForm:"\u6240",rubyForm:"{\u6240|\u3057\u3087}"},{shortForm:"\u9ad8",rubyForm:"{\u9ad8|\u305f\u304b}"},{shortForm:"\u500d",rubyForm:"{\u500d|\u3070\u3044}"},{shortForm:"\u4e0b",rubyForm:"{\u4e0b|\u3057\u305f}"},{shortForm:"\u969b",rubyForm:"{\u969b|\u3055\u3044}"},{shortForm:"\u597d",rubyForm:"{\u597d|\u3059}"},{shortForm:"\u8868",rubyForm:"{\u8868|\u304a\u3082\u3066}"}],D=z.reduce((function(e,t){return e[t.shortForm]=t,e}),{});const W=[{blendMode:"overlay",opacity:1}],P=[{blendMode:"overlay",opacity:.65},{blendMode:"multiply",opacity:.55}],M={type1:{value:"type1",label:"1",partInstructionMap:{}},type2:{value:"type2",label:"2",partInstructionMap:{}},type3:{value:"type3",label:"3",partInstructionMap:{"art-overlay":W,"art-border":W,"art-border-pendulum":W,"border-pendulum":W,attribute:W,frame:W}},type4:{value:"type4",label:"4",partInstructionMap:{}},type5:{value:"type5",label:"5",partInstructionMap:{}},type6:{value:"type6",label:"6",partInstructionMap:{}},type7:{value:"type7",label:"7",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.175},{blendMode:"color-dodge",opacity:.125}]}},type8:{value:"type8",label:"8",partInstructionMap:{"art-border":P,"art-border-pendulum":P,"border-pendulum":P,frame:P,"frame-background":P,name:P,star:P}},type9:{value:"type9",label:"9",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.45}]}}},H={type1:{value:"type1",label:"1",partInstructionMap:{art:[{}]}},type2:{value:"type2",label:"2",partInstructionMap:{art:[{opacity:.08,blendMode:"darken"},{opacity:.28,blendMode:"color-dodge"},{opacity:.48,blendMode:"multiply"}]}},type3:{value:"type3",label:"3",partInstructionMap:{art:[{opacity:.66,blendMode:"color-dodge"},{opacity:.64,blendMode:"multiply"}]}},type4:{value:"type4",label:"4",partInstructionMap:{art:[{opacity:.31,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type5:{value:"type5",label:"5",partInstructionMap:{art:[{opacity:.19,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type6:{value:"type6",label:"6",partInstructionMap:{art:[{opacity:.25,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type7:{value:"type7",label:"7",partInstructionMap:{art:[{}]}}},K={normal:"normal",gold:"gold",platinum:"platinum"},Y=e=>[{name:K.normal,label:null===e||void 0===e?void 0:e.normal,color:"#747b95",isOption:!1},{name:K.gold,label:null===e||void 0===e?void 0:e.gold,color:"#cfa65f",isOption:!0},{name:K.platinum,label:null===e||void 0===e?void 0:e.platinum,color:"#b1b1b1",isOption:!0}],G={bulletSymbolOffset:0,capitalLetterRatio:1,headTextFontRatio:.355,headTextSpacing:1.5,largeSymbolRatio:1.35,letterSpacing:0,offsetY:0,ordinalFontOffsetY:-2,ordinalFontRatio:1/1.1,squareBracketRatio:1},U=0,X=1,V={headTextHeightRatio:.8,headTextOverflow:"normal",headTextBold:!0,headTextGapRatio:.03125},_={alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextFontRatio:.7,headTextHeightRatio:.815,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:1,headTextGapRatio:0},q=Object(s.a)(Object(s.a)({},_),{},{font:"MatrixBook",headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),J=Object(s.a)(Object(s.a)({},_),{},{font:'"LucidaFax-Italic"',headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),$=Object(s.a)(Object(s.a)({},_),{},{font:'"Yu-Gi-Oh! DF Leisho 3"',fontStyle:"ocg",metricMethod:"compact",fontList:[]}),Z={tcg:Object(s.a)(Object(s.a)({},q),{},{fontList:[{bulletSymbolWidth:38,fontSize:40.2,lineHeight:42.1,lineCount:5,bulletSymbolOffset:1},{bulletSymbolWidth:30,fontSize:33.2,lineHeight:35.1,lineCount:6},{bulletSymbolWidth:26,fontSize:28.2,lineHeight:30.3,lineCount:7},{bulletSymbolWidth:23,fontSize:24.38,lineHeight:24.7,lineCount:8},{bulletSymbolWidth:23,fontSize:19.94,lineHeight:21.15,lineCount:10}]}),"tcg-stat":Object(s.a)(Object(s.a)({},q),{},{fontList:[{bulletSymbolWidth:40,fontSize:42.2,lineHeight:43.9,lineCount:4,bulletSymbolOffset:2},{bulletSymbolWidth:30,fontSize:33.2,lineHeight:35.5,lineCount:5},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:6},{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:7}]}),"tcg-type-stat":Object(s.a)(Object(s.a)({},q),{},{fontList:[{bulletSymbolWidth:40,fontSize:45.2,lineHeight:48.1,lineCount:3,bulletSymbolOffset:1},{bulletSymbolWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:4},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:6},{bulletSymbolWidth:23,fontSize:19.95,lineHeight:21.5,lineCount:7},{bulletSymbolWidth:23,fontSize:18.8,lineHeight:18.8,lineCount:8},{bulletSymbolWidth:19,fontSize:16.7,lineHeight:16.7,lineCount:9,bulletSymbolOffset:1},{bulletSymbolWidth:19,fontSize:15,lineHeight:15,lineCount:10,bulletSymbolOffset:2}]}),"tcg-type":Object(s.a)(Object(s.a)({},q),{},{fontList:[{bulletSymbolWidth:40,fontSize:42.2,lineHeight:43.9,lineCount:4,bulletSymbolOffset:2},{bulletSymbolWidth:30,fontSize:33.2,lineHeight:35.5,lineCount:5},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:6},{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:7}]}),ocg:Object(s.a)(Object(s.a)({},$),{},{fontList:[{bulletSymbolWidth:38,fontSize:43.2,lineHeight:50.1,lineCount:4,bulletSymbolOffset:2,headTextFontRatio:.25},{bulletSymbolWidth:30,fontSize:34.7,lineHeight:40.1,lineCount:5,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22,lineHeight:26,lineCount:7},{bulletSymbolWidth:16,fontSize:22,lineHeight:26,lineCount:8}]}),"ocg-stat":Object(s.a)(Object(s.a)({},$),{},{fontList:[{bulletSymbolWidth:34,fontSize:38.7,lineHeight:44.1,lineCount:4,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:30,fontSize:32.7,lineHeight:36.1,lineCount:5,bulletSymbolOffset:2,headTextFontRatio:.25},{bulletSymbolWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]}),"ocg-type-stat":Object(s.a)(Object(s.a)({},$),{},{fontList:[{bulletSymbolWidth:41,fontSize:45.7,lineHeight:49.8,lineCount:3,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:32,fontSize:34.7,lineHeight:38.1,lineCount:4,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:24,fontSize:27.7,lineHeight:30.1,lineCount:5,bulletSymbolOffset:2,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:6}]}),"ocg-type":Object(s.a)(Object(s.a)({},$),{},{fontList:[{bulletSymbolWidth:34,fontSize:38.7,lineHeight:44.1,lineCount:4,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:30,fontSize:32.7,lineHeight:36.1,lineCount:5,bulletSymbolOffset:2,headTextFontRatio:.25},{bulletSymbolWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]})},Q=[{bulletSymbolWidth:40,fontSize:44.2,lineHeight:47.1,lineCount:3},{bulletSymbolWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:4},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletSymbolWidth:23,fontSize:21.8,lineHeight:24.9,lineCount:6},{bulletSymbolWidth:23,fontSize:17.28,lineHeight:21.5,lineCount:7,wordLetterSpacing:-.06},{bulletSymbolWidth:23,fontSize:16.28,lineHeight:18.8,lineCount:8},{bulletSymbolWidth:19,fontSize:14.46,lineHeight:16.7,lineCount:9},{bulletSymbolWidth:19,fontSize:12.99,lineHeight:15,lineCount:10}],ee={tcg:Object(s.a)(Object(s.a)({},q),{},{fontList:[{bulletSymbolWidth:41,fontSize:50.3,lineHeight:56.35,lineCount:2},{bulletSymbolWidth:34,fontSize:35.3,lineHeight:38.85,lineCount:3,bulletSymbolOffset:2},{bulletSymbolWidth:27,fontSize:26.3,lineHeight:29.35,lineCount:4,bulletSymbolOffset:3},{bulletSymbolWidth:23,fontSize:24.3,lineHeight:24.35,lineCount:5}]}),ocg:Object(s.a)(Object(s.a)({},$),{},{fontList:[{bulletSymbolWidth:41,bulletSymbolOffset:3,fontSize:45.55,lineHeight:57.6,headTextFontRatio:.2,lineCount:2},{bulletSymbolWidth:31,bulletSymbolOffset:2,fontSize:35.55,lineHeight:40.6,headTextFontRatio:.3,lineCount:3},{bulletSymbolWidth:23,bulletSymbolOffset:1,fontSize:25.05,lineHeight:30.6,headTextFontRatio:.35,lineCount:4},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.2,headTextFontRatio:.4,lineCount:5}]})},te={veryStrict:{1:600,2:620,3:640},strict:{1:645,2:665,3:685},loose:{1:700,2:710,3:720},veryLoose:{1:740,2:770,3:800},relaxed:{1:850,2:900,3:950}};var ne={Default:{value:"Default",labelKey:"input.name-style.font-type.default",fontData:{alphabetFont:"MatrixRegularSmallCaps",font:"MatrixRegularSmallCaps",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.55,fontList:[{bulletSymbolWidth:64,fontSize:91.5,headTextFontRatio:.19,letterSpacing:.015,lineCount:1,lineHeight:91.5,offsetY:0}],letterDeviationMap:{i:{yOffset:1,yRatio:1.03},"\xec":{yOffset:1,yRatio:1.03},"\xed":{yOffset:1,yRatio:1.03},"\xee":{yOffset:1,yRatio:1.03},"\xef":{yOffset:1,yRatio:1.03},"\u0129":{yOffset:1,yRatio:1.03},"\u012b":{yOffset:1,yRatio:1.03},"\u012d":{yOffset:1,yRatio:1.03},"\u012f":{yOffset:1,yRatio:1.03},"\u01d0":{yOffset:1,yRatio:1.03},"\u0209":{yOffset:1,yRatio:1.03},"\u020b":{yOffset:1,yRatio:1.03},"\u0268":{yOffset:1,yRatio:1.03},"\u0269":{yOffset:1,yRatio:1.03},"\u1d79":{yOffset:1,yRatio:1.03},"\u1d7c":{yOffset:1,yRatio:1.03},"\u1d96":{yOffset:1,yRatio:1.03},"\u1e2d":{yOffset:1,yRatio:1.03},"\u1e2f":{yOffset:1,yRatio:1.03},"\u1ec9":{yOffset:1,yRatio:1.03},"\u1ecb":{yOffset:1,yRatio:1.03},I:{yOffset:1,yRatio:1.022},"\xcc":{yOffset:1,yRatio:1.022},"\xcd":{yOffset:1,yRatio:1.022},"\xce":{yOffset:1,yRatio:1.022},"\xcf":{yOffset:1,yRatio:1.022},"\u0128":{yOffset:1,yRatio:1.022},"\u012a":{yOffset:1,yRatio:1.022},"\u012c":{yOffset:1,yRatio:1.022},"\u012e":{yOffset:1,yRatio:1.022},"\u0130":{yOffset:1,yRatio:1.022},"\u0196":{yOffset:1,yRatio:1.022},"\u0197":{yOffset:1,yRatio:1.022},"\u01cf":{yOffset:1,yRatio:1.022},"\u0208":{yOffset:1,yRatio:1.022},"\u020a":{yOffset:1,yRatio:1.022},"\u1e2c":{yOffset:1,yRatio:1.022},"\u1e2e":{yOffset:1,yRatio:1.022},"\u1ec8":{yOffset:1,yRatio:1.022},"\u1eca":{yOffset:1,yRatio:1.022}}}},Arial:{value:"Arial",labelKey:"input.name-style.font-type.arial",fontData:{alphabetFont:"Arial",font:"Arial",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.825,weight:"bold",fontList:[{bulletSymbolWidth:40.67,fontSize:61,headTextFontRatio:.19,letterSpacing:-.14,lineCount:1,lineHeight:61,offsetY:3}]}},OCG:{value:"OCG",labelKey:"input.name-style.font-type.ocg",fontData:{alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',font:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextHeightRatio:.775,headTextOverflow:"condense",headTextBold:!0,metricMethod:"name",numberFont:"DFKakuTaiHiStd-W4",numberFontRatio:1,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:.775,fontStyle:"ocg",fontList:[{bulletSymbolWidth:42.67,fontSize:64,headTextFontRatio:.175,headTextSpacing:3,letterSpacing:-.03,lineCount:1,lineHeight:64,offsetY:0}]}}},ae={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{offsetY:-1,bulletSymbolWidth:20.05,fontSize:21.2,lineHeight:21.2,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:20,lineHeight:20,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",metricMethod:"creator",fontStyle:"ocg",fontList:[{bulletSymbolWidth:18,fontSize:19,letterSpacing:.05,lineHeight:20.5,lineCount:1,headTextFontRatio:0,wordLetterSpacing:.11}]}},re={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletSymbolWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:21,lineHeight:21,lineCount:1,letterSpacing:0,headTextFontRatio:.4,largeSymbolRatio:1.25,offsetY:1}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',numberFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",metricMethod:"furigana",fontList:[{bulletSymbolWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:19,headTextFontRatio:0,largeSymbolRatio:1.25,lineCount:1,lineHeight:20.5,ordinalFontOffsetY:1,ordinalFontRatio:1.25}]}},oe={font:"YuGiOhITCStoneSerifBSc",alphabetFont:"YuGiOhITCStoneSerifBSc",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"YuGiOhITCStoneSerifBSc",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletSymbolWidth:20.05,fontSize:31.5,lineHeight:31.5,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:.02,headTextFontRatio:.4},{bulletSymbolWidth:21.8,fontSize:32.75,lineHeight:32.75,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:-.03,headTextFontRatio:.4},{bulletSymbolWidth:14.8,fontSize:44.5,lineHeight:44.5,lineCount:1,iconSymbolWidth:45,capitalLetterRatio:.90001,squareBracketRatio:.94001,letterSpacing:-.03,headTextFontRatio:.4}]},ie={font:'"Yu-Gi-Oh! DF Leisho 3"',alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',symbolFont:"matrix",symbolFontRatio:.8,headTextHeightRatio:.775,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",fontList:[{bulletSymbolWidth:20.05,fontSize:25.2,lineHeight:25.2,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletSymbolWidth:21.8,fontSize:26.5,lineHeight:26.5,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletSymbolWidth:36.8,fontSize:48,lineHeight:48,lineCount:1,iconSymbolWidth:45,headTextFontRatio:.25,headTextSpacing:3,letterSpacing:-.07,squareBracketRatio:1.02501}]};const le={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\u300c":"\uff62","\u300d":"\uff63","\u3001":"\uff64",":":"\uff1a","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},ce={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\uff62":"\u300c","\uff63":"\u300d","\uff64":"\u3001","\uff1a":":","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},se={"(\uff11)":"\u2460","(\uff12)":"\u2461","(\uff13)":"\u2462","(\uff14)":"\u2463","(\uff15)":"\u2464","(\uff16)":"\u2465","(\uff17)":"\u2466","(\uff18)":"\u2467","(\uff19)":"\u2468","(\uff11\uff10)":"\u2469","(\uff11\uff11)":"\u246a","(\uff11\uff12)":"\u246b","(\uff11\uff13)":"\u246c","(\uff11\uff14)":"\u246d","(\uff11\uff15)":"\u246e","(\uff11\uff16)":"\u246f","(\uff11\uff17)":"\u2470","(\uff11\uff18)":"\u2471","(\uff11\uff19)":"\u2472","(\uff12\uff10)":"\u2473","(1)":"\u2460","(2)":"\u2461","(3)":"\u2462","(4)":"\u2463","(5)":"\u2464","(6)":"\u2465","(7)":"\u2466","(8)":"\u2467","(9)":"\u2468","(10)":"\u2469","(11)":"\u246a","(12)":"\u246b","(13)":"\u246c","(14)":"\u246d","(15)":"\u246e","(16)":"\u246f","(17)":"\u2470","(18)":"\u2471","(19)":"\u2472","(20)":"\u2473"},de={ocg:["\xa9\u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e\u30fb\u30c6\u30ec\u30d3\u6771\u4eac\u30fbKONAMI","\xa9\u9ad8\u6a4b\u548c\u5e0c \u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e","\xa9\u9ad8\u6a4b\u548c\u5e0c\uff0f\u96c6\u82f1\u793e"],tcg:["\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI","\xa91996 KAZUKI TAKAHASHI","\xa9KAZUKI TAKAHASHI / SHUEISHA"]},ue={"\u6c34\u65cf":"Aqua","\u7363\u65cf":"Beast","\u7363\u6226\u58eb\u65cf":"Beast-Warrior","\u5275\u9020\u795e\u65cf":"Creator God","\u30b5\u30a4\u30d0\u30fc\u30b9\u65cf":"Cyberse","\u6050\u7adc\u65cf":"Dinosaur","\u5e7b\u795e\u7363\u65cf":"Divine-Beast","\u30c9\u30e9\u30b4\u30f3\u65cf":"Dragon","\u5929\u4f7f\u65cf":"Fairy","\u60aa\u9b54\u65cf":"Fiend","\u9b5a\u65cf":"Fish","\u30ae\u30e3\u30e9\u30af\u30b7\u30fc\u65cf":"Galaxy","\u5e7b\u60f3\u9b54\u65cf":"Illusion","\u6606\u866b\u65cf":"Insect","\u6a5f\u68b0\u65cf":"Machine","\u690d\u7269\u65cf":"Plant","\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Psychic","\u708e\u65cf":"Pyro","\u722c\u866b\u985e\u65cf":"Reptile","\u5ca9\u77f3\u65cf":"Rock","\u6d77\u7adc\u65cf":"Sea Serpent","\u9b54\u6cd5\u4f7f\u3044\u65cf":"Spellcaster","\u96f7\u65cf":"Thunder","\u6226\u58eb\u65cf":"Warrior","\u9ce5\u7363\u65cf":"Winged Beast","\u5e7b\u7adc\u65cf":"Wyrm","\u30a2\u30f3\u30c7\u30c3\u30c8\u65cf":"Zombie","\u30b5\u30a4\u30dc\u30fc\u30b0\u65cf":"Cyborg","\u5929\u754c\u6226\u58eb\u65cf":"Celestial Warrior","\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3\u65cf":"High Dragon","\u9b54\u5c0e\u9a0e\u58eb\u65cf":"Magical Knight","\u30aa\u30e1\u30ac\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Omega Psychic","\u30e2\u30f3\u30b9\u30bf\u30fc":"Monster","\u9b54\u6cd5\u30ab\u30fc\u30c9":"Spell Card","\u7f60\u30ab\u30fc\u30c9":"Trap Card","\u30a2\u30af\u30b7\u30e7\u30f3":"Action","\u901a\u5e38":"Normal","\u52b9\u679c":"Effect","\u5100\u5f0f":"Ritual","\u30d5\u30e5\u30fc\u30b8\u30e7\u30f3":"Fusion","\u878d\u5408":"Fusion","\u30b7\u30f3\u30af\u30ed":"Synchro","\u30a8\u30af\u30b7\u30fc\u30ba":"Xyz","\u30da\u30f3\u30c7\u30e5\u30e9\u30e0":"Pendulum","\u30ea\u30f3\u30af":"Link","\u30de\u30ad\u30b7\u30de\u30e0":"Maximum","\u30c8\u30fc\u30af\u30f3":"Token","\u7279\u6b8a\u53ec\u559a":"Special Summon","\u30c0\u30fc\u30af\u30b7\u30f3\u30af\u30ed\u30e2\u30f3\u30b9\u30bf\u30fc":"Dark Synchro","\u30c1\u30e5\u30fc\u30ca\u30fc":"Tuner","\u30c7\u30e5\u30a2\u30eb":"Gemini","\u30ea\u30d0\u30fc\u30b9":"Flip","\u30c8\u30a5\u30fc\u30f3":"Toon","\u30b9\u30d4\u30ea\u30c3\u30c8":"Spirit","\u30e6\u30cb\u30aa\u30f3":"Union",[de.ocg[2]]:de.tcg[2],[de.ocg[1]]:de.tcg[1],[de.ocg[0]]:de.tcg[0],"{\u7d14|\u30b8\u30e5\u30f3}{\u72d0|\u3053}":"Junko","\u81ea\u5206\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u52b9\u679c\u30e2\u30f3\u30b9\u30bf\u30fc\xd7\uff12\u4f53\u4ee5\u4e0a\n\u2460\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u304c\u30e2\u30f3\u30b9\u30bf\u30fc\u30be\u30fc\u30f3\u306b\u5b58\u5728\u3059\u308b\u9650\u308a\u3001\u76f8\u624b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u52b9\u679c\u3092\u767a\u52d5\u3059\u308b\u5ea6\u306b\u3001\u305d\u306e\u76f8\u624b\u306e\u8868\u5074\u8868\u793a\u30e2\u30f3\u30b9\u30bf\u30fc\u306b\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\uff11\u3064\u7f6e\u304f(\u6700\u5927\uff11\u3064\u307e\u3067\uff09\u3002\u2461\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u767a\u52d5\u3057\u305f\u52b9\u679c\u3092\u53d7\u3051\u306a\u3044\u3002\u2462\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3068\u306e\u6226\u95d8\u3067\u306f\u7834\u58ca\u3055\u308c\u306a\u3044\u3002":"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.","\u203b\u516c\u5f0f\u306e\u30c7\u30e5\u30a8\u30eb\u3067\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002":"This card cannot be used in a Duel.","\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002":"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1."},be=Object.entries(ue).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{"Once per turn: You can pay 800 LP, increase this card\u2019s Pendulum Scale by 1.":"\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002"}),pe={normal:{name:"normal",nameKey:"input.frame.normal",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c49c5e",sortWeight:100},effect:{name:"effect",nameKey:"input.frame.effect",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#b96c49",sortWeight:90},fusion:{name:"fusion",nameKey:"input.frame.fusion",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#8948a4",sortWeight:80},synchro:{name:"synchro",nameKey:"input.frame.synchro",labelColor:"#000",edition:"normal",labelBackgroundColor:"#efefef",sortWeight:70},xyz:{name:"xyz",nameKey:"input.frame.xyz",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#000000",sortWeight:60},link:{name:"link",nameKey:"input.frame.link",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#0c8ac6",sortWeight:50},ritual:{name:"ritual",nameKey:"input.frame.ritual",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#5e85c9",sortWeight:85},spell:{name:"spell",nameKey:"input.frame.spell",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#1b8f83",sortWeight:30},trap:{name:"trap",nameKey:"input.frame.trap",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c32a8c",sortWeight:25},token:{name:"token",nameKey:"input.frame.token",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#6f6c6b",sortWeight:1},"dark-synchro":{name:"dark-synchro",nameKey:"input.frame.dark-synchro",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4d4543",sortWeight:15},obelisk:{name:"obelisk",nameKey:"input.frame.obelisk",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#515eb0",sortWeight:10},osiris:{name:"osiris",nameKey:"input.frame.osiris",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#bd5044",sortWeight:9},ra:{name:"ra",nameKey:"input.frame.ra",labelColor:"#000",edition:"extendend",labelBackgroundColor:"#b9ad34",sortWeight:8},raviel:{name:"raviel",nameKey:"input.frame.raviel",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#313c5f",sortWeight:7},uria:{name:"uria",nameKey:"input.frame.uria",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#623320",sortWeight:6},hamon:{name:"hamon",nameKey:"input.frame.hamon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#534a19",sortWeight:5},"lg-dragon":{name:"lg-dragon",nameKey:"input.frame.lg-dragon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4e84a4",sortWeight:3},"speed-skill":{name:"speed-skill",nameKey:"input.frame.speed-skill",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#199cd5",sortWeight:2},zarc:{name:"zarc",nameKey:"input.frame.zarc",labelColor:"#000",edition:"extendend",labelBackgroundColorList:["rgba(185,108,73,1)","rgba(137,72,164,1)","rgba(239,239,239,1)","rgba(0,0,0,1)"],labelBackgroundImage:"linear-gradient(90deg, ".concat(["rgba(185,108,73,1) 23%","rgba(137,72,164,1) 27%","rgba(137,72,164,1) 48%","rgba(239,239,239,1) 52%","rgba(239,239,239,1) 73%","rgba(0,0,0,1) 77%"].join(", "),")"),sortWeight:4}},me=Object.values(pe),fe=[{top:175,left:55,width:100,height:100},{top:165,left:323,width:170,height:80},{top:175,left:655,width:100,height:100},{top:442,left:45,width:70,height:170},{top:0,left:0,width:0,height:0},{top:442,left:700,width:70,height:170},{top:775,left:55,width:100,height:100},{top:810,left:323,width:170,height:80},{top:775,left:655,width:100,height:100}],he=[-45,0,45,-90,0,90,-135,180,135],ge=[-38,-27,-38,-27,0,-27,-38,-27,-38],ve=new RegExp("[A-Z\uff21-\uff3a]"),ye=new RegExp("[\\[\\]\u3010\u3011]"),je="[#@\u221ea-z\uff41-\uff5aA-Z\uff21-\uff3a0-9\uff10-\uff19!\uff01+\xd7\uff03#@\u221e\u2018\u201c\u2019\u201d:;\\[\\]\\(\\)\u3010\u3011\\.,]+",xe=new RegExp(je),Oe=new RegExp("({[^{}]+?}|".concat(je,"|.)")),we="\u2989",ke="\u298a",Se="\u27c5",Fe="\u27c6",Ce="\u27ec",Te="\u27ed",Le=new RegExp("[".concat([we,ke,Se,Fe,Ce,Te].join(""),"]|(\\|[^}]+})"),"g"),Ne="".concat(we,"|").concat(ke),Re=new RegExp(Ne),Ie="(\\n^[\\r\\t\\f\\v \\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]*\\n".concat(we,"?(\\(|\\*)[\\w\\W]+").concat(ke,"?)\\s*$"),Ee=new RegExp("[".concat("#\u2605@\u221e","]")),Ae=z.map((e=>{var t;return null!==(t=e.regexForm)&&void 0!==t?t:e.shortForm})).join("|"),Be="(".concat(Ae,")(?![^{]*})"),ze="\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b",De=new RegExp("[".concat(ze,"]")),We=".[".concat(ze,")\\]\uff5d\u3015\u3009\u300b\u300d\uff63\u300f\u3011\u3019\u3017\u301f'\"\u2019\u201d\uff60\xbb\u2010\u30a0\u2013\u301c\uff1f!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.\uff61\uff64]+"),Pe=new RegExp("[\u2460-\u2473\u203b]"),Me=new RegExp("[\uff21-\uff3a\uff41-\uff5a]"),He=new RegExp("[\uff10-\uff19]"),Ke=new RegExp("[0-9]"),Ye=/[\u3042\u3044\u3046\u3048\u304a\u304b\u304c\u304d\u304e\u304f\u3050\u3051\u3052\u3053\u3054\u3055\u3056\u3057\u3058\u3059\u305a\u305b\u305c\u305d\u305e\u305f\u3060\u3061\u3062\u3064\u3065\u3066\u3067\u3068\u3069\u306a\u306b\u306c\u306d\u306e\u306f\u3070\u3071\u3072\u3073\u3074\u3075\u3076\u3077\u3078\u3079\u307a\u307b\u307c\u307d\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093\u3094]/,Ge=/[\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ac\u30ad\u30ae\u30af\u30b0\u30b1\u30b2\u30b3\u30b4\u30b5\u30b6\u30b7\u30b8\u30b9\u30ba\u30bb\u30bc\u30bd\u30be\u30bf\u30c0\u30c1\u30c2\u30c4\u30c5\u30c6\u30c7\u30c8\u30c9\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d0\u30d1\u30d2\u30d3\u30d4\u30d5\u30d6\u30d7\u30d8\u30d9\u30da\u30db\u30dc\u30dd\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\u30f4\u30f7\u30f8\u30f9\u30fa]/,Ue=new RegExp("[\u30fb]"),Xe=new RegExp("[\u30fc]"),Ve=new RegExp("[\u2015]"),_e=new RegExp("[".concat("\uff1a","]")),qe=new RegExp("[".concat("\u3002\uff64","]")),Je=new RegExp("[".concat("\uff1a","]")),$e={"\u3002":-.2,"\uff64":-.2,"\uff62":0,"\uff63":0,"\uff1a":0,">":.25,"<":-.25},Ze={"\u3002":-.5,"\uff1a":-.25},Qe={">":.125,"<":.125},et={},tt={},nt={},at=e=>"tcg"===e?7:1,rt=/{[^{}]+?}/,ot="\\s\\-/",it=-2.25,lt=()=>({version:0,format:"tcg",frame:"fusion",foil:"normal",opacity:p(),finish:[],artFinish:"normal",name:"Junko",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},attribute:"LIGHT",subFamily:y,cardIcon:"auto",star:6,starAlignment:"auto",art:"https://i.imgur.com/h5kXZeC.png",artData:"",artFit:!1,artSource:"online",artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:["1","3","7","9"],isLink:!1,isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1.",pendulumScaleRed:"4",pendulumScaleBlue:"4",typeAbility:["Fairy","Fusion","Effect"],effectStyle:{condenseTolerant:"strict",upSize:0},pendulumStyle:{upSize:0},effect:"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.",setId:"YGOC-EN001",atk:"2000",def:"2000",password:"18199611",sticker:"holo5",isFirstEdition:!0,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],otherTextStyle:[!1,"#000000",!1,"#000000"],externalInfo:{}}),ct=()=>Object(s.a)({id:Object(N.a)()},lt()),st=()=>({version:0,format:"tcg",frame:"effect",foil:"normal",opacity:p(),finish:[],artFinish:"normal",name:"",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},attribute:g,subFamily:y,cardIcon:"auto",star:6,starAlignment:"auto",art:"https://i.imgur.com/jjtCuG5.png",artData:"",artSource:"online",artFit:!1,artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:[],isLink:!1,isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"",pendulumScaleRed:"4",pendulumScaleBlue:"4",typeAbility:[],effectStyle:{condenseTolerant:"strict",upSize:0},pendulumStyle:{upSize:0},effect:"",setId:"",atk:"0",def:"0",password:"",sticker:x,isFirstEdition:!1,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],otherTextStyle:[!1,"#000000",!1,"#000000"],externalInfo:{}}),dt=[{type:"body",subType:"artBorder",label:"Card",labelKey:"input.opacity.body.label",tooltipKey:"input.opacity.art-border.tooltip"},{type:"name",subType:"nameBorder",label:"Name",labelKey:"input.opacity.name.label",tooltipKey:"input.opacity.name-border.tooltip"},{type:"pendulum",label:"Pendulum",labelKey:"input.opacity.pendulum.label",tooltipKey:null},{type:"text",label:"Effect",labelKey:"input.opacity.effect.label",tooltipKey:null}],ut=["#4D4D4D","#999999","#FFFFFF","#FF7F7F","#FFD27F","#FFFF7F","#7FFF7F","#7FBF7F","#7FFFFF","#7F7FFF","#BF7FBF","#FF7FFF","#333333","#808080","#cccccc","#FF0000","#FFA500","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#800080","#FF00FF","#000000","#666666","#B3B3B3","#7F0000","#7F5200","#7F7F00","#007F00","#004000","#007F7F","#00007F","#400040","#7F007F"],bt=e=>"xyz"===e.frame,pt=e=>"speed-skill"===e.frame&&!mt(e),mt=e=>"spell"!==e.frame&&"trap"!==e.frame&&"speed-skill"!==e.frame,ft=e=>"spell"===e||"trap"===e?"st":"xyz"===e?"rank":"dark-synchro"===e?"negative-level":"speed-skill"===e?"none":"level",ht=e=>!mt({frame:e})||gt(e),gt=e=>["link","xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(e);var vt=n(514),yt=n(501),jt=n(117),xt=function(e){var t=(e=e.substring(0,e.length-1)).split("\x01");if(e=t[0],1<t.length){t=t[1];var n,a=Object(jt.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;e=(e=e.split(r)).join(e.pop())}}catch(o){a.e(o)}finally{a.f()}}return Ot(e,0)},Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],a=function(e,t){return e.replace(new RegExp("".concat((t[2]?t[2]:"")+t[0],"|").concat((t[3]?t[3]:"")+t[1]),"g"),(function(e){return e===t[0]?t[1]:t[0]}))};if(t)for(t=0;t<n.length;++t)e=a(e,n[t]);else for(t=n.length;t--;)e=a(e,n[t]);return e};const wt=Object(s.a)(Object(s.a)({},{version:"ve",format:"fm",frame:"fr",foil:"fo",opacity:{_newKey:"op",body:"opbd",pendulum:"oppd",name:"opnm",text:"optx",boundless:"opbl",artFrame:"opaf",artBorder:"opab",nameBorder:"opnb",baseFill:"opbf"},finish:"fn",art:"ar",artData:"ad",artFit:"af",artSource:"as",artFinish:"afn",artCrop:{_newKey:"arc",x:"arx",y:"ary",width:"arw",height:"arh",unit:"aru",aspect:"ara"},hasBackground:"hbg",background:"bg",backgroundFit:"bf",backgroundData:"bgd",backgroundSource:"bgs",backgroundType:"bgt",backgroundCrop:{_newKey:"bgc",x:"bgx",y:"bgy",width:"bgw",height:"bgh",unit:"bgu",aspect:"bga"},name:"na",nameStyleType:"nst",effectStyle:{_newKey:"es",condenseTolerant:"cdtl",upSize:"eus"},pendulumStyle:{_newKey:"ps",upSize:"pus"},nameStyle:{_newKey:"ns",font:"nsft",fillStyle:"nsfs",headTextFillStyle:"nshfs",shadowColor:"nssc",shadowOffsetY:"nssoy",shadowOffsetX:"nssox",shadowBlur:"nssb",hasShadow:"nshs",lineColor:"nslc",lineWidth:"nslw",lineOffsetY:"nsloy",lineOffsetX:"nslox",hasOutline:"nshl",gradientAngle:"nsgd",gradientColor:"nscg",hasGradient:"nshg",preset:"nspr",pattern:"nspt"},attribute:"at",subFamily:"sf",star:"st",starAlignment:"sa",cardIcon:"it",linkMap:"lm",isLink:"il",isPendulum:"ip",pendulumFrame:"pf",pendulumEffect:"pe",pendulumScaleRed:"rs",pendulumScaleBlue:"bs",typeAbility:"ta",effect:"ef",setId:"si",atk:"atk",def:"def",password:"pw",sticker:"sti",isFirstEdition:"ife",isSpeedCard:"isp",isDuelTerminalCard:"idt",isLimitedEdition:"ile",isLegacyCard:"ilc",creator:"cr",furiganaHelper:"fh",effectTextStyle:"ets",pendulumTextStyle:"pts",statTextStyle:"sts",typeTextStyle:"tts",otherTextStyle:"ots",externalInfo:"ei"}),{passcode:"pc",picture:"pt",pictureCrop:{_newKey:"ptc",x:"ptx",y:"pty",width:"ptw",height:"pth",unit:"ptu",aspect:"pta"}}),kt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;const n={},a=Object(s.a)({},e);return Object.keys(a).forEach((e=>{const r=a[e];if("object"!==typeof r||null===r||Array.isArray(r)){const a=t[e];"string"===typeof a&&(n[a]=r)}else{var o;const a=null===(o=t[e])||void 0===o?void 0:o._newKey;a&&(n[a]=kt(r,t[e]))}})),n},St=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;const n={};return Object.keys(t).forEach((a=>{const r=t[a];if("object"!==typeof r||null===r||Array.isArray(r))null!=e[r]&&(n[a]=e[r]);else{const o=null===r||void 0===r?void 0:r._newKey;o&&e[o]&&(n[a]=St(e[o],t[a]))}})),n},Ft=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;const n="string"===typeof e?JSON.parse(xt(decodeURIComponent(e))):e,a={};return Object.keys(t).forEach((e=>{const r=t[e];if("object"!==typeof r||null===r||Array.isArray(r))null!=n[r]&&(a[e]=n[r]);else{const o=null===r||void 0===r?void 0:r._newKey;o&&n[o]&&(a[e]=Ft(n[o],t[e]))}})),a},Ct=function(e){var t,n,a,r,o,i;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st();const c=Object(s.a)(Object(s.a)({id:Object(N.a)()},l),Object(vt.a)(e));return c.effectStyle=Object(s.a)(Object(s.a)({},st().effectStyle),c.effectStyle),null==c.pendulumStyle&&(c.pendulumStyle=Object(s.a)({},st().pendulumStyle)),null==c.version&&(c.version=1),null==c.format&&(c.format="tcg"),null==c.pendulumFrame&&(c.pendulumFrame="auto"),null==c.finish&&(c.finish=[]),null==c.artFinish&&(c.artFinish="normal"),c.picture&&!e.art&&(c.art=c.picture),delete c.picture,c.pictureCrop&&!e.artCrop&&(c.artCrop=c.pictureCrop),delete c.pictureCrop,""===(null!==(t=c.art)&&void 0!==t?t:"")&&(c.art=""),""===(null!==(n=c.artData)&&void 0!==n?n:"")&&(c.artData=""),""===(null!==(a=c.artSource)&&void 0!==a?a:"")&&(c.artSource="online"),null==c.artFit&&(c.artFit=!1),"boolean"===typeof c.opacity.artFrame&&null==c.opacity.boundless&&(c.opacity.boundless=!c.opacity.artFrame,delete c.opacity.artFrame),c.opacity=Object(s.a)(Object(s.a)({},p()),c.opacity),delete c.opacity.artFrame,""===(null!==(r=c.background)&&void 0!==r?r:"")&&(c.background=""),""===(null!==(o=c.backgroundData)&&void 0!==o?o:"")&&(c.backgroundData=""),""===(null!==(i=c.backgroundSource)&&void 0!==i?i:"")&&(c.backgroundSource="online"),null==c.backgroundFit&&(c.backgroundFit=!1),null==c.hasBackground&&(c.background||c.backgroundData||c.opacity.baseFill)&&(c.hasBackground=!0),null==c.isLink&&"link"===c.frame&&(c.isLink=!0),c.kanjiHelper&&!e.furiganaHelper&&(c.furiganaHelper=c.kanjiHelper),delete c.kanjiHelper,void 0===c.furiganaHelper&&(c.furiganaHelper=!0),c.passcode&&!e.password&&(c.password=c.passcode),delete c.passcode,c.effectTextStyle||(c.effectTextStyle=[!1,"#000000",!1,"#000000"]),c.pendulumTextStyle||(c.pendulumTextStyle=[!1,"#000000",!1,"#000000"]),c.typeTextStyle||(c.typeTextStyle=[!1,"#000000",!1,"#000000"]),c.statTextStyle||(c.statTextStyle=[!1,"#000000",!1,"#000000"]),c.otherTextStyle||(c.otherTextStyle=[!1,"#000000",!1,"#000000"]),"undefined"===typeof c.isLimitedEdition&&(c.isLimitedEdition=!1),"undefined"===typeof c.isLegacyCard&&(c.isLegacyCard=!1),c.starAlignment||(c.starAlignment="auto"),c},Tt=e=>{try{return"isFirstEdition"in e&&"typeAbility"in e&&"setId"in e}catch(t){return console.error(t),!1}},Lt=e=>{try{return"ife"in e&&"ta"in e&&"si"in e}catch(t){return console.error(t),!1}},Nt=(e,t)=>{if("offline"===e.artSource||"offline"===e.backgroundSource)return{isPartial:!0,result:kt(e)};const n=Object(s.a)(Object(s.a)({},e),{},{artData:"",backgroundData:""});return{isPartial:!1,result:kt(n)}},Rt=(e,t)=>typeof e===typeof t&&("number"===typeof e&&"number"===typeof t?Math.abs(e-t)<=.1:e===t),It=(e,t)=>{const{aspect:n,height:a,width:r,x:o,y:i,unit:l}=null!==e&&void 0!==e?e:{},{aspect:c,height:s,width:d,x:u,y:b,unit:p}=null!==t&&void 0!==t?t:{};return Rt(n,c)&&Rt(a,s)&&Rt(r,d)&&Rt(o,u)&&Rt(i,b)&&l===p},Et=(e,t)=>{const{artCrop:n,backgroundCrop:a}=e,r=Object(c.a)(e,["artCrop","backgroundCrop"]),{artCrop:o,backgroundCrop:i}=t,l=Object(c.a)(t,["artCrop","backgroundCrop"]);return Object(yt.a)(r,l)&&It(n,o)&&It(a,i)},At=e=>{try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1")}catch(t){return console.error(t),e}},Bt=e=>{try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1")}catch(t){return console.error(t),e}},zt=e=>{try{return e.startsWith("https://images.ygoprodeck.com/images/cards_cropped")}catch(t){return console.error(t),!1}},Dt=(e,t,n)=>{const a=document.createElement("a");a.download=e,a.href=window.URL.createObjectURL(t),a.dataset.downloadurl=[n,a.download,a.href].join(":");const r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});a.dispatchEvent(r),a.remove()},Wt={CONTINUOUS:"Continuous",COUNTER:"Counter",EQUIP:"Equip",FIELD:"Field","QUICK-PLAY":"Quick-play",RITUAL:"Ritual",[y]:"None"},Pt=Object.entries(Wt).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),Mt={EARTH:"Earth",LIGHT:"Light",DARK:"Dark",FIRE:"Fire",WIND:"Wind",WATER:"Water",SPELL:"Spell",TRAP:"Trap",DIVINE:"Divine"},Ht=Object.entries(Mt).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),Kt={normal:"Normal",effect:"Effect",ritual:"Ritual",fusion:"Fusion",synchro:"Synchro",xyz:"Xyz",link:"Link",token:"Token",spell:"Spell",trap:"Trap","dark-synchro":"Dark Synchro",zarc:"Unity","speed-skill":"Skill"},Yt=Object.entries(Kt).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),Gt={common:{key:""},rare:{key:"rare--",text:"rare"},secret:{key:"secretGradient-type3-",text:"secretGradient",artFinish:"type3"},ultra:{key:"ultra-type3-",text:"ultra",artFinish:"type3"},rainbow:{key:"platinum-type1-type1",text:"platinum",artFinish:"type1",finish:["type1"]}},Ut=Object.entries(Gt).reduce(((e,t)=>{const[n,a]=t;return e[a.key]=n,e}),{}),Xt=(e,t)=>{const{name:n,star:a,typeAbility:r,subFamily:o,effect:i,atk:l,def:d,art:u,artData:b,artSource:p,password:m,creator:f,attribute:h,setId:g,pendulumEffect:v,pendulumScaleBlue:y,pendulumScaleRed:j,isPendulum:x,linkMap:O,frame:w,externalInfo:k,nameStyle:S,nameStyleType:F,artFinish:C,finish:T}=e,L=At(n),N=Bt(i),R=Bt(v),I=Wt[o],E=Mt[h],A=Kt[w],B="predefined"===F?Ut[[S.preset,C,T.join("|")].join("-")]:"common",z=null!==k&&void 0!==k?k:{},{pendulum:D,rarity:W}=z,P=Object(c.a)(z,["pendulum","rarity"]);return{isPartial:n!==L||i!==N||v!==R||void 0===I||void 0===E||void 0===A||void 0===B,result:Object(s.a)({version:"1.0.0",name:L,level:"".concat(a),type:r.join("/"),icon:null!==I&&void 0!==I?I:"",effect:N,atk:l,def:d,serial:m,copyright:f,attribute:null!==E&&void 0!==E?E:"None",id:g,pendulum:Object(s.a)({enabled:x,effect:R,blue:y,red:j,boxSize:"Normal",boxSizeEnabled:!0},D),variant:"Normal",link:{topLeft:!!O.includes("1"),topCenter:!!O.includes("2"),topRight:!!O.includes("3"),middleLeft:!!O.includes("4"),middleRight:!!O.includes("6"),bottomLeft:!!O.includes("7"),bottomCenter:!!O.includes("8"),bottomRight:!!O.includes("9")},layout:null!==A&&void 0!==A?A:"Normal",boxSize:"Normal",rarity:null!==B&&void 0!==B?B:W,image:t?t.toDataURL("image/jpeg"):"offline"===p?b:u},P)}},Vt={CONTINUOUS:"Continuous",COUNTER:"Counter",EQUIP:"Equip",FIELD:"Field","QUICK-PLAY":"Quick-Play",RITUAL:"Ritual",[y]:"None"},_t=Object.entries(Vt).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),qt=Object.entries({EARTH:"EARTH",LIGHT:"LIGHT",DARK:"DARK",FIRE:"FIRE",WIND:"WIND",WATER:"WATER",SPELL:"SPELL",TRAP:"TRAP",DIVINE:"DIVINE"}).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),Jt=Object.entries({normal:"normal",effect:"effect",ritual:"ritual",fusion:"fusion",synchro:"synchro",xyz:"xyz",link:"link",token:"token",spell:"spell",trap:"trap","speed-skill":"skill",normal_pendulum:"normal_pendulum",effect_pendulum:"effect_pendulum",ritual_pendulum:"ritual_pendulum",fusion_pendulum:"fusion_pendulum",synchro_pendulum:"synchro_pendulum",xyz_pendulum:"xyz_pendulum"}).reduce(((e,t)=>{const[n,a]=t;return e[a]=n,e}),{}),$t={"Top-Left":"1",Top:"2","Top-Right":"3",Left:"4",Right:"6","Bottom-Left":"7",Bottom:"8","Bottom-Right":"9"},Zt=e=>{var t,n;const{atk:a,attribute:r,card_images:o,card_sets:i,def:l,desc:c,frameType:d,id:u,level:b,monster_desc:p,name:m,pend_desc:f,race:h,scale:v,typeline:j,linkval:x,linkmarkers:O}=e,w=_t[h],k=qt[r],[S,F]=Jt[d].split("_"),C=c?c.replaceAll(/^''|''$/g,""):"",T=p?p.replaceAll(/^''|''$/g,""):void 0,L=f?f.replaceAll(/^''|''$/g,""):"",N=o[0].image_url_cropped,R=st();return{isPartial:!1,result:Object(s.a)(Object(s.a)({},R),{},{name:m,atk:a<0||null==a?"?":"".concat(a),def:l?l<0||null==l?"?":"".concat(l):"0",attribute:null!==k&&void 0!==k?k:g,effect:null!==T&&void 0!==T?T:C,subFamily:null!==w&&void 0!==w?w:y,setId:null!==(t=null===(n=i[i.length-1])||void 0===n?void 0:n.set_code)&&void 0!==t?t:"",frame:null!==S&&void 0!==S?S:"normal",star:"link"===d&&x?x:b,typeAbility:j||("spell"===d?["Spell Card"]:"trap"===d?["Trap Card"]:[]),art:N,artSource:"online",artCrop:Object(s.a)(Object(s.a)({},R.artCrop),{},{y:0}),isLink:"link"===S&&Array.isArray(O),linkMap:(null!==O&&void 0!==O?O:[]).map((e=>$t[e])),isPendulum:"pendulum"===F,pendulumScaleBlue:"".concat(v),pendulumScaleRed:"".concat(v),pendulumEffect:L,password:"".concat(u).padStart(8,"0"),creator:de.tcg[0]})}};var Qt=1e3,en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt,n=e,a=t,r=a,o=r,i=30,l=100,c=10,s=function(){return 1===l?v():(r+=l,r-=l/=c),Math.min(r,a)},d=function(){return i-=1,r-=l},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;n=e,a=t,r=t,i=30,l=100,o=t},b=function(){return r},p=function(e){return r=e},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return o=e},f=function(){return o},h=function(){return i=-1,r=o},g=function(){return i},v=function(){return i=-1};return{reset:u,searchDown:d,reverseSearch:s,finish:v,getMedian:b,setMedian:p,setLastEffective:m,getLastEffective:f,applyLastEffective:h,getIterateCount:g}},tn=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Qt,a=en();a.getIterateCount()>=0;){if(a.getIterateCount()<=0){var r=a.getMedian();n=r;break}var o=e(a.getMedian());if(!o&&a.getMedian()>0)a.searchDown();else{if(a.getMedian()===Qt)break;n=a.reverseSearch()}}var i=Math.max(t,Math.min(n,Qt));return i!==n&&e(i),i};const nn=e=>{const{defaultWeight:t="",defaultStyle:n="",defaultSize:a="10px",defaultFamily:r="Arial"}=null!==e&&void 0!==e?e:{};let o=t,i=n,l="number"===typeof a?"".concat(a,"px"):a,c="number"===typeof a?a:parseFloat(a.replaceAll("px","")),s=r;return{getFont:()=>"".concat([i,o,l,s].filter((e=>""!==e)).join(" "),", Arial"),getFontInfo:()=>({style:i,size:l,family:s,sizeAsNumber:c,weight:o}),setWeight(e){return o=e,this},setStyle(e){return i=e,this},setSize(e){const t="function"===typeof e?e(c):e;return l="number"===typeof t?"".concat(t,"px"):t,c="number"===typeof t?t:parseFloat(t.replaceAll("px","")),this},setFamily(e){return s=e,this}}};var an=n(59),rn=function(){return ln("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf")},on=function(e){return(null!==e&&void 0!==e?e:[]).map((function(e){var t=e.color,n=e.offset;return"".concat(n,"|").concat(t)})).join(",")},ln=function e(t){return t?t.split(",").map((function(e,t){var n=e.split("|"),a=Object(an.a)(n,2),r=a[0];return{color:a[1],offset:r,id:t+1}})):e("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf")};const cn=async e=>{const t=new Headers;t.append("Authorization","Client-ID ".concat("83ff9cbdd22c23c"));const n=new FormData;return n.append("image",e),n.append("type","url"),n.append("title",e.replace("https://images.ygoprodeck.com/images/cards_cropped/","").replace(".jpg","")),await fetch("https://api.imgur.com/3/image",{method:"POST",headers:t,body:n,redirect:"follow"})};var sn=function(e){var t=e.debug,n=e.optionLength,a=e.stopPropagation,r=void 0!==a&&a,o=e.setFocus,i=e.onTrigger,l=e.onCancel,c=e.onKeyPress;return{tabIndex:0,onFocus:function(){t&&console.info("Navigation Focus",t),o(0)},onBlur:function(){t&&console.info("Navigation Blur",t),o(-1)},onKeyDown:function(e){r&&e.stopPropagation(),t&&console.info("Navigation Keydown",t,e.key),!1!==(null===c||void 0===c?void 0:c(e))&&("ArrowRight"===e.key||"ArrowDown"===e.key?(e.preventDefault(),o((function(e){return Math.max(0,n+e+1)%n}))):"ArrowLeft"===e.key||"ArrowUp"===e.key?(e.preventDefault(),o((function(e){return Math.max(0,n+e-1)%n}))):"Enter"===e.key||" "===e.key?i():"Escape"===e.key&&(null===l||void 0===l||l()))}}};const dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";const a=e.length;for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*a));return n};const un=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".radio-train-input-group";null===(e=document.querySelector(t))||void 0===e||e.focus()},bn=/^#[a-fA-F0-9]{3}([a-fA-F0-9]{3})?$/,pn=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{const o=e.replace("#","");let i=[0,0,0,1];var n,a,r;if(3===o.length||4===o.length)i=[parseInt("".concat(o[0]).concat(o[0]),16),parseInt("".concat(o[1]).concat(o[1]),16),parseInt("".concat(o[2]).concat(o[2]),16),parseInt("".concat(null!==(n=o[3])&&void 0!==n?n:"f").concat(null!==(a=o[3])&&void 0!==a?a:"f"),16)];if(6===o.length||8===o.length)i=[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16),parseInt(null!==(r=o.slice(6,8))&&void 0!==r?r:"ff",16)];return i.map((e=>isNaN(e)?255:e)).slice(0,t?4:3)}catch(o){return[0,0,0,1].slice(0,t?4:3)}},mn=()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e};function fn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var hn=n(8),gn=n(502),vn=n(283),yn=n(109),jn=n(9);function xn(){const e=Object(hn.a)(["\n    align-content: center;\n    font-size: var(--fs-lg);\n    border: var(--bw) solid var(--sub-tertiary);\n    border-radius: var(--br-lg);\n    background-color: var(--main-primary);\n    border: var(--bw) solid var(--main-primary);\n    border-left: var(--bw) solid var(--sub-level-3);\n    cursor: pointer;\n    &:hover {\n        background-color: var(--sub-primary);\n    }\n    input {\n        display: none;\n    }  \n"]);return xn=function(){return e},e}const On=jn.b.button(xn());var wn=n(516),kn=n(517),Sn=n(518);const Fn=(e,t)=>{var n,a,r,o,i;const{creator:l,effect:c,format:d,isFirstEdition:u,name:b,password:p,pendulumEffect:m,setId:f,typeAbility:h}=e;if(d===t)return e;const g="ocg"===t?be:ue,v="ocg"===t&&/-EN/.test(f)?f.replace("-EN","-JP"):"tcg"===t&&/-JP/.test(f)?f.replace("-JP","-EN"):f;return Object(s.a)(Object(s.a)({},e),{},{name:null!==(n=g[b])&&void 0!==n?n:b,format:t,effect:null!==(a=g[c])&&void 0!==a?a:c,pendulumEffect:null!==(r=g[m])&&void 0!==r?r:m,typeAbility:h.map((e=>{var t;return null!==(t=g[e])&&void 0!==t?t:e})),creator:null!==(o=g[l])&&void 0!==o?o:l,password:null!==(i=g[p])&&void 0!==i?i:p,setId:v,isFirstEdition:"ocg"!==t&&u})};var Cn=n(105),Tn=n(104),Ln=n.n(Tn),Nn=n(248),Rn=n.n(Nn);const In=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object(s.a)(Object(s.a)({},t),e.rawDictionary),r=e=>{var t;return null!==(t=n[e])&&void 0!==t?t:""},i=(e,t)=>{const n=new RegExp("\\{(".concat(Object.keys(t).join("|"),")\\}")),r=e.split(n);return Object(a.jsx)(o.a.Fragment,{children:r.map(((e,n)=>n%2===0?Object(a.jsx)(o.a.Fragment,{children:e},"".concat(e,"-").concat(n)):t[e]))},e)},l={"error.load.font.tcg":e=>r("error.load.font.tcg").replaceAll("{familyName}",e),"error.load.font.ocg":e=>r("error.load.font.ocg").replaceAll("{familyName}",e),"error.max-size.description":e=>r("error.max-size.description").replaceAll("{fileSize}","".concat(e)),"contributor.disclaimer.line-1":e=>i(r("contributor.disclaimer.line-1"),{siteLink:e}),"contributor.disclaimer.line-5":(e,t)=>i(r("contributor.disclaimer.line-5"),{author1:e,author2:t}),"contributor.template-maker":(e,t,n,a)=>i(r("contributor.template-maker"),{artist1:e,artist2:t,artist3:n,artist4:a}),"converter.header.warning.label":e=>i(r("converter.header.warning.label"),{maxAmount:e}),"guide.format.introduction":e=>i(r("guide.format.introduction"),{settingIcon:e}),"guide.format.section-1.content":(e,t,n,a)=>i(r("guide.format.section-1.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"guide.format.section-2.content":(e,t,n,a)=>i(r("guide.format.section-2.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"guide.format.section-3.content":(e,t,n)=>i(r("guide.format.section-3.content"),{separator:e,hotkey:t,hotkeyAlternative:n}),"guide.format.section-4.content":(e,t,n)=>i(r("guide.format.section-4.content"),{separator:e,hotkey:t,hotkeyAlternative:n}),"guide.format.section-5.content":(e,t,n,a)=>i(r("guide.format.section-5.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a}),"input.scale.label":e=>i(r("input.scale.label"),{scaleType:e})};return Object(s.a)(Object(s.a)({},e),{},{rawDictionary:n,dictionary:Object(s.a)(Object(s.a)({},n),l)})},En=Object(Cn.create)(((e,t)=>{const n=(()=>{const e=new URL(window.location.href),t=e.searchParams,n=t.get("language");if(t.delete("language"),window.history.replaceState(window.history.state,"",e.href),n)return n;try{const e=localStorage.getItem("language");return e||"eng"}catch(a){return console.error("useSetting: Error when getting cached language",a),"eng"}})(),a={},r=In(Object(s.a)(Object(s.a)({},{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1}),{},{rawDictionary:{}})),o=async e=>{if(a[e])return null;try{var t;const n=await fetch("".concat("/ygocarder","/asset/i18n/").concat(e,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),r=await n.json();if(!r.rawDictionary)throw new Error("No dictionary found");const o=In(r,null===(t=a.eng)||void 0===t?void 0:t.rawDictionary);return a[e]=o,o}catch(n){return console.error("loadLanguage: Could not load language, revert back to default",n),null}},i=async n=>{const i=t().languageMetadataMap[n];if(!i)return;const l=a[n]?a[n]:await o(n);l?(e({languageInfo:t().languageMetadataMap[n],language:l.dictionary}),localStorage.setItem("language",n),e({isLoading:!1,languageInfo:i})):e({isLoading:!1,languageInfo:t().languageMetadataMap.eng,language:r.dictionary})};return{languageMetadataMap:{},languageInfo:{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1},language:r.dictionary,error:null,isInitiating:!0,isLoading:!0,isMetadataReady:!1,initiate:async()=>{(async()=>{try{const t=await fetch("".concat("/ygocarder","/asset/i18n/metadata.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),n=await t.json();if(!n)throw new Error("No metadata found");e({languageMetadataMap:n,isMetadataReady:!0})}catch(t){console.error("loadLanguageMetadata: Could not load language metadata, try to use English",t),e({languageMetadataMap:{eng:{name:"English",formalName:"English",codeName:"eng",initialMessage:"Loading fonts and scripts\u2026",order:1,active:!0}},isMetadataReady:!0})}})()},loadDefaultLanguage:async()=>{await o("eng"),await i(n),e({isInitiating:!1})},loadLanguage:o,changeLanguage:i}})),An=()=>En((e=>{let{language:t}=e;return t})),Bn=()=>En.getState().language;var zn=n(249);const Dn=["Format","Frame","Name","Attribute","Star","Spell/Trap Icon","Art Link","Type Ability","Effect","Set Id","ATK","DEF","Password","Sticker","Copyright","Is Pendulum","Pendulum Effect","Pendulum Scale Red","Pendulum Scale Blue","Is Link","Link - Top Left Arrow","Link - Top Arrow","Link - Top Right Arrow","Link - Left Arrow","Link - Right Arrow","Link - Bottom Left Arrow","Link - Bottom Arrow","Link - Bottom Right Arrow","Is First Edition","Is Speed Card","Is Limited Edition","Is Duel Terminal Card","Is Legacy Card","Foil","Art Finish","Card Finish","Art Crop - X (%)","Art Crop - Y (%)","Art Crop - Width (%)","Art Crop - Height (%)","Is Using Full Art","Star Alignment","Card Icon Type","Opacity - Body","Opacity - Pendulum","Opacity - Text","Opacity - Name","Opacity - Base Fill","Opacity - Art Border","Opacity - Name Border","Opacity - Boundless","Has Background","Background Link","Is Using Full Background","Background Type","Background Crop - X (%)","Background Crop - Y (%)","Background Crop - Width (%)","Background Crop - Height (%)","Bottom Frame","Condense Rate","Use Furigana Helper","Name Style Type","Name Style - Font","Name Style - Fill Style","Name Style - Headtext Fill Style","Name Style - Shadow Color","Name Style - Shadow Offset Y","Name Style - Shadow Offset X","Name Style - Shadow Blur","Name Style - Has Shadow","Name Style - Line Color","Name Style - Line Width","Name Style - Line Offset Y","Name Style - Line Offset X","Name Style - Has Outline","Name Style - Gradient Angle","Name Style - Gradient Color","Name Style - Has Gradient","Name Style - Preset","Name Style - Pattern","Stat Style - Is Custom","Stat Style - Fill Color","Stat Style - Has Shadow","Stat Style - Shadow Color","Type Style - Is Custom","Type Style - Fill Color","Type Style - Has Shadow","Type Style - Shadow Color","Effect Style - Is Custom","Effect Style - Fill Color","Effect Style - Has Shadow","Effect Style - Shadow Color","Effect Style - Upsize","Pendulum Effect Style - Is Custom","Pendulum Effect Style - Fill Color","Pendulum Effect Style - Has Shadow","Pendulum Effect Style - Shadow Color","Pendulum Effect Style - Upsize","Other Style - Is Custom","Other Style - Fill Color","Other Style - Has Shadow","Other Style - Shadow Color","External Info (JSON)"],Wn=[...Dn,"Level/Rank","Star_Type","spell_type/trap_type","Type_1","Type_2","Type_3","Type_4","Set_ID","Borderless","Edition","Rarity","Background_Type","Card_Background","Font_Style","Art_Finish","Image_Frame_Type"],Pn=e=>e.toLowerCase().replaceAll(" ","").replaceAll("-",""),Mn=new Set(Wn.map(Pn)),Hn=Dn.reduce(((e,t,n)=>{const a=Pn(t);return Mn.has(a)&&(e[t]=n),e}),{}),Kn=e=>null==e||""===e?"":'"'.concat(e.replace(/"/g,'""'),'"'),Yn=(e,t)=>{if("boolean"===typeof e)return e;if("string"===typeof e){const n=e.toLowerCase();return"true"===n||"false"!==n&&t}return t},Gn=(e,t)=>"number"===typeof e?isFinite(e)?e:t:"string"===typeof e&&isFinite(parseInt(e))?parseInt(e):t,Un=(e,t)=>"number"===typeof e?isFinite(e)?e:t:"string"===typeof e&&isFinite(parseFloat(e))?parseFloat(e):t,Xn=(e,t)=>"string"===typeof e?e.startsWith("#")?e:"#".concat(e):t,Vn=e=>{try{const t=e.data,n=t[0].reduce(((e,t,n)=>{const a=Pn(t);return Mn.has(a)&&(e[t]=n),e}),{});return t.map(((e,t)=>{var a,r,o,i,l,c,d,u,b,m,h,v,y,j,x,O,w,k,S,F,C,T,L,R,I,E,A,B,z,D,W,P,M,H,Y,G,U,X,V,_;if(0===t)return null;if(""===e.join(""))return null;const q=st(),J=((e,t)=>n=>{var a,r;const o=null!==(a=t[n])&&void 0!==a?a:-1,i=(null!==(r=e[o])&&void 0!==r?r:"").trim();return""===i?void 0:i})(e,n),$=(null!==(a=null!==(r=J("Frame"))&&void 0!==r?r:J("Background_Type"))&&void 0!==a?a:q.frame).toLowerCase(),Z=null!==(o=null!==(i=J("Star"))&&void 0!==i?i:J("Level/Rank"))&&void 0!==o?o:"",Q=parseInt(Z)<=13&&"2"!==J("Star_Type")?parseInt(Z):Z,ee=(null!==(l=null!==(c=J("Foil"))&&void 0!==c?c:J("Rarity"))&&void 0!==l?l:"normal").toLowerCase(),te=K[ee]?ee:"normal",ne=null===(d=J("Attribute"))||void 0===d?void 0:d.toUpperCase(),ae=ne?"NONE"===ne?g:ne:"spell"===$?"SPELL":"trap"===$?"TRAP":q.attribute,re=null!==(u=J("Art Finish"))&&void 0!==u?u:J("Art_Finish")?"type".concat(J("Art_Finish")):"",oe=null!==(b=J("ATK"))&&void 0!==b?b:"",ie=null!==(m=J("Card Icon Type"))&&void 0!==m?m:q.cardIcon,le=null!==(h=J("Copyright"))&&void 0!==h?h:"",ce=null!==(v=J("DEF"))&&void 0!==v?v:"",se=null!==(y=J("Effect"))&&void 0!==y?y:"",de=null!==(j=null===(x=J("Card Finish"))||void 0===x?void 0:x.split(/,| /).filter((e=>""!==e)))&&void 0!==j?j:[],ue=(null!==(O=J("Format"))&&void 0!==O?O:q.format).toLowerCase(),be=Yn(J("Use Furigana Helper"),q.furiganaHelper),pe=null!==(w=J("Name"))&&void 0!==w?w:"",me=null!==(k=J("Password"))&&void 0!==k?k:"",fe=null!==(S=null!==(F=J("Set Id"))&&void 0!==F?F:J("Set_ID"))&&void 0!==S?S:"",he=(null!==(C=J("Star Alignment"))&&void 0!==C?C:q.starAlignment).toLowerCase(),ge=(null!==(T=J("Sticker"))&&void 0!==T?T:q.sticker).toLowerCase(),ve=(null!==(L=null!==(R=J("Spell/Trap Icon"))&&void 0!==R?R:J("spell_type/trap_type"))&&void 0!==L?L:q.subFamily).toUpperCase(),ye=null===(I=J("Edition"))||void 0===I?void 0:I.toLowerCase(),je=Yn(J("Is First Edition"),ye?"1st edition"===ye:q.isFirstEdition),xe=Yn(J("Is Duel Terminal Card"),ye?"duel terminal"===ye:q.isDuelTerminalCard),Oe=Yn(J("Is Limited Edition"),ye?"limited edition"===ye:q.isLimitedEdition),we=Yn(J("Is Speed Card"),ye?"speed duel"===ye:q.isSpeedCard),ke=Yn(J("Is Legacy Card"),q.isLegacyCard),Se=Yn(J("Is Pendulum"),q.isPendulum),Fe=(null!==(E=J("Bottom Frame"))&&void 0!==E?E:q.pendulumFrame).toLowerCase(),Ce=null!==(A=J("Pendulum Effect"))&&void 0!==A?A:"",Te=null!==(B=J("Pendulum Scale Red"))&&void 0!==B?B:q.pendulumScaleRed,Le=null!==(z=J("Pendulum Scale Blue"))&&void 0!==z?z:q.pendulumScaleBlue,Ne=J("Type Ability"),Re=Ne?Ne.split("/"):[J("Type_1"),J("Type_2"),J("Type_3"),J("Type_4")].filter((e=>"string"===typeof e)).filter((e=>""!==e)),Ie=(null!==(D=J("Condense Rate"))&&void 0!==D?D:q.effectStyle.condenseTolerant).toLowerCase(),Ee=Gn(J("Effect Style - Upsize"),q.effectStyle.upSize),Ae=Gn(J("Pendulum Effect Style - Upsize"),q.pendulumStyle.upSize),Be=p(),ze={artBorder:Yn(J("Opacity - Art Border"),Be.artBorder),baseFill:null!==(W=J("Opacity - Base Fill"))&&void 0!==W?W:Be.baseFill,body:Gn(J("Opacity - Body"),Be.body),boundless:Yn(J("Opacity - Boundless"),Be.boundless),name:Gn(J("Opacity - Name"),Be.name),nameBorder:Yn(J("Opacity - Name Border"),Be.nameBorder),pendulum:Gn(J("Opacity - Pendulum"),Be.pendulum),text:Gn(J("Opacity - Text"),Be.text)},De={x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},We=null!==(P=J("Art Link"))&&void 0!==P?P:q.art,Pe=Yn(J("Is Using Full Art"),q.artFit),Me={aspect:f(Se,ze).ratio,height:Un(J("Art Crop - Height (%)"),De.height),width:Un(J("Art Crop - Width (%)"),De.width),x:Un(J("Art Crop - X (%)"),De.x),y:Un(J("Art Crop - Y (%)"),De.y),unit:"%"},He={x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},Ke=Yn(J("Has Background"),q.hasBackground),Ye=null!==(M=J("Background Link"))&&void 0!==M?M:q.background,Ge=(null!==(H=J("Background Type"))&&void 0!==H?H:q.backgroundType).toLowerCase(),Ue=Yn(J("Is Using Full Background"),q.backgroundFit),Xe={aspect:f(Se,ze,Ge).ratio,height:Un(J("Background Crop - Height (%)"),He.height),width:Un(J("Background Crop - Width (%)"),He.width),x:Un(J("Background Crop - X (%)"),He.x),y:Un(J("Background Crop - Y (%)"),He.y),unit:"%"},Ve={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},_e=(null!==(Y=J("Name Style Type"))&&void 0!==Y?Y:q.nameStyleType).toLowerCase(),qe={fillStyle:Xn(J("Name Style - Fill Style"),Ve.fillStyle),font:null!==(G=J("Name Style - Font"))&&void 0!==G?G:Ve.font,gradientAngle:Gn(J("Name Style - Gradient Angle"),Ve.gradientAngle),gradientColor:null!==(U=J("Name Style - Gradient Color"))&&void 0!==U?U:Ve.gradientColor,hasGradient:Yn(J("Name Style - Has Gradient"),Ve.hasGradient),hasOutline:Yn(J("Name Style - Has Outline"),Ve.hasOutline),hasShadow:Yn(J("Name Style - Has Shadow"),Ve.hasShadow),headTextFillStyle:Xn(J("Name Style - Headtext Fill Style"),Ve.headTextFillStyle),lineColor:Xn(J("Name Style - Line Color"),Ve.lineColor),lineOffsetX:Gn(J("Name Style - Line Offset X"),Ve.lineOffsetX),lineOffsetY:Gn(J("Name Style - Line Offset Y"),Ve.lineOffsetY),lineWidth:Gn(J("Name Style - Line Width"),Ve.lineWidth),pattern:null!==(X=J("Name Style - Pattern"))&&void 0!==X?X:Ve.pattern,preset:null!==(V=J("Name Style - Preset"))&&void 0!==V?V:Ve.preset,shadowBlur:Gn(J("Name Style - Shadow Blur"),Ve.shadowBlur),shadowColor:Xn(J("Name Style - Shadow Color"),Ve.shadowColor),shadowOffsetX:Gn(J("Name Style - Shadow Offset X"),Ve.shadowOffsetX),shadowOffsetY:Gn(J("Name Style - Shadow Offset Y"),Ve.shadowOffsetY)},Je=Yn(J("Is Link"),q.isLink),$e=null!==(_=[Yn(J("Link - Top Left Arrow"),!1)?"1":"",Yn(J("Link - Top Arrow"),!1)?"2":"",Yn(J("Link - Top Right Arrow"),!1)?"3":"",Yn(J("Link - Left Arrow"),!1)?"4":"",Yn(J("Link - Right Arrow"),!1)?"6":"",Yn(J("Link - Bottom Left Arrow"),!1)?"7":"",Yn(J("Link - Bottom Arrow"),!1)?"8":"",Yn(J("Link - Bottom Right Arrow"),!1)?"9":""].filter((e=>""!==e)))&&void 0!==_?_:[],Ze=[!1,"#000000",!1,"#000000"],Qe=[Yn(J("Stat Style - Is Custom"),Ze[0]),Xn(J("Stat Style - Fill Color"),Ze[1]),Yn(J("Stat Style - Has Shadow"),Ze[2]),Xn(J("Stat Style - Shadow Color"),Ze[3])],et=[Yn(J("Type Style - Is Custom"),Ze[0]),Xn(J("Type Style - Fill Color"),Ze[1]),Yn(J("Type Style - Has Shadow"),Ze[2]),Xn(J("Type Style - Shadow Color"),Ze[3])],tt=[Yn(J("Effect Style - Is Custom"),Ze[0]),Xn(J("Effect Style - Fill Color"),Ze[1]),Yn(J("Effect Style - Has Shadow"),Ze[2]),Xn(J("Effect Style - Shadow Color"),Ze[3])],nt=[Yn(J("Pendulum Effect Style - Is Custom"),Ze[0]),Xn(J("Pendulum Effect Style - Fill Color"),Ze[1]),Yn(J("Pendulum Effect Style - Has Shadow"),Ze[2]),Xn(J("Pendulum Effect Style - Shadow Color"),Ze[3])],at=[Yn(J("Other Style - Is Custom"),Ze[0]),Xn(J("Other Style - Fill Color"),Ze[1]),Yn(J("Other Style - Has Shadow"),Ze[2]),Xn(J("Other Style - Shadow Color"),Ze[3])];let rt={};try{var ot;rt=JSON.parse(null!==(ot=J("External Info (JSON)"))&&void 0!==ot?ot:"{}")}catch(it){console.error("csvToCardList",it)}return Object(s.a)(Object(s.a)({id:Object(N.a)()},q),{},{art:We,artCrop:Me,artFinish:re,artFit:Pe,artSource:"online",atk:oe,attribute:ae,background:Ye,backgroundCrop:Xe,backgroundFit:Ue,backgroundSource:"online",backgroundType:Ge,cardIcon:ie,condenseTolerant:Ie,creator:le,def:ce,effectStyle:{condenseTolerant:Ie,upSize:Ee},effect:se,effectTextStyle:tt,externalInfo:rt,finish:de,foil:te,format:ue,frame:$,furiganaHelper:be,hasBackground:Ke,isDuelTerminalCard:xe,isFirstEdition:je,isLegacyCard:ke,isLimitedEdition:Oe,isLink:Je,isPendulum:Se,isSpeedCard:we,linkMap:$e,name:pe,nameStyle:qe,nameStyleType:_e,opacity:ze,otherTextStyle:at,password:me,pendulumEffect:Ce,pendulumFrame:Fe,pendulumScaleBlue:Le,pendulumScaleRed:Te,pendulumStyle:{upSize:Ae},pendulumTextStyle:nt,setId:fe,star:Q,starAlignment:he,statTextStyle:Qe,sticker:ge,subFamily:ve,typeAbility:Re,typeTextStyle:et})})).filter((e=>null!=e))}catch(t){return console.error("csvToCardList",t),[]}},_n=(e,t)=>{const n="string"===typeof e?parseInt(e):e,a="string"===typeof t?parseInt(t):t,r=!!n&&isFinite(n),o=!!a&&isFinite(a);if(r&&!o)return-1;if(!r&&o)return 1;if(r&&o)return(null!==a&&void 0!==a?a:0)-(null!==n&&void 0!==n?n:0);const i="?"===e?1:""===e?-1:0,l="?"===t?1:""===t?-1:0;return l-i===0&&"string"===typeof e&&"string"===typeof t?(null!==e&&void 0!==e?e:"").localeCompare(t):l-i},qn=(e,t)=>e.name.localeCompare(t.name),Jn=(e,t)=>e.setId.localeCompare(t.setId),$n=(e,t)=>_n(e.atk,t.atk),Zn=(e,t)=>_n(e.def,t.def),Qn=(e,t)=>e.isLink&&t.isLink?t.linkMap.length-e.linkMap.length:_n(e.star,t.star),ea=(e,t)=>{var n,a,r,o;const i=pe[t.frame].sortWeight-pe[e.frame].sortWeight;if(0!==i)return i;return(null!==(n=null===(a=pe[t.pendulumFrame])||void 0===a?void 0:a.sortWeight)&&void 0!==n?n:1e3)-(null!==(r=null===(o=pe[e.pendulumFrame])||void 0===o?void 0:o.sortWeight)&&void 0!==r?r:1e3)},ta=e=>{const t=Object(s.a)({},e),{frame:n,isLink:a}=t;return("spell"===n||"trap"===n||pt(t))&&(t.atk="",t.def="",t.star=0),a&&(t.def="",t.star=0),t},na=(e,t,n)=>{for(let a=0;a<e.length;a++){const r=e[a](t,n);if(0!==r)return r}return 0},aa={name:{key:"name",sortFunction:e=>e.map(ta).sort(((e,t)=>na([qn,Qn,ea,Jn,$n,Zn],e,t)))},atk:{key:"atk",sortFunction:e=>e.map(ta).sort(((e,t)=>na([$n,Zn,Qn,ea,qn,Jn],e,t)))},def:{key:"def",sortFunction:e=>e.map(ta).sort(((e,t)=>na([Zn,$n,Qn,ea,qn,Jn],e,t)))},set:{key:"set",sortFunction:e=>e.map(ta).sort(((e,t)=>na([Jn,ea,Qn,qn,$n,Zn],e,t)))},level:{key:"level",sortFunction:e=>e.map(ta).sort(((e,t)=>na([ea,Qn,qn,Jn,$n,Zn],e,t)))}},ra=(e,t)=>{const n=Object.values(t).filter((e=>null!=e));return 0===n.length?e:n.reduce(((e,t)=>t(e)),e)},oa=Object(Cn.create)(Object(zn.subscribeWithSelector)((e=>({activeId:"",cardDisplayList:[],cardList:[],filterFunctionMap:{},filterResetSignal:0,isListDirty:!1,listName:"card-list",pendingActiveCard:void 0,visible:"true"===localStorage.getItem("manager-panel-visible"),setFilterFunction:t=>{let{type:n,value:a}=t;return e((e=>{let{cardList:t,filterFunctionMap:r}=e;const o=Object(s.a)({},r);if("text"===n){const e=a.toLowerCase();o[n]=t=>t.filter((t=>{let{name:n,effect:a,pendulumEffect:r}=t;return(At(n).toLowerCase()+Bt(a).toLowerCase()+Bt(r).toLowerCase()).includes(e)}))}return{filterFunctionMap:o,cardDisplayList:ra(t,o)}}))},resetFilter:()=>{e((e=>{let{filterResetSignal:t,cardList:n}=e;return{filterFunctionMap:{},filterResetSignal:t+1,cardDisplayList:[...n]}}))},addCard:t=>e((e=>{let{cardList:n}=e;const a=Object(N.a)(),r=Object(s.a)({id:a},t);return{activeId:r.id,cardList:[...n,r],cardDisplayList:[...n,r]}})),changeEditStatus:t=>{"load"===t&&e({isListDirty:!1}),"download"===t&&e({isListDirty:!1})},toggleVisible:t=>e((e=>{let{visible:n}=e;return{visible:null!==t&&void 0!==t?t:!n}})),setListName:t=>e({listName:t}),setPendingActiveCard:t=>e({pendingActiveCard:t}),changeActiveCard:function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e((e=>{let{cardList:a,cardDisplayList:r,isListDirty:o}=e,i=o;if(!1===i&&n){const e=a.find((e=>e.id===t.id));i=!e||!Et(t,e)}return{isListDirty:i,cardList:a.map((e=>e.id===t.id?Object(s.a)({},t):e)),cardDisplayList:r.map((e=>e.id===t.id?Object(s.a)({},t):e))}}))},setActiveId:t=>e({activeId:t}),setCardList:(t,n)=>{var a;e({filterFunctionMap:{},isListDirty:!1,activeId:null!==n&&void 0!==n?n:null===(a=t[0])||void 0===a?void 0:a.id,cardList:t,cardDisplayList:[...t]})},deleteCard:t=>{e((e=>{var n,a,r,o;let{cardList:i,activeId:l,cardDisplayList:c}=e;const s=i.filter((e=>e.id!==t)),d=c.filter((e=>e.id!==t)),u=d.findIndex((e=>e.id===l));return{activeId:l===t?null!==(n=null!==(a=null===(r=d[u-1])||void 0===r?void 0:r.id)&&void 0!==a?a:null===(o=d[0])||void 0===o?void 0:o.id)&&void 0!==n?n:"":l,cardList:s,cardDisplayList:d}}))},duplicateCard:t=>{e((e=>{let{cardList:n,filterFunctionMap:a}=e;const r=n.findIndex((e=>{let{name:n}=e;return n===t.name})),o=Object(N.a)(),i=Object(s.a)(Object(s.a)({},Object(vt.a)(t)),{},{name:"".concat(t.name," - Copy"),id:o}),l=r<0?[...n,i]:[...n.slice(0,r),n[r],i,...n.slice(r+1,n.length)];return{activeId:o,pendingActiveCard:i,cardList:l,cardDisplayList:ra(l,a)}}))},sortList:t=>{e((e=>{let{cardDisplayList:n,cardList:a}=e;return{cardDisplayList:aa[t].sortFunction(n),cardList:aa[t].sortFunction(a)}}))}})))),ia=(e,t)=>{const n=Object(N.a)();let a=st(),r=!1;if(!e)return{isPartial:r,card:Object(s.a)(Object(s.a)({},a),{},{id:n})};try{const n="string"===typeof e?JSON.parse(e):e;if(t){const e=St(n);a=Object.keys(e).length>0?Ct(e,t):Ct(n,t)}else if(Tt(n))a=Ct(n);else if(Lt(n)){const e=St(n);a=Ct(e)}else if(Array.isArray(n.data)){const e=Array.isArray(n.data)?n.data[0]:n,{isPartial:t,result:o}=Zt(e);r=t,a=o}else if((e=>{try{return"id"in e&&"frameType"in e&&"card_sets"in e}catch(t){return console.error(t),!1}})(n)){const{isPartial:e,result:t}=Zt(n);r=e,a=t}else{const{isPartial:e,result:t}=(e=>{const{name:t,atk:n,def:a,attribute:r,effect:o,boxSize:i,copyright:l,icon:c,id:d,image:u,layout:b,level:p,link:m,pendulum:f,rarity:h,serial:v,type:j,variant:x,version:O}=e,{red:w,blue:k,boxSize:S,boxSizeEnabled:C,effect:T,enabled:L}=f,N=Pt[c],R=Ht[r],I=Yt[b],E="string"===typeof(A=u)&&A.startsWith("data:image/");var A;const B=parseInt(p),z=h?Gt[h.toLowerCase()]:void 0;let D=void 0===N||void 0===R||void 0===I||void 0===z;const{finish:W,artFinish:P,text:M}=null!==z&&void 0!==z?z:{},H=M?F[M]:null,K=st();return{isPartial:D,result:Object(s.a)(Object(s.a)({},K),{},{finish:null!==W&&void 0!==W?W:[],name:t,nameStyleType:M?"predefined":"auto",nameStyle:H?H.value:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},atk:n,def:a,attribute:null!==R&&void 0!==R?R:g,effect:o,creator:l,subFamily:null!==N&&void 0!==N?N:y,setId:d,frame:null!==I&&void 0!==I?I:"normal",star:"".concat(B)===p&&B<=13?B:p,typeAbility:j.split("/").map((e=>e.trim())),art:E?"":u,artFit:!0,artData:E?u:"",artSource:E?"offline":"online",artFinish:null!==P&&void 0!==P?P:"normal",isLink:"link"===I&&null!=m,linkMap:[!0===(null===m||void 0===m?void 0:m.topLeft)?"1":null,!0===(null===m||void 0===m?void 0:m.topCenter)?"2":null,!0===(null===m||void 0===m?void 0:m.topRight)?"3":null,!0===(null===m||void 0===m?void 0:m.middleLeft)?"4":null,!0===(null===m||void 0===m?void 0:m.middleRight)?"6":null,!0===(null===m||void 0===m?void 0:m.bottomLeft)?"7":null,!0===(null===m||void 0===m?void 0:m.bottomCenter)?"8":null,!0===(null===m||void 0===m?void 0:m.bottomRight)?"9":null].filter((e=>"string"===typeof e)),isPendulum:L,pendulumScaleBlue:k,pendulumScaleRed:w,pendulumEffect:T,password:v,externalInfo:{version:O,variant:x,boxSize:i,rarity:h,pendulum:{boxSize:S,boxSizeEnabled:C}}})}})(n);r=e,a=t}}catch(o){console.error("decodedCard",e,o);try{a=function(e){let t;return t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Ft(e):"string"===typeof e?JSON.parse(e):e,Ct(t)}(e,!0),vn.a.info({message:Bn()["service.decode.outdated.message"],description:Bn()["service.decode.outdated.description"]})}catch(o){console.error("cardData",e,o),vn.a.error({message:Bn()["service.decode.error.message"],description:Bn()["service.decode.error.description"]})}}return{isPartial:r,card:Object(s.a)(Object(s.a)({},a),{},{id:n})}},la={debounce:{type:"debounce",wait:400},throttle:{type:"throttle",wait:1e3}},ca=Object(Cn.create)(((e,t)=>({card:ct(),setCard:(t,n)=>{const a=oa.getState().changeActiveCard;if("function"===typeof t)e((e=>{const r=t(e.card);return a(r,null===n||void 0===n||n),{card:r}}));else if("id"in(r=t)&&""!==r.id)a(t,n),e({card:t});else{const r=Object(s.a)({id:Object(N.a)()},t);a(r,n),e({card:r})}var r},getUpdater:function(e){var n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,r=arguments.length>2?arguments[2]:void 0;const{setCard:o}=t(),i=t=>{o((n=>{var r;return Object(s.a)(Object(s.a)({},n),{},{[e]:a("string"===typeof t||"number"===typeof t||Array.isArray(t)?t:null===t||void 0===t||null===(r=t.target)||void 0===r?void 0:r.value)})}))};if(!r)return i;const l="string"===typeof r?null!==(n=la[r])&&void 0!==n?n:void 0:r;if(!l)return i;const{wait:c,type:d}=l;return"debounce"===d?Ln()(i,c):"throttle"===d?Rn()(i,c):i}}))),sa=Object(Cn.create)((e=>{const{resolution:t,allowHotkey:n,reduceMotionColor:a,showCreativeOption:r,showExtraDecorativeOption:o}=(()=>{try{var e;const t=JSON.parse(null!==(e=localStorage.getItem("setting"))&&void 0!==e?e:"{}");return t&&"object"===typeof t&&!Array.isArray(t)?t:{}}catch(t){return console.error("useSetting: Error when getting cached setting",t),{}}})();return{setting:{resolution:Array.isArray(t)&&"number"===typeof t[0]&&"number"===typeof t[1]?t:[u.width,u.height],allowHotkey:"boolean"!==typeof n||n,reduceMotionColor:"boolean"===typeof a&&a,showCreativeOption:"boolean"!==typeof r||r,showExtraDecorativeOption:"boolean"!==typeof o||o},updateSetting:t=>{e((e=>{const n="function"===typeof t?t(e.setting):Object(s.a)(Object(s.a)({},e.setting),t);return localStorage.setItem("setting",JSON.stringify(n)),{setting:n}}))}}})),da=e=>{let{isTainted:t,isInitializing:n,exportCanvasRef:a,exportRef:o,onExport:i,onDownloadError:l,onDownloadComplete:c}=e;const d=An(),{card:u}=ca(),b=sa((e=>e.setting.resolution)),{opacity:p,name:m,isPendulum:f}=u,h=Object(r.useRef)(!1),g=Object(r.useCallback)((function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const r=a.current,o=null===r||void 0===r?void 0:r.cloneNode(),i=null===r||void 0===r?void 0:r.getContext("2d"),s=null===o||void 0===o?void 0:o.getContext("2d");if(r&&i&&o&&s&&!t)try{n&&(o.width=n[0],o.height=n[1]),s.drawImage(r,0,0,r.width,r.height,0,0,o.width,o.height);const e=At(m);var d=document.createElement("a");d.download=e?"".concat(e,".png"):"card.png",d.href=o.toDataURL("image/png"),d.click()}catch(u){l()}null===(e=document.querySelector("#export-canvas-guard"))||void 0===e||e.classList.remove("guard-on"),c()}),[a,t,m,b,c,l]);return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{const t=At(m);e&&(document.title=t?"".concat(t," - Yu-Gi-Oh Carder"):"Yu-Gi-Oh Carder")}),500),()=>{e=!1}}),[m]),Object(r.useEffect)((()=>{let e=()=>{var e;localStorage.setItem("card-data",JSON.stringify(u)),localStorage.setItem("card-version",null!==(e="2.1.1")?e:"unknown")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}})),Object(r.useEffect)((()=>{let e=!0,t=e=>(e.preventDefault(),d["prompt.warning.on-leave.label"]);if(!1===n){try{var r;localStorage.setItem("card-data",JSON.stringify(u)),localStorage.setItem("card-version",null!==(r="2.1.1")?r:"unknown")}catch(l){const e="fail-to-set-storage-notification";vn.a.close(e),vn.a.error({key:e,message:d["error.card-max-size.message"],description:d["error.card-max-size.description"]})}(async()=>{var n,r,l;if(a.current&&(window.addEventListener("beforeunload",t),null===(n=document.getElementById("export-canvas"))||void 0===n||n.classList.remove("js-export-available"),null===(r=document.getElementById("export-canvas-guard"))||void 0===r||r.setAttribute("style",""),null===(l=document.getElementById("save-button-waiting"))||void 0===l||l.setAttribute("style","display: block"),o.current.pipelineRunning=!0,await o.current.currentPipeline,e&&(o.current.currentPipeline=i({isPendulum:f,opacity:p,isRelevant:()=>e}),await o.current.currentPipeline,e))){var c,d,b;const e=Object(s.a)(Object(s.a)({},u),{},{artData:"",backgroundData:""}),n=JSON.stringify(kt(e));"string"===typeof n&&function(e,t){if(window.history.pushState){let n=new URLSearchParams(window.location.search);n.set(e,t);let a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString();window.history.pushState({path:a},"",a)}}("data",n),null===(c=document.getElementById("export-canvas"))||void 0===c||c.classList.add("js-export-available"),null===(d=document.getElementById("export-canvas-guard"))||void 0===d||d.setAttribute("style","display: none"),null===(b=document.getElementById("save-button-waiting"))||void 0===b||b.setAttribute("style","display: none"),window.removeEventListener("beforeunload",t),o.current.pipelineRunning=!1,h.current&&(h.current=!1,g())}})()}return()=>{window.removeEventListener("beforeunload",t),e=!1}})),{onSave:e=>{var t;null===(t=document.querySelector("#export-canvas-guard"))||void 0===t||t.classList.add("guard-on");const n=e?[...e]:void 0;setTimeout((()=>{!1===o.current.pipelineRunning?g(n):h.current=!0}),200)},isPipelineRunning:()=>o.current.pipelineRunning}};var ua=n(132),ba=n.n(ua),pa=n(168),ma=u.height,fa=u.width,ha=function(e){var t=e.ctx,n=e.color,a=void 0===n?"#000000".replace(/0/g,(function(){return(~~(12*Math.random()+2)).toString(16)})):n,r=e.width,o=e.offset,i=void 0===o?4:o,l=e.edge,c=e.baseline,s=e.xRatio,d=t.fillStyle;t.fillStyle=a,t.beginPath(),t.rect(l/s,c+1+Math.random()*i,r/s,2),t.fillStyle=d},ga=function(e,t,n,a,r,o){if(!e||!t)return a;var i=(null!==o&&void 0!==o?o:{}).stroke,l=void 0!==i&&i;e.textAlign="left";var c=t.split(""),s=a;return c.forEach((function(t){e.fillText(t,s,r),l&&e.strokeText(t,s,r),s+=e.measureText(t).width*(2+n)/2})),s},va=function(e,t,n,a,r,o){if(!e||!t)return a;var i=(null!==o&&void 0!==o?o:{}).stroke,l=void 0!==i&&i;e.textAlign="right";var c=t.split(""),s=a;return c.forEach((function(t,a){var o=c[c.length-a-1];e.fillText(o,s,r),l&&e.strokeText(o,s,r),s-=e.measureText(o).width*(2+n)/2})),s},ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ma;return!!e&&(e.clearRect(0,0,t,n),!0)},ja=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;return function(){var n=Object(pa.a)(ba.a.mark((function n(a,r,o){var i,l,c,s,d,u,b,p,m,f,h,g,v,y;return ba.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a&&Array.isArray(e)&&!(e.length<=0)){n.next=2;break}return n.abrupt("return",Promise.resolve());case 2:i=Object(jt.a)(e),n.prev=3,i.s();case 5:if((l=i.n()).done){n.next=39;break}if(c=l.value,s=t[c],!o||!t[c]){n.next=37;break}if(u=s.partInstructionMap,!(b=r&&null!==(d=u[r])&&void 0!==d?d:[]).length){n.next=33;break}p=Object(jt.a)(b),n.prev=13,p.s();case 15:if((m=p.n()).done){n.next=23;break}return f=m.value,h=f.blendMode,g=void 0===h?"source-over":h,v=f.opacity,y=void 0===v?1:v,a.globalCompositeOperation=g,a.globalAlpha=y,n.next=21,o(c);case 21:n.next=15;break;case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(13),p.e(n.t0);case 28:return n.prev=28,p.f(),n.finish(28);case 31:n.next=35;break;case 33:return n.next=35,o(c);case 35:a.globalAlpha=1,a.globalCompositeOperation="source-over";case 37:n.next=5;break;case 39:n.next=44;break;case 41:n.prev=41,n.t1=n.catch(3),i.e(n.t1);case 44:return n.prev=44,i.f(),n.finish(44);case 47:a.globalAlpha=1,a.globalCompositeOperation="source-over";case 49:case"end":return n.stop()}}),n,null,[[3,41,44,47],[13,25,28,31]])})));return function(e,t,a){return n.apply(this,arguments)}}()},xa="#000000",Oa="#000000",wa=function(e){var t=e.ctx,n=e.x,a=void 0===n?0:n,r=e.y,o=void 0===r?0:r,i=e.blur,l=void 0===i?0:i,c=e.color,s=void 0===c?Oa:c,d=e.shadowColor,u=void 0===d?xa:d;return t.shadowOffsetX=a,t.shadowOffsetY=o,t.shadowBlur=l,t.shadowColor=u,t.fillStyle=s,function(){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.shadowColor=xa,t.fillStyle=Oa}};const ka={},Sa=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise(e&&""!==t?r=>{var o,i;if(!0===(null===(o=ka[t])||void 0===o?void 0:o.ready)){const o=ka[t].image,i="number"===typeof n?n:n(o),l="number"===typeof a?a:a(o);return e.drawImage(o,i,l),void setTimeout((()=>r(!0)),0)}if(null===(i=ka[t])||void 0===i?void 0:i.error)return void setTimeout((()=>r(!0)),0);const l=ka[t]&&(ka[t].cache||ka[t].ready),c=l?ka[t].image:new Image;l||(c.src="/ygocarder"+t),c.addEventListener("load",(()=>{const o="number"===typeof n?n:n(c),i="number"===typeof a?a:a(c);e.drawImage(c,o,i),ka[t]&&(ka[t].ready=!0,ka[t].error=!1),r(!0)}),{once:!0}),c.addEventListener("error",(()=>{ka[t]&&(ka[t].error=!0),r(!1)}),{once:!0}),l||(ka[t]={image:c,ready:!1,error:!1,cache:!0})}:e=>e(!1))},Fa=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return await Sa(e,"/asset/image/"+t,n,a)},Ca=async(e,t,n,a,r,o)=>await(async(e,t,n,a,r,o)=>new Promise(e&&""!==t?i=>{var l,c;if(!0===(null===(l=ka[t])||void 0===l?void 0:l.ready)){const l=ka[t].image,c="number"===typeof n?n:n(l),s="number"===typeof a?a:a(l),d="number"===typeof r?r:r(l),u="number"===typeof o?o:o(l);return e.drawImage(l,c,s,d,u),void setTimeout((()=>i(!0)),0)}if(null===(c=ka[t])||void 0===c?void 0:c.error)return void setTimeout((()=>i(!0)),0);const s=ka[t]&&(ka[t].cache||ka[t].ready),d=s?ka[t].image:new Image;s||(d.src="/ygocarder"+t),d.addEventListener("load",(()=>{const l="number"===typeof n?n:n(d),c="number"===typeof a?a:a(d),s="number"===typeof r?r:r(d),u="number"===typeof o?o:o(d);e.drawImage(d,l,c,s,u),ka[t]&&(ka[t].ready=!0,ka[t].error=!1),i(!0)}),{once:!0}),d.addEventListener("error",(()=>{ka[t]&&(ka[t].error=!0),i(!1)}),{once:!0}),s||(ka[t]={image:d,ready:!1,error:!1,cache:!0})}:e=>e(!1)))(e,"/asset/image/"+t,n,a,r,o),Ta=async(e,t,n,a,r,o,i)=>{const l=e.getContext("2d"),c=document.createElement("canvas");c.width=r,c.height=o;const d=c.getContext("2d",{willReadFrequently:!0});if(!d||!l)return;await Ca(d,t,0,0,r,o),(null===i||void 0===i?void 0:i.color)&&(d.fillStyle=i.color,d.fillRect(0,0,r,o),d.globalCompositeOperation="destination-in"),await Ca(d,t,0,0,r,o),d.globalCompositeOperation="source-over";const u=wa(Object(s.a)({ctx:l},i));l.drawImage(c,n,a),u()};var La=function(e){var t,n,a=e.ctx,r=e.letter,o=e.isLastOfLine,i=void 0!==o&&o,l=e.debug,c=e.fontStyle,s=e.xRatio,d=e.metricMethod,u=void 0===d?"standard":d;if(Re.test(r))return{width:0,boundWidth:0};var b="tcg"===c?nt:Qe,p="tcg"===c?et:$e,m="tcg"===c?tt:Ze,f=a.measureText(r),h=f.width,g=f.actualBoundingBoxLeft+f.actualBoundingBoxRight,v=1;"name"===u&&(v=1+8*(1-s));var y,j="name"===u||"compact"===u||"furigana"===u?.046875:0,x=g,O=null!==(t=i?m[r]:p[r])&&void 0!==t?t:0;if("tcg"===c)return{width:h,actualBoundWidth:g,boundWidth:h+2*((null!==(y=b[r])&&void 0!==y?y:0)*h),metric:f,offsetRatio:O};var w=(null!==(n=b[r])&&void 0!==n?n:0)*h+("furigana"===u?0:Math.min(.075*h,Math.max(.45,h*j)*v)),k=1;Ue.test(r)?(x="furigana"===u?g:g*("creator"===u?1.75:2.5),k=.6):Xe.test(r)?(x="furigana"===u?g:Math.max(g,.75*h),w=2):De.test(r)?x="furigana"===u?g:Math.max(g,.7*h):He.test(r)?x=h:_e.test(r)?x=2*g:qe.test(r)?x=1.25*g*(i?.5:1):Ye.test(r)?x="furigana"===u?g:Math.max(g,.75*h):Ge.test(r)?x=Math.max(g,.69*h)*("creator"===u?.975:1):Ve.test(r)?(x=h,w=0):x="furigana"===u?g:Math.max(g,.75*h),w="furigana"===u?0:w;var S=1*h*1;return l&&console.info("getLetterWidth ".concat(l),r,f,1,1,"|",S),{width:h,actualBoundWidth:g,boundWidth:"standard"===u?h*k:x+2*w,metric:f,offsetRatio:O}},Na=function(e){var t=e.ctx,n=e.baseline,a=e.edge,r=e.letter,o=e.xRatio,i=e.deviation,l=void 0===i?{}:i,c=e.letterMetric,s=e.textDrawer,d=null!==c&&void 0!==c?c:{},u=d.boundWidth,b=d.metric,p=void 0===b?t.measureText(r):b,m=d.offsetRatio,f=void 0===m?0:m,h=o<1?{}:l,g=h.yOffset,v=void 0===g?U:g,y=h.yRatio,j=void 0===y?X:y,x=p.width*o,O=u?u*o:x,w=null!==s&&void 0!==s?s:function(e){var t=e.ctx,n=e.letter,a=e.scaledBaseline,r=e.scaledEdge;t.fillText(n,r,a)},k=(x-O)/2,S=O*f;t.scale(1,j),w({ctx:t,letter:r,scaledEdge:a/o-k-S,scaledBaseline:(n+v)/j}),t.scale(1,1/j)};const Ra=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?new RegExp("([".concat(ot,"])|(").concat(we,"[\\w\\W]+?").concat(ke,")|(.+?)")):new RegExp("([".concat(ot,"])|").concat(we,"([\\w\\W]+?)").concat(ke,"|(.+?)"));return e.split(n).filter((e=>null!=e&&""!==e))},Ia=(e,t,n,a)=>{const{fontSize:r,ordinalFontRatio:o=G.ordinalFontRatio,headTextFontRatio:i=G.headTextFontRatio}=n,{font:l,ordinalFont:c,symbolFont:s,symbolFontRatio:d,numberFont:u=l,numberFontRatio:b=1,furiganaFont:p}=t;let m=a.getFontInfo();let f=a.getFontInfo();let h=a.getFontInfo();let g=a.getFontInfo();let v=a.getFontInfo();return{applyNumberFont:()=>{m=a.getFontInfo(),e.font=a.setFamily(u).setSize(r*b).getFont()},stopApplyNumberFont:()=>{e.font=a.setFamily(m.family).setSize(m.size).getFont()},applyLargerText:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;v=a.getFontInfo(),e.font=a.setSize(r*t).getFont()},stopApplyLargerText:()=>{e.font=a.setSize(v.size).getFont()},applySymbolFont:()=>{f=a.getFontInfo(),e.font=a.setFamily(s).setSize(r*d).getFont()},stopApplySymbolFont:()=>{e.font=a.setFamily(f.family).setSize(f.size).getFont()},applyOrdinalFont:()=>{h=a.getFontInfo(),e.font=a.setFamily(c).setSize(r*o).getFont()},stopApplyOrdinalFont:()=>{e.font=a.setFamily(h.family).setSize(h.size).getFont()},applyFuriganaFont:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g=a.getFontInfo(),e.font=a.setFamily(p).setWeight(t?"bold":"").setSize(r*i).getFont()},stopApplyFuriganaFont:()=>{e.font=a.setFamily(g.family).setWeight(g.weight).setSize(g.size).getFont()},applyAsymmetricScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.scale(t,n)},applyScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e.scale(t,n)},resetScale:()=>{e.setTransform(1,0,0,1,0,0)},reverseScale:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.scale(1/t,1/t)}}},Ea=(e,t,n,a,r)=>{const o=(a-r)/2;e.beginPath(),e.arc(t+o,n-o-1,o,0,2*Math.PI,!1),e.fill(),e.lineWidth=1,e.strokeStyle="#003300",e.stroke()},Aa=e=>{let{footText:t,footTextWidth:n,headText:a,headTextLetterWidth:r,headTextGap:o,headTextSpacing:i,gapPadding:l,debug:c,fitFootText:s,sentenceXRatio:d,xRatio:u}=e;const b=0===a.length,p=r/n*d;let m=i,f=0;p<=.95?m=1*i:p<=1.175?m=i>=0?0:3*i:p<=1.56?m=i>=0?-1*i/4:3*i:(f=.66,m=i>=0?-1*i/4:2*i),(s||u>0&&u<1)&&(m=i);const h=r*(u&&!s?u:!f||s?1:f)+m*(a.length-1),g=b?0:(n-r)/a.length,v=n,y=1===t.length||2*l+h>n?"center":"space-around",j="center"===y?m:g,x="center"===y?2*l+h:v,O=s?Math.min(x,n):x,w="center"===y?(h-n)/2:0,k=Math.max(o,s?Math.min(w,0):w);return c&&console.info("analyzeHeadText ".concat(c),y,j,"|",a,O,x,t,n,k),{gapPadding:l,letterSpacing:j,trueHeadTextWidth:x,headTextWidth:O,alignment:y,halfGap:k,headTextXRatio:"center"===y?f:0}},Ba=(e,t)=>e>=0?t>=0?0:-1*Math.max(-1*e,t):t>=0?-1*Math.max(e,-1*t):0;var za=function e(t){var n=t.ctx,a=t.token,r=t.nextToken,o=t.xRatio,i=t.previousTokenGap,l=void 0===i?0:i,c=t.letterSpacing,s=void 0===c?G.letterSpacing:c,d=t.format,u=t.textData;if(!n||!a)return{totalWidth:0,leftMostLetter:"",spaceCount:0,spaceAtEnd:!1,rightGap:0,leftGap:0};for(var b=u.currentFont,p=u.fontData,m=u.fontLevel,f=p.metricMethod,h=p.headTextGapRatio,g=void 0===h?V.headTextGapRatio:h,v=p.headTextOverflow,y=void 0===v?V.headTextOverflow:v,j=p.fontStyle,x=p.fontList[m],O=x.bulletSymbolWidth,w=x.capitalLetterRatio,k=x.fontSize,S=x.iconSymbolWidth,F=void 0===S?O:S,C=x.largeSymbolRatio,T=void 0===C?G.largeSymbolRatio:C,L=x.headTextSpacing,N=void 0===L?G.headTextSpacing:L,R=x.squareBracketRatio,I=x.wordLetterSpacing,E=-.5*k,A=Ia(n,p,x,b),B=A.applyScale,z=A.reverseScale,D=A.applyLargerText,W=A.stopApplyLargerText,P=A.applyFuriganaFont,M=A.stopApplyFuriganaFont,H=A.applyOrdinalFont,K=A.stopApplyOrdinalFont,Y=A.applySymbolFont,U=A.stopApplySymbolFont,X=A.applyNumberFont,_=A.stopApplyNumberFont,q=1+s/2,J="",$=0,Z=0,Q=!1,ee=void 0===r,te=null!==l&&void 0!==l?l:0,ne=!1,ae=0,re=a.replaceAll(new RegExp(Ne,"g"),"").split(Oe).filter((function(e){return null!=e&&""!==e})),oe=0;oe<re.length;oe++){var ie=0===oe,le=re[oe];if("\u29be"===le)te=0,$+=F/o*q,ie&&(ae=0,J=le[0]);else if("\u25cf"===le){te=0,$+=O/o*q,ie&&(ae=0,J=le[0])}else if(/[\xa9]/.test(le)){te=0,D(T);var ce=n.measureText(le).width/o;W(),$+=ce*q,ie&&(ae=0,J=le[0])}else if(Pe.test(le)){te=0,H();var se=n.measureText(le).width/o;K(),$+=se*q,Z+=1,ie&&(ae=0,J=le[0])}else if(rt.test(le)){var de=le.replaceAll(/{|}/g,"").split(/(\|+)/),ue=Object(an.a)(de,3),be=ue[0],pe=ue[1],me=ue[2],fe=void 0===me?"":me,he="||"===pe,ge=e({ctx:n,token:be,nextToken:r,xRatio:o,letterSpacing:s,previousTokenGap:0,format:d,textData:u}).totalWidth;P();var je=fe.split("").map((function(e){return La({ctx:n,letter:e,fontStyle:j,metricMethod:"furigana",xRatio:1}).boundWidth})).reduce((function(e,t){return e+t}),0);M();var we=Aa({headText:fe,headTextLetterWidth:je/o,footText:be,footTextWidth:ge,headTextGap:E/o,headTextSpacing:N,gapPadding:g*k/o,fitFootText:he,sentenceXRatio:o,xRatio:"condense"===y&&be.length>1?Math.min(1,o+.1):0}),ke=we.halfGap,Se=we.headTextWidth,Fe=0===fe.length?Math.max(E,ge/it):ke,Ce=Fe,Te=Fe,Le=Math.max(Se,ge),Re=Ba(te,Ce);te=Te,$+=Le-Re,Z+=1,ie&&(ne=!0,ae=Ce,J=be[0])}else if(xe.test(le)){var Ie=I?1+I/2:q;n.letterSpacing="".concat((Ie-1)*b.getFontInfo().sizeAsNumber,"px");for(var Ae=le,Be=0;""!==Ae;){var ze=Ae[0],De=Ae.slice(1),We=n.measureText(Ae).width-n.measureText(De).width;ye.test(ze)?(B(R),We=n.measureText(Ae).width-n.measureText(De).width,z(R)):ve.test(ze)?(B(w),We=n.measureText(Ae).width-n.measureText(De).width,z(w)):Ke.test(ze)?(X(),We=n.measureText(Ae).width-n.measureText(De).width,_()):Ee.test(ze)&&"tcg"===j?(Y(),We=n.measureText(Ae).width-n.measureText(De).width,U()):We=n.measureText(Ae).width-n.measureText(De).width,Be+=We,Ae=De}var Me=Math.max(E,Be/it),He=Me;$+=Be-Ba(te,Me),te=He,ie&&(ae=Me,J=le[0]),n.letterSpacing="0px"}else if(Ee.test(le)&&"tcg"===j){Y();var Ye=n.measureText(le).width*q;U();var Ge=Math.max(E,Ye/it),Ue=Ge;$+=Ye-Ba(te,Ge),te=Ue,ie&&(ae=Ge,J=le[0])}else{var Xe=La({ctx:n,letter:le,isLastOfLine:ee,fontStyle:j,metricMethod:f,xRatio:o}).boundWidth*q,_e=Math.max(E,Xe/it),qe=_e;$+=Xe-Ba(te,_e),te=qe,("ocg"===d||"tcg"===d&&/\s+/.test(le))&&!1===Ve.test(le)&&(Z+=1,oe===re.length-1&&(Q=!0)),ie&&(ae=_e,J=le[0]),Je.test(le)&&(ae=0,te=0)}}return{totalWidth:$,spaceCount:Z,spaceAtEnd:Q,leftMostLetter:J,rightGap:te,leftGap:ae,offsetable:ne}},Da=function(e){for(var t=e.ctx,n=e.line,a=e.width,r=e.xRatio,o=e.format,i=e.isLast,l=e.textData,c=Ra(n),s=0,d=0,u=0,b=0,p=r;b<c.length;b++){var m=c[b],f=c[b+1];if(m!==Ce)if(m!==Te){var h=za({ctx:t,token:m,nextToken:f,xRatio:p,previousTokenGap:u/p,textData:l,format:o}),g=h.spaceCount,v=h.totalWidth,y=h.spaceAtEnd,j=h.leftGap,x=h.rightGap,O=h.leftMostLetter;u=x*p,s+=v*p+((0===b&&j>0?-1*Math.min(20,j*p):0)+(0===b&&Me.test(O)?4*p:0)),d+=g-(y&&void 0===f?1:0)}else p=r;else p=1}var w=d>0?(a-s)/d:0;return{tokenList:c,spaceWidth:i?"tcg"===o?w>1.5?0:w:w>3.65?0:w:w}},Wa=function(e){var t=e.ctx,n=e.median,a=e.paragraphList,r=e.additionalLineCount,o=void 0===r?0:r,i=e.width,l=e.format,c=e.textData,s=c.fontData,d=c.fontLevel,u=s.fontList[d].letterSpacing,b=[],p=a.reduce((function(e,a){for(var r=(n<=100?100:n)/1e3,o=i/r,s=Ra(a,!0),d=1,p=[],m=0,f=0,h=0,g=0,v=r;g<s.length;g++){var y=s[g],j=s[g+1];y===Ce?(h+=1,v=1):y===Te&&(h-=1,v=r);var x=za({ctx:t,token:y,nextToken:j,xRatio:v,previousTokenGap:f,format:l,letterSpacing:u,textData:c}),O=x.leftMostLetter,w=x.totalWidth,k=x.rightGap,S=x.leftGap,F=w/(h>0?r:1)+(0===g?(S>0?-1*Math.min(20/v,S):0)+(Me.test(O)?4:0):0);if(m+F>o){var C=p.join("").trim();h>0&&(C+=Te),h<0&&(C=Ce+C),h=0,b.push({line:C,effectiveMedian:n,isLast:!1,actualLineWidth:m});var T=za({ctx:t,token:y,nextToken:j,xRatio:v,previousTokenGap:0,format:l,textData:c}),L=T.totalWidth,N=T.rightGap,R=T.leftGap;m=L+((R>0?-1*Math.min(20/v,R):0)+(Me.test(O)?4:0)),f=N,p=[y],d+=1}else m+=F,f=k,p.push(y)}var I=p.join("").trim();return h>0&&(I+=Te),h<0&&(I=Ce+I),h=0,b.push({line:I,effectiveMedian:n,isLast:!0,actualLineWidth:m}),e+d}),0)+(null!==o&&void 0!==o?o:0);return{currentLineList:b,currentLineCount:p}},Pa=function(e){var t=e.ctx,n=e.fontSize,a=e.edge,r=e.baseline,o=e.headText,i=e.headTextLetterWidth,l=e.footText,c=e.footTextWidth,s=e.headTextGap,d=e.headTextSpacing,u=e.headTextHeightRatio,b=e.headTextBold,p=e.headTextGapRatio,m=e.xRatio,f=e.fontStyle,h=e.textWorker,g=e.fitFootText,v=e.headTextOverflow,y=h.applyFuriganaFont,j=h.stopApplyFuriganaFont,x=h.resetScale,O=h.applyScale,w="condense"===v&&l.length>1?Math.min(1,m+.1):0,k=Aa({headText:o,headTextLetterWidth:i,footText:l,footTextWidth:c*m,headTextGap:s,headTextSpacing:d*m,gapPadding:n*p,fitFootText:g,sentenceXRatio:m,xRatio:w}),S=k.gapPadding,F=k.letterSpacing,C=k.trueHeadTextWidth,T=k.halfGap,L=k.alignment,N=k.headTextXRatio,R=C>c*m;if(0===o.length)return{trueHeadTextWidth:C,halfGap:T};var I=g?Math.min(1,c*m/C):1,E=g?I:w&&"center"===L?w:N,A=a;x(),(g||E)&&(O(E,1),A=a/E),"center"===L?(A+=S,R?E>I&&(A+=(c*m/E-C)/2/E):A+=(c*m-C)/2):A+=F/2;var B,z=Object(jt.a)(o);try{for(z.s();!(B=z.n()).done;){var D=B.value;y();var W=La({ctx:t,letter:D,fontStyle:f,metricMethod:"furigana",xRatio:1}),P=W.width,M=W.boundWidth,H=(P-M)/2;j(),y(b),t.fillText(D,A-H,r-n*u),j(),A+=M+F}}catch(K){z.e(K)}finally{z.f()}return(g||E)&&x(),O(m,1),{trueHeadTextWidth:C,halfGap:T}};const Ma=e=>{let{ctx:t,tokenList:n,trueEdge:a,trueBaseline:r,spaceWidth:o=0,xRatio:i,yRatio:l=1,textData:c,format:d,textDrawer:u,debug:b=!1}=e;const{currentFont:p,fontData:m,fontLevel:f}=c,h=m.fontList[f],{headTextFillStyle:g,headTextBold:v=V.headTextBold,headTextHeightRatio:y=V.headTextHeightRatio,headTextOverflow:j=V.headTextOverflow,headTextGapRatio:x=V.headTextGapRatio,metricMethod:O,fontStyle:w,letterDeviationMap:k={}}=m,{bulletSymbolOffset:S=G.bulletSymbolOffset,bulletSymbolWidth:F,capitalLetterRatio:C=G.capitalLetterRatio,fontSize:T,headTextSpacing:L=G.headTextSpacing,iconSymbolWidth:N=F,largeSymbolRatio:R=G.largeSymbolRatio,letterSpacing:I=G.letterSpacing,ordinalFontOffsetY:E=G.ordinalFontOffsetY,squareBracketRatio:A=G.squareBracketRatio,wordLetterSpacing:B}=h,z=Ia(t,m,h,p),{stopApplyFuriganaFont:D,applyFuriganaFont:W,stopApplyLargerText:P,applyLargerText:M,stopApplyNumberFont:H,applyNumberFont:K,stopApplyOrdinalFont:Y,applyOrdinalFont:U,applyScale:X,reverseScale:_,applySymbolFont:q,stopApplySymbolFont:J,applyAsymmetricScale:$,resetScale:Z}=z,Q=1+I/2,ee=r/l;let te=0,ne=[],ae=0,re=a;for(let G=0,V=i;G<n.length;G++){const e=n[G];if(e===Ce){V=1,t.setTransform(1,0,0,1,0,0);continue}if(e===Te){V=i,t.scale(V,1);continue}const a=-.5*V,m=T*a,f=n[G+1],h=n[G+2],le={ctx:t,xRatio:V,letterSpacing:I,format:d,textData:c},ce={ctx:t,baseline:ee,xRatio:V,textDrawer:u},se=e.split(Oe).filter((e=>null!=e&&""!==e)),{leftMostLetter:de,leftGap:ue,rightGap:be,totalWidth:pe,spaceCount:me}=za(Object(s.a)({token:e,nextToken:f,previousTokenGap:te/V},le)),fe=0===G?(ue>0?-1*Math.min(20,ue*V):0)+(Me.test(de)?4:0):0;let he=re+fe,ge=te;for(let n=0;n<se.length;n++){var oe,ie;const i=se[n],b=null!==(oe=se[n+1])&&void 0!==oe?oe:f,I=null!==(ie=se[G+2])&&void 0!==ie?ie:h;if(e===Ce||e===Te);else if("\u29be"===i)ne.push({edge:he,size:N,baseline:ee}),he+=N*Q,ge=0,ae=0;else if("\u25cf"===i)Z(),Ea(t,he,r+S,F,at(d)),he+=F*Q,$(V,l),ge=0,ae=0;else if(/[\xa9]/.test(i))Z(),M(R),Na(Object(s.a)(Object(s.a)({},ce),{},{letter:i,edge:he*V,baseline:r+("tcg"===d?1:2)})),he+=t.measureText(i).width*Q,P(),$(V,l),ge=0,ae=0;else if(Pe.test(i))Z(),U(),Na(Object(s.a)(Object(s.a)({},ce),{},{letter:i,edge:he*V,baseline:r+E})),he+=t.measureText(i).width*Q,Y(),$(V,l),he+=o,ge=0,ae=0;else if(rt.test(i)){const[e,n,r=""]=i.replaceAll(/{|}/g,"").split(/(\|+)/),p="||"===n,{totalWidth:f}=za(Object(s.a)({token:e,nextToken:b,previousTokenGap:0},le));W();const h=r.split("").map((e=>La({ctx:t,letter:e,fontStyle:w,metricMethod:"furigana",xRatio:1}).boundWidth)).reduce(((e,t)=>e+t),0);D();const{headTextWidth:O,halfGap:k}=Aa({headText:r,headTextLetterWidth:h,footText:e,footTextWidth:f*V,headTextGap:m,headTextSpacing:L*V,gapPadding:T*x,fitFootText:p,sentenceXRatio:V,xRatio:"condense"===j&&e.length>1?Math.min(1,V+.1):0}),S=0===r.length?Math.max(m,f*a):k,F=S,C=S,N=Ba(ge,C),R=C>0?C-N:0,{offsetable:E,leftGap:A}=za(Object(s.a)({token:b,nextToken:I,previousTokenGap:F/V},le)),B=A*V,P=Ba(F,B),M=R+(F>0?F-P:0);let H=0,K=0;M>0&&B>=-2&&E?(H=(M+2*Math.max(B,0))/3,K=Math.max(B,0)-H):H=R;const Y=he+(S<0?-N:fe?-fe:H)+ae;ae=K,Ma({ctx:t,format:d,textData:c,tokenList:Ra(e),trueBaseline:ee,trueEdge:Y,xRatio:V,yRatio:l,spaceWidth:0,textDrawer:u,debug:!1});const G=t.fillStyle,U=t.strokeStyle,X=t.shadowColor,_=t.shadowOffsetX,q=t.shadowOffsetY,J=t.shadowBlur;g&&(t.fillStyle=g,t.strokeStyle="",t.shadowColor="",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0);Pa({ctx:t,fontSize:T,edge:he-N,baseline:ee,headText:r,headTextLetterWidth:h,footText:e,footTextWidth:f,headTextGap:m,headTextSpacing:L,headTextHeightRatio:y,headTextBold:v,headTextGapRatio:x,xRatio:V,fontStyle:w,textWorker:z,fitFootText:p,headTextOverflow:j}),t.fillStyle=G,t.strokeStyle=U,t.shadowColor=X,t.shadowOffsetX=_,t.shadowOffsetY=q,t.shadowBlur=J,he+=Math.max(f*V,O)-N+o,ge=F}else if(xe.test(i)){const e=B?1+B/2:Q;t.letterSpacing="".concat((e-1)*p.getFontInfo().sizeAsNumber,"px");const n=t.measureText(i).width*V,r=Math.max(m,n*a),o=r;he-=Ba(ge,r);let l=i,c=he;for(;""!==l;){let e=l[0],n=l.slice(1),a=0;const r=Object(s.a)(Object(s.a)({},ce),{},{deviation:k[e],letter:e,edge:c});if(ye.test(e))X(A),a=t.measureText(l).width-t.measureText(n).width,Na(Object(s.a)(Object(s.a)({},r),{},{edge:c/A,baseline:ee/A})),_(A);else if(ve.test(e)){X(C),a=t.measureText(l).width-t.measureText(n).width;const o=a>t.measureText(e).width*C?Math.round(a*(1-C))/2:0;Na(Object(s.a)(Object(s.a)({},r),{},{edge:c/C+o,baseline:ee/C})),_(C)}else Ke.test(e)?(K(),a=t.measureText(l).width-t.measureText(n).width,Na(r),H()):Ee.test(e)&&"tcg"===w?(q(),a=t.measureText(l).width-t.measureText(n).width,Na(r),J()):(a=t.measureText(l).width-t.measureText(n).width,Na(r));c+=a*V,l=n}he=c,ge=o,ae=0,t.letterSpacing="0px"}else if(Ee.test(i)&&"tcg"===w){const e=i;q();const n=t.measureText(e).width*Q*V,r=Math.max(m,n*a),o=r;he-=Ba(ge,r),Na(Object(s.a)(Object(s.a)({},ce),{},{letter:e,edge:he})),he+=n,J(),ge=o,ae=0}else{const e=i,n=La({ctx:t,letter:e,fontStyle:w,metricMethod:O,isLastOfLine:void 0===b,xRatio:V}),r=n.boundWidth*Q*V,l=Math.max(m,r*a),c=l;he-=Ba(ge,l),Na(Object(s.a)(Object(s.a)({},ce),{},{letter:e,edge:he,deviation:k[e],letterMetric:n})),he+=r,("ocg"===d||"tcg"===d&&/\s+/.test(e))&&!0!==Ve.test(e)&&(he+=o),Je.test(e)||(ge=c),ae=0}}te=be*V,b&&ha({ctx:t,baseline:ee,edge:re,width:pe*V,xRatio:V}),re+=pe*V+me*o+fe}return{tokenEdge:re,iconPositionList:ne}},Ha=(e,t,n)=>{const{multiline:a=!0,furiganaHelper:r=!0,dictionaryType:o="rubyForm"}=null!==n&&void 0!==n?n:{},i=null!==e&&void 0!==e?e:"";let l="",c="ocg"===t?le:ce;for(const f of i){var s;l+=null!==(s=c[f])&&void 0!==s?s:f}const d=l,u=(a?d.replace(/^\[([\w\W]*?)\](?=(\n|$))/gm,"".concat(Se,"$1").concat(Fe)):d).replace(/(^|[-\u2014\s(["])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/[(\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/--/g,"\u2014").replace(/\u25cf /g,"\u25cf").replace(/(\([\uff10-\uff190-9]{1,2}\))/g,(e=>{const t=se[e];return null!==t&&void 0!==t?t:e})).replaceAll(new RegExp("{{([^{}]+?)}}","g"),(e=>e.replaceAll("{{",Ce).replaceAll("}}",Te))).replaceAll(new RegExp("{[^{}]+?}","g"),(e=>"".concat(we).concat(e).concat(ke))),b=("tcg"===t||!1===r?u:u.replaceAll(new RegExp(Be,"g"),(e=>{var t;const n=null!==(t=D[e][o])&&void 0!==t?t:D[e].rubyForm;return"".concat(we).concat(n).concat(ke)}))).replaceAll(new RegExp(je,"g"),(e=>"".concat(we).concat(e).concat(ke))).replaceAll(new RegExp("[(\\[\uff5b\u3014\u3008\u300a\u300c\uff62\u300e\u3010\u3018\u3016\u301d'\"\u2018\u201c\uff5f\xab\u25cf]+.","g"),(e=>"".concat(we).concat(e).concat(ke))).replaceAll(new RegExp(We,"g"),(e=>"".concat(we).concat(e).concat(ke))).replaceAll(new RegExp(".[\u2014...\u2025\u3033\u3034\u3035)]+[^\\s]","g"),(e=>"".concat(we).concat(e).concat(ke))).replaceAll(new RegExp("[\u2460-\u2473]\uff1a.","g"),(e=>"".concat(we).concat(e).concat(ke)));let p=[],m=0;for(const f of b)f===we?(0===m&&p.push(f),m+=1):f===ke?(m-=1,0===m&&p.push(f)):p.push(f);return p.join("").replaceAll("".concat(Fe).concat(ke),"".concat(ke).concat(Fe)).replaceAll("".concat(we).concat(Se),"".concat(Se).concat(we)).replaceAll("".concat(Ce).concat(ke),"".concat(ke).concat(Ce)).replaceAll("".concat(we).concat(Te),"".concat(Te).concat(we)).replaceAll("".concat(Se).concat(Fe),"").replaceAll("".concat(we).concat(ke),"")},{width:Ka}=u,Ya=e=>{var t;let{ctx:n,content:a,isNormal:r=!1,fontData:o=Z.tcg,textStyle:i,sizeList:l=R["tcg-type"],condenseTolerant:c="strict",format:d,furiganaHelper:u,option:b}=e;const{defaultSizeLevel:p,forceRelaxCondenseLimit:m}=null!==b&&void 0!==b?b:{};let f=null!==p&&void 0!==p?p:0;if(!n||!a)return f;const h=Ha(a.trim(),d,{furiganaHelper:u}),{effectText:g,effectFlavorCondition:v,fullLineList:y}=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e,r=[];const o=new RegExp("^(".concat(Se,"([^").concat(Fe,"]*)").concat(Fe,"\\s*)"));let i,l;do{var c,s;i=null===(c=o.exec(a))||void 0===c?void 0:c[1],l=null===(s=o.exec(a))||void 0===s?void 0:s[2],l&&i&&(r.push(l),a=a.replace(i,""))}while(i&&l);let d="";const u=new RegExp(Ie,"m"),b=null===(t=u.exec(e))||void 0===t?void 0:t[1];return b&&n?(d=b.trim(),a=a.replace(b,"")):d="",{fullLineList:r,effectText:a,effectFlavorCondition:d}}(h,r),j=(null!==(t=y.length)&&void 0!==t?t:0)+(v.length>0?1:0),x=g?g.split("\n"):[],{font:O,fontList:w}=o;for(;f<w.length&&f>=0;){var k,S,F;const e="tcg"===d?m&&f<m?te.relaxed:null!==(k=te[c])&&void 0!==k?k:te.strict:{1:800,2:800,3:800},t=w[f],{fontSize:a,lineHeight:u,lineCount:b}=t,{trueEdge:p,trueWidth:h,trueBaseline:g}=null!==(S=l[f])&&void 0!==S?S:l[l.length-1],C=r&&"tcg"===d?h-2:h,T=nn();n.font=T.setStyle("").setWeight("").setSize(a).setFamily(O).getFont(),n.textAlign="left";const L={fontData:o,fontLevel:f,currentFont:T};let N=[];const R=tn((e=>{const{currentLineList:t,currentLineCount:a}=Wa({ctx:n,median:e,paragraphList:x,additionalLineCount:j,format:d,textData:L,width:C});return N=t,!(a>b)}),200),I=wa(Object(s.a)({ctx:n},i));if(!(R<(null!==(F=e["".concat(x.length)])&&void 0!==F?F:e[3])&&f<w.length-1)){n.clearRect(0,0,Ka,1111);let e=g+u;if([...y.map((e=>({line:e,isLast:!0,effectiveMedian:tn((t=>{const{currentLineCount:a}=Wa({ctx:n,median:t,paragraphList:[e],format:d,textData:L,width:C});return!(a>1)}))}))),...N].forEach((t=>{let{line:a,isLast:r,effectiveMedian:o}=t;const i=o/1e3,{tokenList:l,spaceWidth:c}=Da({ctx:n,line:a,xRatio:i,format:d,isLast:r,textData:L,width:C});n.scale(i,1),Ma({ctx:n,tokenList:l,xRatio:i,yRatio:1,trueEdge:p,trueBaseline:e,spaceWidth:c,textData:L,format:d}),e+=u,n.setTransform(1,0,0,1,0,0)})),v.length>0){const t=Z.tcg,a=t.fontList[f],{fontSize:r,lineHeight:o}=a,i=nn();n.font=i.setSize(r).setFamily(t.font).getFont();const l={fontData:t,fontLevel:f,currentFont:i},c=tn((e=>{const{currentLineCount:t}=Wa({ctx:n,median:e,paragraphList:[v],format:d,textData:l,width:C});return!(t>1)}))/1e3;n.scale(c,1);const s=Ra(v);Ma({ctx:n,tokenList:s,xRatio:c,yRatio:1,trueEdge:p,trueBaseline:e,textData:l,format:d}),e+=o,n.setTransform(1,0,0,1,0,0)}break}f+=1,I()}return f},{width:Ga}=u,{topToPendulumStructure:Ua,pendulumStructureHeight:Xa,leftToPendulumStructure:Va}=u,_a=e=>{let{canvas:t,artworkCanvas:n,backgroundCanvas:a,format:r,hasBackground:o,frame:i,bottomFrame:l,backgroundType:c,cardIcon:d,attribute:u,star:b,foil:p,pendulumSize:m,opacity:h,isLink:v,isSpeedSkill:y,isXyz:j,isPendulum:x,loopFinish:O,loopArtFinish:w}=e;const k=t.getContext("2d"),{artBorder:S,nameBorder:F,body:C,name:T,pendulum:L,text:N,boundless:R}=h,{artX:I,artY:E,artFinishX:A,artFinishY:B,artWidth:z}=f(x,h),D=C>0||S,W=860,P="normal"!==p,M=j||y?i:"normal",H=M,K=!R&&D,Y={calculateCardArtRedrawCoordination(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0;const r=null!==t&&void 0!==t?t:h,{body:o}=r,{artX:i,artY:l,artWidth:c}=f(x,r,a),{width:s,height:d}=e,u=c/s,b=o<100?(Va-i)/u:0,p=b*u,m=o<100?(Ua-l)/u:0,g=m*u,v=o<100?d-Xa/u:0;return{imageScaledRatio:u,sourceOffsetX:b,sourceOffsetY:m,destinationOffsetX:p,destinationOffsetY:g,offsetHeight:v,destinationX:i+p,destinationY:l+g,destinationWidth:c-2*p,destinationHeight:c/(s/d)*n-v*u}},drawFrame:async()=>{k&&(k.globalAlpha=C/100,await Fa(k,"frame/frame-".concat(i,".png"),0,0),await Fa(k,"frame-pendulum/frame-pendulum-".concat(l,".png"),0,0),k.globalAlpha=1)},drawCardArt:()=>{if(!n||!k)return;const{width:e,height:t}=n;t<=0||k.drawImage(n,0,0,e,t,I,E,z,z/(e/t))},drawBackground:e=>{if(!a||!k||!o)return;const{width:t,height:n}=a;if(n<=0)return;if("pendulum"===e){let e=Y.calculateCardArtRedrawCoordination(a);"full"===c?e=Y.calculateCardArtRedrawCoordination(a,Object(s.a)(Object(s.a)({},h),{},{body:0}),void 0,"full"):"fit"===c&&(e=Y.calculateCardArtRedrawCoordination(a,h,void 0,"fit"));const{sourceOffsetX:r,sourceOffsetY:o,offsetHeight:i,destinationX:l,destinationY:d,destinationWidth:u,destinationHeight:b}=e;return void k.drawImage(a,r,o,t-2*r,n-i,l,d,u,b)}const{artX:r,artY:i,artWidth:l}=f(x,Object(s.a)(Object(s.a)({},h),{},{boundless:!0}),c);k.drawImage(a,0,0,t,n,r,i,l,l/(t/n))},drawAttribute:async()=>{await Fa(k,"attribute/attr-".concat(r,"-").concat(u.toLowerCase(),".png"),678,55)},drawStar:async e=>{let{style:t,starAlignment:n}=e;const a="auto"===d?ft(i):d;await(async e=>{let{ctx:t,cardIcon:n,text:a,star:r,starAlignment:o="auto",style:i,onStarDraw:l}=e,c="string"===typeof r?""===r?0:1:"number"===typeof r?r:0,d=50*c+4*(c-1),u="right";["rank","negative-level"].includes(n)&&(u="left"),u="auto"===o?u:o,c>12&&(u="center"),a&&"center"===u&&(c=0,d=0);const b="center"===u?(Ga+d)/2:"left"===u?85.9125+d:728.775;let p=-54;if(t&&a&&"st"!==n){const e=50,n=wa(Object(s.a)({ctx:t},i));t.textAlign="left"===u||"right"===u?u:"left",t.font="bold ".concat(e,"px RoGSanSrfStd-Bd");const r="center"===u?t.measureText(a).width/-2:"left"===u?4:-58;t.fillText(a,b+r,145+.9*e),t.textAlign="left",n()}return await Promise.all([...Array(c)].map((async()=>{p+=54;let e=[b-(50+p),145];return await Fa(t,"subfamily/subfamily-".concat(n,".png"),...e),await l(e)})))})({ctx:k,cardIcon:a,text:"string"===typeof b?b:null,star:b,starAlignment:n,style:t,onStarDraw:async e=>"st"===a?Promise.resolve():await O(k,"star",(async t=>Fa(k,"finish/finish-".concat(t,"-star.png"),...e)))})},drawPendulumScaleIcon:async()=>{await Fa(k,"frame-pendulum/pendulum-scale-".concat(m,".png"),0,750)},drawLinkArrowMap:async e=>{await Promise.all([1,2,3,4,6,7,8,9].map((async t=>{const{left:n,top:a,height:r,width:o}=fe[t-1],i=e.includes("".concat(t)),l="link/link-inactive-".concat(t),c="link/link-active-".concat(t),s=[n,a,o,r];return await Ca(k,"".concat(l,"-base").concat(R?"-full":"",".png"),...s),await Ca(k,"".concat(l,"-core.png"),...s),i?(await Ca(k,"".concat(c,"-base.png"),...s),Ca(k,"".concat(c,"-core.png"),...s)):void 0})))},drawStatBorder:async e=>{await Ta(t,"frame/frame-stat-border.png",0,1070,813,20,{color:e})},drawNameBackground:async()=>{k&&(k.globalAlpha=T/100,await Fa(k,"background/background-name-".concat(i,".png"),0,0),k.globalAlpha=1)},drawEffectBackground:async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k&&(k.globalAlpha=N/100,await Fa(k,"background/background-text-".concat(l,".png"),54,884),e&&(k.globalAlpha=L/100,await Fa(k,"background/background-pendulum-".concat(l,".png"),55,738)),k.globalAlpha=1)},drawFrameBorder:async()=>Fa(k,"frame/frame-border-".concat(M,".png"),0,0),drawNameBorder:async()=>F?Fa(k,"frame/name-border-".concat(H,".png"),0,0):Promise.resolve(),drawArtBorder:async()=>{if(D){let e="";e=j||y?"frame/art-border-".concat(i,".png"):v||["zarc","hamon","uria","raviel"].includes(i)?"frame/art-border-special.png":"frame/art-border.png",await Fa(k,e,60,170)}},drawPendulumBorder:async(e,t)=>{await Fa(k,"frame-pendulum/border-pendulum-".concat(m)+"-".concat(t)+(e?"":"-artless")+".png",30,185)},drawEffectBorder:async()=>{P||"speed-skill"!==l?await Fa(k,"frame/effect-border.png",35,W):await Fa(k,"frame/effect-border-speed-skill.png",35,W)},drawCardBorder:async()=>{await Fa(k,"frame/card-border".concat(P?"-".concat(p):"",".png"),0,0)},drawArtBorderFoil:async()=>{D&&await Fa(k,"frame/art-border-".concat(p,".png"),60,170)},drawEffectBorderFoil:async()=>{await Fa(k,"frame/effect-border-".concat(p,".png"),35,W)},drawLinkMapFoil:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;await Fa(k,"link/link-overlay-arrow-".concat(p).concat(e?"":"-artless",".png"),0,175)},drawNameFinish:async()=>{(D||F)&&await O(k,"name",(async e=>Fa(k,"finish/finish-".concat(e,"-name.png"),0,0)))},drawAttributeFinish:async()=>{u!==g&&await O(k,"attribute",(async e=>Fa(k,"finish/finish-".concat(e,"-attribute.png"),678,55)))},drawArtFinish:async()=>{K&&await w(k,"art",(async e=>await Fa(k,"finish/art-finish-".concat(e).concat(x?"-pendulum-".concat(m):"",".png"),A,B)))},drawArtOverlayFinish:async()=>{await O(k,"art-overlay",(async e=>Fa(k,"finish/finish"+"-".concat(e)+"-".concat(K?"art":"unart")+"-overlay"+(x?"-pendulum-".concat(m):"")+".png",A,B)))},drawArtBorderFinish:async()=>{D&&await O(k,"art-border",(async e=>Fa(k,"finish/finish-".concat(e,"-art-border.png"),0,0)))},drawPendulumArtBorderFinish:async()=>{D&&await O(k,"art-border-pendulum",(e=>Fa(k,"finish/finish-".concat(e,"-art-border-pendulum-").concat(m,".png"),0,0)))},drawBorderPendulumFinish:async()=>{await O(k,"border-pendulum",(async e=>Fa(k,"finish/finish-".concat(e,"-border-pendulum-").concat(m,".png"),0,0)))},drawFrameFinish:async()=>{await O(k,"frame",(async e=>Fa(k,"finish/finish-".concat(e,"-frame").concat(x?"-pendulum-".concat(m):"",".png"),0,0)))},drawFrameBackgroundFinish:async()=>{await O(k,"frame-background",(async e=>Fa(k,"finish/finish-".concat(e,"-frame-background").concat(x?"-pendulum-".concat(m):"",".png"),0,0)))},drawOverlayFinish:async()=>{await O(k,"overlay",(async e=>Fa(k,"finish/finish-".concat(e,"-overlay.png"),0,0)))},drawCardBorderFinish:async()=>{await O(k,"card-border",(async e=>Fa(k,"finish/finish-".concat(e,"-card-border.png"),0,0)))}};return Y},qa=async(e,t,n,a,r,o,i)=>{const{isSpeedSkill:l,format:c,cloneNode:d,frame:u,furiganaHelper:b}=i,p=null===d||void 0===d?void 0:d.getContext("2d");if(e&&p&&t){var m,f,h;const{font:i,fillStyle:g,headTextFillStyle:v,shadowBlur:y,hasShadow:j,shadowColor:x,shadowOffsetX:O,shadowOffsetY:w,hasOutline:k,lineColor:S,lineWidth:F,lineOffsetX:C,lineOffsetY:L,hasGradient:N,gradientAngle:R,gradientColor:I,pattern:E}=Object(s.a)(Object(s.a)({},{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"}),o),{patternImage:A,blendMode:B}=null!==(m=T[null!==E&&void 0!==E?E:""])&&void 0!==m?m:{},z=k;e.textAlign="left",j&&(e.shadowColor=x,e.shadowOffsetY=w,e.shadowOffsetX=O,e.shadowBlur=y),k&&(e.lineWidth=F,e.strokeStyle=S);const D=Object(s.a)(Object(s.a)({},(null!==(f=ne[i])&&void 0!==f?f:ne.Default).fontData),{},{headTextFillStyle:v}),W=nn({defaultFamily:D.font,defaultSize:D.fontList[0].fontSize,defaultWeight:D.weight}),P={fontLevel:0,fontData:D,currentFont:W},M=Ha(t,c,{multiline:!1,furiganaHelper:b,dictionaryType:"rubyFormName"}),H="ocg"===c?[M]:M.split(new RegExp("([^".concat("&A-Za-z0-9\\-/\\s\\(\\)!,.\u2018\u201c\u2019\u201d:;<>\\[\\]\\\\","])"),"g")),K=nn({defaultFamily:D.font,defaultSize:D.fontList[0].fontSize,defaultWeight:D.weight}),Y=K.getFont(),U=K.setSize((e=>e*D.symbolFontRatio)).setStyle("small-caps").setFamily(D.symbolFont).getFont();let X=0,V=0;H.forEach(((t,n)=>{e.font=n%2===0?Y:U;const a=e.measureText(t.replaceAll(Le,""));X=Math.max(X,a.actualBoundingBoxAscent),V=Math.max(V,a.actualBoundingBoxDescent)}),0),e.font=Y;let _=0;const q=tn((t=>{const{currentLineCount:n,currentLineList:a}=Wa({ctx:e,median:t,paragraphList:[M],format:c,textData:P,width:r});return!(n>1)&&(_=a[0].actualLineWidth,!0)}))/1e3,J=1;e.scale(q,J);const $=null!==(h=D.fontList[0].offsetY)&&void 0!==h?h:G.offsetY,Z=Ra(M),Q=_>0&&N?((e,t,n,a,r,o,i,l)=>{const c=t%360,s="".concat(Math.floor(c/90)),d=c%90,u=i+l,b=a+r/2,p=o+(l-i)/2;let m=r,f=u;"1"!==s&&"3"!==s||(m=u,f=r);const h=Math.sqrt(m**2/4+f**2/4);if(h>0){const t=90-(180*Math.asin(m/2/h)/Math.PI-d),a=Math.sin(t/180*Math.PI)*h,r=Math.sin(d/180*Math.PI)*a,o=Math.cos(d/180*Math.PI)*a;let i=r,l=o;"1"===s&&(i=o,l=-r),"2"===s&&(i=-r,l=-o),"3"===s&&(i=-o,l=r);const c=b+i,u=p-l,f=b-i,g=p+l,v=e.createLinearGradient(c,u,f,g);return n.forEach((e=>{let{color:t,offset:n}=e;return v.addColorStop(parseFloat(n),t)})),v}})(e,R,ln(I),n,_,a,X,V):void 0;e.fillStyle=null!==Q&&void 0!==Q?Q:g,Ma({ctx:e,tokenList:Z,xRatio:q,yRatio:J,trueEdge:n,trueBaseline:a,textData:P,format:c,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r-(l?$:0))}}),A&&d&&(e.setTransform(1,0,0,1,0,0),await Fa(p,"frame/frame-".concat(u,".png"),0,0),await Fa(p,"background/background-name-".concat(u,".png"),0,0),p.globalCompositeOperation=B,await Ca(p,"finish-name/".concat(A,".png"),n,a-X,r,X+V),e.globalCompositeOperation="source-in",e.drawImage(d,0,0),e.scale(q,J),e.globalCompositeOperation="source-over",Ma({ctx:e,tokenList:Z,xRatio:q,yRatio:J,trueEdge:n,trueBaseline:a,textData:P,format:c,textDrawer:()=>{}})),z&&(e.globalCompositeOperation="destination-over",Ma({ctx:e,tokenList:Z,xRatio:q,yRatio:J,trueEdge:n,trueBaseline:a,textData:P,format:c,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.lineJoin="round",t.strokeText(n,a+C,r+L-(l?$:0))}})),e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0);const ee={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"};e.fillStyle=ee.fillStyle,e.shadowColor=ee.shadowColor,e.shadowOffsetY=ee.shadowOffsetY,e.shadowOffsetX=ee.shadowOffsetX,e.shadowBlur=ee.shadowBlur,e.lineWidth=ee.lineWidth,e.strokeStyle=ee.lineColor,e.lineJoin="miter",e.globalCompositeOperation="source-over"}};var Ja={small:0,medium:1,large:2},$a=function(e){var t,n,a=e.ctx,r=e.value,o=e.format,i=e.metricMethod,l=e.size,c=e.furiganaHelper,d=null!==(t=null===(n=E[o])||void 0===n?void 0:n[l])&&void 0!==t?t:E.tcg.medium,u=d.edgeAlignment,b=void 0===u?"left":u,p=d.trueEdge,m=d.trueBaseline,f=d.trueWidth,h={tcg:oe,ocg:ie}[o];i&&(h.metricMethod=i);var g=h.font,v=Ja[l],y=h.fontList[v],j=nn({defaultFamily:g,defaultSize:"".concat(y.fontSize,"px")}),x={fontLevel:v,fontData:h,currentFont:j},O=0;a.font=j.getFont(),a.textAlign="left";var w=Ha(r,o,{multiline:!1,furiganaHelper:c}),k=tn((function(e){var t=Wa({ctx:a,median:e,paragraphList:[w],format:o,textData:x,width:f}),n=t.currentLineCount,r=t.currentLineList;return!(n>1)&&(O=r[0].actualLineWidth,!0)}))/1e3;a.scale(k,1);var S=Ma({ctx:a,tokenList:Ra(w),xRatio:k,yRatio:1,trueEdge:"left"===b?p:p-O*k,trueBaseline:m,textData:x,format:o,textDrawer:function(e){var t=e.ctx,n=e.letter,a=e.scaledEdge,r=e.scaledBaseline;t.fillText(n,a,r)}});return a.setTransform(1,0,0,1,0,0),Object(s.a)(Object(s.a)({},S),{},{xRatio:k})},Za=function(){var e=Object(pa.a)(ba.a.mark((function e(t){var n,a,r,o,i,l,c,d,u,b,p,m,f,h,g,v,j,x,O,w,k,S,F,C;return ba.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ctx,a=t.typeAbility,r=t.subFamily,o=t.format,i=t.frame,l=t.size,c=t.isMonster,d=t.textStyle,u=t.furiganaHelper,ya(n)){e.next=3;break}return e.abrupt("return");case 3:if(b=a.length>0,m=a+((p=r!==y&&"large"===l)?"\u29be":""),f=b?"tcg"===o?"large"===l?"[\u200a\u200a".concat(m,"\u200a\u200a]"):"[".concat(m,"]"):"\u3010".concat(m,"\u3011"):"",b){e.next=9;break}return e.abrupt("return");case 9:if(h=gt(i)&&!pt({frame:i})&&"large"===l?"#ffffff":"#000000",g=Object(s.a)({color:h},d),v=wa(Object(s.a)({ctx:n},g)),j=$a({ctx:n,format:o,size:l,value:f,metricMethod:c?void 0:"compact",furiganaHelper:u}),x=j.iconPositionList,O=j.xRatio,v(),w="ocg"===o?-4:0,k="ocg"===o?-3:0,!p){e.next=22;break}return S=x[0],F=S.edge,C=S.baseline,e.next=20,Ca(n,"subfamily/subfamily-".concat(r.toLowerCase(),".png"),(function(e){return F+.175*e.naturalWidth*O+k}),(function(e){return C-.8*e.naturalWidth+w}),(function(e){return e.naturalWidth}),(function(e){return e.naturalWidth}));case 20:e.next=22;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Qa=(e,t,n,a)=>{if(e&&t){const r=60.5;e.font="".concat(r,"px MatrixBoldSmallCaps"),e.textAlign="left";const o=.65,i="".concat(t).split("");let l=0;i.forEach((t=>{l+=e.measureText(t).width*("1"===t?o:1)}));let c=n-l/2;i.forEach((t=>{e.fillText(t,"1"===t?c-3:c,a+r),c+=e.measureText(t).width*("1"===t?o:1)}))}},er=(e,t,n,a)=>{if(!e)return;e.scale(1,.98),e.font="bold 35.73px Matrix-Bold";const r=ga(e,t,.075,n,a/.98);e.setTransform(1,0,0,1,0,0),e.scale(1,1.01),e.font="bold 34.74px Matrix-Bold",ga(e,"/",.15,r+5,a/1.01),e.setTransform(1,0,0,1,0,0)},tr=(e,t,n,a)=>{if(!e||null==t)return;const r=73.97;if("\u221e"===t)e.textAlign="right",e.font="bold 37px matrix",e.fillText(t,n+r,a);else if("?"===t)e.textAlign="right",e.font="bold 34px matrix",e.fillText(t,n+r,a);else{e.textAlign="left";const o="".concat(t).split("?");let i=o.reduce(((t,n,a)=>{e.font="37px MatrixBoldSmallCaps";let r=t+e.measureText(n).width;return a<o.length-1&&(e.font="37px matrix",r+=e.measureText("?").width),r}),0);if(i>0){const t=Math.min(r/i,1);e.scale(t,1),o.reduce(((n,r,i,l)=>{const c=l[l.length-1-i];let s=n;return e.font="37px MatrixBoldSmallCaps",s-=e.measureText(c).width*t,e.fillText(c,s/t,a),i<o.length-1&&(e.font="bold 37px matrix",s-=e.measureText("?").width*t,e.fillText("?",s/t,a)),s}),n+r),e.scale(1/t,1)}}},{height:nr,width:ar}=u,rr=(e,t,n)=>{const{card:a}=ca(),{exportCanvasRef:o,artworkCanvasRef:i,backgroundCanvasRef:l,frameCanvasRef:c,creatorCanvasRef:d,effectCanvasRef:h,nameCanvasRef:v,passwordCanvasRef:y,pendulumEffectCanvasRef:j,pendulumScaleCanvasRef:O,setIdCanvasRef:w,statCanvasRef:k,stickerCanvasRef:S,cardIconCanvasRef:C,typeCanvasRef:T,finishCanvasRef:L,lightboxCanvasRef:N}=t,{format:E,hasBackground:z,backgroundType:D,frame:W,foil:P,finish:K,artFinish:Y,opacity:U,name:X,nameStyle:V,nameStyleType:_,effectTextStyle:q,pendulumTextStyle:$,typeTextStyle:te,statTextStyle:ne,otherTextStyle:oe,effect:ie,effectStyle:le,typeAbility:ce,isPendulum:se,pendulumFrame:de,pendulumEffect:ue,pendulumScaleBlue:be,pendulumScaleRed:pe,pendulumStyle:me,atk:fe,def:he,linkMap:ge,attribute:ve,cardIcon:ye,subFamily:je,star:xe,starAlignment:Oe,setId:we,password:ke,creator:Se,sticker:Fe,isLegacyCard:Ce,isFirstEdition:Te,isDuelTerminalCard:Le,isSpeedCard:Ne,isLimitedEdition:Re,furiganaHelper:Ie}=a,Ee=Object(r.useRef)({frame:{name:"frame",order:1,rerun:0,instructor:()=>Promise.resolve()},attribute:{name:"attribute",order:2,rerun:0,instructor:()=>Promise.resolve()},sticker:{name:"sticker",order:3,rerun:0,instructor:()=>Promise.resolve()},creator:{name:"creator",order:4,rerun:0,instructor:()=>Promise.resolve()},name:{name:"name",order:5,rerun:0,instructor:()=>Promise.resolve()},typeAbility:{name:"typeAbility",order:6,rerun:0,instructor:()=>Promise.resolve()},overlay:{name:"overlay",order:7,rerun:0,instructor:()=>Promise.resolve()}}),Ae="auto"===de?se?"spell":W:de,Be=null===le||void 0===le?void 0:le.condenseTolerant,ze=(e=>"normal"===e.frame&&mt(e))(a),De=bt(a),We=(e=>e.isLink)(a),Pe=mt(a),Me=pt(a),{body:He=100,boundless:Ke}=U,Ye=!!(He<50||Ke),Ge=["xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(Ae),Ue=ht(W),{levelStyle:Xe,resolvedEffectTextStyle:Ve,resolvedPendulumEffectTextStyle:_e,resolvedStatTextStyle:qe,resolvedTypeTextStyle:Je,resolvedOtherEffectTextStyle:$e}=Object(r.useMemo)((()=>(e=>{let{lightHeader:t,requireShadow:n,effectTextStyle:a,pendulumTextStyle:r,otherTextStyle:o,statTextStyle:i,typeTextStyle:l}=e;const c={color:t?"#ffffff":"#000000"},d=n?Object(s.a)({blur:2,y:1,shadowColor:t?"#000000":"#ffffff"},c):c,[u,b,p,m]=a,f=u?Object(s.a)(Object(s.a)({},p?{y:0,blur:4,shadowColor:m}:{}),{},{color:b}):{},[h,g,v,y]=r,j=h?Object(s.a)(Object(s.a)({},v?{y:0,blur:4,shadowColor:y}:{}),{},{color:g}):{},[x,O,w,k]=l,S=x?Object(s.a)(Object(s.a)({},w?{y:1,blur:1,shadowColor:k}:{}),{},{color:O}):{},[F,C,T,L]=i,N=F?Object(s.a)(Object(s.a)({},T?{y:1,blur:1,shadowColor:L}:{}),{},{color:C}):{},[R,I,E,A]=o;return{levelStyle:d,resolvedEffectTextStyle:f,resolvedOtherEffectTextStyle:R?Object(s.a)(Object(s.a)({},E?{y:0,blur:0,shadowColor:A}:{}),{},{color:I}):{},resolvedPendulumEffectTextStyle:j,resolvedStatTextStyle:N,resolvedTypeTextStyle:S}})({lightFooter:Ge,lightHeader:Ue,requireShadow:Ye,effectTextStyle:q,pendulumTextStyle:$,otherTextStyle:oe,statTextStyle:ne,typeTextStyle:te})),[Ge,Ue,Ye,q,$,oe,ne,te]),Ze=je.toUpperCase(),Qe=ce.map((e=>e.trim())).join("ocg"===E?"\uff0f":"\u200a/\u200a"),et="auto"!==de||se?!!(fe||he||We&&ge.length):Pe,tt="auto"===ye?Pe||Me:"st"!==ye||We,{isInitializing:nt,imageChangeCount:at,pendulumSize:rt="medium",language:ot}=n,it=e&&!1===nt,lt=Object(r.useMemo)((()=>ja(K,M)),[K]),ct=Object(r.useMemo)((()=>ja([Y],H)),[Y]);Object(r.useEffect)((()=>{it&&(Ee.current.frame.rerun+=1,Ee.current.frame.instructor=async()=>{var e,t;const n=null===(e=c.current)||void 0===e?void 0:e.getContext("2d"),a=i.current,r=l.current;if(!ya(n)||!c.current)return;const o=Object(s.a)(Object(s.a)({},p()),U),{artBorder:d,body:u,boundless:f,baseFill:h}=o,g=(e,t,a,r)=>new Promise((o=>{setTimeout((()=>{n.fillStyle=z?h:b,n.fillRect(e,t,a,r),o(!0)}),0)})),v=u>0||d;await g(0,0,ar,nr);const{drawAttribute:y,drawBackground:j,drawCardArt:x,drawFrame:O,drawLinkArrowMap:w,drawPendulumScaleIcon:k,drawStar:S,drawNameBackground:F,drawEffectBackground:C,drawFrameBorder:T,drawNameBorder:L,drawArtBorder:N,drawPendulumBorder:R,drawBorderPendulumFinish:I,drawEffectBorder:A,drawCardBorder:B,drawStatBorder:M,drawAttributeFinish:H,drawArtBorderFoil:K,drawEffectBorderFoil:Y,drawLinkMapFoil:G,drawNameFinish:X,drawArtFinish:V,drawArtOverlayFinish:_,drawArtBorderFinish:q,drawPendulumArtBorderFinish:J,drawFrameFinish:$,drawFrameBackgroundFinish:Z,drawOverlayFinish:Q,drawCardBorderFinish:ee,calculateCardArtRedrawCoordination:te}=_a({canvas:c.current,artworkCanvas:a,backgroundCanvas:r,format:E,frame:W,bottomFrame:Ae,hasBackground:z,backgroundType:D,attribute:ve,cardIcon:ye,star:xe,foil:P,pendulumSize:rt,opacity:o,isLink:We,isSpeedSkill:Me,isXyz:De,isPendulum:se,loopFinish:lt,loopArtFinish:ct});if(r&&n&&j(),a&&n&&!f&&x(),await O(),await B(),await ee(),se||(f||(await F(),await C(),await A(),await Y()),await N(),await K(),await q()),se&&!We&&!f){if(a&&n&&a.height>0){const{width:e,height:t}=a,{sourceOffsetX:r,sourceOffsetY:o,offsetHeight:i,destinationX:l,destinationY:c,destinationWidth:s,destinationHeight:d}=te(a);await g(l,c,s,d),j("pendulum"),n.drawImage(a,r,o,e-2*r,t-i,l,c,s,d)}await F(),await C(!0)}if(await V(),await _(),!se||We||f||(await k(),await R(v,"normal"),await R(v,P),await J(),v&&await I()),f||(await $(),await X()),v&&await Z(),f){if(We)await q();else if(se){const e=m.fullCard.ratio/m.extendedPendulum.ratio;if(a&&n&&a.height>0){const{destinationX:t,destinationY:n,destinationWidth:r,destinationHeight:o}=te(a,Object(s.a)(Object(s.a)(Object(s.a)({},p()),U),{},{body:100,boundless:!1}),e);await g(t,n,r,o),j("pendulum")}v&&(await R(v,"normal"),await R(v,P)),await J()}await F(),await X(),await L(),a&&n&&x(),await _(),se&&!We?(await C(!0),await k(),await R(!1,"normal"),await R(!1,P),await I()):(await C(),await A(),await Y()),await $()}if(et&&await M(null!==(t=qe.color)&&void 0!==t?t:"#000000"),!se&&We){await w(ge),await G(!1);const e=wa(Object(s.a)({ctx:n},qe));et&&await(async(e,t,n)=>{const a=e.getContext("2d");if(!a||!Array.isArray(t))return;await Ta(e,"link/link-text.png",600,1080,120,30,n);const r=wa(Object(s.a)({ctx:a},n));a.textAlign="right",a.scale(1.2,1),a.font="bold 26.55px RoGSanSrfStd-Bd",a.fillText("".concat(t.length),622.75,1105),a.setTransform(1,0,0,1,0,0),a.textAlign="left",r()})(c.current,null!==ge&&void 0!==ge?ge:[],qe),e()}await y(),await H(),We||Me||await S({style:Xe,starAlignment:Oe}),f||await L(),await T(),await(async e=>{let{canvas:t,type:n,isPendulum:a,isLink:r,isDuelTerminalCard:o,isSpeedCard:i,bordered:l,textStyle:c}=e;if(null===t||void 0===t?void 0:t.getContext("2d")){if(o){const e=a?[255,1072,175,35]:r?[151,848,216,24]:[80,843,270,30];await Ta(t,"text/text-duel-terminal-".concat(n).concat(l?"-bordered":"",".png"),...e,(null===c||void 0===c?void 0:c.shadowColor)?Object(s.a)(Object(s.a)({},c),{},{blur:3,x:0,y:0}):c)}if(i){const e=a?[255,1084,176.4,25]:r?[151,854,215.6,22]:[80,850,245,25];await Ta(t,"text/text-speed-duel-".concat(n).concat(l?"-bordered":"",".png"),...e,(null===c||void 0===c?void 0:c.shadowColor)?Object(s.a)(Object(s.a)({},c),{},{blur:3,x:0,y:0}):c)}}})({canvas:c.current,type:Ge&&!se?"white":"black",bordered:(u<50||f)&&!se,isDuelTerminalCard:Le,isSpeedCard:Ne,isLink:We,isPendulum:se,textStyle:$e}),await Q()})}),[it,i,l,c,W,E,z,D,ve,Ae,P,xe,Oe,ye,Le,We,se,Ne,Me,De,Ge,ge,qe,$e,ct,lt,U,rt,et,Xe,at]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=O.current)||void 0===e?void 0:e.getContext("2d");ya(t)&&se&&(Qa(t,null!==be&&void 0!==be?be:0,84.4,790),Qa(t,null!==pe&&void 0!==pe?pe:0,728,790))}),[it,se,be,pe,O]),Object(r.useEffect)((()=>{it&&(Ee.current.name.rerun+=1,Ee.current.name.instructor=async()=>{var e,t;const n=null===(e=v.current)||void 0===e?void 0:e.getContext("2d"),a=null===(t=v.current)||void 0===t?void 0:t.cloneNode();ya(n)&&a&&await qa(n,X,"tcg"===E?60:68,116,ve===g?"tcg"===E?688:674:"tcg"===E?608:598,(e=>{var t,n;let{format:a,frame:r,nameStyle:o,nameStyleType:i,foil:l}=e;if("custom"===i)return o;const c=pt({frame:r}),d=ht(r);let u="Default";"ocg"===a&&(u="OCG"),c&&"tcg"===a&&(u="Arial");let b={fillStyle:d?"#ffffff":"#000000",headTextFillStyle:d?"#ffffff":"#000000"};if("predefined"===i){var p,m;const e=Object(s.a)({},F[null!==(p=o.preset)&&void 0!==p?p:"commonB"].value);return F[null!==(m=e.preset)&&void 0!==m?m:"commonB"].value.font||(e.font=u),Object(s.a)(Object(s.a)({},b),e)}let f=c?{hasOutline:!0,lineWidth:6,strokeStyle:"#000"}:{};const h="normal"!==l&&null!==(t=null===(n=F[l])||void 0===n?void 0:n.value)&&void 0!==t?t:{},g="zarc"===r?F.animeGold.value:{};return Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({font:u},b),f),h),g)})({format:E,frame:W,nameStyle:V,nameStyleType:_,foil:P}),{isSpeedSkill:Me,format:E,cloneNode:a,frame:W,furiganaHelper:Ie})})}),[it,ve,P,E,W,Ie,Me,X,v,V,_]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=k.current)||void 0===e?void 0:e.getContext("2d");if(!ya(t)||!et)return;const n=wa(Object(s.a)({ctx:t},qe));er(t,"ATK",432.1,1106.494),tr(t,fe,508.824,1106.494),We||(er(t,"DEF",600.85,1106.494),tr(t,he,673.865,1106.494)),n()}),[it,fe,he,We,Pe,qe,k,et]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=w.current)||void 0===e?void 0:e.getContext("2d");ya(t)&&((e,t,n)=>{if(!e)return;const{isPendulum:a,isLink:r,withShadow:o,format:i,lightFooter:l,textStyle:c}=n;let d=.125,u=0,b=0;e.font="".concat(o?"bold":""," 22px stone-serif-regular"),"ocg"===i&&(d=.145,u=-1,b=-3);const p=wa(Object(s.a)(Object(s.a)({ctx:e,color:l&&!a?"#ffffff":"#000000",shadowColor:o?l?"#000000":"#ffffff":"#000000",y:0,x:0,blur:o&&!a?3:0},c),(null===c||void 0===c?void 0:c.shadowColor)?{x:0,y:0,blur:3}:{}));a?ga(e,t,d,66.65+b,1105.01+u):r?va(e,t,d,666.56+b,872.94+u):va(e,t,d,728.78+b,871.5+u),p()})(t,we,{isLink:We,isPendulum:se,withShadow:Ye&&!se,format:E,lightFooter:Ge,textStyle:$e})}),[it,E,We,se,Ge,w,we,Me,Ae,Ye,$e]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=y.current)||void 0===e?void 0:e.getContext("2d");if(!ya(t))return;const n=(e=>{var t,n;let{ctx:a,value:r,format:o,alignment:i,baselineOffset:l=0,lightFooter:c,hasShadow:d,textStyle:u}=e;if(!ya(a))return 0;const b=wa(Object(s.a)(Object(s.a)({ctx:a,color:c?"#ffffff":"#000000",shadowColor:d?c?"#000000":"#ffffff":"#000000",x:0,y:0,blur:d?3:0},u),(null===u||void 0===u?void 0:u.shadowColor)?{x:0,y:0,blur:3}:{})),{trueEdge:p,trueBaseline:m,trueWidth:f}=null!==(t=B[o])&&void 0!==t?t:B.tcg,h=/^[0-9]*$/.test(r),g=re[o],{font:v}=g,y=Ha(r,o,{multiline:!1,furiganaHelper:!1});let j={fontLevel:h?0:1,fontData:g,currentFont:nn()},x=0,O=1e3,w=g.fontList[0];for(let s=0;s<g.fontList.length;s++){w=g.fontList[s];const e=nn({defaultFamily:v,defaultSize:"".concat(w.fontSize,"px"),defaultWeight:d?"bold":""});let t={fontLevel:s,fontData:g,currentFont:e},n=0;if(a.font=e.getFont(),a.textAlign="left",O=tn((e=>{const{currentLineCount:r,currentLineList:i}=Wa({ctx:a,median:e,paragraphList:[y],format:o,textData:t,width:f});return!(r>1)&&(n=i[0].actualLineWidth,!0)})),x=n,j=t,O>=1e3)break}const k=O/1e3;a.scale(k,1);const S=Ma({ctx:a,tokenList:Ra(y),xRatio:k,yRatio:1,trueEdge:"left"===i?p:p-x*k,trueBaseline:m+(null!==(n=w.offsetY)&&void 0!==n?n:G.offsetY)+l,textData:j,format:o,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r)}});return a.setTransform(1,0,0,1,0,0),b(),S.tokenEdge})({ctx:t,value:ke,lightFooter:Ge,alignment:"left",format:E,hasShadow:"zarc"===Ae||Ye,textStyle:$e});if(Te){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1150.93,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{stroke:!1};if(!e)return;const{stroke:o=!1,textStyle:i}=null!==r&&void 0!==r?r:{},l=wa(Object(s.a)(Object(s.a)({ctx:e},i),(null===i||void 0===i?void 0:i.shadowColor)?{x:0,y:0,blur:3}:{})),c=7.4;e.font="bold 23.7px palatino-linotype-bold";let d=t;e.fillText("1",d,n+a),o&&e.strokeText("1",d,n),d+=e.measureText("1").width-2,e.font="bold 17.78px palatino-linotype-bold",e.fillText("st",d,n-c+a),o&&e.strokeText("st",d,n-c),d+=e.measureText("st").width,e.font="bold 22.22px palatino-linotype-bold",e.fillText(" Edition",d,n+a),o&&e.strokeText(" Edition",d,n),l()}(t,Ce&&!se?We?151:89:Math.max(n+14.813,142.2)-("ocg"===E?10:0),Ce&&!se?871:1150.93,Ce&&!se?0:Me?-2:-1,{textStyle:Object(s.a)({color:Ge?"#ffffff":"#000000"},$e)})}}),[it,Te,ke,y,Ge,E,Ye,We,Me,se,Ce,Ae,$e]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=d.current)||void 0===e?void 0:e.getContext("2d");Ee.current.creator.rerun+=1,Ee.current.creator.instructor=async()=>{var e;if(!ya(t))return;const n=Object(s.a)(Object(s.a)({},p()),U),{body:a,boundless:r}=n,o=(e=>{var t,n;let{ctx:a,value:r,format:o,alignment:i,baselineOffset:l=0,lightFooter:c,hasShadow:d,textStyle:u}=e;if(!ya(a))return;const b=wa(Object(s.a)(Object(s.a)({ctx:a,color:c?"#ffffff":"#000000",shadowColor:d?c?"#000000":"#ffffff":"#000000",y:0,x:0,blur:d?3:0},u),(null===u||void 0===u?void 0:u.shadowColor)?{x:0,y:0,blur:3}:{})),{trueEdge:p,trueBaseline:m,trueWidth:f}=null!==(t=A[o])&&void 0!==t?t:A.tcg,h=ae[o],{font:g}=h,v=Ha(r,o,{multiline:!1,furiganaHelper:!1});let y={fontLevel:0,fontData:h,currentFont:nn()},j=0,x=1e3,O=h.fontList[0];for(let s=0;s<h.fontList.length;s++){O=h.fontList[s];const e=nn({defaultFamily:g,defaultSize:"".concat(O.fontSize,"px"),defaultWeight:d?"bold":""});let t={fontLevel:s,fontData:h,currentFont:e},n=0;if(a.font=e.getFont(),a.textAlign="left",x=tn((e=>{const{currentLineCount:r,currentLineList:i}=Wa({ctx:a,median:e,paragraphList:[v],format:o,textData:t,width:f});return!(r>1)&&(n=i[0].actualLineWidth,!0)})),j=n,y=t,x>=1e3)break}const w=x/1e3;a.scale(w,1);const k=Ma({ctx:a,tokenList:Ra(v),xRatio:w,yRatio:1,trueEdge:"left"===i?p:p-j*w,trueBaseline:m+(null!==(n=O.offsetY)&&void 0!==n?n:G.offsetY)+l,textData:y,format:o,textDrawer:e=>{let{ctx:t,letter:n,scaledEdge:a,scaledBaseline:r}=e;t.fillText(n,a,r)}});return a.setTransform(1,0,0,1,0,0),b(),Object(s.a)({leftEdge:"left"===i?p:p-j*w},k)})({ctx:null===(e=d.current)||void 0===e?void 0:e.getContext("2d"),format:E,value:Se,alignment:"right",baselineOffset:Me?-2:0,hasShadow:Ye,lightFooter:Ge,textStyle:$e}),i="tcg"===E?390:350,l="tcg"===E?30:40;var c;Re&&d.current&&await(async e=>{let{canvas:t,type:n,isPendulum:a,isLink:r,isLegacyCard:o,widthOffset:i,bordered:l,textStyle:c}=e;const d=!o||a?[145,1122,240-i,37]:r?[151,846,216,36]:[80,843,240,40];await Ta(t,"text/text-limited-edition-".concat(n).concat(l?"-bordered":"",".png"),...d,(null===c||void 0===c?void 0:c.shadowColor)?Object(s.a)(Object(s.a)({},c),{},{blur:3,x:0,y:0}):c)})({canvas:d.current,ctx:t,type:Ge&&!se?"white":"black",bordered:(a<50||r)&&!se,isLink:We,isPendulum:se,widthOffset:(null!==(c=null===o||void 0===o?void 0:o.leftEdge)&&void 0!==c?c:i)<i?l:0,isLegacyCard:Ce,textStyle:$e})}}),[it,Se,d,h,E,Ce,Re,We,se,Me,Ge,U,Ye,$e]),Object(r.useEffect)((()=>{it&&(Ee.current.sticker.rerun+=1,Ee.current.sticker.instructor=async()=>{var e;return await(async e=>{let{ctx:t,sticker:n}=e;if(ya(t))return n===x?Promise.resolve():Fa(t,"sticker/sticker-".concat(n.toLowerCase(),".png"),739.1438,1110.938)})({ctx:null===(e=S.current)||void 0===e?void 0:e.getContext("2d"),sticker:Fe})})}),[it,Fe,S]),Object(r.useEffect)((()=>{var e,t;if(!it)return;const n=null===(e=h.current)||void 0===e?void 0:e.getContext("2d"),a=null===(t=T.current)||void 0===t?void 0:t.getContext("2d");Ee.current.typeAbility.rerun+=1,Ee.current.typeAbility.instructor=async()=>{if(!ya(n)||!ya(a))return;const{condenseTolerant:e,upSize:t}=null!==le&&void 0!==le?le:{},r=q[0]?t:0,o=Ya(Object(s.a)(Object(s.a)({ctx:n,content:ie,isNormal:ze,condenseTolerant:e,format:E,furiganaHelper:Ie},(e=>{let{format:t,isNormal:n,statInEffect:a,typeInEffect:r}=e;const o=[t,r?"type":"",a?"stat":""].filter((e=>""!==e)).join("-"),i=[t,r?"type":"",a?"stat":""].filter((e=>""!==e)).join("-");let l=Z[i];return a&&r&&n&&"tcg"===t&&(l=J,l.fontList=Q),{fontDataKey:i,fontData:l,sizeList:R[o]}})({format:E,statInEffect:et,typeInEffect:tt,isNormal:ze})),{},{textStyle:Ve,option:{forceRelaxCondenseLimit:3,defaultSizeLevel:3-r}}));await Za({ctx:a,format:E,frame:W,furiganaHelper:Ie,isMonster:Pe,textStyle:Je,size:tt?o<=3?"medium":"small":"large",subFamily:Ze,typeAbility:Qe})}}),[it,tt,et,le,ie,q,h,E,W,Ie,Pe,ze,Je,Ve,Ze,Qe,T]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=j.current)||void 0===e?void 0:e.getContext("2d");if(ya(t)&&se){const{upSize:e}=null!==me&&void 0!==me?me:{},n=$[0]?e:0;Ya({ctx:t,content:ue,isNormal:!1,fontData:ee[E],textStyle:_e,sizeList:I,condenseTolerant:Be,format:E,furiganaHelper:Ie,option:{forceRelaxCondenseLimit:3,defaultSizeLevel:3-n}})}}),[it,Be,E,se,j,ue,me,$,Ie,_e]),Object(r.useEffect)((()=>{var e;if(!it)return;const t=null===(e=L.current)||void 0===e?void 0:e.getContext("2d");Ee.current.overlay.rerun+=1,Ee.current.overlay.instructor=async()=>{ya(t)&&await lt(t,"total-overlay",(e=>Fa(t,"finish/finish-".concat(e,"-total-overlay.png"),0,0)))}}),[it,L,lt,X]);const st=Object(r.useRef)({}),dt=Object(r.useCallback)((async e=>{const{isPendulum:t=!1,opacity:n}=e,a=o.current,r=null===a||void 0===a?void 0:a.getContext("2d"),l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((a=>{setTimeout((()=>{if(e.current&&t)try{e.current.toBlob((e=>{if(e){const n=URL.createObjectURL(e);if(n){const e=new Image;e.src=n,e.onload=()=>{t.drawImage(e,0,0),URL.revokeObjectURL(n),a(!0)},e.onerror=()=>{URL.revokeObjectURL(n),a(!1)}}else a(!1)}else a(!1)}))}catch(n){console.error(n),a(!1)}else a(!1)}),25*n)}))};if(a&&r){var s,b;r.clearRect(0,0,u.width,u.height),await Promise.all(Object.values(Ee.current).sort(((e,t)=>e.order-t.order)).map((e=>{let{instructor:t,rerun:n,name:a}=e;return 0!==n&&st.current[a]!==n||!st.current[a]?(st.current[a]=n,t()):Promise.resolve()}))).catch((e=>{console.error(e);const t="fail-to-draw-notification";vn.a.close(t),vn.a.error({key:t,message:ot["error.draw.error.message"],description:ot["error.draw.error.description"]})}));const e=i.current;if(e&&r){const{artX:a,artY:o,artWidth:i}=f(t,n),{width:l,height:c}=e;c>0&&r.drawImage(e,0,0,l,c,a,o,i,i/(l/c))}await l(c,r,0),await l(v,r,0),await l(C,r,0),await l(O,r,0),await l(j,r,0),await l(T,r,0),await l(h,r,0),await l(k,r,0),await l(w,r,0),await l(y,r,0),await l(d,r,0),await l(S,r,0),await l(L,r,0),null===(s=N.current)||void 0===s||null===(b=s.getContext("2d"))||void 0===b||b.drawImage(a,0,0)}}),[ot,i,C,d,o,h,L,N,v,y,j,O,w,c,k,S,T]);return{drawingPipeline:Ee,onExport:dt}};var or=n(169),ir=n.n(or),lr=n(31),cr=n(251),sr=n.n(cr);function dr(){const e=Object(hn.a)(["\n    .controller {\n        display: flex;\n        gap: var(--spacing);\n        align-items: center;\n        label {\n            background: var(--main-level-4);\n            border: var(--bw) solid var(--sub-level-4);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br);\n        }\n        .toggle-button {\n            padding: 0;\n            /** Alignemnt */\n            width: 26px;\n            height: 26px;\n            background-color: var(--main-primary);\n            border: var(--bw) solid var(--sub-primary);\n            border-radius: var(--br);\n            box-shadow: var(--bs-block);\n            cursor: pointer;\n            transform: rotate(0deg);\n            transition: transform 0.33s ease-in-out;\n            &.reverse{\n                transform: rotate(-180deg);\n                transition: transform 0.33s ease-in-out;\n            }\n            &:hover {\n                background-color: var(--sub-primary);\n            }\n        }\n    }\n    .announce {\n        text-align: center;\n        .warning {\n            color: var(--main-danger);\n        }\n        .in-progress {\n            color: var(--main-info);\n        }\n    }\n    .file-panel {\n        margin-top: var(--spacing);\n        input {\n            width: 100%;\n            background: var(--main-level-4);\n            padding: var(--spacing-xs);\n            border-radius: var(--br);\n            cursor: pointer;\n            margin-bottom: var(--spacing-sm);\n        }\n        .file-list {\n            margin-top: var(--spacing-sm);\n            &:empty {\n                margin-top: 0;\n            }\n        }\n        .file-entry {\n            display: grid;\n            grid-template-columns: 1fr max-content;\n            gap: var(--spacing-xs);\n            background-color: var(--main-level-1);\n            border: 1px solid var(--sub-level-3);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br-lg);\n            + .file-entry {\n                margin-top: var(--spacing-xxs);\n            }\n            .file-action {\n                .anticon:hover {\n                    color: var(--sub-danger);\n                }\n            }\n        }\n    }\n"]);return dr=function(){return e},e}const ur=Object(jn.b)(gn.a)(dr()),br=e=>{let{language:t}=e;const[n,o]=Object(r.useState)(!1),[i,l]=Object(r.useState)(!1),[c,s]=Object(r.useState)(!1),[d,u]=Object(r.useState)([]),b=d.length>50;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ur,{visible:n,title:t["converter.header.label"],okButtonProps:{disabled:b||i},okText:t["converter.ok.label"],cancelText:t["converter.cancel.label"],onCancel:()=>o(!1),onOk:async()=>{try{l(!0);const e=await Promise.all(d.map((e=>{let{file:t,name:n}=e;return new Promise(((e,a)=>{const r=new FileReader;r.onload=t=>{let{target:r}=t;if(!r)return void a("Not a valid target");const{result:o}=r;if("string"!==typeof o)return void a("Not a valid result");let i=JSON.parse(o);Tt(i)&&(i=kt(i));const l=Lt(i);let s=null;if(s=c?l?Xt(ia(i).card).result:i:l?i:kt(ia(i).card),!s)return void a("Not a valid converted result");const d=new Blob(["".concat(JSON.stringify(s))],{type:"application/json"});e({blob:d,name:n})},r.readAsText(t)}))}))),t=new sr.a;e.forEach((e=>{let{blob:n,name:a}=e;t.file(a,n)}));const n=await t.generateAsync({type:"blob"});Dt("convert-result.zip",n,"application/zip"),l(!1),o(!1)}catch(e){console.error(e),vn.a.error({message:t["error.convert.message"],description:t["error.convert.description"]}),l(!1)}},children:[Object(a.jsxs)("div",{className:"controller",children:[Object(a.jsx)("label",{children:"YGOPro / DuelingNexus / NeoCardMaker"}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:fn("toggle-button",c?"reverse":""),onClick:()=>s((e=>!e)),children:Object(a.jsx)(wn.a,{})})}),Object(a.jsx)("label",{children:"Yugioh Carder"})]}),Object(a.jsxs)("div",{className:"file-panel",children:[Object(a.jsx)("input",{type:"file",accept:"application/json",multiple:!0,onChange:e=>{const t=e.target.files;if(t){const e=[];for(let n=0;n<=t.length;n++){const a=t.item(n);a&&e.push({file:a,name:a.name})}u(e)}}}),Object(a.jsxs)("div",{className:"announce",children:[t["converter.header.information.label"],i&&Object(a.jsx)("div",{className:"in-progress",children:t["converter.header.in-progress.label"]}),b&&Object(a.jsx)("div",{className:"warning",children:t["converter.header.warning.label"](50)})]}),Object(a.jsx)("div",{className:"file-list",children:d.map((e=>{let{name:t}=e;return Object(a.jsxs)("div",{className:"file-entry",children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)("div",{className:"file-action",children:Object(a.jsx)(kn.a,{disabled:i,onClick:()=>u((e=>e.filter((e=>e.name!==t))))})})]},t)}))})]})]}),Object(a.jsx)(yn.a,{overlay:t["converter.header.label"],children:Object(a.jsx)(On,{className:"batch-converter",onClick:()=>o(!0),children:Object(a.jsx)(Sn.a,{})})})]})};var pr=n(503),mr=n(74),fr=n(511),hr=n(519);function gr(){const e=Object(hn.a)(["\n    padding: 0;\n    .button-label {\n        height: 100%; // Alignment\n        align-content: center;\n        border-radius: var(--br-lg);\n        line-height: 1.5;\n        .label-content {\n            padding: 4px 15px;\n            border: var(--bw) solid transparent;\n            border-radius: var(--br-lg);\n            line-height: 29px; // Alignment\n        }\n    }\n    .button-option {\n        position: absolute;\n        right: 0;\n        top: 0;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        padding: var(--spacing);\n        border-left: var(--bw) solid var(--sub-secondary);\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        .anticon {\n            font-size: var(--fs-2xl);\n            margin-left: 0;\n        }\n        &:hover {\n            background: #399af9;\n        }\n    }\n"]);return gr=function(){return e},e}function vr(){const e=Object(hn.a)(["\n    &li.ant-dropdown-menu-item:hover {\n        background-color: var(--sub-active);\n    }\n    &.active-resolution {\n        background-color: var(--main-active);\n    }\n"]);return vr=function(){return e},e}function yr(){const e=Object(hn.a)(["\n    color: var(--color);\n    padding: 1px 12px 5px 12px; // Alignment\n    font-size: var(--fs-sm);\n    border-bottom: var(--bw) solid var(--sub-level-4);\n    cursor: default;\n    &.ant-dropdown-menu-item.ant-dropdown-menu-item-disabled:hover {\n        cursor: default;\n        background: var(--main-level-3);\n    }\n"]);return yr=function(){return e},e}const jr=Object(jn.b)(pr.a.Item)(yr()),xr=Object(jn.b)(pr.a.Item)(vr()),Or=Object(jn.b)(mr.a)(gr()),wr=Object(r.forwardRef)(((e,t)=>{let{isTainted:n,isInitializing:o,imageChangeCount:i,canvasMap:l,onDownloadError:c}=e;const s=An(),{allowHotkey:d,resolution:u,updateSetting:b}=sa(Object(lr.useShallow)((e=>{let{setting:{allowHotkey:t,resolution:n},updateSetting:a}=e;return{allowHotkey:t,resolution:n,updateSetting:a}}))),{onExport:p}=rr(!0,l,{imageChangeCount:i,isInitializing:o,language:s}),{exportCanvasRef:m}=l,f=Object(r.useRef)({currentPipeline:Promise.resolve(),pipelineRunning:!1}),[h,g]=Object(r.useState)(!1),v=Object(r.useCallback)((()=>{g(!1)}),[]),{onSave:y,isPipelineRunning:j}=da({isTainted:n,isInitializing:o,exportCanvasRef:m,exportRef:f,onExport:p,onDownloadError:c,onDownloadComplete:v}),x=e=>{h||(n?vn.a.error({message:s["prompt.download.tainted.message"]}):(g(!0),y(e)))};return Object(r.useImperativeHandle)(t,(()=>({download:x,isPipelineRunning:j}))),n?null:Object(a.jsxs)("div",{className:"save-button-container",children:[Object(a.jsx)("div",{id:"save-button-waiting"}),Object(a.jsxs)(Or,{className:"save-button",id:"save-button-ready",children:[Object(a.jsx)(yn.a,{overlay:d?Object(a.jsx)(a.Fragment,{children:"Ctrl-S / \u2318-S"}):null,children:Object(a.jsx)("div",{className:"button-label",children:Object(a.jsx)("div",{className:"label-content",onClick:()=>x(),children:h?s["button.download.ongoing.label"]:s["button.download.label"]})})}),Object(a.jsx)(fr.a,{disabled:h,className:"save-button-dropdown",placement:"bottomRight",overlay:Object(a.jsxs)(pr.a,{onClick:e=>e.domEvent.stopPropagation(),children:[Object(a.jsx)(jr,{disabled:!0,onClick:e=>e.domEvent.stopPropagation(),children:s["button.download.resolution.label"]}),[{width:549,height:800},{width:561,height:818},{width:813,height:1185}].map((e=>{let{width:t,height:n}=e;return Object(a.jsxs)(xr,{className:u[0]===t&&u[1]===n?"active-resolution":"",onClick:()=>{b({resolution:[t,n]}),un()},children:[t," \xd7 ",n]},"".concat(t,"-").concat(n))}))]}),children:Object(a.jsx)("div",{className:"button-option",onClick:e=>e.stopPropagation(),children:Object(a.jsx)(hr.a,{})})})]})]})}));var kr=n(504),Sr=n(500),Fr=n(208);class Cr extends o.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error("Boundary",e),{hasError:!0}}componentDidCatch(e,t){Fr.c(e,{data:t.componentStack})}render(){return this.state.hasError?this.props.fallback:this.props.children}}var Tr=n(522),Lr=n(523),Nr=n(524),Rr=n(488),Ir=n(520),Er=(n(351),function(e){var t=e.overlayClassName,n=e.iconProps,r=Object(c.a)(e,["overlayClassName","iconProps"]),o=null!==n&&void 0!==n?n:{},i=o.className,l=Object(c.a)(o,["className"]);return Object(a.jsx)(Rr.a,Object(s.a)(Object(s.a)({overlayClassName:["explanation-overlay",null!==t&&void 0!==t?t:""].join(" ")},r),{},{children:Object(a.jsx)(Ir.a,Object(s.a)({className:["explanation-icon",null!==i&&void 0!==i?i:""].join(" ")},l))}))}),Ar=n(521),Br=n(512);function zr(){const e=Object(hn.a)(["\n    cursor: pointer;\n    .button-label {\n        display: grid;\n        label {\n            cursor: pointer;\n            line-height: 1;\n            font-size: var(--fs-xs);\n            margin-top: var(--spacing-xs);\n        }\n    }\n    .anticon {\n        font-size: var(--fs-xl);\n        justify-self: center;\n    }\n    &:hover {\n        color: var(--main-active);\n        .anticon {\n            color: var(--sub-active);\n        }\n    }\n"]);return zr=function(){return e},e}function Dr(){const e=Object(hn.a)(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--spacing-xs);\n    width: 24px;\n    height: 24px;\n    border: var(--bw) solid var(--sub-level-1);\n    background-color: var(--main-level-4);\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: var(--sub-level-4);\n\t}\n"]);return Dr=function(){return e},e}const Wr=jn.b.span(Dr()),Pr=e=>{let{Icon:t,children:n,onClick:r,iconProps:o,tooltipProps:i,containerProps:l}=e;const d=null!==l&&void 0!==l?l:{},{className:u,onClick:b,onKeyDown:p}=d,m=Object(c.a)(d,["className","onClick","onKeyDown"]);return Object(a.jsx)(yn.a,Object(s.a)(Object(s.a)({title:null},i),{},{children:Object(a.jsx)(Wr,Object(s.a)(Object(s.a)({tabIndex:0},m),{},{onClick:e=>{null===r||void 0===r||r(),null===b||void 0===b||b(e)},onKeyDown:e=>{null===p||void 0===p||p(e),"Enter"===e.key&&(null===r||void 0===r||r())},className:["icon-button",null!==u&&void 0!==u?u:""].join(" "),children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(t,Object(s.a)({},o)),n]})}))}))},Mr=jn.b.div(zr());function Hr(){const e=Object(hn.a)(["animation: "," 12s linear infinite;"]);return Hr=function(){return e},e}function Kr(){const e=Object(hn.a)(["\n    .anticon-setting {\n        > svg {\n            ","\n        }\n    }\n"]);return Kr=function(){return e},e}function Yr(){const e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: var(--spacing-sm);\n    background-color: var(--main-level-3);\n    padding: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    color: var(--color);\n"]);return Yr=function(){return e},e}function Gr(){const e=Object(hn.a)(["\n    to {\n        transform: rotate(360deg);\n    }\n"]);return Gr=function(){return e},e}const Ur=Object(jn.c)(Gr()),Xr=jn.b.div(Yr()),Vr=Object(jn.b)(Mr)(Kr(),(e=>{let{$softMode:t}=e;return t?"":Object(jn.a)(Hr(),Ur)})),_r=()=>{const e=An(),{setting:t,updateSetting:n}=sa((e=>{let{setting:t,updateSetting:n}=e;return{setting:t,updateSetting:n}})),{allowHotkey:r,reduceMotionColor:o,showCreativeOption:i,showExtraDecorativeOption:l}=t;return Object(a.jsx)(Vr,{className:"setting-button",$softMode:o,children:Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"setting-button-overlay",content:Object(a.jsxs)(Xr,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(Br.a,{checked:o,onChange:e=>n({reduceMotionColor:e.target.checked}),children:e["setting.option.soft-mode.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Br.a,{checked:l,onChange:e=>n({showExtraDecorativeOption:e.target.checked}),children:e["setting.option.extra-decorative.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Br.a,{checked:i,onChange:e=>n({showCreativeOption:e.target.checked}),children:e["setting.option.creative.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(yn.a,{title:e["setting.option.hotkey.tooltip"],placement:"left",children:Object(a.jsx)(Br.a,{checked:r,onChange:e=>n({allowHotkey:e.target.checked}),children:e["setting.option.hotkey.label"]})})}),Object(a.jsx)("div",{children:Object(a.jsx)("small",{children:e["setting.alert"]})})]}),children:Object(a.jsxs)("div",{className:"button-label",children:[Object(a.jsx)(Ar.a,{}),Object(a.jsx)("label",{children:e["setting.button.label"]})]})})})};var qr=n(507);n(352);function Jr(){const e=Object(hn.a)(["\n    align-content: center;\n    align-self: center;\n    border-left: var(--bw) dashed #b1b1b1;\n    padding-left: var(--spacing);\n    margin-left: var(--spacing);\n    height: 100%;\n    .button-label {\n        position: relative;\n    }\n    .manager-notice {\n        position: absolute;\n        color: var(--main-danger);\n        right: 0;\n        top: 0;\n        line-height: 1;\n    }\n"]);return Jr=function(){return e},e}const $r=()=>{var e;return Object(a.jsxs)("div",{className:"affiliation",children:[Object(a.jsxs)("span",{className:"version",children:["v",null!==(e="2.1.1")?e:"unknown"]}),Object(a.jsx)("div",{className:"affiliation-link",children:Object(a.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(a.jsx)(Tr.a,{})})})]})},Zr=jn.b.div(Jr()),Qr=()=>{const{language:e,languageInfo:t,languageMetadataMap:n,changeLanguage:r}=En((e=>{let{languageInfo:t,language:n,languageMetadataMap:a,changeLanguage:r}=e;return{languageInfo:t,language:n,languageMetadataMap:a,changeLanguage:r}})),{cardList:o,isListDirty:i,toggleVisible:l,visible:c}=oa(Object(lr.useShallow)((e=>{let{cardList:t,isListDirty:n,toggleVisible:a,visible:r}=e;return{cardList:t,isListDirty:n,toggleVisible:a,visible:r}})));return Object(a.jsxs)("div",{className:"app-header",children:[Object(a.jsx)("img",{alt:"app-logo",src:"".concat("/ygocarder","/logo192.png"),width:35}),Object(a.jsxs)("div",{className:"app-description",children:[Object(a.jsxs)("div",{className:"header-language",children:[Object(a.jsx)("h1",{children:"Yugioh Carder"}),Object(a.jsx)(qr.a.Group,{value:t.codeName,size:"small",className:"language-option",children:Object.values(n).filter((e=>{let{active:t}=e;return t})).map((e=>{let{codeName:t,name:n}=e;return Object(a.jsx)(qr.a.Button,{value:t,onChange:e=>r(e.target.value),children:n},t)}))}),Object(a.jsx)("span",{className:"bug-report",children:Object(a.jsxs)("div",{id:"sentry-bug-report",children:[e["contributor.bug-report.tooltip"]," ",Object(a.jsx)(Lr.a,{})]})})]}),Object(a.jsxs)("div",{className:"app-contribution",children:[Object(a.jsxs)("span",{className:"app-creator",children:[e["contributor.gui.label"],": ",Object(a.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"Lauqerm"})}),"\xa0",Object(a.jsx)(Er,{content:Object(a.jsxs)("div",{className:"disclaimer",children:[Object(a.jsx)("h2",{children:e["contributor.disclaimer.label"]}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:e["contributor.disclaimer.line-1"](Object(a.jsx)("a",{href:"https://lauqerm.github.io/ygocarder",children:"lauqerm.github.io/ygocarder"},"app-author"))}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-2"]}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-3"]}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-4"]}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-5"](Object(a.jsx)("a",{href:"https://www.deviantart.com/grezar",target:"_blank",rel:"noreferrer",children:"Grezar"},"template-maker-1"),Object(a.jsx)("a",{href:"https://www.deviantart.com/9558able",target:"_blank",rel:"noreferrer",children:"9558able"},"template-maker-2"))}),Object(a.jsx)("li",{children:e["contributor.disclaimer.line-6"]})]})]})})]}),Object(a.jsx)("span",{className:"template-creator",children:e["contributor.template-maker"](Object(a.jsx)("a",{href:"https://www.deviantart.com/grezar/art/SKILL-UPDATE-Series-10-Card-Proxy-Template-686736691",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"Grezar"})},"artist-1"),Object(a.jsx)("a",{href:"https://www.deviantart.com/9558able/art/Yugioh-Series-10-Proxy-Template-DELUXE-EDITION-843282421",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"9558able"})},"artist-2"),Object(a.jsx)("a",{href:"https://www.deviantart.com/slackermagician",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"SlackerMagician"})},"artist-3"),Object(a.jsx)("a",{href:"https://www.deviantart.com/icycatelf",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"icycatelf"})},"artist-4"))})]})]}),Object(a.jsx)(Zr,{className:"app-setting",children:Object(a.jsx)(_r,{})}),Object(a.jsx)(Zr,{className:"card-manager",children:Object(a.jsx)(Mr,{className:fn("manager-button-label",c?"manager-active":""),onClick:()=>l(),children:Object(a.jsxs)("div",{className:"button-label",children:[Object(a.jsx)(Nr.a,{}),Object(a.jsx)("label",{children:e["manager.icon.title"]}),i&&o.length>1&&Object(a.jsx)("div",{className:"manager-notice",children:"*"})]})})})]})},eo=()=>{const e=An();return Object(a.jsx)(Er,{overlayClassName:"disclaimer-overlay",content:Object(a.jsxs)("div",{className:"disclaimer",children:[Object(a.jsx)("h2",{children:e["alert.explaination.tainted.first-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.first-answer"]}),Object(a.jsx)("h2",{children:e["alert.explaination.tainted.second-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.second-answer"]}),Object(a.jsx)("h2",{children:e["alert.explaination.tainted.third-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.third-answer"]})]})})};var to=n(508),no=n(525);function ao(){const e=Object(hn.a)(["\n    background: var(--main-level-1);\n    padding: var(--spacing-px) var(--spacing-xxs);\n    border: var(--bw) solid #4e84a4;\n    border-radius: var(--br);\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n"]);return ao=function(){return e},e}const ro=jn.b.span(ao());n(353);function oo(){const e=Object(hn.a)(["\n    min-width: 0;\n    position: relative;\n    overflow: hidden;\n    .caption {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        padding: var(--spacing-px) var(--spacing-sm);\n        background: var(--main-level-5);\n        border-radius: var(--br-lg) 0 0 0;\n        box-shadow: var(--bs-block);\n    }\n    > img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n        border-radius: var(--br-lg);\n    }\n"]);return oo=function(){return e},e}function io(){const e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: 615fr 703fr;\n    gap: var(--spacing-sm);\n    padding: var(--spacing-sm) 0;\n    overflow: hidden;\n    .panel-box {\n        min-width: 0;\n        position: relative;\n        overflow: hidden;\n    }\n"]);return io=function(){return e},e}function lo(){const e=Object(hn.a)(["\n    white-space: pre-line;\n"]);return lo=function(){return e},e}const co=jn.b.div(lo()),so=jn.b.div(io()),uo=jn.b.div(oo()),bo=e=>{let{caption:t,containerProps:n,alt:r}=e,o=Object(c.a)(e,["caption","containerProps","alt"]);const{className:i}=null!==n&&void 0!==n?n:{};return Object(a.jsxs)(uo,{className:"image-with-caption ".concat(i),children:[Object(a.jsx)("img",Object(s.a)({alt:r},o)),Object(a.jsx)("div",{className:"caption",children:t})]})},po=()=>{const[e,t]=Object(r.useState)(!1),n=An();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(to.a,{footer:null,visible:e,width:"60%",title:Object(a.jsxs)("div",{className:"overlay-title",children:[n["guide.format.label"]," ",Object(a.jsx)(mr.a,{size:"small",type:"primary",onClick:()=>{t(!1)},children:n["guide.format.close"]})]}),className:"formattting-guide-overlay",onClose:()=>{t(!1)},children:Object(a.jsxs)(co,{children:[Object(a.jsxs)("p",{children:[n["guide.format.introduction"](Object(a.jsx)(Ar.a,{},"icon")),"."]}),Object(a.jsx)("h2",{children:n["guide.format.section-1.label"]}),n["guide.format.section-1.content"](Object(a.jsx)(ro,{children:"["},"open-tag"),Object(a.jsx)(ro,{children:"]"},"close-tag"),Object(a.jsx)(ro,{children:"Ctrl-1"},"hotkey"),Object(a.jsx)(ro,{children:"\u2318-1"},"hokey-alternative")),Object(a.jsxs)(so,{className:"panel-figure",children:[Object(a.jsx)(bo,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(bo,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-2.label"]}),n["guide.format.section-2.content"](Object(a.jsx)(ro,{children:"{"},"open-tag"),Object(a.jsx)(ro,{children:"}"},"close-tag"),Object(a.jsx)(ro,{children:"Ctrl-2"},"hotkey"),Object(a.jsx)(ro,{children:"\u2318-2"},"hokey-alternative")),Object(a.jsxs)(so,{className:"panel-figure",children:[Object(a.jsx)(bo,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(bo,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-3.label"]}),n["guide.format.section-3.content"](Object(a.jsx)(ro,{children:"|"},"separator"),Object(a.jsx)(ro,{children:"Ctrl-3"},"hotkey"),Object(a.jsx)(ro,{children:"\u2318-3"},"hokey-alternative")),Object(a.jsxs)(so,{className:"panel-figure",children:[Object(a.jsx)(bo,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(bo,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-4.label"]}),n["guide.format.section-4.content"](Object(a.jsx)(ro,{children:"||"},"separator"),Object(a.jsx)(ro,{children:"Ctrl-4"},"hotkey"),Object(a.jsx)(ro,{children:"\u2318-4"},"hokey-alternative")),Object(a.jsxs)(so,{className:"panel-figure",children:[Object(a.jsx)(bo,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(bo,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-preview.jpg"),caption:n["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:n["guide.format.section-5.label"]}),n["guide.format.section-5.content"](Object(a.jsx)(ro,{children:"{{"},"open-tag"),Object(a.jsx)(ro,{children:"}}"},"close-tag"),Object(a.jsx)(ro,{children:"Ctrl-5"},"hotkey"),Object(a.jsx)(ro,{children:"\u2318-5"},"hokey-alternative")),Object(a.jsxs)(so,{className:"panel-figure",children:[Object(a.jsx)(bo,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-raw.jpg"),caption:n["guide.format.caption.input"]}),Object(a.jsx)(bo,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-preview.jpg"),caption:n["guide.format.caption.output"]})]})]})}),Object(a.jsxs)(mr.a,{className:"formatting-help-button",type:"primary",onClick:()=>{t(!0)},children:[n["guide.format.label"]," ",Object(a.jsx)(no.a,{})]})]})};function mo(){const e=Object(hn.a)(["\n    display: inline-block;\n    width: 10px;\n"]);return mo=function(){return e},e}function fo(){const e=Object(hn.a)(["\n    display: grid;\n    ","\n    > label {\n        cursor: pointer;\n        padding: 0 var(--spacing-xxs);\n        text-align: center;\n    }\n"]);return fo=function(){return e},e}const ho=jn.b.div(fo(),(e=>{let{$withPillar:t}=e;return t?"grid-template-columns: max-content 1fr;":"grid-template-columns: 1fr;"})),go=jn.b.div(mo()),vo=e=>{let{nameKey:t,labelBackgroundColor:n,labelBackgroundColorList:r,className:o}=e;const i=An();return Object(a.jsxs)(ho,{className:"frame-info-block ".concat(null!==o&&void 0!==o?o:""),$withPillar:!(!n&&!r),children:[r?Object(a.jsx)(go,{children:r.map((e=>Object(a.jsx)("div",{style:{backgroundColor:e,height:"".concat(100/r.length,"%")}},e)))}):n?Object(a.jsx)(go,{style:{backgroundColor:n}}):null,Object(a.jsx)("label",{className:"frame-info-block-label",children:i[t]})]})};function yo(){const e=Object(hn.a)(["\n    display: flex;\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n        display: flex;\n        flex: 1 1 auto;\n\t\t&:focus-visible {\n\t\t\t.radio-train-focused,\n\t\t\t.checkbox-train-focused {\n\t\t\t\tbackground-color: var(--main-level-3);\n\t\t\t}\n\t\t}\n    }\n    .ant-radio-button-wrapper {\n        user-select: none;\n    }\n    .ant-radio-button-wrapper:first-child,\n    .ant-radio-button-wrapper:last-child {\n        border-radius: 0;\n    }\n    .ant-radio-button-wrapper:not(.ant-radio-button-wrapper-checked):first-child {\n        border-left-color: var(--sub-level-1);\n    }\n"]);return yo=function(){return e},e}const jo=Object(jn.a)(yo());function xo(){const e=Object(hn.a)(["\n    ","\n"]);return xo=function(){return e},e}const Oo=jn.b.div(xo(),jo),wo=(e,t)=>{let{onChange:n,value:o,optionList:i,children:l,suffix:c,className:d,strict:u=!1}=e;const[b,p]=Object(r.useState)(-1),m=Object(r.useRef)(null),f=i.length;return Object(r.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.focus()}}))),Object(a.jsxs)(Oo,{className:["ant-radio-group ant-radio-group-outline radio-train",d].join(" "),children:[l&&Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:l}),Object(a.jsx)("div",Object(s.a)(Object(s.a)({ref:m,className:"radio-train-input-group"},sn({setFocus:p,optionLength:f,onTrigger:()=>{const e=i[b];e&&n(e.value)}})),{},{children:i.map(((e,t)=>{let{value:r,props:i,label:l,tooltipProps:c}=e;const{className:d}=null!==i&&void 0!==i?i:{},p=u?r===o:"".concat(r)==="".concat(o);return Object(a.jsx)(yn.a,Object(s.a)(Object(s.a)({overlay:null},c),{},{children:Object(a.jsxs)("label",Object(s.a)(Object(s.a)({},i),{},{className:["ant-radio-button-wrapper",p?"ant-radio-button-wrapper-checked":"",null!==d&&void 0!==d?d:"",b===t?"radio-train-focused":""].join(" "),onClick:()=>n(r),children:[Object(a.jsx)("span",{className:"ant-radio-button ".concat(p?"ant-radio-button-checked":""),children:Object(a.jsx)("span",{className:"ant-radio-button-inner"})}),Object(a.jsx)("span",{className:"label",children:l})]}))}),r)}))})),c]})},ko=Object(r.forwardRef)(wo);var So=n(134),Fo=n(261),Co=n.n(Fo),To=n(526),Lo=n(527),No=n(528),Ro=n(489);function Io(){var e=Object(hn.a)(["\n    display: flex;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(#fafafaaa, #fafafaaa);\n    justify-content: center;\n    align-items: center;\n    z-index: 999;\n"]);return Io=function(){return e},e}var Eo=jn.b.div(Io()),Ao=function(){return Object(a.jsx)(Ro.a,{})};Ao.FullView=function(){return Object(a.jsx)(Eo,{className:"loading-fullview",children:Object(a.jsx)(Ro.a,{size:"large"})})};n(358),n(359);const Bo=(e,t,n)=>{if(!t)return e;const{width:a,height:r,x:o=0,y:i=0,unit:l}=e;if("px"===l){const e=.8,r=400/300,{width:l,height:c}=t,s=c/l>=e?r:1,d=Math.min((null!==o&&void 0!==o?o:0)*s,l),u=Math.min((null!==i&&void 0!==i?i:0)*s,c),b=Math.min((null!==a&&void 0!==a?a:0)*s,l);return{unit:"%",x:d/l*100,y:u/c*100,width:b/l*100,height:b/(null!==n&&void 0!==n?n:1)/c*100,aspect:n}}if(o<0)return Object(s.a)(Object(s.a)({},e),{},{x:0});if(i<0)return Object(s.a)(Object(s.a)({},e),{},{y:0});const{naturalHeight:c,naturalWidth:d}=t,u=null!==a&&void 0!==a?a:0,b=null!==r&&void 0!==r?r:0,p=.05*(c>d?c:d),m=Math.abs(b*c*n-u*d)<=p?b:u*t.naturalWidth/n/t.naturalHeight,f=m/100,h=f>1?100:m,g=f>1?u/f:u,v=f>1?(100-g)/2:o<0?0:o,y=f>1||i<0?0:i;return Object(s.a)(Object(s.a)({},e),{},{x:v,y:y,height:h,width:g,aspect:n})},zo=Object(r.forwardRef)(((e,t)=>{let{title:n,backgroundColor:o,className:i,forceFit:l,defaultSourceType:c,defaultInternalSource:d="",defaultExternalSource:u="",receivingCanvas:b,children:p,beforeCropper:m,defaultCropInfo:f,ratio:h,onSourceLoaded:g=(()=>{}),onSourceChange:v=(()=>{}),onCropChange:y=(()=>{}),onTainted:j=(()=>{}),onMaxSizeExceeded:x=(()=>{}),onForceFitChange:O=(()=>{})}=e;const w="offline"===c?"offline":"online",k=An(),S=Object(r.useRef)(null),[F]=Object(r.useState)("anonymous"),[C,T]=Object(r.useState)(0),[L,N]=Object(r.useState)(w),[R,I]=Object(r.useState)(w),[E,A]=Object(r.useState)(d),[B,z]=Object(r.useState)(!1),[D,W]=Object(r.useState)(null),[P,M]=Object(r.useState)(!1),[H,K]=Object(r.useState)(u),Y=Object(r.useRef)(null),[G,U]=Object(r.useState)({current:f,completed:null}),[X,V]=Object(r.useState)("%"===f.unit),{current:_,completed:q}=G,J=Object(r.useRef)({source:"",crop:null}),$=Object(r.useCallback)((e=>{if(z(!1),W(null),g(),Y.current=e,e.src===J.current.source&&J.current.crop){const t=Z.current;setTimeout((()=>{if(t!==Z.current||!J.current.crop)return;const n=Bo(J.current.crop,e,h);U({completed:n,current:n}),V(!0),J.current={source:"",crop:null}}),250)}else setTimeout((()=>{U((t=>{const n=Bo(t.current,e,h);return{completed:n,current:n}})),V(!0)}),250)}),[g,h]);Object(r.useEffect)((()=>{var e,t,n,a;const r=Y.current;if(!q||!b||!r)return;const{aspect:o}=q;b.style.transform="scale(2)";const i=b.getContext("2d");if(!i||"number"!==typeof o||o<=0)return;const{naturalHeight:c,naturalWidth:d}=r,u=d/r.width,p=c/r.height,m=null!==(e=q.unit)&&void 0!==e?e:"px",f=window.devicePixelRatio;i.setTransform(f,0,0,f,0,0);let h,g=Math.floor((null!==(t=q.width)&&void 0!==t?t:0)*("px"===m?u:d/100)),v=Math.min(d,g),j=Math.floor(g/o),x=Math.min(c,j),O=Math.min(d,Math.floor((null!==(n=q.x)&&void 0!==n?n:0)*("px"===m?u:d/100))),w=Math.min(c,Math.floor((null!==(a=q.y)&&void 0!==a?a:0)*("px"===m?p:c/100)));if(i.imageSmoothingQuality="high",!(v<=0||x<=0)){if(O+v>d||w+x>c||O<0||w<0||Math.abs((g-v)/v)>.01||Math.abs((j-x)/x)>.01){"width"===(o*c>d?"width":"height")?(v=d,x=v/o,O=0,w=(c-x)/2,h={unit:"%",aspect:o,height:x/c*100,width:v/d*100,x:0,y:w/c*100}):(v=c*o,x=c,O=(d-v)/2,w=0,h={unit:"%",aspect:o,height:x/c*100,width:v/d*100,x:O/d*100,y:0})}if(l){"width"===(o*c>d?"width":"height")?(v=d,x=v/o):(v=c*o,x=c),b.width=v,b.height=x,i.drawImage(r,0,0,d,c,0,0,v,x)}else{var k,S;b.width=null!==(k=v)&&void 0!==k?k:0,b.height=null!==(S=x)&&void 0!==S?S:0,i.drawImage(r,O,w,v,x,0,0,v,x)}"offline"===L&&(null!==E&&void 0!==E?E:"").length<=0||o===q.aspect&&y(q,L,P),h&&U((e=>Object(s.a)(Object(s.a)({},e),{},{current:h})))}}),[q,b,C,l]),Object(r.useEffect)((()=>{M(!1),U((e=>{if(null!=Y.current&&e.current){const t=Bo(e.current,Y.current,h);return{current:t,completed:t}}return e}))}),[h]);const Z=Object(r.useRef)(0);Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>B,hasImage:()=>"string"===typeof E&&E.length>0&&"offline"===L||"string"===typeof H&&H.length>0&&"online"===L,forceSource:(e,t,n)=>{const a="offline"===L?E:H;M(!1),a!==t&&(z(!0),N(e),I(e),v(e,t),"offline"===e?A(t):K(t)),V("%"===n.unit),Z.current+=1,J.current={source:t,crop:n},T((e=>e+1))}})));const Q="offline"===L&&(null!==E&&void 0!==E?E:"").length>0||"online"===L&&(null!==H&&void 0!==H?H:"").length>0,ee=b&&Q&&!B&&(null===q||void 0===q?void 0:q.width)&&(null===q||void 0===q?void 0:q.height);return Object(a.jsxs)("div",{className:"card-image-cropper ".concat(i),children:[Object(a.jsxs)("div",{className:"card-image-source-input",children:[p,Object(a.jsxs)("div",{className:"card-image-source-input-container",children:[Object(a.jsxs)("div",{className:"card-image-source-input-title",children:[Object(a.jsxs)("span",{className:"field-title",children:[n," ",Object(a.jsx)(Pr,{Icon:To.a,containerProps:{className:ee?"":"disabled"},tooltipProps:{overlay:ee?k["image-cropper.download"]:k["image-cropper.no-download"]},onClick:()=>ee&&b&&function(e,t){t&&e&&e.toBlob((e=>{if(null!==e){const t=window.URL.createObjectURL(e),n=document.createElement("a");n.download="crop-preview.png",n.href=URL.createObjectURL(e),n.click(),window.URL.revokeObjectURL(t)}}),"image/png",1)}(b,q)})]}),Object(a.jsxs)(qr.a.Group,{className:"card-image-source-type-input",onChange:e=>{const t=e.target.value;I(t),((null!==E&&void 0!==E?E:"").length>0&&"offline"===t||(null!==H&&void 0!==H?H:"").length>0&&"online"===t)&&(N(t),"offline"===t?v("offline",E):v("online",H))},value:R,children:[Object(a.jsx)(qr.a.Button,{value:"online",checked:"online"===R,children:k["image-cropper.source.online.tooltip"]}),Object(a.jsx)(yn.a,{title:Object(a.jsx)("div",{className:"image-warning",children:k["image-cropper.offline-warning"]}),children:Object(a.jsx)(qr.a.Button,{value:"offline",checked:"offline"===R,children:k["image-cropper.source.offline.tooltip"]})})]})]}),Object(a.jsxs)("div",{className:["card-image-input","online"===R?"":"input-inactive"].join(" "),children:[Object(a.jsx)(kr.a,{placeholder:k["image-cropper.placeholder"],value:H,onChange:e=>{const t=e.target.value;z(!0),N("online"),I("online"),v("online",t),K(t)},maxLength:512,allowClear:!0},"key"),Object(a.jsx)("div",{className:"online-image-tip",children:k["image-cropper.online-tip"]})]}),Object(a.jsxs)("div",{className:["card-image-input","offline"===R?"":"input-inactive"].join(" "),children:[Object(a.jsx)(kr.a,{ref:S,type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0],n=4;if(t.size<1024*n*1024){z(!0);const e=new FileReader;e.addEventListener("load",(()=>{"string"===typeof e.result&&(A(e.result),N("offline"),I("offline"),v("offline",e.result),z(!1))})),e.readAsDataURL(t)}else x(n)}else alert(k["image-cropper.not-found-warning"])},onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.setValue("")}}),Object(a.jsx)("hr",{}),k["image-cropper.offline-warning"]]})]})]}),m,Object(a.jsxs)("div",{className:"card-cropper",onKeyDown:()=>{M(!0)},children:[B&&Object(a.jsx)(Ao.FullView,{}),Q&&!D&&Object(a.jsxs)("div",{className:"card-image-option",children:[Object(a.jsx)("div",{className:fn("image-option force-fit-option",l?"option-active":""),onClick:()=>{M(!0),O(!l)},children:Object(a.jsx)(Lo.a,{})}),!l&&Object(a.jsx)("div",{className:"image-option alignment-center-option",onClick:()=>{M(!0),U((e=>{var t;const{width:n,x:a}=null!==(t=e.completed)&&void 0!==t?t:{};if("number"!==typeof n||"number"!==typeof a)return e;const r=Object(s.a)(Object(s.a)({},e.completed),{},{x:(100-n)/2});return{current:r,completed:r}}))},children:Object(a.jsx)(No.a,{})}),!l&&Object(a.jsx)("div",{className:"image-option alignment-middle-option",onClick:()=>{M(!0),U((e=>{var t;const{height:n,y:a}=null!==(t=e.completed)&&void 0!==t?t:{};if("number"!==typeof n||"number"!==typeof a)return e;const r=Object(s.a)(Object(s.a)({},e.completed),{},{y:(100-n)/2});return{current:r,completed:r}}))},children:Object(a.jsx)(No.a,{})})]}),(!Q||D)&&Object(a.jsx)(So.a,{description:k["image-cropper.not-found-warning"],image:null}),Object(a.jsx)(Co.a,{src:"offline"===L?E:H,disabled:l,className:l?"force-fitted":"",imageStyle:o?{backgroundColor:o}:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/transparent-tile.png")')},onImageLoaded:$,onImageError:()=>{if(J.current={source:"",crop:null},W("Image error"),z(!1),b)if("online"===L&&""===(null!==H&&void 0!==H?H:"")||"offline"===L&&""===(null!==E&&void 0!==E?E:"")){const{width:e,height:t}=b,n=b.getContext("2d");null===n||void 0===n||n.clearRect(0,0,e,t),q&&y(q,L,P),g()}else j();else j()},crop:_,onDragStart:()=>{M(!0)},onChange:(e,t)=>{const n=Y.current;J.current.crop||(X?U((e=>Object(s.a)(Object(s.a)({},e),{},{current:Bo(t,n,h)}))):(V(!0),U((t=>Object(s.a)(Object(s.a)({},t),{},{current:Bo(e,n,h)})))))},onComplete:(e,t)=>{J.current.crop||U((e=>Object(s.a)(Object(s.a)({},e),{},{completed:t})))},ruleOfThirds:!0,crossorigin:F},"".concat(L,"-").concat(X,"-").concat(C))]})]})}));function Do(){const e=Object(hn.a)(["\n    --link-arrow-icon-size: 16px;\n    --link-arrow-border-size: 8px;\n    --link-arrow-half-size: 13px;\n    --link-arrow-full-size: calc(var(--link-arrow-half-size) * 2);\n    --link-arrow-margin-inline: calc(var(--link-arrow-half-size) - var(--link-arrow-icon-size) / 2);\n    --link-arrow-margin-block: calc(var(--link-arrow-half-size) - var(--link-arrow-border-size) / 2);\n    font-weight: 500;\n    color: var(--color-vendor);\n    text-shadow: var(--ts);\n    padding: var(--spacing-sm);\n    background-color: var(--main-level-4);\n    box-shadow: var(--bs-block);\n    border-radius: var(--br-lg);\n    .title {\n        line-height: 0;\n        margin-bottom: var(--spacing-sm);\n    }\n    .container {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        grid-template-rows: 1fr 1fr 1fr;\n        width: calc(3 * var(--link-arrow-full-size));\n        height: calc(3 * var(--link-arrow-full-size));\n        column-gap: 0;\n        row-gap: 0;\n        background-color: var(--main-level-1);\n        box-shadow: 0 0 2px 1px #141414 inset;\n        border-radius: var(--br-lg);\n        margin: auto;\n        .link-marker-icon {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 0;\n            height: 0;\n            border-style: solid;\n            position: absolute;\n            margin: var(--link-arrow-margin-block) var(--link-arrow-margin-inline);\n            border-width: 0 var(--link-arrow-border-size) var(--link-arrow-border-size) var(--link-arrow-border-size);\n            border-color: transparent transparent #484848 transparent;\n            .anticon {\n                font-size: var(--link-arrow-icon-size);\n            }\n        }\n        .link-marker-button.marker-checked .link-marker-icon {\n            border-color: transparent transparent var(--sub-active) transparent;\n        }\n    }\n    .link-marker-reset {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .marker-checked {\n        color: var(--sub-active);\n    }\n    &.chooser-disabled {\n        .container {\n            background-color: var(--main-level-4);\n            box-shadow: 0 0 0 1px var(--sub-level-4) inset;\n            .link-marker-icon {\n                border-color: transparent transparent #585858 transparent;\n            }\n            .link-marker-button.marker-checked .link-marker-icon {\n                border-color: transparent transparent var(--sub-disabled) transparent;\n            }\n            .link-marker-reset .anticon {\n                color: var(--main-level-4);\n            }\n        }\n    }\n    &.chooser-active {\n        .link-marker-reset,\n        .link-marker-button {\n            cursor: pointer;\n            border-radius: var(--br-lg);\n            &:hover {\n                background-color: var(--sub-level-1);\n            }\n        }\n    }\n"]);return Do=function(){return e},e}const Wo=jn.b.div(Do()),Po=e=>{let{active:t,defaultValue:n=[],onChange:o=(()=>{}),onStatusChange:i}=e;const[l,c]=Object(r.useState)(n),s=An(),d=JSON.stringify(l);return Object(r.useEffect)((()=>{o(l)}),[d]),Object(a.jsxs)(Wo,{className:fn("link-marker-chooser",t?"chooser-active":"chooser-disabled"),children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)(Br.a,{checked:t,onChange:e=>i(e.target.checked),children:s["link-picker.label"]})}),Object(a.jsx)("div",{className:"container",children:[...Array(9)].map(((e,n)=>{const r="".concat(n+1);return"5"===r?Object(a.jsx)(yn.a,{overlay:t?s["link-picker.reset.tooltip"]:null,children:Object(a.jsx)("div",{className:"link-marker-reset",onClick:()=>{t&&c([])},children:Object(a.jsx)(h.a,{})})},"5"):Object(a.jsx)("div",{className:"link-marker-button marker-".concat(n+1," ").concat(l.includes(r)?"marker-checked":""),onClick:()=>{t&&c((e=>{let t=[...e];return t.includes(r)?t=t.filter((e=>e!==r)):t.push(r),t}))},children:Object(a.jsx)("div",{className:"link-marker-icon link-marker-icon-".concat(n+1),style:{transform:"rotate(".concat(he[n],"deg) translateY(-1px)")}})},r)}))})]})};function Mo(){const e=Object(hn.a)(["\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    background-color: var(--main-level-3);\n    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05); // Mimic antd\n    padding: var(--spacing-xs) 0;\n    color: var(--color);\n"]);return Mo=function(){return e},e}function Ho(){const e=Object(hn.a)(["\n    display: flex;\n    align-items: center;\n    padding: var(--spacing-xs) var(--spacing);\n    cursor: pointer;\n    &:hover {\n        background-color: var(--sub-active);\n    }\n    &.menu-active {\n        background-color: var(--main-active);\n        &:hover {\n            background-color: var(--sub-active);\n        }\n    }\n"]);return Ho=function(){return e},e}function Ko(){const e=Object(hn.a)(["\n    font-weight: 500;\n    border-color: transparent;\n    background-color: transparent;\n    color: var(--color-vendor);\n    text-shadow: var(--ts);\n    user-select: none;\n    display: inline-block;\n    height: 32px;\n    width: var(--width-label);\n    line-height: 30px;\n    position: relative;\n    min-width: var(--width-label);\n    text-align: right;\n    padding-right: var(--spacing-antd);\n"]);return Ko=function(){return e},e}const Yo=e=>Object(a.jsx)(Cr,{fallback:Object(a.jsx)(a.Fragment,{}),children:Object(a.jsx)(Sr.a,Object(s.a)({},e))}),Go=jn.b.div(Ko()),Uo=jn.b.div(Ho()),Xo={Container:jn.b.div(Mo()),Option:Uo};var Vo=n(177),_o=n.n(Vo),qo=n(529);function Jo(){const e=Object(hn.a)(["\n    position: relative;\n    .copiable-overlay {\n        align-items: center;\n        background-color: var(--color-contrast);\n        font-size: var(--fs);\n        font-weight: bold;\n        border-radius: var(--br);\n        color: var(--color);\n        display: flex;\n        height: 100%;\n        justify-content: center;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%;\n        z-index: 999;\n    }\n"]);return Jo=function(){return e},e}function $o(){const e=Object(hn.a)(["\n    "," {\n        font-size: var(--fs);\n        border-left: var(--bw) solid var(--main-primary);\n    }\n    .radio-train-input-group {\n        flex-wrap: wrap;\n    }\n    .export-container-result {\n        margin-top: var(--spacing-lg);\n        display: grid;\n        grid-template-columns: 115px auto;\n        gap: var(--spacing-lg);\n        align-items: center;\n    }\n    .partial-alert {\n        margin-top: var(--spacing-lg);\n        padding-bottom: var(--spacing-sm);\n        border-bottom: var(--bw) solid var(--sub-secondary);\n        + .export-container-result {\n            margin-top: var(--spacing-sm);\n        }\n    }\n    .inline-alert {\n        grid-row: span 2;\n        line-height: 1.25;\n    }\n    .export-input-raw {\n        grid-row: span 3;\n        height: 100%;\n    }\n"]);return $o=function(){return e},e}const Zo=jn.b.div($o(),On),Qo=Object(jn.b)(On)(Jo()),ei=e=>{let{data:t,children:n}=e;const[o,i]=Object(r.useState)(!1);return Object(a.jsxs)(Qo,{onClick:e=>{var n;e.stopPropagation(),n=t,_o()(n),i(!0),setTimeout((()=>{i(!1)}),1e3)},children:[o?Object(a.jsx)("div",{className:"copiable-overlay",children:Object(a.jsx)(qo.a,{})}):null,n]})},ti=e=>[{label:e["button.import.for-ygocarder.label"],value:"ygocarder",converter:Nt},{label:e["button.import.for-other.label"],value:"other",converter:Xt}],ni=Object(r.forwardRef)(((e,t)=>{let{artworkCanvas:n,onRequireExportData:o,onRequireDownload:i,allowHotkey:l,onClose:c}=e;const[d,u]=Object(r.useState)(!1),[b,p]=Object(r.useState)("ygocarder"),[m,f]=Object(r.useState)({other:{name:"",data:"",isPartial:!1},ygocarder:{name:"",data:"",isPartial:!1}}),h=An(),g="export-input-raw",v=Object(r.useCallback)((()=>{const e=document.getElementById(g);e&&(e.focus(),e.select())}),[]);Object(r.useImperativeHandle)(t,(()=>({setCardData:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&u(!0),f(ti(h).map((t=>{let{value:a,converter:r}=t;try{const{isPartial:t,result:o}=r(e,n);return{value:a,isPartial:t,name:At(e.name),data:"".concat(JSON.stringify(o))}}catch(o){return console.error(o),vn.a.error({message:h["error.export.message"],description:h["error.export.description"]}),{value:a,isPartial:!1,name:"Unknown",data:""}}})).reduce(((e,t)=>{let{data:n,isPartial:a,value:r,name:o}=t;return e[r]={name:o,data:n,isPartial:a},e}),Object(s.a)({},m)))}}))),Object(r.useEffect)((()=>{setTimeout((()=>{d&&"ygocarder"===b&&v()}),100)}),[b,v,d]);const{data:y,isPartial:j,name:x}=m[b];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(gn.a,{visible:d,title:h["button.export-modal.label"],className:"global-overlay",onCancel:()=>{u(!1),c()},cancelText:h["converter.cancel.label"],okButtonProps:{style:{display:"none"}},destroyOnClose:!1,children:Object(a.jsxs)(Zo,{children:[Object(a.jsx)(ko,{optionList:ti(h),onChange:e=>p(e),value:b}),"other"===b&&j&&Object(a.jsxs)("div",{className:"partial-alert",children:[Object(a.jsx)("b",{children:h["service.decode.partial.message"]}),Object(a.jsx)("br",{}),h["service.decode.partial.description"]]}),Object(a.jsxs)("div",{className:"export-container-result",children:[Object(a.jsx)(On,{onClick:()=>{const e=new Blob([y],{type:"application/json"});Dt(At(x),e,"application/json")},children:h["button.export-modal.download-button.label"]}),"ygocarder"===b&&!j&&Object(a.jsx)(kr.a.TextArea,{id:g,className:"export-input-raw",size:"small",value:m.ygocarder.data}),"ygocarder"===b&&!j&&Object(a.jsx)(ei,{data:m.ygocarder.data,children:h["button.export-modal.copy-button.label"]}),("other"===b||"ygocarder"===b&&j)&&Object(a.jsx)("div",{className:"inline-alert",children:h["prompt.export.offline-warning.message"]}),Object(a.jsx)(On,{onClick:i,children:h["button.export-modal.save-button.label"]})]})]})}),Object(a.jsx)(yn.a,{overlay:l?Object(a.jsx)(a.Fragment,{children:"Ctrl-D / \u2318-D"}):null,children:Object(a.jsx)("button",{className:"primary-button export-button",onClick:()=>{o(),u(!0)},children:h["button.export.label"]})}),Object(a.jsx)(fr.a,{overlay:Object(a.jsx)(pr.a,{onClick:e=>e.domEvent.stopPropagation(),children:ti(h).map(((e,t)=>{let{converter:r,label:o}=e;return Object(a.jsx)(pr.a.Item,{onClick:()=>{try{const e=ca.getState().card,{result:t}=r(e,n);((e,t)=>{const n=new Blob([t],{type:"application/json"});Dt(At(e),n,"application/json")})(At(e.name),"".concat(JSON.stringify(t)))}catch(e){console.error(e),vn.a.error({message:h["error.export.message"],description:h["error.export.description"]})}},children:o},"".concat(t))}))}),children:Object(a.jsx)(On,{className:"secondary-button export-custom",children:Object(a.jsx)(To.a,{})})})]})}));var ai=n(530);function ri(){const e=Object(hn.a)(["\n    .ant-dropdown-menu-item {\n        padding: 0;\n    }\n    .import-upload-button {\n        /** Mimic antd */\n        cursor: pointer;\n        padding: 5px 12px;\n        background: transparent;\n        border: none;\n        width: 100%;\n        text-align: left;\n    }\n    .import-upload-input {\n        display: none;\n    }\n"]);return ri=function(){return e},e}function oi(){const e=Object(hn.a)(["\n    .prompt-alert {\n        margin-bottom: var(--spacing-sm);\n        .alert {\n            color: var(--main-danger);\n        }\n    }\n    .import-container-upload {\n        margin-top: var(--spacing-sm);\n        text-align: center;\n        .import-custom {\n            font-size: var(--fs);\n            margin-left: var(--spacing);\n        }\n        "," {\n            background-color: var(--main-level-4);\n            border: var(--bw) solid var(--color-contrast);\n            &:hover {\n                background-color: var(--sub-level-4);\n            }\n        }\n    }\n"]);return oi=function(){return e},e}const ii=jn.b.div(oi(),On),li=Object(r.forwardRef)(((e,t)=>{let{allowHotkey:n,language:o,onImport:i,onClose:l}=e;const c="import-direct-upload",d="import-upload",u="import-textarea",b=Object(r.useRef)(null),p=Object(r.useRef)(null),[m,f]=Object(r.useState)(0),[h,g]=Object(r.useState)("replace"),[v,y]=Object(r.useState)(!1),[j,x]=Object(r.useState)(!1),O=Object(r.useCallback)((()=>{const e=document.getElementById(u);e&&(e.focus(),e.select())}),[]);Object(r.useEffect)((()=>{setTimeout((()=>{v&&O()}),100)}),[O,v]),Object(r.useImperativeHandle)(t,(()=>({requestImport:e=>{g(e),y(!0)}})));const w=()=>{f((e=>e+1)),y(!1),x(!1),l()},k=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(e){const{card:a,isPartial:r}=ia(e,"replace"===h?void 0:ca.getState().card);if(r&&vn.a.info({message:o["service.decode.partial.message"],description:o["service.decode.partial.description"]}),t&&"online"===a.artSource&&zt(a.art)){const e=Object(s.a)({},a);try{const t=await cn(a.art);if(200!==t.status)throw e.art="https://i.imgur.com/jjtCuG5.png",new Error("Imgur response status: "+t.status);const n=await t.json();e.art=n.data.link}catch(n){console.error("Upload error:",n),vn.a.error({message:o["prompt.import.imgur.message"],description:o["prompt.import.imgur.description"]})}i(e,{forcePurityCheck:!0,writeOnCurrentCard:"new"!==h,addToList:"new"===h})}else i(a,{forcePurityCheck:!0,writeOnCurrentCard:"new"!==h,addToList:"new"===h})}}catch(n){console.error("Import error:",n),vn.a.error({message:o["error.import.error.message"],description:o["error.import.error.description"]})}},S=e=>{if(e)for(let t=0;t<=e.length;t++){const n=e.item(t);if(!n)continue;const a=new FileReader;a.onload=e=>{let{target:t}=e;if(!t)return;const{result:n}=t;"string"===typeof n&&k(n)},a.readAsText(n);break}},F=async()=>{try{const a=document.getElementById(u);if(a){var e;const{value:r}=a,o=null!==(e=r.trim())&&void 0!==e?e:"";let i="";try{i=xt(decodeURIComponent(o))}catch(n){}let l=null;if(o.startsWith("{")&&o.endsWith("}"))l=o;else if(i.startsWith("{")&&i.endsWith("}"))l=JSON.parse(i);else{var t;const e=o.startsWith("https://db.ygoprodeck.com/api")?o:"https://db.ygoprodeck.com/api/v7/cardinfo.php?fname=".concat(o,"&num=10&offset=0&misc=yes");x(!0);const n=await fetch(e);if(!n.ok)throw new Error("Response status: ".concat(n.status));const a=await n.json();l=null!==(t=a.data.find((e=>{let{name:t}=e;return t.toLowerCase()===o.toLowerCase()})))&&void 0!==t?t:a.data.sort(((e,t)=>{var n,a;const r=null===(n=e.misc_info)||void 0===n?void 0:n[0],o=null===(a=t.misc_info)||void 0===a?void 0:a[0];if(!r||!o)return 0;return(r.viewsweek+1)/(o.viewsweek+1)>2?o.viewsweek-r.viewsweek:o.views-r.views}))[0]}await k(l,!0)}}catch(n){console.error("Import error:",n),vn.a.error({message:o["error.import.error.message"],description:o["error.import.error.description"]})}finally{w()}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(gn.a,{visible:v,title:"merge"===h?o["button.import.merge.label"]:o["button.import.label"],className:"global-overlay",onCancel:w,okText:o["prompt.import.ok.label"],confirmLoading:j,cancelButtonProps:{style:{display:"none"}},destroyOnClose:!1,onOk:F,children:Object(a.jsxs)(ii,{children:["merge"!==h?Object(a.jsxs)("div",{className:"prompt-alert",children:[o["prompt.import.instruction.line-1"],Object(a.jsx)("br",{}),o["prompt.import.instruction.line-2"],Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"alert",children:o["prompt.import.instruction.alert.line-1"]})]}):null,Object(a.jsx)("div",{className:"import-container-input",children:Object(a.jsx)(kr.a.TextArea,{id:u,className:"import-input-raw",size:"small",placeholder:o["prompt.import.message"],disabled:j,onPressEnter:F,rows:4},"input-".concat(m))}),"merge"!==h?Object(a.jsxs)("div",{className:"import-container-upload",children:[Object(a.jsx)("span",{children:o["prompt.import.alternative.label"]}),Object(a.jsxs)(On,{className:"import-custom",onClick:()=>{const e=document.getElementById(d);e&&e.click()},children:[Object(a.jsx)("input",{ref:p,type:"file",id:d,accept:"application/json",className:"import-upload-input",onChange:()=>{var e;const t=null===(e=p.current)||void 0===e?void 0:e.files;S(t),w()}},"file-input-".concat(m)),o["button.import.tooltip"]]})]}):null]})}),Object(a.jsx)(yn.a,{overlay:n?Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("div",{children:"Ctrl-E / \u2318-E"}),Object(a.jsxs)("div",{children:["Ctrl-G / \u2318-G",o["prompt.import.merge.tooltip"]]})]}):null,children:Object(a.jsx)("button",{className:"primary-button import-button",onClick:()=>{g("replace"),y(!0)},children:o["button.import.label"]})}),Object(a.jsx)(yn.a,{overlay:o["button.import.tooltip"],children:Object(a.jsxs)(On,{className:"secondary-button import-custom",onClick:()=>{const e=document.getElementById(c);e&&e.click()},children:[Object(a.jsx)("input",{ref:b,type:"file",id:c,accept:"application/json",className:"import-upload-input",onChange:()=>{var e;const t=null===(e=b.current)||void 0===e?void 0:e.files;S(t),w()}},"direct-file-input-".concat(m)),Object(a.jsx)(ai.a,{})]})})]})})),ci=(Object(jn.b)(pr.a)(ri()),[{label:"OCG",value:"ocg",props:{className:"ocg-button",style:{fontWeight:"bold"}}},{label:"TCG",value:"tcg",props:{className:"tcg-button",style:{fontWeight:"bold"}}}]),si=Object.values(M).map((e=>{let{value:t,label:n}=e;return{label:n,value:t}})),di=[{value:"normal",label:Object(a.jsx)(h.a,{})},...Object.values(H).map((e=>{let{value:t,label:n}=e;return{label:n,value:t}}))],ui=()=>me.map((e=>{let{name:t,nameKey:n,labelBackgroundColor:r,labelBackgroundColorList:o,edition:i}=e;return{label:Object(a.jsx)(vo,{labelBackgroundColor:r,labelBackgroundColorList:o,nameKey:n}),value:t,edition:i}})),bi=[...Array(14)].map(((e,t)=>({label:t,value:t}))),pi=O.map((e=>{let{value:t}=e;return{label:t===x?Object(a.jsx)(h.a,{}):Object(a.jsx)("img",{alt:t,src:"".concat("/ygocarder","/asset/image/sticker/sticker-").concat(t.toLowerCase(),".png")}),value:t}})),mi=Object.entries({veryStrict:{label:"5",order:1},strict:{label:"4",order:2},loose:{label:"3",order:3},veryLoose:{label:"2",order:4},relaxed:{label:"1",order:5}}).map((e=>{let[t,{label:n,order:a}]=e;return{label:n,value:t,order:a}})).sort(((e,t)=>e.order-t.order));function fi(){const e=Object(hn.a)(["\n    z-index: 10;\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    align-items: center;\n    column-gap: var(--spacing-sm);\n\n    .char-picker {\n        z-index: 1;\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));\n        button.ant-btn {\n            padding: 0 var(--spacing-xs);\n        }\n        .handler,\n        .ant-btn {\n            background-color: var(--main-level-1);\n            color: var(--color-heavy);\n            text-shadow: var(--ts);\n            font-family: Segoe UI Symbol, sans-serif;\n            border: 1px solid var(--sub-level-1);\n            border-radius: 0;\n            padding: 0 var(--spacing);\n            + .ant-btn {\n                border-left-width: 0;\n            }\n            &:hover {\n                color: var(--main-active);\n            }\n            &:first-child {\n                border-radius: var(--br) 0 0 var(--br);\n            }\n            &:last-child {\n                border-radius: 0 var(--br) var(--br) 0;\n            }\n        }\n        /** Currently char picker no longer movable */\n        /* .handler {\n            cursor: grabbing;\n            background-color: var(--main-level-2);\n            height: unset;\n            font-size: var(--fs-xl);\n            height: var(--fs-xl);\n            line-height: 1;\n            padding: 0;\n            text-align: center;\n        } */\n    }\n    .moveable-control-box {\n        .moveable-control.moveable-origin,\n        .moveable-line.moveable-direction {\n            border-color: transparent;\n            background: none;\n        }\n    }\n"]);return fi=function(){return e},e}const hi=jn.b.div(fi()),gi=e=>{let{targetId:t="",onPick:n=(()=>{})}=e;const r=An(),o=e=>{const a=document.getElementById(t);if(a){const{value:t}=function(e,t){if(document.selection)return e.focus(),document.selection.createRange().text=t,{value:e.value,position:0};if(e.selectionStart||0===e.selectionStart){const n=e.selectionStart,a=e.selectionEnd;return e.value=e.value.substring(0,n)+t+e.value.substring(a,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.focus(),{value:e.value,position:n+t.length}}return e.value+=t,{value:e.value,position:0}}(a,e);n(t,e)}};return Object(a.jsxs)(hi,{tabIndex:-1,className:"char-picker-container",children:[Object(a.jsx)("div",{id:"char-picker",className:"char-picker",children:["\u221e","\u2606","\u25cf","\xa9","\u2122","\u2c6f","\u042f","\u203b"].map((e=>Object(a.jsx)("button",{tabIndex:-1,className:"ant-btn",onClick:()=>o(e),children:e},e)))}),Object(a.jsx)("div",{className:"char-picker-guideline",children:Object(a.jsx)(Er,{content:Object(a.jsxs)(a.Fragment,{children:[r["input.char-picker.guide.header"],Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:r["input.char-picker.guide.instruction-1"]}),Object(a.jsx)("li",{children:r["input.char-picker.guide.instruction-2"]})]})]})})})]})};var vi=n(86),yi=n(531),ji=n(513),xi=n(210);n(473),n(474);const Oi=Object(r.forwardRef)(((e,t)=>{let{disabled:n,color:o,onSelect:i,onOffsetChange:l,onRemove:c}=e;const s=An(),[d,u]=Object(r.useState)(o),[b,p]=Object(r.useState)(0),[m,f]=Object(r.useState)(-1),h=Object(r.useRef)(Ln()(p,250)).current;return Object(r.useImperativeHandle)(t,(()=>({setColor:e=>{if(e){const{color:t,offset:n,id:a}=e,{min:r,max:o,round:i}=Math;u(t),p(o(0,r(100,i(100*parseFloat(n))))),f(a)}},setCurrentOffset:(e,t)=>{const{min:n,max:a,round:r}=Math;e===m&&p(a(0,n(100,r(100*parseFloat(t)))))}}))),Object(r.useEffect)((()=>{m>0&&(null===l||void 0===l||l(m,"".concat(b/100)))}),[m,b,l]),Object(a.jsxs)("div",{className:"stop-point-control-panel",children:[Object(a.jsxs)("div",{className:"stop-point-offset-input",children:[Object(a.jsxs)("div",{children:[s["input.name-style.gradient.color-stop.label"],": ",Object(a.jsx)(ji.a,{value:b,size:"small",max:100,min:0,onChange:e=>h("string"===typeof e?parseInt(e):null!==e&&void 0!==e?e:0)})]}),Object(a.jsx)(mr.a,{className:"remove-stop-color",size:"small",disabled:n,onClick:()=>null===c||void 0===c?void 0:c(m),children:s["input.name-style.gradient.color-remove.label"]})]}),Object(a.jsx)(vi.a,{styles:{default:{picker:{color:"#000000",background:"var(--main-level-3)",boxShadow:"none"},body:{padding:"var(--spacing) var(--spacing)"}}},disableAlpha:!0,color:d,onChange:e=>u(e.hex),onChangeComplete:e=>{u(e.hex),null===i||void 0===i||i(e.hex)}})]})})),wi=e=>({colorList:e,raw:on(e)}),ki=e=>{var t,n;let{palette:o=on(rn()),angle:i=180,memoizedOnChange:l}=e;const c=An(),d=Object(r.useRef)(null),[u,b]=Object(r.useState)(i),[p,m]=Object(r.useState)((()=>{var e,t;const n=ln(o);return{raw:o,colorList:n,currentControlId:null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1}})),f=Object(r.useCallback)(((e,t)=>m((n=>{const a=n.colorList.map((n=>n.id===e?Object(s.a)(Object(s.a)({},n),{},{offset:t}):n));return Object(s.a)(Object(s.a)({},n),wi(a))}))),[]);Object(r.useEffect)((()=>{b(i)}),[i]),Object(r.useEffect)((()=>{var e,t;const n=ln(o);m({raw:o,colorList:n,currentControlId:null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1})}),[o]);const h=Object(r.useRef)(!1);return Object(r.useEffect)((()=>{var e;p.colorList[0]&&h.current&&(h.current=!0,null===(e=d.current)||void 0===e||e.setColor(p.colorList[0]))}),[p.colorList]),Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{const{colorList:t,currentControlId:n}=p;if(e&&n>=0){var a;const e=t.find((e=>e.id===n));e&&(null===(a=d.current)||void 0===a||a.setCurrentOffset(n,e.offset))}}),100),()=>{e=!1}}),[p]),Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&l(p.colorList,u)}),200),()=>{e=!1}}),[p,u,l]),Object(a.jsxs)("div",{className:"controls-wrapper gradient-picker-container",children:[Object(a.jsxs)("div",{className:"gradient-angle-control",children:[Object(a.jsx)("h2",{children:c["input.name-style.gradient.color-point.label"]}),Object(a.jsxs)(mr.a,{size:"small",className:"add-stop-color",disabled:(null!==(t=null===(n=p.colorList)||void 0===n?void 0:n.length)&&void 0!==t?t:1e4)>20,onClick:()=>{m((e=>{const t=[...e.colorList,{offset:"0.5",color:"#ffffff",id:e.colorList.length+1}].sort(((e,t)=>Number(e.offset)-Number(t.offset)));return Object(s.a)(Object(s.a)({},e),wi(t))}))},children:[c["input.name-style.gradient.add-point.label"]," (",p.colorList.length,"/",20,")"]}),Object(a.jsxs)("div",{className:"angle-picker-container",children:[Object(a.jsx)("h2",{children:c["input.name-style.gradient.gradient-direction.label"]}),Object(a.jsx)(xi.AnglePicker,{angle:u,size:120,setAngle:b})]})]}),Object(a.jsx)("div",{className:"stop-color-picker-container",children:Object(a.jsx)(xi.GradientPicker,Object(s.a)(Object(s.a)({},{width:370,paletteHeight:32,maxStops:20,minStops:2,stopRemovalDrop:99999,palette:p.colorList,onPaletteChange:e=>m((t=>Object(s.a)(Object(s.a)({},t),wi(e)))),onColorStopSelect:e=>{var t;m((t=>Object(s.a)(Object(s.a)({},t),{},{currentControlId:e.id}))),null===(t=d.current)||void 0===t||t.setColor(e)}}),{},{children:Object(a.jsx)(Oi,{ref:d,disabled:p.colorList.length<=1,onOffsetChange:f,onRemove:e=>{m((t=>{var n;const a=t.colorList.filter((t=>t.id!==e)),r=null!==(n=null===a||void 0===a?void 0:a[0].id)&&void 0!==n?n:-1;var o;r>0&&p.colorList[r]&&(null===(o=d.current)||void 0===o||o.setColor(p.colorList[r]));return Object(s.a)(Object(s.a)({},wi(a)),{},{currentControlId:r})}))}})}))})]})};function Si(){var e=Object(hn.a)(["\n    line-height: 0;\n    cursor: pointer;\n    min-height: 26.13px;\n    &.menu-active {\n        outline: var(--bw-lg) solid var(--main-active);\n        &:hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.preset-item-focused {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    :hover {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    img {\n        max-width: 100%;\n    }\n"]);return Si=function(){return e},e}function Fi(){var e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: repeat(4, 120px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    &:focus-visible {\n        outline: none;\n        box-shadow: 0 0 0 2px var(--focus) inset;\n    }\n"]);return Fi=function(){return e},e}function Ci(){var e=Object(hn.a)(["\n    line-height: 0;\n    cursor: pointer;\n    align-self: center;\n    text-align: center;\n    &:not(.menu-off) {\n        min-height: 23.2px;\n        &.menu-active {\n            outline: var(--bw-lg) solid var(--main-active);\n            &:hover {\n                outline: var(--bw-lg) solid var(--sub-active);\n            }\n        }\n        :hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.menu-off {\n        &:hover {\n            color: var(--main-link);\n            .anticon {\n                color: var(--main-link);\n            }\n        }\n    }\n    img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n    }\n"]);return Ci=function(){return e},e}function Ti(){var e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 200px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    .alert {\n        grid-column: span 2;\n        font-size: var(--fs-sm);\n        text-align: center;\n    }\n"]);return Ti=function(){return e},e}function Li(){var e=Object(hn.a)(["\n    background-color: var(--main-level-4);\n    ","\n    padding: var(--spacing-xxs) var(--spacing-xs);\n    margin: calc(-1 * var(--spacing-xxs)) 0;\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n    color: var(--color-heavy);\n    cursor: pointer;\n    ","\n    &:hover {\n        background-color: var(--sub-level-4);\n    }\n"]);return Li=function(){return e},e}var Ni=jn.b.div(Li(),(function(e){return e.$active?"border: var(--bw) solid var(--main-active);":"border: var(--bw) solid var(--sub-level-1);"}),(function(e){var t=e.$softMode,n=e.$active;return t?"\n                border: var(--bw) solid var(--main-level-4);\n                ".concat(n?"outline: var(--bw) solid var(--main-active);":"","\n            "):""})),Ri=Object(jn.b)(Xo.Container)(Ti()),Ii=jn.b.div(Ci()),Ei=Object(jn.b)(Xo.Container)(Fi()),Ai=jn.b.div(Si()),Bi=n(279);const zi=Object(r.forwardRef)(((e,t)=>{let{className:n,defaultValue:o,fieldMap:i,labelMap:l,onChange:c}=e;const d=An(),{x:u,y:b,color:p,width:m}=i,[f,h]=Object(r.useState)((()=>{const e=o[u],t=o[b],n=o[p],a=o[m];return{x:null!==e&&void 0!==e?e:0,y:null!==t&&void 0!==t?t:0,width:null!==a&&void 0!==a?a:0,color:n}})),{x:g,y:v,color:y,width:j}=f,x=l[m];return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&c(f)}),500),()=>{e=!1}}),[f]),Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{const t=Object.keys(e);for(const n in t)if(e[n]!==f[n])return void h((t=>Object(s.a)(Object(s.a)({},t),e)))}}))),Object(a.jsxs)("div",{className:n,children:[Object(a.jsx)("h2",{children:d["input.name-style.slider.position.label"]}),Object(a.jsxs)("div",{className:"line-position",children:[Object(a.jsx)(Bi.a,{axis:"xy",styles:{track:{backgroundColor:"var(--main-slider)",width:100,height:100,gridRow:"span 3",position:"relative"},thumb:{backgroundColor:"var(--sub-slider)",zIndex:10}},xmax:5,xmin:-5,ymax:5,ymin:-5,x:null!==g&&void 0!==g?g:0,y:null!==v&&void 0!==v?v:0,onChange:e=>{let{x:t,y:n}=e;return h((e=>Object(s.a)(Object(s.a)({},e),{},{x:t,y:n})))}}),Object(a.jsxs)("div",{className:"single-slider",children:[d["input.name-style.slider.x-offset.label"],": ",Object(a.jsx)(ji.a,{size:"small",value:g,onChange:e=>h((t=>Object(s.a)(Object(s.a)({},t),{},{x:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})))})]}),Object(a.jsxs)("div",{className:"single-slider",children:[d["input.name-style.slider.y-offset.label"],": ",Object(a.jsx)(ji.a,{size:"small",value:v,onChange:e=>h((t=>Object(s.a)(Object(s.a)({},t),{},{y:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})))})]}),Object(a.jsxs)("div",{className:"single-slider",children:[x,": ",Object(a.jsx)(Yo,{value:j,min:1,max:10,onChange:e=>{"number"===typeof e&&h((t=>Object(s.a)(Object(s.a)({},t),{},{width:e})))}})]})]}),Object(a.jsx)("h2",{children:d["input.name-style.slider.color.label"]}),Object(a.jsx)(vi.b,{colors:ut,color:y,onChangeComplete:e=>h((t=>Object(s.a)(Object(s.a)({},t),{},{color:e.hex})))})]})})),Di=Object(r.forwardRef)(((e,t)=>{let{active:n,value:o,onClick:i,onCancel:l}=e;const c=Object(r.useRef)(null),[d,u]=Object(r.useState)(0);return Object(r.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}}))),Object(a.jsx)(Ei,Object(s.a)(Object(s.a)({ref:c},sn({stopPropagation:!0,optionLength:C.length,setFocus:u,onTrigger:()=>{d>=0&&i(C[d])},onCancel:()=>{null===l||void 0===l||l()}})),{},{children:C.map(((e,t)=>{const{key:r,image:l,label:c}=e;return Object(a.jsx)(Ai,{className:fn("preset-item",o.preset===r&&n?"menu-active":"",d===t?"preset-item-focused":""),onClick:t=>{t.stopPropagation(),i(e)},children:Object(a.jsx)("img",{className:"preset-preview",src:"".concat("/ygocarder","/").concat(l),alt:c})},r)}))}))}));n(480);var Wi=Object(r.forwardRef)((function(e,t){var n=e.frameInfo,o=e.defaultType,i=e.defaultValue,l=e.showExtraDecorativeOption,c=e.onChange,d=An(),u=Object(r.useRef)(null),b=Object(r.useState)(-1),p=Object(an.a)(b,2),m=p[0],f=p[1],g=Object(r.useState)(!1),v=Object(an.a)(g,2),y=v[0],j=v[1],x=Object(r.useState)(o),O=Object(an.a)(x,2),w=O[0],k=O[1],S=Object(r.useState)(i),C=Object(an.a)(S,2),T=C[0],N=C[1],R=function(){var e=Object(r.useState)(0),t=Object(an.a)(e,2),n=t[0],a=t[1];return[Object(r.useCallback)((function(){a((function(e){return e+1}))}),[]),n]}(),I=Object(an.a)(R,2),E=I[0],A=I[1],B=Object(r.useRef)(Ln()(c,250)).current,z=Object(r.useCallback)((function(e,t){N((function(n){return Object(s.a)(Object(s.a)({},n),{},{gradientAngle:t,gradientColor:on(e)})})),E()}),[E]),D=sa((function(e){return e.setting.reduceMotionColor})),W=Object(r.useMemo)((function(){return e=d,Object.values(ne).map((t=>{let{value:n,labelKey:a}=t;return{label:e[a],value:n}}));var e}),[d]);Object(r.useEffect)((function(){0!==A&&(k("custom"),B("custom",T))}),[A]);var P=Object(r.useRef)(null),M=Object(r.useRef)(null);Object(r.useImperativeHandle)(t,(function(){return{setValue:function(e){var t,n;N((function(t){return Object(s.a)(Object(s.a)({},t),e)}));var a=e.lineColor,r=e.lineWidth,o=e.lineOffsetX,i=e.lineOffsetY,l=e.shadowBlur,c=e.shadowColor,d=e.shadowOffsetX,u=e.shadowOffsetY;null===(t=P.current)||void 0===t||t.setValue({x:d,y:u,width:l,color:c}),null===(n=M.current)||void 0===n||n.setValue({x:o,y:i,width:r,color:a})}}}));var H=T.fillStyle,K=T.headTextFillStyle,Y=T.hasOutline,G=T.hasShadow,U=T.hasGradient,X=T.gradientColor,V=T.gradientAngle,_=T.pattern,q=T.font,J=null!==n&&void 0!==n?n:{},$={background:J.labelBackgroundColor,backgroundImage:J.labelBackgroundImage},Z="custom"===w,Q="predefined"===w,ee="name-style-option-input-container",te=function(){k("auto"),"auto"!==w&&B("auto",T)},ae=function(){var e,t=T.preset?null===(e=F[T.preset])||void 0===e?void 0:e.value:{};k("predefined"),N((function(e){return Object(s.a)(Object(s.a)({},e),t)})),B("predefined",Object(s.a)(Object(s.a)({},T),t))},re=function(){k("custom"),"custom"!==w&&B("custom",T)};return Object(a.jsx)("div",{className:"ant-input-group-wrapper text-style-input",children:Object(a.jsxs)("span",{className:"ant-input-wrapper ant-input-group",children:[Object(a.jsx)("span",{className:"ant-input-group-addon",children:d["input.name-style.label"]}),Object(a.jsxs)("span",{className:"name-style-input-container",children:[Object(a.jsxs)("div",Object(s.a)(Object(s.a)({id:ee,className:"ant-radio-group ant-radio-group-outline name-style-option-input-container"},sn({setFocus:f,optionLength:3,onKeyPress:function(e){if(1===m&&("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key))return e.preventDefault(),f(1),j(!0),setTimeout((function(){var e;1===m&&(null===(e=u.current)||void 0===e||e.focus())}),200),!1},onTrigger:function(){0===m&&te(),1===m&&ae(),2===m&&re()}})),{},{children:[Object(a.jsxs)("label",{className:fn("ant-radio-wrapper","auto"===w&&"ant-radio-wrapper-checked",0===m&&"ant-radio-focused"),onClick:function(){return te()},children:[Object(a.jsxs)("span",{className:"ant-radio ".concat("auto"===w?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"auto"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label",children:d["input.name-style.type.auto.label"]})]}),Object(a.jsx)("span",{className:"name-style-option-break"}),Object(a.jsx)("label",{className:fn("ant-radio-wrapper",Q&&"ant-radio-wrapper-checked",1===m&&"ant-radio-focused"),onClick:function(){return ae()},children:Object(a.jsx)(Rr.a,{visible:y,onVisibleChange:j,trigger:["hover","click"],placement:"bottomLeft",overlayClassName:"predefined-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Di,{ref:u,active:Q,value:T,onCancel:function(){var e;j(!1),null===(e=document.getElementById(ee))||void 0===e||e.focus()},onClick:function(e){var t,n=e.key,a=n?null===(t=F[n])||void 0===t?void 0:t.value:{};k("predefined"),N((function(e){return Object(s.a)(Object(s.a)({},e),a)})),B("predefined",Object(s.a)(Object(s.a)({},T),a))}})}),children:Object(a.jsxs)("span",{className:"name-style-option-label",children:[Object(a.jsxs)("span",{className:"ant-radio ".concat(Q?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"predefined"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label",children:d["input.name-style.type.predefined.label"]})]})})}),Object(a.jsx)("span",{className:"name-style-option-break"}),Object(a.jsx)("label",{className:fn("ant-radio-wrapper",Z&&"ant-radio-wrapper-checked",2===m&&"ant-radio-focused"),onClick:function(){return re()},children:Object(a.jsxs)("span",{children:[Object(a.jsxs)("span",{className:"ant-radio ".concat(Z?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"custom"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label ant-radio-label-custom",children:d["input.name-style.type.custom.label"]})]})})]})),Object(a.jsxs)("div",{className:"style-picker",children:[Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsxs)("div",{className:"custom-style-text",children:[Object(a.jsx)("h3",{children:d["input.name-style.color.text.label"]}),Object(a.jsx)(vi.b,{colors:ut,color:H,onChangeComplete:function(e){k("custom"),N((function(t){return Object(s.a)(Object(s.a)({},t),{},{fillStyle:e.hex})})),E()}})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"custom-style-text",children:[Object(a.jsx)("h3",{children:d["input.name-style.color.ruby.label"]}),Object(a.jsx)(vi.b,{colors:ut,color:K,onChangeComplete:function(e){k("custom"),N((function(t){return Object(s.a)(Object(s.a)({},t),{},{headTextFillStyle:e.hex})})),E()}})]})]})}),placement:"bottom",children:Object(a.jsxs)(Ni,{$softMode:D,className:"picker-dropdown color-picker-dropdown",children:[d["input.name-style.color.label"]," ",Object(a.jsx)(yi.a,{})]})},"color-picker"),l&&Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Br.a,{value:"has-shadow",checked:G,onChange:function(){k("custom"),N((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasShadow:!e.hasShadow})})),E()},children:d["input.name-style.shadow.toggle.label"]})}),G&&Object(a.jsx)(zi,{ref:P,className:"custom-style-shadow",fieldMap:{color:"shadowColor",width:"shadowBlur",x:"shadowOffsetX",y:"shadowOffsetY"},labelMap:{shadowBlur:d["input.name-style.slider.blur.label"]},defaultValue:T,onChange:function(e){var t=e.color,n=e.width,a=e.x,r=e.y;N((function(e){return Object(s.a)(Object(s.a)({},e),{},{shadowBlur:n,shadowColor:t,shadowOffsetX:a,shadowOffsetY:r})})),E()}})]})}),placement:"bottom",children:Object(a.jsxs)(Ni,{$softMode:D,$active:Z&&G,className:"picker-dropdown shadow-picker-dropdown",children:[d["input.name-style.shadow.label"]," ",Object(a.jsx)(yi.a,{})]})},"shadow-picker"),Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Br.a,{value:"has-line",checked:Y,onChange:function(){k("custom"),N((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasOutline:!e.hasOutline})})),E()},children:d["input.name-style.outline.toggle.label"]})}),Y&&Object(a.jsx)(zi,{ref:M,className:"custom-style-line",fieldMap:{color:"lineColor",width:"lineWidth",x:"lineOffsetX",y:"lineOffsetY"},labelMap:{lineWidth:d["input.name-style.slider.thickness.label"]},defaultValue:T,onChange:function(e){var t=e.color,n=e.width,a=e.x,r=e.y;N((function(e){return Object(s.a)(Object(s.a)({},e),{},{lineWidth:n,lineColor:t,lineOffsetX:a,lineOffsetY:r})})),E()}})]})}),placement:"bottom",children:Object(a.jsxs)(Ni,{$softMode:D,$active:Z&&Y,className:"picker-dropdown outline-picker-dropdown",children:[d["input.name-style.outline.label"]," ",Object(a.jsx)(yi.a,{})]})},"outline-picker"),l&&Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(Br.a,{value:"has-gradient",checked:U,onChange:function(){k("custom"),N((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasGradient:!e.hasGradient})})),E()},children:d["input.name-style.gradient.toggle.label"]})}),U&&Object(a.jsx)("div",{className:"custom-style-gradient",children:Object(a.jsx)(ki,{angle:V,palette:X,memoizedOnChange:z})})]})}),placement:"bottom",children:Object(a.jsxs)(Ni,{$softMode:D,$active:Z&&U,className:"picker-dropdown gradient-picker-dropdown",children:[d["input.name-style.gradient.label"]," ",Object(a.jsx)(yi.a,{})]})},"gradient-picker"),l&&Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(Ri,{onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)("div",{className:"alert",children:d["input.name-style.pattern.alert"]}),L.map((function(e){var t=e.key,n=e.patternImage;return Object(a.jsx)(Ii,{className:["pattern-option",T.pattern===t?"menu-active":"",n?"":"menu-off"].join(" "),onClick:function(){N((function(e){return Object(s.a)(Object(s.a)({},e),{},{pattern:t})})),E()},children:n?Object(a.jsx)("img",{style:n?$:{},className:"pattern-image",src:"".concat("/ygocarder","/asset/image/finish-name/").concat(n,".png"),alt:t}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.a,{})," ",d["input.name-style.pattern.no-pattern.label"]]})},t)}))]})}),placement:"bottomLeft",children:Object(a.jsx)(Ni,{$softMode:D,$active:Z&&"string"===typeof _&&"none"!==_,className:"picker-dropdown pattern-picker-dropdown",children:d["input.name-style.pattern.label"]})},"pattern-picker"),Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay font-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Xo.Container,{children:W.map((function(e){var t=e.value,n=e.label;return Object(a.jsx)(Xo.Option,{className:q===t?"menu-active":"",onClick:function(){N((function(e){return Object(s.a)(Object(s.a)({},e),{},{font:t})})),E()},children:n},t)}))})}),placement:"bottomLeft",children:Object(a.jsx)(Ni,{$softMode:D,className:"picker-dropdown font-picker-dropdown",children:d["input.name-style.font.label"]})},"font-picker")]})]})]})})}));function Pi(){const e=Object(hn.a)(["\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tcolumn-gap: var(--spacing-xs);\n\t\trow-gap: var(--spacing-xs);\n\t\tbox-shadow: none;\n\t\tborder-radius: 0;\n\t\t&:focus-visible {\n\t\t\toutline: 3px solid var(--focus); // +1 width size to account for shadow\n\t\t}\n\t\t.ant-radio-button-wrapper:first-child,\n\t\t.ant-radio-button-wrapper:last-child {\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1;\n\t\t\twhite-space: nowrap;\n\t\t\tborder: none;\n\t\t\tbox-shadow: var(--bs-1);\n\t\t\tpadding: 0;\n\t\t\tmin-width: 90px;\n\t\t\theight: 28px;\n\t\t\tline-height: 28px;\n\t\t\ttext-align: center;\n\t\t\ttext-shadow: none;\n\t\t\tfont-size: var(--fs-sm);\n\t\t\t&:hover {\n\t\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\t\toutline-offset: var(--bw);\n\t\t\t}\n\t\t\t&::before {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t.ant-radio-button-wrapper-checked {\n\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\toutline-offset: var(--bw);\n\t\t}\n\t}\n"]);return Pi=function(){return e},e}const Mi=Object(jn.a)(Pi());function Hi(){const e=Object(hn.a)(["\n\t","\n"]);return Hi=function(){return e},e}const Ki=Object(jn.b)(ko)(Hi(),Mi),Yi=e=>{let{onSTFrameChange:t}=e;const{setting:n}=sa(),{showExtraDecorativeOption:o}=n,i=Object(r.useMemo)((()=>ui().filter((e=>o||"normal"===e.edition))),[o]),{frame:l,setCard:c}=ca(Object(lr.useShallow)((e=>{let{card:t,setCard:n}=e;return{frame:t.frame,setCard:n}}))),d=Object(r.useCallback)((e=>{c((n=>{const{typeAbility:a,isPendulum:r,attribute:o,format:i}=n,l="".concat(e),c="spell"===l||"trap"===l,d="tcg"===i?{"Spell Card":"Spell Card","Trap Card":"Trap Card"}:be,u="spell"===l?[d["Spell Card"]]:"trap"===l?[d["Trap Card"]]:a;return c&&t(u),Object(s.a)(Object(s.a)({},n),{},{frame:l,isPendulum:"link"!==l&&r,isLink:"link"===l,attribute:c?"".concat(l).toUpperCase():o,typeAbility:u})}))}),[c,t]);return Object(a.jsx)(Ki,{className:"frame-radio",value:l,onChange:d,optionList:i})};function Gi(){const e=Object(hn.a)(["\n    ","\n"]);return Gi=function(){return e},e}const Ui=jn.b.div(Gi(),jo),Xi=e=>{let{onChange:t,value:n,optionList:o,children:i,className:l}=e;const[c,d]=Object(r.useState)(-1),u=o.length;return Object(a.jsxs)(Ui,{className:["ant-radio-group ant-radio-group-outline checkbox-train",l].join(" "),children:[i&&Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:i}),Object(a.jsx)("div",Object(s.a)(Object(s.a)({className:"checkbox-train-input-group"},sn({setFocus:d,optionLength:u,onTrigger:()=>{const e=o[c];if(e){const a=!!Array.isArray(n)&&n.includes("".concat(e.value));t(a?n.filter((t=>"".concat(e.value)!==t)):[...n,"".concat(e.value)])}}})),{},{children:o.map(((e,r)=>{const{label:o,value:i,props:l}=e,d=!!Array.isArray(n)&&n.includes("".concat(i));return Object(a.jsxs)("label",Object(s.a)(Object(s.a)({},l),{},{className:["ant-radio-button-wrapper",d?"ant-radio-button-wrapper-checked":"",c===r?"checkbox-train-focused":""].join(" "),onClick:()=>{t(d?n.filter((e=>"".concat(i)!==e)):[...n,"".concat(i)])},children:[Object(a.jsx)("span",{className:"ant-radio-button ".concat(d?"ant-radio-button-checked":""),children:Object(a.jsx)("span",{className:"ant-radio-button-inner"})}),Object(a.jsx)("span",{className:"label",children:o})]}),i)}))}))]})};function Vi(){const e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: max-content max-content;\n    align-items: start;\n    gap: 0;\n    .card-image-source-input {\n        display: flex;\n        flex-direction: column-reverse;\n        .online-image-tip {\n            text-align: center;\n        }\n    }\n    .card-cropper {\n        width: 375px;\n        text-align: center;\n    }\n"]);return Vi=function(){return e},e}const _i=Object(jn.b)(zo)(Vi()),qi=Object(r.forwardRef)(((e,t)=>{let{backgroundColor:n,children:o,receivingCanvas:i,onSourceLoaded:l,onTainted:c,onCropChange:d}=e;const u=An(),{background:b,backgroundCrop:p,backgroundType:m,backgroundData:h,backgroundSource:g,backgroundFit:v,isPendulum:y,opacity:j,getUpdater:x,setCard:O}=ca(Object(lr.useShallow)((e=>{let{card:{background:t,backgroundCrop:n,backgroundType:a,backgroundData:r,backgroundSource:o,backgroundFit:i,isPendulum:l,opacity:c},getUpdater:s,setCard:d}=e;return{background:t,backgroundCrop:n,backgroundType:a,backgroundData:r,backgroundSource:o,backgroundFit:i,isPendulum:l,opacity:c,getUpdater:s,setCard:d}}))),w=Object(r.useRef)(null),k=Object(r.useMemo)((()=>x("backgroundSource")),[x]),S=Object(r.useMemo)((()=>x("background")),[x]),F=Object(r.useMemo)((()=>x("backgroundData")),[x]),C=Object(r.useCallback)((e=>O((t=>Object(s.a)(Object(s.a)({},t),{},{backgroundFit:e})))),[O]),T=Object(r.useCallback)(((e,t,n)=>{null===d||void 0===d||d(e,t),e&&O((t=>Object(s.a)(Object(s.a)({},t),{},{backgroundCrop:e})),n)}),[d,O]);return Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=w.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},hasImage:()=>{var e,t;return null!==(e=null===(t=w.current)||void 0===t?void 0:t.hasImage())&&void 0!==e&&e},setValue:e=>{let{background:t,backgroundCrop:n,backgroundData:a,backgroundSource:r}=e;var o,i;"offline"===r?"string"===typeof a&&n&&(null===(o=w.current)||void 0===o||o.forceSource("offline",a,n)):"string"===typeof t&&n&&(null===(i=w.current)||void 0===i||i.forceSource("online",t,n))}}))),Object(a.jsx)(_i,{ref:w,title:u["input.background-image.label"],backgroundColor:n,defaultSourceType:g,defaultInternalSource:h,defaultExternalSource:b,defaultCropInfo:p,receivingCanvas:i,forceFit:v,onSourceChange:(e,t)=>{k(e),"offline"===e?F(t):S(t)},onCropChange:T,onTainted:c,onSourceLoaded:l,onForceFitChange:C,onMaxSizeExceeded:e=>{vn.a.error({description:u["error.max-size.description"](e),message:u["error.max-size.message"]})},ratio:f(y,j,m).ratio,beforeCropper:null,children:o})}));var Ji=n(532);n(481);function $i(){const e=Object(hn.a)(["\n    --input-width: 315px;\n    &.overlay-no-background-image {\n        .card-image-cropper {\n            grid-template-columns: 1fr;\n        }\n        .card-cropper {\n            min-height: 0;\n            line-height: 0;\n            width: 0;\n            visibility: hidden;\n            position: absolute;\n        }\n        .card-image-source-input {\n            padding-right: 0;\n            margin-right: 0;\n            border-right: none;\n        }\n        i {\n            max-width: var(--input-width); // Alignment\n        }\n    }\n    i {\n        display: inline-block;\n        font-size: var(--fs-sm);\n        color: var(--color);\n        font-weight: normal;\n    }\n    .background-picker {\n        padding: var(--spacing-xs);\n        /** No display none here, again we want to keep card cropper painted, just not visible */\n        &.overlay-no-background {\n            visibility: hidden;\n            height: 0;\n            width: 0;\n            padding: 0;\n        }\n        .card-image-input {\n            text-align: center;\n            max-width: var(--input-width);\n        }\n    }\n    .card-image-source-input {\n        height: 100%;\n        justify-content: start;\n        padding-right: var(--spacing-xs);\n        margin-right: var(--spacing-xs);\n        border-right: var(--bw) solid var(--sub-level-4);\n        .type-section h2 {\n            margin-top: var(--spacing-xs);\n        }\n        .color-section h2 {\n            padding-top: 0;\n            padding-left: 0;\n        }\n    }\n    .color-section {\n        > h2 + div {\n            > div:first-child {\n                box-shadow: none !important; // Override inline style\n            }\n            > div:nth-child(2) {\n                border: var(--bw) solid var(--main-level-1);\n            }\n        }\n    }\n"]);return $i=function(){return e},e}function Zi(){const e=Object(hn.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    padding: 2px 0;\n    align-items: center;\n    .slider-label,\n    .ant-slider,\n    .slider-padding {\n        border: var(--bw) solid var(--sub-level-1);\n        background-color: var(--main-level-4);\n    }\n    .slider-label {\n        display: inline-flex;\n        column-gap: var(--spacing-xs);\n        border-right: none;\n        padding: var(--spacing-xxs) var(--spacing-xs);\n        border-radius: var(--br) 0 0 var(--br);\n        box-shadow: var(--bs-input);\n        .ant-checkbox-wrapper {\n            transform: translateY(-1px); // Alignment\n        }\n    }\n    .ant-slider {\n        margin: 0;\n        border-left: none;\n        border-right: none;\n        height: 28px; // Alignment\n        padding-top: 11px; // Alignment\n    }\n    .slider-padding {\n        border-left: none;\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .ant-slider-rail,\n    .ant-slider-track {\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .card-opacity-slider {\n        flex: 0 1 auto;\n        display: grid;\n        grid-template-columns: max-content 60px 45px 12px;\n        &.inactive {\n            .slider-label,\n            .ant-slider,\n            .slider-padding {\n                background-color: var(--main-level-3);\n            }\n        }\n    }\n    .ant-input-number.ant-input-number-sm {\n        height: 28px; // Alignment\n        width: unset;\n        border-radius: 0;\n        box-shadow: var(--bs-input);\n        .ant-input-number-input {\n            height: 26px; // Alignment\n        }\n    }\n    .background-preview {\n        display: inline-block;\n        line-height: 0;\n        width: 17px;\n        height: 17px; // Alignment\n        align-self: center;\n        border: 1px solid #333333;\n        cursor: pointer;\n        text-align: center;\n        user-select: none;\n        &:hover {\n            box-shadow: 0 0 2px 0 #222222;\n        }\n        .background-image-preview {\n            max-width: 15px;\n            max-height: 15px;\n        }\n        .no-background-icon {\n            font-size: 15px; // Alignment\n        }\n    }\n"]);return Zi=function(){return e},e}function Qi(){const e=Object(hn.a)(["\n    white-space: pre-line;\n"]);return Qi=function(){return e},e}const el=jn.b.span(Qi()),tl=jn.b.div(Zi()),nl=jn.b.div($i()),al=Object(r.forwardRef)(((e,t)=>{var n;let{receivingCanvas:o,defaultValue:i,onTainted:l,onChange:u,onSourceLoaded:m,onCropChange:f}=e;const h=An(),{hasBackground:g,backgroundType:v,isPendulum:y,background:j,setCard:x,getUpdater:O}=ca(Object(lr.useShallow)((e=>{let{card:{isPendulum:t,hasBackground:n,backgroundType:a,background:r},setCard:o,getUpdater:i}=e;return{hasBackground:n,backgroundType:a,isPendulum:t,background:r,setCard:o,getUpdater:i}}))),[w,k]=Object(r.useState)(!0),[S,F]=Object(r.useState)(!0),[C,T]=Object(r.useState)((()=>Object(s.a)(Object(s.a)({},p()),i))),L=Object(r.useRef)(null),N=Object(r.useMemo)((()=>O("backgroundType")),[O]),R=Object(r.useCallback)((e=>x((t=>{const n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},{hasBackground:n})}))),[x]);Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&u(C)}),500),()=>{e=!1}}),[C]),Object(r.useEffect)((()=>{k(!1),setTimeout((()=>{F(!1)}),250)}),[]),Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=L.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:e=>{let{background:t,backgroundCrop:n,backgroundData:a,backgroundSource:r}=e,o=Object(c.a)(e,["background","backgroundCrop","backgroundData","backgroundSource"]);var i;"string"!==typeof t&&"string"!==typeof a||!n||(null===(i=L.current)||void 0===i||i.setValue({background:t,backgroundCrop:n,backgroundData:a,backgroundSource:r}));for(const l in o)o[l]!==C[l]&&T((e=>Object(s.a)(Object(s.a)({},e),o)))}})));const I=0===(null!==j&&void 0!==j?j:"").length&&!0!==(null===(n=L.current)||void 0===n?void 0:n.hasImage());return Object(a.jsxs)(tl,{className:"card-opacity-slider-container",children:[Object(a.jsx)(yn.a,{overlayClassName:"long-tooltip-overlay",title:Object(a.jsx)(el,{children:h["input.opacity.boundless.tooltip"]}),children:Object(a.jsx)(Br.a,{className:"art-frame",onChange:e=>T((t=>Object(s.a)(Object(s.a)({},t),{},{boundless:e.target.checked}))),checked:C.boundless,children:h["input.opacity.boundless.label"]})}),dt.map((e=>{var t,n,r;let{labelKey:i,type:c,subType:u,tooltipKey:p}=e;if("pendulum"===c&&!y)return null;const x=!!u,O=u&&C[u];return Object(a.jsxs)("div",{className:["card-opacity-slider",O?"":"inactive"].join(" "),children:[Object(a.jsxs)("div",{className:"slider-label",children:["body"===c&&Object(a.jsx)(Rr.a,{visible:w,destroyTooltipOnHide:!1,trigger:["click"],onVisibleChange:k,overlayClassName:["global-input-overlay global-style-picker-overlay layout-picker-overlay",w?"picker-visible":"",S?"picker-hidden":""].join(" "),content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(nl,{className:["custom-style-picker",I?"overlay-no-background-image":""].join(" "),children:[Object(a.jsxs)("h3",{className:"custom-style-expand ".concat(g?"":"inactive"),children:[Object(a.jsx)(Br.a,{checked:g,onChange:e=>{R(e)},children:h["input.background.toggle-label"]}),Object(a.jsx)("br",{}),Object(a.jsx)("i",{children:h["input.background.description"]})]}),Object(a.jsx)("div",{className:"background-picker ".concat(g?"":"overlay-no-background"),children:Object(a.jsx)(qi,{ref:L,receivingCanvas:o,onSourceLoaded:m,onTainted:l,onCropChange:f,backgroundColor:C.baseFill,children:Object(a.jsxs)("div",{className:"layout-picker-panel",children:[Object(a.jsxs)("div",{className:"layout-picker-subpanel color-section",children:[Object(a.jsx)("h2",{children:h["input.background-color.label"]}),Object(a.jsx)(vi.b,{colors:ut,color:C.baseFill,onChangeComplete:e=>{T((t=>Object(s.a)(Object(s.a)({},t),{},{baseFill:e.hex})))}})]}),!I&&Object(a.jsxs)("div",{className:"layout-picker-subpanel type-section",children:[Object(a.jsx)("h2",{children:h["input.background-type.label"]}),Object(a.jsx)(ko,{onChange:N,optionList:d({fit:h["input.background-type.fit.label"],full:h["input.background-type.full.label"]}),value:v})]})]})})})]})}),placement:"bottom",children:Object(a.jsx)("div",{className:"background-preview",style:{backgroundColor:g?C.baseFill:b},children:g?j?Object(a.jsx)("img",{className:"background-image-preview",src:j,alt:"Background"}):null:Object(a.jsx)(Ji.a,{className:"no-background-icon"})})}),x&&Object(a.jsx)(yn.a,{title:p&&null!==(t=h[p])&&void 0!==t?t:null,overlayClassName:"long-tooltip-overlay",children:Object(a.jsx)(Br.a,{checked:O,onChange:e=>u&&T((t=>Object(s.a)(Object(s.a)({},t),{},{[u]:e.target.checked})))})}),h[i]]}),Object(a.jsx)(ji.a,{size:"small",min:0,max:100,onChange:e=>T((t=>Object(s.a)(Object(s.a)({},t),{},{[c]:"number"===typeof e?e:100}))),value:null!==(n=C[c])&&void 0!==n?n:100}),Object(a.jsx)(Yo,{min:0,max:100,step:5,onChange:e=>T((t=>Object(s.a)(Object(s.a)({},t),{},{[c]:e}))),value:null!==(r=C[c])&&void 0!==r?r:100}),Object(a.jsx)("div",{className:"slider-padding"})]},c)}))]})}));var rl=n(533),ol=n(534),il=n(535);function ll(){const e=Object(hn.a)(["\n    .custom-star-input {\n        width: 6.5rem;\n    }\n    .checkbox-star-suffix {\n        display: flex;\n        flex-wrap: wrap;\n        column-gap: var(--spacing-sm);\n        row-gap: var(--spacing-xxs);\n        margin-left: var(--spacing-sm);\n    }\n"]);return ll=function(){return e},e}function cl(){const e=Object(hn.a)(["\n    img.icon-image {\n        width: var(--fs-lg);\n    }\n"]);return cl=function(){return e},e}const sl=Object(jn.b)(Xo.Container)(cl()),dl=Object(jn.b)(ko)(ll()),ul=Object(r.forwardRef)(((e,t)=>{let{isLink:n,isMonster:o,showCreativeOption:i}=e;const l=An(),{frame:c,subFamily:s,cardIcon:d,star:u,starAlignment:b,getUpdater:p}=ca(Object(lr.useShallow)((e=>{let{card:{frame:t,subFamily:n,cardIcon:a,star:r,starAlignment:o},getUpdater:i}=e;return{frame:t,subFamily:n,cardIcon:a,star:r,starAlignment:o,getUpdater:i}}))),m="dark-synchro"==={frame:c}.frame;const f=bt({frame:c}),g=Object(r.useMemo)((()=>p("cardIcon")),[p]),v=Object(r.useMemo)((()=>p("subFamily")),[p]),x=Object(r.useMemo)((()=>p("star")),[p]),O=Object(r.useMemo)((()=>p("starAlignment")),[p]);Object(r.useImperativeHandle)(t,(()=>({})));const S="auto"===d?w[o?f?"rank":m?"negative-level":"level":"st"]:w[d],F=l[S.labelKey],C=i?Object(a.jsxs)(a.Fragment,{children:[F," ",Object(a.jsx)(yi.a,{})]}):F,T=Object(a.jsx)(Rr.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(sl,{children:k.map((e=>{let{fullLabelKey:t,value:n,icon:r}=e;return Object(a.jsxs)(Xo.Option,{className:n===d?"menu-active":"",onClick:()=>g(n),children:[r?Object(a.jsxs)(a.Fragment,{children:[r,"\xa0"]}):null,l[t]]},n)}))})}),placement:"bottomRight",children:Object(a.jsx)("span",{className:"card-icon-dropdown ".concat("auto"===d?"":"active"," ").concat(i?"":"disabled"),children:C})},"icon-type-picker"),L=i?T:C;return n?null:"st"===S.value?Object(a.jsx)(ko,{className:"fill-input-train",value:s,onChange:v,optionList:(N=l,j.map((e=>{let{value:t,nameKey:n}=e;return{label:t===y?Object(a.jsx)(h.a,{}):Object(a.jsx)(yn.a,{overlay:N[n],children:Object(a.jsx)("img",{alt:N[n],src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-").concat(t.toLowerCase(),".png")})}),value:t}}))),children:L}):Object(a.jsx)(dl,{className:"checkbox-star-train",value:u,onChange:x,optionList:bi,strict:!0,suffix:i&&Object(a.jsxs)("div",{className:"checkbox-star-suffix",children:[Object(a.jsx)(kr.a,{className:"custom-star-input",value:"number"===typeof u?"":u,allowClear:!0,onChange:x,placeholder:l["input.icon-type.custom.placeholder"]}),Object(a.jsx)(ko,{value:b,onChange:O,optionList:[{value:"auto",tooltipProps:{overlay:l["input.icon-type.alignment.auto"]},label:Object(a.jsx)(h.a,{})},{value:"left",tooltipProps:{overlay:l["input.icon-type.alignment.left"]},label:Object(a.jsx)(rl.a,{})},{value:"center",tooltipProps:{overlay:l["input.icon-type.alignment.center"]},label:Object(a.jsx)(ol.a,{})},{value:"right",tooltipProps:{overlay:l["input.icon-type.alignment.right"]},label:Object(a.jsx)(il.a,{})}]})]}),children:L});var N}));var bl=new Set(["1","2","3","4","5"]),pl=function(e,t,n,a,r,o){var i=e.substring(n,a),l="\n"===e[a]||!r,c=i,s=2;switch(t){case"1":c="[".concat(i,"]").concat(l?"":"\n"),s=l?2:3;break;case"2":c="{".concat(i,"}");break;case"3":c="{".concat(i,"|}");break;case"4":c="{".concat(i,"||}"),s=3;break;case"5":c="{{".concat(i,"}}"),s=4}o(e.substring(0,n)+"".concat(c)+e.substring(a,e.length),a+s)},ml=function(e){var t=e.id,n=e.placement;if(t&&n>=0){var a,r=document.querySelector("#".concat(t));r&&(null!==(a=r.selectionEnd)&&void 0!==a?a:-1)>=0&&(r.selectionEnd=n)}},fl=kr.a.TextArea,hl=Object(r.forwardRef)((function(e,t){var n=e.id,o=e.allowHotkey,i=e.defaultValue,l=e.onTakePicker,d=e.onChange,u=e.onKeyDown,b=e.className,p=Object(c.a)(e,["id","allowHotkey","defaultValue","onTakePicker","onChange","onKeyDown","className"]),m=Object(r.useRef)(i),f=Object(r.useState)(i),h=Object(an.a)(f,2),g=h[0],v=h[1],y=Object(r.useState)({id:"",placement:-1}),j=Object(an.a)(y,2),x=j[0],O=j[1],w=Object(r.useCallback)((function(e){var t="string"===typeof e?e:e.target.value;m.current=t,v(t)}),[]);Object(r.useEffect)((function(){ml(x)}),[x]),Object(r.useEffect)((function(){d({target:{value:g}})}),[g]);var k=function(e){e!==m.current&&w(e)};return Object(r.useImperativeHandle)(t,(function(){return{setValue:k,getPickerRef:function(){return n?{id:n,setValue:k}:null}}})),Object(a.jsx)(fl,Object(s.a)({id:n,autoComplete:"off",onFocus:function(){return n&&(null===l||void 0===l?void 0:l({id:n,setValue:k}))},allowClear:!0,spellCheck:!1,className:"".concat(n,"-input ").concat(b),value:g,onKeyDown:function(e){var t,a;if(null===u||void 0===u||u(e),o){var r=e.ctrlKey,i=e.key,l=e.metaKey,c=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,s=null!==(a=e.currentTarget.selectionEnd)&&void 0!==a?a:-1;(r||l)&&n&&s!==c&&bl.has(i)&&(e.preventDefault(),pl(e.currentTarget.value,i,c,s,!0,(function(e,t){w(e),O({id:n,placement:t})})))}},onChange:w},p))})),gl=Object(r.forwardRef)((function(e,t){var n=e.id,o=e.defaultValue,i=e.onTakePicker,l=e.onChange,d=e.onKeyDown,u=e.className,b=Object(c.a)(e,["id","defaultValue","onTakePicker","onChange","onKeyDown","className"]),p=sa().setting.allowHotkey,m=Object(r.useRef)(o),f=Object(r.useState)(o),h=Object(an.a)(f,2),g=h[0],v=h[1],y=Object(r.useState)({id:"",placement:-1}),j=Object(an.a)(y,2),x=j[0],O=j[1],w=Object(r.useCallback)((function(e){var t="string"===typeof e?e:e.target.value;m.current=t,v(t)}),[]);Object(r.useEffect)((function(){ml(x)}),[x]),Object(r.useEffect)((function(){l({target:{value:g}})}),[g]);var k=function(e){e!==g&&w(e)};return Object(r.useImperativeHandle)(t,(function(){return{setValue:k}})),Object(a.jsx)(kr.a,Object(s.a)({id:n,autoComplete:"off",onFocus:function(){return n&&(null===i||void 0===i?void 0:i({id:n,setValue:k}))},allowClear:!0,className:"".concat(n,"-input ").concat(u),value:g,onKeyDown:function(e){var t,a;if(null===d||void 0===d||d(e),p){var r=e.ctrlKey,o=e.key,i=e.metaKey,l=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,c=null!==(a=e.currentTarget.selectionEnd)&&void 0!==a?a:-1;(r||i)&&n&&c!==l&&bl.has(o)&&(e.preventDefault(),pl(e.currentTarget.value,o,l,c,!1,(function(e,t){w(e),O({id:n,placement:t})})))}},onChange:function(e){return w(e.target.value)}},b))})),vl=Object(r.forwardRef)((function(e,t){var n=e.onTakePicker,o=ca((function(e){return e.getUpdater})),i=Object(r.useRef)(null),l=Object(r.useMemo)((function(){return o("effect",void 0,"debounce")}),[o]);return Object(r.useEffect)((function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.getPickerRef();t&&(null===n||void 0===n||n(t))}),[]),Object(r.useImperativeHandle)(t,(function(){return{setValue:function(e){var t;null===(t=i.current)||void 0===t||t.setValue(e)}}})),Object(a.jsx)(hl,{ref:i,id:"effect",allowHotkey:!0,defaultValue:ca.getState().card.effect,onChange:l,onTakePicker:n,rows:9})}));function yl(){const e=Object(hn.a)(["\n    align-self: center;\n    text-align: right;\n    .ant-checkbox + span {\n        user-select: none;\n    }\n"]);return yl=function(){return e},e}const jl=jn.b.div(yl()),xl=e=>{const t=An(),{isDuelTerminalCard:n,isFirstEdition:o,isSpeedCard:i,isLimitedEdition:l,isLegacyCard:c,setCard:d}=ca(Object(lr.useShallow)((e=>{let{card:t,setCard:n}=e;return{isSpeedCard:t.isSpeedCard,isDuelTerminalCard:t.isDuelTerminalCard,isFirstEdition:t.isFirstEdition,isLimitedEdition:t.isLimitedEdition,isLegacyCard:t.isLegacyCard,setCard:n}}))),u=Object(r.useCallback)((e=>d((t=>{let n;return n=e.target.checked?c?{isDuelTerminalCard:!1,isFirstEdition:!0,isLimitedEdition:!1,isSpeedCard:!1}:{isFirstEdition:!0,isLimitedEdition:!1}:{isFirstEdition:!1},Object(s.a)(Object(s.a)({},t),n)}))),[d,c]),b=Object(r.useCallback)((e=>d((t=>{let n;return n=e.target.checked?c?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!0,isSpeedCard:!1}:{isFirstEdition:!1,isLimitedEdition:!0}:{isLimitedEdition:!1},Object(s.a)(Object(s.a)({},t),n)}))),[d,c]),p=Object(r.useCallback)((e=>d((t=>{let n;return n=e.target.checked?c?{isDuelTerminalCard:!0,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!1}:{isSpeedCard:!1,isDuelTerminalCard:!0}:{isDuelTerminalCard:!1},Object(s.a)(Object(s.a)({},t),n)}))),[d,c]),m=Object(r.useCallback)((e=>d((t=>{let n;return n=e.target.checked?c?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!0}:{isDuelTerminalCard:!1,isSpeedCard:!0}:{isSpeedCard:!1},Object(s.a)(Object(s.a)({},t),n)}))),[d,c]),f=Object(r.useCallback)((e=>d((t=>{const n=e.target.checked,{isDuelTerminalCard:a,isFirstEdition:r,isLimitedEdition:o,isSpeedCard:i}=t;let l=!1,c=!1,d=!1,u=!1;return n?(c=r,u=!c&&i,l=!u&&!c&&a,d=!(l||c||d)&&o):(c=r,d=!c&&o,u=i,l=!u&&a),Object(s.a)(Object(s.a)({},t),{},{isLegacyCard:n,isDuelTerminalCard:l,isFirstEdition:c,isLimitedEdition:d,isSpeedCard:u})}))),[d]);return Object(a.jsxs)(jl,{className:"checkbox-input",children:[Object(a.jsx)(yn.a,{overlayClassName:"long-tooltip-overlay",overlay:t["input.legacy.tooltip"],children:Object(a.jsx)(Br.a,{className:"input-legacy",onChange:f,checked:c,tabIndex:0,children:t["input.legacy.label"]})}),Object(a.jsx)(Br.a,{className:"input-1st",onChange:u,checked:o,tabIndex:0,children:t["input.1st-edition.label"]}),Object(a.jsx)(Br.a,{className:"input-limited",onChange:b,checked:l,tabIndex:0,children:t["input.limited-edition.label"]}),Object(a.jsx)(Br.a,{className:"input-speed",onChange:m,checked:i,tabIndex:0,children:t["input.speed-duel.label"]}),Object(a.jsx)(Br.a,{className:"input-terminal",onChange:p,checked:n,tabIndex:0,children:t["input.duel-terminal.label"]})]})};var Ol=n(536),wl=n(537);function kl(){const e=Object(hn.a)(['\n    &.radio-train {\n        .ant-radio-button-wrapper-checked {\n            &.ocg-button {\n                background-color: var(--main-red-scale);\n                border-color: var(--sub-red-scale);\n                &:not([class*=" ant-radio-button-wrapper-disabled"]).ant-radio-button-wrapper:first-child {\n                    border-right-color: var(--sub-red-scale);\n                }\n                &:not(.ant-radio-button-wrapper-disabled):first-child {\n                    border-color: var(--sub-red-scale);\n                }\n                &:hover {\n                    background-color: var(--sub-red-scale);\n                    color: var(--color-heavy);\n                }\n            }\n            &.tcg-button {\n                background-color: var(--main-blue-scale);\n                border-color: var(--sub-blue-scale);\n                &:hover {\n                    background-color: var(--sub-blue-scale);\n                    color: var(--color-heavy);\n                }\n            }\n        }\n        .ocg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-red-scale);\n            }\n        }\n        .tcg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-blue-scale);\n            }\n        }\n    }\n']);return kl=function(){return e},e}function Sl(){const e=Object(hn.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: var(--spacing-sm);\n    flex-wrap: wrap;\n    row-gap: var(--spacing-sm);\n"]);return Sl=function(){return e},e}function Fl(){const e=Object(hn.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t.input-label {\n\t\tflex: 1;\n\t}\n"]);return Fl=function(){return e},e}function Cl(){const e=Object(hn.a)(["\n    padding: var(--spacing-xs);\n    .radio-train {\n        display: flex;\n        flex-wrap: wrap;\n        max-width: 550px;\n        .radio-train-input-group {\n            gap: var(--spacing);\n        }\n    }\n    .ant-checkbox-wrapper {\n        color: var(--color-heavy);\n    }\n    .frame-auto-checkbox {\n        margin-bottom: var(--spacing-xs);\n    }\n    ","\n"]);return Cl=function(){return e},e}const Tl=Object(jn.b)(Xo.Container)(Cl(),Mi),Ll=jn.b.div(Fl()),Nl=jn.b.div(Sl()),Rl=Object(jn.b)(ko)(kl());function Il(){const e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-sm);\n    .checkbox-input {\n        align-self: center;\n        .ant-checkbox + span {\n            user-select: none;\n        }\n    }\n    .sticker-input,\n    .checkbox-input {\n        grid-column: span 2;\n    }\n    .sticker-input .ant-radio-button-wrapper {\n        padding-left: var(--spacing-sm);\n        padding-right: var(--spacing-sm);\n    }\n"]);return Il=function(){return e},e}const El=jn.b.div(Il()),Al=Object(r.forwardRef)(((e,t)=>{let{isMonster:n,showCreativeOption:o,onTakePicker:i}=e;const l=An(),{sticker:c,format:s,getUpdater:d}=ca(Object(lr.useShallow)((e=>{let{card:{sticker:t,format:n},getUpdater:a}=e;return{sticker:t,format:n,getUpdater:a}}))),u=Object(r.useRef)(null),b=Object(r.useRef)(null),p=Object(r.useRef)(null),m=Object(r.useRef)(null),f=s&&de[s]?de[s]:de.tcg,h=Object(r.useMemo)((()=>d("atk",(e=>"string"===typeof e?e.trim():e))),[d]),g=Object(r.useMemo)((()=>d("def",(e=>"string"===typeof e?e.trim():e))),[d]),v=Object(r.useMemo)((()=>d("password",void 0,"debounce")),[d]),y=Object(r.useMemo)((()=>d("sticker")),[d]),j=Object(r.useMemo)((()=>d("creator",void 0,"debounce")),[d]);return Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t,n,a,r;let{password:o,creator:i,atk:l,def:c}=e;"string"===typeof l&&(null===(t=p.current)||void 0===t||t.setValue(l)),"string"===typeof c&&(null===(n=m.current)||void 0===n||n.setValue(c)),"string"===typeof o&&(null===(a=u.current)||void 0===a||a.setValue(o)),"string"===typeof i&&(null===(r=b.current)||void 0===r||r.setValue(i))}}))),Object(a.jsxs)(El,{className:"card-footer-input",children:[(n||o)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(gl,{ref:p,id:"atk",addonBefore:l["input.atk.label"],defaultValue:ca.getState().card.atk,onChange:h,onTakePicker:i}),Object(a.jsx)(gl,{ref:m,id:"def",addonBefore:l["input.def.label"],defaultValue:ca.getState().card.def,onChange:g,onTakePicker:i})]}),Object(a.jsx)(gl,{ref:u,id:"password",addonBefore:Object(a.jsxs)(Ll,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:l["input.password.label"]}),Object(a.jsx)(Pr,{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.setValue("".concat(dn("0123456789",8)))},Icon:Ol.a,tooltipProps:{overlay:l["button.randomize.label"]}})]}),defaultValue:ca.getState().card.password,onChange:v,onTakePicker:i}),Object(a.jsx)(gl,{ref:b,id:"creator",addonBefore:Object(a.jsxs)(Ll,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:l["input.copyright.label"]}),Object(a.jsx)(fr.a,{className:"save-button-dropdown",placement:"topLeft",arrow:!0,overlay:Object(a.jsx)(pr.a,{onClick:e=>e.domEvent.stopPropagation(),children:f.map(((e,t)=>Object(a.jsx)(pr.a.Item,{onClick:()=>{var t;null===(t=b.current)||void 0===t||t.setValue(e)},children:e},"".concat(t))))}),children:Object(a.jsx)("div",{children:Object(a.jsx)(Pr,{onClick:()=>{},Icon:wl.a})})})]}),defaultValue:ca.getState().card.creator,onChange:j,onTakePicker:i}),Object(a.jsx)(xl,{}),Object(a.jsx)(ko,{className:"sticker-input fill-input-train",value:c,onChange:y,optionList:pi,children:Object(a.jsx)("span",{children:l["input.sticker.label"]})})]})}));function Bl(){const e=Object(hn.a)(["\n    .ant-input-group-addon {\n        flex: 0;\n    }\n    .radio-train-input-group .ant-radio-button-wrapper {\n        min-width: unset;\n    }\n"]);return Bl=function(){return e},e}const zl=Object(jn.b)(ko)(Bl()),Dl=Object(r.forwardRef)(((e,t)=>{let{showExtraDecorativeOption:n,receivingCanvas:o,onSourceLoaded:i,onTainted:l,onCropChange:c}=e;const d=An(),{opacity:u,artFinish:b,linkMap:p,isPendulum:m,isLink:h,art:g,artCrop:v,artData:y,artSource:j,artFit:x,getUpdater:O,setCard:w}=ca(Object(lr.useShallow)((e=>{let{card:{opacity:t,artFinish:n,linkMap:a,isPendulum:r,isLink:o,art:i,artCrop:l,artData:c,artSource:s,artFit:d},getUpdater:u,setCard:b}=e;return{opacity:t,artFinish:n,linkMap:a,isPendulum:r,isLink:o,art:i,artCrop:l,artData:c,artSource:s,artFit:d,getUpdater:u,setCard:b}}))),k=Object(r.useRef)(null),S=Object(r.useMemo)((()=>O("linkMap")),[O]),F=Object(r.useCallback)((e=>w((t=>Object(s.a)(Object(s.a)({},t),{},{isLink:e,isPendulum:!e&&t.isPendulum})))),[w]),C=Object(r.useMemo)((()=>O("art")),[O]),T=Object(r.useMemo)((()=>O("artData")),[O]),L=Object(r.useCallback)((e=>w((t=>Object(s.a)(Object(s.a)({},t),{},{artFit:e})))),[w]),N=Object(r.useMemo)((()=>O("artSource")),[O]),R=Object(r.useMemo)((()=>O("artFinish")),[O]),I=Object(r.useCallback)(((e,t,n)=>{null===c||void 0===c||c(e,t),e&&w((t=>Object(s.a)(Object(s.a)({},t),{},{artCrop:e})),n)}),[c,w]);return Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t;return null!==(e=null===(t=k.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:e=>{let{art:t,artCrop:n,artData:a,artSource:r}=e;var o,i;"offline"===r?"string"===typeof a&&n&&(null===(o=k.current)||void 0===o||o.forceSource("offline",a,n)):"string"===typeof t&&n&&(null===(i=k.current)||void 0===i||i.forceSource("online",t,n))}}))),Object(a.jsx)(zo,{ref:k,title:d["input.card-art.label"],defaultSourceType:j,defaultExternalSource:g,defaultInternalSource:y,defaultCropInfo:v,forceFit:x,receivingCanvas:o,onSourceChange:(e,t)=>{N(e),"offline"===e?T(t):C(t)},onCropChange:I,onTainted:l,onSourceLoaded:i,onForceFitChange:L,onMaxSizeExceeded:e=>{vn.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:f(m,u).ratio,beforeCropper:n?Object(a.jsx)(zl,{className:"art-finish-checkbox fill-input-train",value:b,onChange:R,optionList:di,children:Object(a.jsx)("span",{className:"field-title",children:d["input.art-finish.label"]})}):null,children:Object(a.jsx)(Po,{active:h,defaultValue:p,onChange:S,onStatusChange:F},"link-".concat(JSON.stringify(p)))})}));function Wl(){const e=Object(hn.a)(["\n    cursor: pointer;\n"]);return Wl=function(){return e},e}function Pl(){const e=Object(hn.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-sm);\n    width: 100%;\n    .name-input {\n        flex: 3;\n        min-width: 400px;\n    }\n    .set-id-input {\n        flex: 1;\n        min-width: 250px;\n    }\n"]);return Pl=function(){return e},e}const Ml=jn.b.div(Pl()),Hl=jn.b.span(Wl()),Kl=Object(r.forwardRef)(((e,t)=>{let{onTakePicker:n}=e;const o=An(),{name:i,format:l,getUpdater:c}=ca(Object(lr.useShallow)((e=>{let{card:{name:t,format:n},getUpdater:a}=e;return{name:t,format:n,getUpdater:a}}))),s=Object(r.useRef)(null),d=Object(r.useRef)(null),u=Object(r.useMemo)((()=>c("setId")),[c]),b=Object(r.useMemo)((()=>c("name",void 0,"debounce")),[c]);return Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t,n;let{name:a,setId:r}=e;"string"===typeof a&&(null===(t=s.current)||void 0===t||t.setValue(a)),"string"===typeof r&&(null===(n=d.current)||void 0===n||n.setValue(r))}}))),Object(a.jsxs)(Ml,{className:"name-id-input",children:[Object(a.jsx)(gl,{ref:s,id:"name",defaultValue:i,addonBefore:Object(a.jsx)(yn.a,{title:o["input.name.tooltip"],children:Object(a.jsx)(Hl,{onClick:()=>{navigator.clipboard.writeText(At(i))},children:o["input.name.label"]})}),onChange:b,onTakePicker:n}),Object(a.jsx)(gl,{ref:d,id:"set-id",defaultValue:ca.getState().card.setId,addonBefore:Object(a.jsxs)(Ll,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:o["input.set-id.label"]}),Object(a.jsx)(Pr,{onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.setValue((e=>dn("ABCDEFGHIJKLMNOPQRSTUVWXYZ",4)+"-"+("OCG"===e?"JP":"EN")+dn("0000000000111111111122222222223456789",1)+dn("0123456789",2))(l))},Icon:Ol.a,tooltipProps:{overlay:o["button.randomize.label"]}})]}),onChange:u,onTakePicker:n})]})}));function Yl(){const e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    .red-scale {\n        color: var(--sub-red-scale);\n    }\n    .blue-scale {\n        color: var(--sub-blue-scale);\n    }\n    .joined-row {\n        position: 'relative';\n        grid-column: span 2;\n        .standalone-label {\n            min-width: 0;\n            width: unset;\n            padding-left: var(--spacing-antd);\n        }\n        .pendulum-checkbox {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n            line-height: 32px;\n            text-align: right;\n            font-weight: 500;\n            margin-right: 0;\n            padding-right: var(--spacing);\n            > span {\n                padding-right: 0;\n            }\n        }\n        .pendulum-checkbox-placeholder {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n        }\n        .pendulum-frame-input {\n            margin-right: var(--spacing-lg);\n        }\n        .ant-checkbox-wrapper + .ant-checkbox-wrapper {\n            margin-left: 0;\n        }\n    }\n"]);return Yl=function(){return e},e}function Gl(){const e=Object(hn.a)(["\n    display: inline-flex;\n    cursor: pointer;\n    box-shadow: var(--bs-input);\n    vertical-align: bottom;\n    box-shadow: var(--bs-button);\n    border-radius: var(--br-lg);\n    &:focus-visible {\n        outline: 2px solid var(--focus);\n    }\n    .pendulum-frame-info-block {\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        line-height: 2; // Alignment\n        background-color: var(--main-level-4);\n        min-width: 110px;\n        overflow: hidden;\n        border: var(--bw) solid var(--sub-level-1);\n        .frame-info-block-label {\n            padding: var(--spacing-px) var(--spacing-xs);\n        }\n    }\n    .pendulum-frame-label {\n        display: inline-block;\n        background: var(--main-level-4);\n        border: var(--bw) solid var(--sub-level-1);\n        border-right: none;\n        padding: var(--spacing-px) var(--spacing-xs);\n        border-radius: var(--br-lg) 0 0 var(--br-lg);\n        line-height: 2; // Alignment\n        &:last-child {\n            border-radius: var(--br-lg);\n            border-right: var(--bw) solid var(--sub-level-1);\n        }\n    }\n"]);return Gl=function(){return e},e}const Ul=Object(r.forwardRef)(((e,t)=>{let{frameList:n,pendulumFrame:o,onChange:i,onCancel:l}=e;const c=An(),d=Object(r.useRef)("auto"===o?"spell":o),u=Object(r.useRef)(null),[b,p]=Object(r.useState)(0);return Object(r.useImperativeHandle)(t,(()=>({focus:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.focus()}}))),Object(a.jsxs)(Tl,Object(s.a)(Object(s.a)({className:"pendulum-frame-picker"},sn({stopPropagation:!0,optionLength:n.length,setFocus:p,onTrigger:()=>{b>=0&&i(n[b].value)},onCancel:l})),{},{children:[Object(a.jsx)(Br.a,{ref:u,className:"frame-auto-checkbox",checked:"auto"===o,onChange:e=>{i(e.target.checked?"auto":d.current)},children:c["input.frame.auto"]}),Object(a.jsx)(ko,{className:"frame-radio",value:o,onChange:i,optionList:n})]}))})),Xl=jn.b.div(Gl()),Vl=jn.b.div(Yl()),_l=Object(r.forwardRef)(((e,t)=>{let{showCreativeOption:n,showExtraDecorativeOption:o,onTakePicker:i}=e;const l=An(),{isPendulum:c,pendulumFrame:d,pendulumScaleBlue:u,pendulumScaleRed:b,setCard:p,getUpdater:m}=ca(Object(lr.useShallow)((e=>{let{card:{isPendulum:t,pendulumFrame:n,pendulumScaleBlue:a,pendulumScaleRed:r},setCard:o,getUpdater:i}=e;return{isPendulum:t,pendulumFrame:n,pendulumScaleBlue:a,pendulumScaleRed:r,setCard:o,getUpdater:i}}))),f=Object(r.useRef)(null),h=Object(r.useRef)(null),g=Object(r.useRef)(null),[v,y]=Object(r.useState)(!0),[j,x]=Object(r.useState)(!1),O=Object(r.useRef)("auto"===d?"spell":d),w=Object(r.useMemo)((()=>m("pendulumScaleRed")),[m]),k=Object(r.useMemo)((()=>m("pendulumScaleBlue")),[m]),S=Object(r.useMemo)((()=>m("pendulumEffect",void 0,"debounce")),[m]),F=Object(r.useMemo)((()=>ui().filter((e=>o||"normal"===e.edition))),[o]);Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t;let{pendulumEffect:n}=e;n&&(null===(t=g.current)||void 0===t||t.setValue(n))}})));const C=pe[d];return Object(a.jsxs)(Vl,{className:"pendulum-input",children:[Object(a.jsxs)("div",{className:"joined-row pendulum-option",children:[Object(a.jsx)("div",{className:"pendulum-checkbox",children:Object(a.jsx)(Br.a,{onChange:e=>p((t=>{const n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},{isPendulum:n,isLink:!n&&t.isLink})})),checked:c,children:l["input.pendulum.label"]})}),n&&Object(a.jsx)(Rr.a,{visible:j,onVisibleChange:x,trigger:["hover","click"],placement:"bottom",overlayClassName:"pendulum-frame-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Ul,{ref:h,frameList:F,pendulumFrame:d,onCancel:()=>{var e;x(!1),null===(e=f.current)||void 0===e||e.focus()},onChange:e=>{const t="".concat(e);"auto"!==t&&(O.current=t),p((e=>Object(s.a)(Object(s.a)({},e),{},{pendulumFrame:t})))}})}),children:Object(a.jsxs)(Xl,{ref:f,className:"pendulum-frame-input",tabIndex:0,onKeyDown:e=>{if("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key)return x(!0),setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.focus()}),200),!1},children:[Object(a.jsxs)("span",{className:"pendulum-frame-label",children:[l["input.bottom-frame.label"]," ",Object(a.jsx)(yi.a,{})]}),C?Object(a.jsx)(vo,Object(s.a)({className:"pendulum-frame-info-block"},C)):Object(a.jsx)(vo,{className:"pendulum-frame-info-block",nameKey:"input.frame.auto"})]})}),c&&n&&Object(a.jsx)(Br.a,{onChange:e=>y(e.target.checked),checked:v,children:l["input.mirror-scale.label"]})]}),c&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(kr.a,{addonBefore:Object(a.jsx)("span",{children:l["input.scale.label"](Object(a.jsx)("span",{className:"blue-scale",children:l["input.scale.blue.label"]},"blue-scale"))}),value:u,onChange:e=>{k(e),v&&w(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(kr.a,{addonBefore:Object(a.jsx)("span",{children:l["input.scale.label"](Object(a.jsx)("span",{className:"red-scale",children:l["input.scale.red.label"]},"red-scale"))}),value:b,onChange:e=>{v&&k(e),w(e)}})}),Object(a.jsx)("div",{className:"joined-row",children:Object(a.jsx)(hl,{ref:g,id:"pendulum-effect",allowHotkey:!0,defaultValue:ca.getState().card.pendulumEffect,onChange:S,onTakePicker:i,rows:5})})]})]})}));function ql(){const e=Object(hn.a)(['\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-areas:\n        "type-input input-helper"\n        "condense-input help-button";\n    gap: var(--spacing-sm);\n    align-items: center;\n    .formatting-help-button {\n        grid-area: help-button;\n        &:focus {\n            box-shadow: 0 0 0 2px var(--focus);\n        }\n    }\n    .input-kanji-helper {\n        grid-area: input-helper;\n    }\n    .type-ability-input {\n        grid-area: type-input;\n    }\n    .condense-input {\n        grid-area: condense-input;\n\t\t.standalone-addon.ant-input-group-addon {\n\t\t\twidth: unset;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1 1 90px;\n\t\t}\n\t}\n    &.variant-tcg {\n        .type-ability-input {\n            grid-column: span 2;\n        }\n    }\n']);return ql=function(){return e},e}const Jl=jn.b.div(ql()),$l=Object(r.forwardRef)(((e,t)=>{let{onTakePicker:n}=e;const o=An(),{frame:i,cardIcon:l,format:c,furiganaHelper:d,condenseTolerant:u,setCard:b,getUpdater:p}=ca(Object(lr.useShallow)((e=>{let{card:{frame:t,cardIcon:n,format:a,furiganaHelper:r,effectStyle:o},setCard:i,getUpdater:l}=e;return{frame:t,cardIcon:n,format:a,furiganaHelper:r,condenseTolerant:null===o||void 0===o?void 0:o.condenseTolerant,setCard:i,getUpdater:l}}))),m="ocg"===c?"\uff0f":"/",f=Object(r.useRef)(null),h=Object(r.useMemo)((()=>p("typeAbility",(e=>"string"!==typeof e?[]:e.split(/\uff0f|\//).map((e=>"".concat(e).trim())).filter((e=>"string"===typeof e&&e.length>0))),"debounce")),[p]),g=Object(r.useCallback)((e=>b((t=>Object(s.a)(Object(s.a)({},t),{},{furiganaHelper:e.target.checked})))),[b]);Object(r.useImperativeHandle)(t,(()=>({setValue:e=>{var t;let{typeAbility:n}=e;n&&(null===(t=f.current)||void 0===t||t.setValue(n.join(m)))}})));const v="auto"===l?mt({frame:i})?"input.type.monster.label":"input.type.st.label":"st"===w[l].value?"input.type.st.label":"input.type.monster.label",y="ocg"===c;return Object(a.jsxs)(Jl,{className:"post-pendulum-input variant-".concat(c),children:[Object(a.jsx)(gl,{ref:f,addonBefore:o[v],id:"type-ability",defaultValue:ca.getState().card.typeAbility.join(m),onChange:h,onTakePicker:n}),y&&Object(a.jsx)(yn.a,{overlay:o["input.furigana-helper.tooltip"],overlayClassName:"long-tooltip-overlay",children:Object(a.jsx)(Br.a,{className:"input-kanji-helper",onChange:g,checked:d,children:o["input.furigana-helper.label"]})}),Object(a.jsx)(ko,{className:"condense-input",value:"".concat(u),onChange:e=>(e=>{b((t=>Object(s.a)(Object(s.a)({},t),{},{effectStyle:Object(s.a)(Object(s.a)({},t.effectStyle),{},{condenseTolerant:e})})))})(e),optionList:mi,children:Object(a.jsxs)("span",{children:[o["input.condense.label"]," ",Object(a.jsx)(Er,{content:o["input.condense.tooltip"]})]})}),Object(a.jsx)(po,{})]})}));function Zl(){const e=Object(hn.a)(["\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-px);\n    &.custom-style-picker {\n        background-color: var(--sub-level-4); // Mimic border color\n    }\n    .style-section {\n        z-index: 1;\n        position: relative;\n        background-color: var(--main-level-3);\n    }\n    .style-picker-section {\n        overflow: hidden;\n        h2.size-picker {\n            padding: var(--spacing-xs);\n        }\n        .inline-radio-train {\n            display: inline-flex;\n            padding-bottom: 0;\n            margin-left: var(--spacing-sm);\n        }\n        .shadow-checkbox .ant-checkbox {\n            transform: translateY(1px);\n        }\n        > .ant-checkbox-wrapper {\n            padding: var(--spacing-xs);\n        }\n    }\n    .custom-style-expand {\n        display: grid;\n        grid-template-columns: 1fr max-content;\n        column-gap: var(--spacing-xs);\n        .ant-checkbox-wrapper > span {\n            padding-right: 0;\n        }\n    }\n    .radio-train {\n        padding: var(--spacing-xs);\n        padding-top: 0;\n        .standalone-addon {\n            flex: 1 1 auto;\n            text-align: left;\n        }\n        .radio-train-input-group {\n            flex: 0 0 auto;\n        }\n        .ant-radio-button-wrapper {\n            height: 26px;\n            line-height: 24px;\n        }\n    }\n"]);return Zl=function(){return e},e}function Ql(){const e=Object(hn.a)(["\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    column-gap: var(--spacing-xxs);\n    padding: var(--spacing-px);\n    margin-right: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br);\n    background-color: var(--main-level-4);\n    cursor: pointer;\n    &:hover {\n        border-color: var(--main-active);\n    }\n    .text-style-grid {\n        display: grid;\n        grid-template-columns: 25px 25px 25px;\n        grid-template-rows: 13px 13px; // Alignment\n        gap: var(--spacing-xxs);\n        font-size: var(--fs-xs);\n        text-align: center;\n        line-height: 1.5;\n    }\n    .text-style-preview-section {\n        background-color: #eaeaea;\n        border-radius: var(--br-sm);\n        box-shadow: 0 0 1px 1px var(--main-level-1) inset;\n    }\n    .text-style-label {\n        padding: var(--spacing-xxs);\n        line-height: 1.7;\n    }\n"]);return Ql=function(){return e},e}function ec(){const e=Object(hn.a)(["\n    color: var(--color);\n    text-shadow: var(--ts);\n    font-weight: 500;\n    padding: 5px;\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    gap: 3px;\n    .color-list {\n        display: flex;\n        flex-wrap: nowrap;\n        gap: 3px;\n    }\n    .color-block {\n        height: 17px;\n        width: 17px;\n        cursor: pointer;\n        position: relative;\n        outline: none;\n        border: var(--bw) solid var(--sub-level-4);\n        &.static-block {\n            cursor: default;\n            height: 9px;\n            width: 9px;\n            margin: 4px 0;\n            border: none;\n        }\n    }\n    .active-dot {\n        position: absolute;\n        inset: var(--spacing-xs);\n        background: rgb(0, 0, 0);\n        border-radius: 50%;\n        opacity: 1;\n    }\n    .color-input {\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        gap: 3px;\n        border-left: var(--bw-lg) solid var(--sub-level-4);\n        padding-left: 3px;\n        input {\n            width: 58px;\n            font-size: var(--fs-sm);\n            line-height: 1;\n            border: none;\n            padding: 0 5px;\n        }\n    }\n"]);return ec=function(){return e},e}const tc=jn.b.div(ec()),nc=[{hex:"#FFFFFF",rgb:[255,255,255]},{hex:"#000000",rgb:[0,0,0]},{hex:"#FF0000",rgb:[255,0,0]},{hex:"#FFFF00",rgb:[255,255,0]},{hex:"#00FF00",rgb:[0,255,0]},{hex:"#00FFFF",rgb:[0,255,255]},{hex:"#0000FF",rgb:[0,0,255]},{hex:"#FF00FF",rgb:[255,0,255]}],ac=e=>{let{value:t="",onChange:n}=e;const[o,i]=Object(r.useState)(t),[l,c]=Object(r.useState)((()=>({hex:bn.test(t)?t:"#000000",rgb:pn(t,!1)})));return Object(r.useEffect)((()=>{const e=o.startsWith("#")?o:"#".concat(o);bn.test(e)&&(i(e),c({hex:e,rgb:pn(e,!1)}),null===n||void 0===n||n(e))}),[o]),Object(r.useEffect)((()=>{i(t),c({hex:bn.test(t)?t:"#000000",rgb:pn(t,!1)})}),[t]),Object(a.jsxs)(tc,{children:[Object(a.jsx)("div",{className:"color-list",children:nc.map((e=>{let{hex:t,rgb:r}=e;const o=(299*r[0]+587*r[1]+114*r[2])/1e3>=128?"#000000":"#FFFFFF";return Object(a.jsx)("div",{className:"color-block",title:t,style:{backgroundColor:t},onClick:()=>null===n||void 0===n?void 0:n(t),children:l.hex.toUpperCase()===t&&Object(a.jsx)("div",{className:"active-dot",style:{backgroundColor:o}})},t)}))}),Object(a.jsxs)("div",{className:"color-input",children:[Object(a.jsx)("div",{className:"color-block static-block",style:{backgroundColor:l.hex}}),Object(a.jsx)(kr.a,{size:"small",value:o,onChange:e=>{i(e.target.value)}})]})]})},rc=jn.b.div(Ql()),oc=jn.b.div(Zl()),ic={effectTextStyle:{keyName:"effectTextStyle",extraKeyname:"effectStyle",labelKey:"input.text-style.section.effect.label"},pendulumTextStyle:{keyName:"pendulumTextStyle",extraKeyname:"pendulumStyle",labelKey:"input.text-style.section.pendulum.label"},statTextStyle:{keyName:"statTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.stat.label"},typeTextStyle:{keyName:"typeTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.type.label"},otherTextStyle:{keyName:"otherTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.other.label"}},lc=()=>{const e=An(),{effectStyle:t,effectTextStyle:n,otherTextStyle:r,pendulumStyle:o,pendulumTextStyle:i,setCard:l,statTextStyle:c,typeTextStyle:d}=ca(Object(lr.useShallow)((e=>{let{card:{effectStyle:t,effectTextStyle:n,otherTextStyle:a,pendulumStyle:r,pendulumTextStyle:o,statTextStyle:i,typeTextStyle:l},setCard:c}=e;return{effectStyle:t,effectTextStyle:n,otherTextStyle:a,pendulumStyle:r,pendulumTextStyle:o,setCard:c,statTextStyle:i,typeTextStyle:l}}))),u=[{info:ic.effectTextStyle,value:n,extraValue:t},{info:ic.pendulumTextStyle,value:i,extraValue:o},{info:ic.statTextStyle,value:c},{info:ic.typeTextStyle,value:d},{info:ic.otherTextStyle,value:r}];return Object(a.jsx)(Rr.a,{trigger:["click"],placement:"bottomLeft",overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(oc,{className:"custom-style-picker",children:u.map((t=>{let{info:n,value:r,extraValue:o}=t;const{keyName:i,labelKey:c,extraKeyname:d}=n,[u,b,p,m]=r,{upSize:f}=null!==o&&void 0!==o?o:{};return Object(a.jsxs)("div",{className:"style-section",children:[Object(a.jsxs)("h3",{className:"custom-style-expand ".concat(u?"":"inactive"),children:[Object(a.jsx)("span",{children:e[c]}),Object(a.jsx)(Br.a,{checked:u,onChange:e=>{l((t=>{const n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},{[i]:[n,...r.slice(1)]})}))},children:e["input.text-style.custom.label"]})]}),u&&Object(a.jsxs)("div",{className:"style-picker-section",children:["number"===typeof f&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("h2",{className:"size-picker",children:[Object(a.jsx)("span",{className:"label",children:e["input.text-style.extra-size.label"]}),Object(a.jsx)(ko,{className:"inline-radio-train",value:f,optionList:[{label:Object(a.jsx)(h.a,{}),value:0},{label:"+1",value:1},{label:"+2",value:2},{label:"+3",value:3}],onChange:e=>{l((t=>{const n=d?Object(s.a)({},t[d]):void 0;return n&&d?(n.upSize="number"===typeof e?e:0,Object(s.a)(Object(s.a)({},t),{},{[d]:n})):t}))}})]})}),Object(a.jsx)("h2",{children:Object(a.jsx)(Br.a,{className:"shadow-checkbox",checked:p,onChange:e=>{l((t=>{const n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},{[i]:[...r.slice(0,2),n,r[3]]})}))},children:Object(a.jsx)("span",{className:"label",children:e["input.text-style.shadow.label"]})})}),p&&Object(a.jsx)(ac,{value:m,onChange:e=>l((t=>Object(s.a)(Object(s.a)({},t),{},{[i]:[...r.slice(0,3),e]})))}),Object(a.jsx)("h2",{children:e["input.text-style.color.label"]}),Object(a.jsx)(vi.b,{colors:ut,color:null!==b&&void 0!==b?b:"",onChangeComplete:e=>{l((t=>Object(s.a)(Object(s.a)({},t),{},{[i]:[r[0],e.hex,...r.slice(2,4)]})))}})]})]},i)}))})}),children:Object(a.jsxs)(rc,{className:"text-style-preview",children:[Object(a.jsx)("div",{className:"text-style-grid",children:u.map((e=>{let{info:t,value:n,extraValue:r}=e;const{keyName:o}=t,[i,l,c,s]=n,{upSize:d}=null!==r&&void 0!==r?r:{};return Object(a.jsx)("div",{className:"text-style-preview-section",style:{color:0!==(null!==l&&void 0!==l?l:"").length&&i?l:"#000000",textShadow:i&&c?"0 0 2px ".concat(s):"none"},children:d&&i?Object(a.jsxs)("div",{children:["+",d]}):"Auto"},o)}))}),Object(a.jsx)("span",{className:"text-style-label",children:e["input.text-style.custom-effect.label"]})]})})};n(482);const cc=Object(r.forwardRef)(((e,t)=>{let{artworkCanvas:n,backgroundCanvas:o,onCropChange:i,onTainted:l,onSourceLoaded:c}=e;const d=An(),{format:u,frame:b,foil:p,finish:m,opacity:f,nameStyleType:y,nameStyle:j,isPendulum:x,isLink:O,attribute:w,getUpdater:k,setCard:S}=ca(Object(lr.useShallow)((e=>{let{card:{format:t,frame:n,foil:a,finish:r,opacity:o,nameStyleType:i,nameStyle:l,isPendulum:c,isLink:s,attribute:d},getUpdater:u,setCard:b}=e;return{format:t,frame:n,foil:a,finish:r,opacity:o,nameStyleType:i,nameStyle:l,isPendulum:c,isLink:s,attribute:d,getUpdater:u,setCard:b}}))),{setting:F}=sa(),{showCreativeOption:C,showExtraDecorativeOption:T}=F,L=Object(r.useRef)(null),N=mt({frame:b}),[R,I]=Object(r.useState)(0),E=Object(r.useMemo)((()=>{return e={normal:d["input.foil.normal.label"],gold:d["input.foil.gold.label"],platinum:d["input.foil.platinum.label"]},Y(e).map((e=>{let{color:t,name:n,label:r}=e;return{label:"normal"===n?Object(a.jsx)(h.a,{}):r,value:n,props:{style:{color:t,fontWeight:"bold"}}}}));var e}),[d]),A=Object(r.useRef)(null),B=Object(r.useRef)(null),z=Object(r.useRef)(null),D=Object(r.useRef)(null),W=Object(r.useRef)(null),P=Object(r.useRef)(null),M=Object(r.useRef)(null),[H,K]=Object(r.useState)({id:"",setValue:()=>{}}),G=Object(r.useMemo)((()=>k("foil")),[k]),U=Object(r.useMemo)((()=>k("finish")),[k]),X=Object(r.useCallback)((e=>S((t=>Object(s.a)(Object(s.a)({},t),{},{opacity:e})))),[S]),V=Object(r.useMemo)((()=>k("attribute")),[k]),_=Object(r.useCallback)(((e,t)=>{S((n=>Object(s.a)(Object(s.a)({},n),{},{nameStyleType:e,nameStyle:t})))}),[S]),q=Object(r.useMemo)((()=>((e,t,n)=>v.map((n=>{let{name:r,nameKey:o,isCreative:i}=n;return{label:r===g?Object(a.jsx)(h.a,{}):Object(a.jsx)(yn.a,{overlay:t[o],children:Object(a.jsx)("img",{alt:t[o],src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(e,"-").concat(r.toLowerCase(),".png")})}),value:r,isCreative:i}})).filter((e=>{let{isCreative:t}=e;return!1===t||t===n})))(u,d,C)),[u,d,C]);return Object(r.useEffect)((()=>{var e;null===(e=L.current)||void 0===e||e.setValue({font:j.font})}),[j]),Object(r.useEffect)((()=>{var e;null===(e=B.current)||void 0===e||e.setValue(f)}),[f]),Object(r.useImperativeHandle)(t,(()=>({isLoading:()=>{var e,t,n,a;return null!==(e=null===(t=A.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e||null!==(n=null===(a=B.current)||void 0===a?void 0:a.isLoading())&&void 0!==n&&n},forceCardData:e=>{var t,n,a,r,o,i,l;I((e=>e+1));const{name:c,art:d,artCrop:u,artData:b,artSource:p,background:m,backgroundCrop:f,backgroundData:h,backgroundSource:g,opacity:v,setId:y,pendulumEffect:j,typeAbility:x,effect:O,atk:w,def:k,creator:S,password:F}=e;null===(t=A.current)||void 0===t||t.setValue({art:d,artCrop:u,artData:b,artSource:p}),null===(n=B.current)||void 0===n||n.setValue(Object(s.a)(Object(s.a)({},v),{},{background:m,backgroundCrop:f,backgroundData:h,backgroundSource:g})),null===(a=z.current)||void 0===a||a.setValue({name:c,setId:y}),null===(r=D.current)||void 0===r||r.setValue({pendulumEffect:j}),null===(o=W.current)||void 0===o||o.setValue(O),null===(i=P.current)||void 0===i||i.setValue({typeAbility:x}),null===(l=M.current)||void 0===l||l.setValue({atk:w,def:k,creator:S,password:F})}}))),Object(a.jsxs)("div",{className:["card-info-panel","ocg"===u?"input-ocg":"input-tcg"].join(" "),children:[Object(a.jsx)(Qr,{}),Object(a.jsx)("br",{}),Object(a.jsx)($r,{}),Object(a.jsxs)("div",{className:"card-overlay-input",children:[Object(a.jsx)(Rl,{className:"format-radio",value:u,onChange:e=>{S((t=>{var n,a,r,o,i;const l="".concat(e),c=Fn(t,l),{name:s,setId:d,effect:u,typeAbility:b,password:p,creator:m,pendulumEffect:f}=c;return null===(n=z.current)||void 0===n||n.setValue({name:s,setId:d}),null===(a=W.current)||void 0===a||a.setValue(u),null===(r=D.current)||void 0===r||r.setValue({pendulumEffect:f}),null===(o=P.current)||void 0===o||o.setValue({typeAbility:b}),null===(i=M.current)||void 0===i||i.setValue({creator:m,password:p}),c}))},optionList:ci,children:Object(a.jsx)("span",{children:d["input.format.label"]})}),Object(a.jsx)(ko,{className:"foil-radio",value:p,onChange:G,optionList:E,children:Object(a.jsx)("span",{children:d["input.foil.label"]})}),T&&Object(a.jsx)(Xi,{className:"finish-checkbox",value:m,onChange:U,optionList:si,children:Object(a.jsx)("span",{children:d["input.finish.label"]})})]}),C&&Object(a.jsxs)("div",{className:"card-layout-input",children:[Object(a.jsxs)("label",{className:"standalone-addon ant-input-group-addon",children:[d["input.layout.label"]," ",Object(a.jsx)(Er,{content:d["input.layout.tooltip"]})]}),Object(a.jsx)(al,{ref:B,defaultValue:f,receivingCanvas:o,onChange:X,onTainted:l,onCropChange:i,onSourceLoaded:c})]}),Object(a.jsx)(Yi,{onSTFrameChange:e=>{var t;return null===(t=P.current)||void 0===t?void 0:t.setValue({typeAbility:e})}}),Object(a.jsxs)(Nl,{className:"name-style-id-input",children:[Object(a.jsx)(Kl,{ref:z,onTakePicker:K}),Object(a.jsx)(Wi,{ref:L,frameInfo:pe[b],defaultType:y,defaultValue:j,showExtraDecorativeOption:T,onChange:_},R),Object(a.jsx)(ul,{isLink:O,isMonster:N,showCreativeOption:C})]}),Object(a.jsxs)("div",{className:"main-info",children:[Object(a.jsxs)("div",{className:"main-info-first",children:[Object(a.jsx)(ko,{className:"fill-input-train attribute-input",value:w,onChange:V,optionList:q,children:Object(a.jsx)("span",{children:d["input.attribute.label"]})}),(x||C)&&Object(a.jsx)(_l,{ref:D,showCreativeOption:C,showExtraDecorativeOption:T,onTakePicker:K}),Object(a.jsx)($l,{ref:P,onTakePicker:K}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"card-effect-letter-helper",children:[Object(a.jsx)(Go,{className:"standalone-label",children:d["input.effect.label"]}),C?Object(a.jsx)(lc,{}):Object(a.jsx)("div",{}),Object(a.jsx)(gi,{targetId:H.id,onPick:H.setValue})]}),Object(a.jsx)(vl,{ref:W,onTakePicker:K})]}),Object(a.jsx)(Al,{ref:M,isMonster:N,showCreativeOption:C,onTakePicker:K})]}),Object(a.jsx)("div",{className:"main-info-second",children:Object(a.jsx)(Dl,{ref:A,receivingCanvas:n,showExtraDecorativeOption:T,onSourceLoaded:c,onTainted:l,onCropChange:i})})]})]})}));var sc=n(538),dc=n(490);function uc(){const e=Object(hn.a)(["\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    border: var(--bw) solid var(--main-level-1);\n    border-top-color: transparent;\n    background-color: #333333;\n    cursor: pointer;\n    position: relative;\n    z-index: 1;\n    height: ",'px;\n    font-size: var(--fs-thumb);\n    &.alternative-color {\n        background-color: #282828;\n    }\n    &.active {\n        background-color: #484848;\n        border-color: var(--main-active);\n        box-shadow: var(--bs-2);\n        z-index: 2;\n    }\n    &:hover {\n        border-color: var(--sub-active);\n    }\n    .right-slot {\n        display: grid;\n        grid-template-columns: 1fr;\n        row-gap: var(--spacing-xxs);\n        line-height: 1.25;\n        overflow: hidden;\n        padding: var(--spacing-xs);\n        border-left: var(--bw) solid var(--main-level-3);\n        .first-row {\n            &:empty:before {\n                content: "\\00a0";\n            }\n        }\n        .second-row {\n            display: flex;\n            column-gap: var(--spacing-xs);\n            align-items: center;\n            .padding {\n                flex: 1;\n            }\n            .card-icon {\n                width: 1em;\n            }\n            .attribute-icon {\n                width: 1em;\n            }\n            .star-content {\n                flex: 0 0 30px;\n                &.tuner {\n                    color: var(--main-online);\n                }\n            }\n        }\n        .third-row {\n            display: flex;\n            .set-id {\n                flex: 1;\n                text-align: right;\n            }\n        }\n    }\n    .left-slot {\n        --link-arrow-icon-size: 16px;\n        --link-arrow-border-size: 6px;\n        --link-arrow-container-size: 8px;\n        --link-arrow-half-size: 13px;\n        --link-arrow-margin-inline: calc(var(--link-arrow-half-size) - var(--link-arrow-icon-size) / 2);\n        --link-arrow-margin-block: calc(var(--link-arrow-half-size) - var(--link-arrow-border-size) / 2);\n        line-height: 0;\n        position: relative;\n        width: ',"px;\n        overflow: hidden;\n        .card-art-container {\n            cursor: pointer;\n            display: inline-block;\n            max-height: ","px;\n            overflow: hidden;\n            box-shadow: var(--bs-1);\n            position: relative;\n            z-index: 1;\n        }\n        .card-art {\n            display: inline-block;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n        .card-frame {\n            width: 100%;\n            height: 50%;\n            position: absolute;\n            left: 0;\n            &.top-frame {\n                top: 0;\n            }\n            &.bottom-frame {\n                top: 50%;\n            }\n        }\n        .thumb-link-marker-icon {\n            display: inline-block;\n            width: 0;\n            height: 0;\n            top: 19px;\n            left: 20px;\n            border-style: solid;\n            position: absolute;\n            z-index: 3;\n            margin: var(--link-arrow-margin-block) var(--link-arrow-margin-inline);\n            border-width: 0 var(--link-arrow-container-size) var(--link-arrow-container-size) var(--link-arrow-container-size);\n            border-color: transparent transparent #dadada transparent;\n            &:after {\n                content: '';\n                display: inline-block;\n                position: absolute;\n                height: 0;\n                width: 0;\n                top: 0;\n                left: calc(-1 * var(--link-arrow-border-size));\n                border-style: solid;\n                border-width: 0 var(--link-arrow-border-size) var(--link-arrow-border-size) var(--link-arrow-border-size);\n                border-color: transparent transparent #484848 transparent;\n                transform: translateY(1px);\n                z-index: 2;\n            }\n            &.marker-checked:after {\n                border-color: transparent transparent var(--main-link-marker) transparent;\n            }\n        }\n        .pendulum-scale {\n            position: absolute;\n            bottom: 0;\n            text-align: center;\n            width: 18px;\n            line-height: 1;\n            z-index: 3;\n            font-size: var(--fs-sm);\n            background-color: #eaeaea;\n            box-shadow: var(--bs-1);\n            padding: var(--spacing-xxs) 0;\n            &.red-scale {\n                right: 0;\n                color: var(--main-red-scale);\n                border-radius: var(--br-lg) 0 0 0;\n            }\n            &.blue-scale {\n                left: 0;\n                color: var(--main-blue-scale);\n                border-radius: 0 var(--br-lg) 0 0;\n            }\n        }\n    }\n    .action-slot {\n        display: none;\n        padding: var(--spacing-xs);\n        position: absolute;\n        top: 0;\n        right: 0;\n        background: var(--main-level-3);\n        height: 100%;\n        box-shadow: 0 0 3px 0 #222222;\n        cursor: default;\n        &.force-visible {\n            display: block;\n        }\n        .action-container {\n            display: inline-grid;\n            grid-template-columns: max-content;\n            gap: var(--spacing-xs);\n        }\n        .action-button {\n            cursor: pointer;\n            &.action-duplicate:hover {\n                color: var(--main-active);\n            }\n            &.action-delete:hover {\n                color: var(--main-danger);\n            }\n            &.action-download:hover {\n                color: var(--main-online);\n            }\n        }\n    }\n    &:hover {\n        .action-slot {\n            display: block;\n        }\n    }\n"],["\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    border: var(--bw) solid var(--main-level-1);\n    border-top-color: transparent;\n    background-color: #333333;\n    cursor: pointer;\n    position: relative;\n    z-index: 1;\n    height: ",'px;\n    font-size: var(--fs-thumb);\n    &.alternative-color {\n        background-color: #282828;\n    }\n    &.active {\n        background-color: #484848;\n        border-color: var(--main-active);\n        box-shadow: var(--bs-2);\n        z-index: 2;\n    }\n    &:hover {\n        border-color: var(--sub-active);\n    }\n    .right-slot {\n        display: grid;\n        grid-template-columns: 1fr;\n        row-gap: var(--spacing-xxs);\n        line-height: 1.25;\n        overflow: hidden;\n        padding: var(--spacing-xs);\n        border-left: var(--bw) solid var(--main-level-3);\n        .first-row {\n            &:empty:before {\n                content: "\\\\00a0";\n            }\n        }\n        .second-row {\n            display: flex;\n            column-gap: var(--spacing-xs);\n            align-items: center;\n            .padding {\n                flex: 1;\n            }\n            .card-icon {\n                width: 1em;\n            }\n            .attribute-icon {\n                width: 1em;\n            }\n            .star-content {\n                flex: 0 0 30px;\n                &.tuner {\n                    color: var(--main-online);\n                }\n            }\n        }\n        .third-row {\n            display: flex;\n            .set-id {\n                flex: 1;\n                text-align: right;\n            }\n        }\n    }\n    .left-slot {\n        --link-arrow-icon-size: 16px;\n        --link-arrow-border-size: 6px;\n        --link-arrow-container-size: 8px;\n        --link-arrow-half-size: 13px;\n        --link-arrow-margin-inline: calc(var(--link-arrow-half-size) - var(--link-arrow-icon-size) / 2);\n        --link-arrow-margin-block: calc(var(--link-arrow-half-size) - var(--link-arrow-border-size) / 2);\n        line-height: 0;\n        position: relative;\n        width: ',"px;\n        overflow: hidden;\n        .card-art-container {\n            cursor: pointer;\n            display: inline-block;\n            max-height: ","px;\n            overflow: hidden;\n            box-shadow: var(--bs-1);\n            position: relative;\n            z-index: 1;\n        }\n        .card-art {\n            display: inline-block;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n        .card-frame {\n            width: 100%;\n            height: 50%;\n            position: absolute;\n            left: 0;\n            &.top-frame {\n                top: 0;\n            }\n            &.bottom-frame {\n                top: 50%;\n            }\n        }\n        .thumb-link-marker-icon {\n            display: inline-block;\n            width: 0;\n            height: 0;\n            top: 19px;\n            left: 20px;\n            border-style: solid;\n            position: absolute;\n            z-index: 3;\n            margin: var(--link-arrow-margin-block) var(--link-arrow-margin-inline);\n            border-width: 0 var(--link-arrow-container-size) var(--link-arrow-container-size) var(--link-arrow-container-size);\n            border-color: transparent transparent #dadada transparent;\n            &:after {\n                content: '';\n                display: inline-block;\n                position: absolute;\n                height: 0;\n                width: 0;\n                top: 0;\n                left: calc(-1 * var(--link-arrow-border-size));\n                border-style: solid;\n                border-width: 0 var(--link-arrow-border-size) var(--link-arrow-border-size) var(--link-arrow-border-size);\n                border-color: transparent transparent #484848 transparent;\n                transform: translateY(1px);\n                z-index: 2;\n            }\n            &.marker-checked:after {\n                border-color: transparent transparent var(--main-link-marker) transparent;\n            }\n        }\n        .pendulum-scale {\n            position: absolute;\n            bottom: 0;\n            text-align: center;\n            width: 18px;\n            line-height: 1;\n            z-index: 3;\n            font-size: var(--fs-sm);\n            background-color: #eaeaea;\n            box-shadow: var(--bs-1);\n            padding: var(--spacing-xxs) 0;\n            &.red-scale {\n                right: 0;\n                color: var(--main-red-scale);\n                border-radius: var(--br-lg) 0 0 0;\n            }\n            &.blue-scale {\n                left: 0;\n                color: var(--main-blue-scale);\n                border-radius: 0 var(--br-lg) 0 0;\n            }\n        }\n    }\n    .action-slot {\n        display: none;\n        padding: var(--spacing-xs);\n        position: absolute;\n        top: 0;\n        right: 0;\n        background: var(--main-level-3);\n        height: 100%;\n        box-shadow: 0 0 3px 0 #222222;\n        cursor: default;\n        &.force-visible {\n            display: block;\n        }\n        .action-container {\n            display: inline-grid;\n            grid-template-columns: max-content;\n            gap: var(--spacing-xs);\n        }\n        .action-button {\n            cursor: pointer;\n            &.action-duplicate:hover {\n                color: var(--main-active);\n            }\n            &.action-delete:hover {\n                color: var(--main-danger);\n            }\n            &.action-download:hover {\n                color: var(--main-online);\n            }\n        }\n    }\n    &:hover {\n        .action-slot {\n            display: block;\n        }\n    }\n"]);return uc=function(){return e},e}const{height:bc,width:pc,cardBorder:mc}=u,fc=68/pc,hc=jn.b.div(uc(),68,68,56),gc=e=>{var t,n,o,i;let{index:l,card:c,active:d,language:u,onDuplicate:b,onSelect:p,onDelete:m,onDownload:h,style:g}=e;const[v,j]=Object(r.useState)(!1),{art:x,artCrop:O,artFit:w,artSource:k,atk:S,attribute:F,background:C,backgroundCrop:T,backgroundFit:L,cardIcon:N,def:R,format:I,frame:E,backgroundType:A,hasBackground:B,isLink:z,isPendulum:D,linkMap:W,name:P,pendulumFrame:M,opacity:H,pendulumScaleBlue:K,pendulumScaleRed:Y,setId:G,star:U,subFamily:X,typeAbility:V}=c,_=At(P),q="auto"===M?D?"spell":E:M,J="offline"!==k&&x?x:"https://i.imgur.com/jjtCuG5.png",$="auto"===N?ft(E):N,Z="st"===$?X:$,Q=mt(c),ee=pt(c),te="auto"!==M||D?!!(S||R||z&&W.length):Q,ne=V.join(" / "),ae=f(D,H),{artFrameHeight:re,artFrameWidth:oe}=ae;return Object(a.jsxs)(hc,{className:fn("truncate",d?"active":"",l%2===0?"alternative-color":""),onClick:()=>p(c),style:g,children:[Object(a.jsxs)("div",{className:"left-slot",children:[Object(a.jsx)("div",{className:"card-frame top-frame",style:{backgroundColor:null===(t=pe[E])||void 0===t?void 0:t.labelBackgroundColor,backgroundImage:null===(n=pe[E])||void 0===n?void 0:n.labelBackgroundImage}}),Object(a.jsx)("div",{className:"card-frame bottom-frame",style:{backgroundColor:null===(o=pe[q])||void 0===o?void 0:o.labelBackgroundColor,backgroundImage:null===(i=pe[q])||void 0===i?void 0:i.labelBackgroundImage}}),Object(a.jsxs)("a",{className:"card-art-container",href:J,target:"_blank",rel:"noreferrer",onClick:e=>e.preventDefault(),style:{width:oe*fc,height:re*fc,top:(bc-pc)/2/2*fc,left:(pc-oe)/2*fc},children:[B&&Object(a.jsx)(yc,{className:"background-art",artLink:null!==C&&void 0!==C?C:"https://imgur.com/pdSVzUZ.png",name:_+" - background",fit:L,crop:T,canvasCoordinate:f(D,Object(s.a)(Object(s.a)({},H),{},{boundless:"fit"!==A}))}),Object(a.jsx)(yc,{className:"foreground-art",artLink:J,name:_,fit:w,crop:O,canvasCoordinate:ae})]}),z&&[...Array(9)].map(((e,t)=>4===t?null:Object(a.jsx)("div",{className:fn("thumb-link-marker-icon thumb-link-marker-icon-".concat(t+1),W.includes("".concat(t+1))?"marker-checked":""),style:{transform:"rotate(".concat(he[t],"deg) translateY(").concat(ge[t],"px)")}},"link-".concat(t)))),D&&Object(a.jsx)("div",{className:"pendulum-scale blue-scale",children:K}),D&&Object(a.jsx)("div",{className:"pendulum-scale red-scale",children:Y})]}),Object(a.jsxs)("div",{className:"right-slot truncate",children:[Object(a.jsx)("div",{className:"first-row truncate",children:_}),Object(a.jsxs)("div",{className:"second-row truncate",children:[ee||"NONE"===F?null:Object(a.jsx)("img",{className:"attribute-icon",src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(I,"-").concat(F.toLowerCase(),".png"),alt:"Icon"}),V.length>0&&Object(a.jsx)("div",{className:"truncate",children:ne}),"st"!==$&&Object(a.jsx)("div",{className:"padding"}),!z&&Z!==y&&"none"!==$&&Object(a.jsx)("img",{className:"card-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-").concat(Z,".png"),alt:"Icon"}),!z&&!ee&&"st"!==$&&Object(a.jsx)("span",{className:fn("star-content truncate",ne.toLowerCase().includes("tuner")?"tuner":""),children:"number"===typeof U?U:""!==U?'"'.concat(U,'"'):""})]}),Object(a.jsxs)("div",{className:"third-row truncate",children:[te&&Object(a.jsx)("div",{children:S}),te?Object(a.jsx)("div",{children:"\xa0/\xa0"}):Object(a.jsx)("div",{children:"\xa0"}),te&&Object(a.jsx)("div",{children:z?"Link ".concat(W.length):R}),G&&Object(a.jsx)("div",{className:"set-id",children:G})]})]}),Object(a.jsx)("div",{className:fn("action-slot",v?"force-visible":""),onClick:e=>e.stopPropagation(),children:Object(a.jsxs)("div",{className:"action-container",children:[Object(a.jsx)(yn.a,{placement:"left",title:u["manager.button.duplicate.tooltip"],children:Object(a.jsx)(sc.a,{className:"action-button action-duplicate",onClick:()=>b(c)})}),Object(a.jsx)(yn.a,{placement:"left",title:u["manager.button.download.tooltip"],children:Object(a.jsx)(To.a,{className:"action-button action-download",onClick:()=>h(c)})}),Object(a.jsx)(dc.a,{placement:"left",title:u["manager.button.delete.label"],onVisibleChange:e=>j(e),onConfirm:()=>m(c.id),okText:u["manager.button.delete.confirm.label"],cancelText:u["manager.button.delete.cancel.label"],children:Object(a.jsx)(yn.a,{placement:"left",title:u["manager.button.delete.tooltip"],children:Object(a.jsx)(kn.a,{className:"action-button action-delete"})})})]})})]})},vc=(e,t,n,a,r)=>{var o;const{artWidth:i,artY:l,ratio:c,artFrameWidth:d,artFrameY:u}=n,{width:b,height:p,x:m,y:f}=null!==(o=r?Object(s.a)(Object(s.a)({},a),{},{width:100,height:100,x:0,y:0}):a)&&void 0!==o?o:{},h=u-l,g=i*fc/(e*((null!==b&&void 0!==b?b:0)/100));return{top:(null!==f&&void 0!==f?f:0)/100*-t*g,left:(null!==m&&void 0!==m?m:0)/100*-e*g,width:e*g,height:r?t*(i/c*fc/(t*((null!==p&&void 0!==p?p:0)/100))):void 0,transform:"translateX(".concat(-(i===d?0:(pc-d)/2-mc)*fc,"px) translateY(").concat(-h*fc,"px)")}},yc=e=>{let{artLink:t,name:n,crop:o,className:i,fit:l,canvasCoordinate:c,style:d}=e;const[u,b]=Object(r.useState)("https://imgur.com/pdSVzUZ.png"),p=Object(r.useRef)(null),[m,f]=Object(r.useState)((()=>{var e,t,n,a;return vc(null!==(e=null===(t=p.current)||void 0===t?void 0:t.naturalWidth)&&void 0!==e?e:1,null!==(n=null===(a=p.current)||void 0===a?void 0:a.naturalHeight)&&void 0!==n?n:1,c,o,l)}));return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{e&&b(t)}),500),()=>{e=!1}}),[t]),Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{var t,n,a,r;e&&f(vc(null!==(t=null===(n=p.current)||void 0===n?void 0:n.naturalWidth)&&void 0!==t?t:1,null!==(a=null===(r=p.current)||void 0===r?void 0:r.naturalHeight)&&void 0!==a?a:1,c,o,l))}),500),()=>{e=!1}}),[o,c,l]),Object(a.jsx)("img",{ref:p,className:fn("card-art",i),src:u,alt:n,style:Object(s.a)(Object(s.a)({},m),d),onLoad:()=>{var e,t,n,a;f(vc(null!==(e=null===(t=p.current)||void 0===t?void 0:t.naturalWidth)&&void 0!==e?e:1,null!==(n=null===(a=p.current)||void 0===a?void 0:a.naturalHeight)&&void 0!==n?n:1,c,o,l))}})};var jc=n(272),xc=n(285);function Oc(){const e=Object(hn.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    .list-container {\n        flex: 1;\n        overflow: auto;\n    }\n    .no-card {\n        padding: var(--spacing);\n        text-align: center;\n        .reset-filter {\n            cursor: pointer;\n            color: var(--main-active);\n            &:hover {\n                color: var(--sub-active);\n            }\n        }\n    }\n    .add-card {\n        flex: 0;\n        width: 100%;\n        border-radius: 0;\n        background: var(--main-primary);\n        border-color: var(--main-active);\n        &:hover {\n            background: var(--sub-primary);\n        }\n    }\n"]);return Oc=function(){return e},e}const wc=jn.b.div(Oc()),kc=e=>{let{data:t,index:n,style:r}=e;const{activeId:o,language:i,list:l,onDelete:c,onDownload:s,onDuplicate:d,onSelect:u}=t;return Object(a.jsx)(gc,{index:n,card:l[n],active:l[n].id===o,language:i,onDuplicate:d,onSelect:u,onDownload:s,onDelete:c,style:r})},Sc=e=>{let{language:t,onSelect:n,onDownload:o,onRequestImport:i}=e;const{activeId:l,cardDisplayList:c,deleteCard:d,duplicateCard:u,resetFilter:b}=oa(Object(lr.useShallow)((e=>{let{activeId:t,cardDisplayList:n,deleteCard:a,duplicateCard:r,resetFilter:o}=e;return{activeId:t,cardDisplayList:n,deleteCard:a,duplicateCard:r,resetFilter:o}}))),[p,m]=Object(r.useState)(0),f=e=>{d(e),m((e=>e+1))};return Object(r.useEffect)((()=>{let e=!0;return setTimeout((()=>{if(e&&p>0){const{activeId:e,cardList:t,setCardList:a}=oa.getState(),r=t.find((t=>t.id===e));if(r)n(r);else{const e=Object(s.a)({id:Object(N.a)()},st());a([e],e.name)}}}),500),()=>{e=!1}}),[n,p]),Object(a.jsxs)(wc,{style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/dark-denim-3.png")')},children:[Object(a.jsx)("div",{className:"list-container",children:Object(a.jsx)(jc.a,{children:e=>{let{height:r,width:i}=e;return Object(a.jsx)(xc.a,{className:"List",height:r,itemCount:c.length,itemSize:68,itemData:{list:c,language:t,activeId:l,onDuplicate:u,onSelect:n,onDownload:o,onDelete:f},overscanCount:5,width:i,children:kc})}})}),0===c.length&&Object(a.jsxs)("div",{className:"no-card",children:[Object(a.jsx)("div",{children:t["manager.button.search.no-card.message"]}),Object(a.jsx)("div",{className:"reset-filter",onClick:b,children:t["manager.button.search.button.reset.label"]})]}),Object(a.jsx)(mr.a,{className:"add-card",onClick:i,children:t["manager.button.add.label"]})]})};var Fc=n(539),Cc=n(273),Tc=n.n(Cc),Lc=n(505);function Nc(){const e=Object(hn.a)(["\n    .ant-modal-close-x {\n        display: none;\n    }\n    .ant-collapse > .ant-collapse-item > .ant-collapse-header {\n        padding: 0;\n        padding-left: 24px;\n        .ant-collapse-arrow {\n            top: 5px;\n            left: 0;\n        }\n    }\n    .ant-collapse-item > .ant-collapse-content > .ant-collapse-content-box {\n        padding: var(--spacing-sm) 0 0 0;\n    }\n    .download-button {\n        text-align: center;\n        margin: var(--spacing-sm) 0;\n        .ant-btn {\n            background: var(--main-primary);\n            border-color: var(--main-active);\n            &:hover {\n                background: var(--sub-primary);\n            }\n        }\n    }\n    .option-container {\n        width: 100%;\n        table-layout: fixed;\n        background-color: #494949;\n        th,\n        td {\n            border: var(--bw) solid var(--sub-level-4);\n            padding: var(--spacing-xs) var(--spacing-sm);\n            &:nth-child(1) {\n                width: 170px;\n            }\n            &:nth-child(2) {\n                "," {\n                    margin-right: var(--spacing-xs);\n                }\n            }\n        }\n    }\n"]);return Nc=function(){return e},e}function Rc(){const e=Object(hn.a)(["\n    display: inline-block;\n    font-size: var(--fs-sm);\n    border-color: var(--sub-level-1);\n    line-height: 1;\n    cursor: pointer;\n    position: relative;\n    .copiable-overlay {\n        align-items: center;\n        background-color: var(--color-contrast);\n        font-size: var(--fs);\n        font-weight: bold;\n        border-radius: var(--br);\n        color: var(--color);\n        display: flex;\n        height: 100%;\n        justify-content: center;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%;\n        z-index: 999;\n    }\n"]);return Rc=function(){return e},e}function Ic(){const e=Object(hn.a)(["\n    font-weight: normal;\n    letter-spacing: -0.75px;\n    font-size: var(--fs-lg);\n"]);return Ic=function(){return e},e}const{Panel:Ec}=Lc.a,Ac=jn.b.div(Ic()),Bc=Object(jn.b)(ro)(Rc()),zc=Object(jn.b)(gn.a)(Nc(),Bc),Dc=e=>{let{data:t,children:n}=e;const[o,i]=Object(r.useState)(!1);return Object(a.jsxs)(Bc,{onClick:e=>{var n;e.stopPropagation(),n=t,_o()(n),i(!0),setTimeout((()=>{i(!1)}),1e3)},children:[o?Object(a.jsx)("div",{className:"copiable-overlay",children:Object(a.jsx)(qo.a,{})}):null,n]})},Wc=e=>{let{language:t}=e;const[n,o]=Object(r.useState)(!1);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ac,{className:"manager-toggle-button",onClick:()=>o(!0),children:t["manager.header.button.template.label"]}),Object(a.jsx)(zc,{visible:n,onCancel:()=>o(!1),okButtonProps:{style:{display:"none"}},cancelText:t["manager.template.button.cancel.label"],children:Object(a.jsxs)("div",{className:"sample-modal-container",children:[Object(a.jsxs)("div",{children:[t["manager.template.description.line-1"],Object(a.jsx)("br",{}),t["manager.template.description.line-2"]]}),Object(a.jsx)("div",{className:"download-button",children:Object(a.jsx)("a",{href:"https://drive.google.com/file/d/1c8SdS0n1UERomLKdlm28dSul5ojBfSiC/view?usp=sharing",target:"_blank",rel:"noreferrer",download:!0,children:Object(a.jsx)(mr.a,{children:t["manager.template.download.label"]})})}),Object(a.jsx)(Lc.a,{ghost:!0,children:Object(a.jsx)(Ec,{header:Object(a.jsx)("div",{children:t["manager.template.description.line-3"]}),children:Object(a.jsxs)("table",{className:"option-container",children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("b",{children:t["manager.template.header.field.label"]})}),Object(a.jsx)("th",{children:Object(a.jsx)("b",{children:t["manager.template.header.value.label"]})})]}),[{field:"Format",value:Object(a.jsx)("div",{children:["tcg","ocg"].map((e=>Object(a.jsx)(Dc,{data:e,children:e},e)))})},{field:"Frame",altField:"Bottom Frame",value:Object(a.jsx)("div",{children:me.map((e=>{let{name:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Attribute",value:Object(a.jsx)("div",{children:v.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{name:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Spell/Trap Icon",value:Object(a.jsx)("div",{children:j.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Sticker",value:Object(a.jsx)("div",{children:O.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Foil",value:Object(a.jsx)("div",{children:Y().filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{name:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Card Finish",value:Object(a.jsxs)("div",{children:[Object.values(M).map((e=>{let{value:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)})),Object(a.jsx)("div",{children:t["manager.template.description.joinable"]})]})},{field:"Art Finish",value:Object(a.jsx)("div",{children:Object.values(H).map((e=>{let{value:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Star Alignment",value:Object(a.jsx)("div",{children:["left","center","right"].map((e=>Object(a.jsx)(Dc,{data:e,children:e},e)))})},{field:"Card Icon Type",value:Object(a.jsx)("div",{children:k.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{value:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Background Type",value:Object(a.jsx)("div",{children:d().map((e=>{let{value:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})},{field:"Condense Rate",value:Object(a.jsx)("div",{children:Object.keys(te).map((e=>Object(a.jsx)(Dc,{data:e,children:e},e)))})},{field:"Name Style Type",value:Object(a.jsx)("div",{children:["predefined","custom"].map((e=>Object(a.jsx)(Dc,{data:e,children:e},e)))})},{field:"Name Style - Font",value:Object(a.jsx)("div",{children:Object(a.jsx)(Dc,{data:"Arial",children:"Arial"})})},{field:"Name Style - Preset",value:Object(a.jsx)("div",{children:Object.keys(F).map((e=>Object(a.jsx)(Dc,{data:e,children:e},e)))})},{field:"Name Style - Pattern",value:Object(a.jsx)("div",{children:L.filter((e=>{let{isOption:t}=e;return t})).map((e=>{let{key:t}=e;return Object(a.jsx)(Dc,{data:t,children:t},t)}))})}].map((e=>{let{field:t,altField:n,value:r}=e;return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[Object(a.jsx)(Bc,{children:t}),n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),Object(a.jsx)(Bc,{children:n})]})]}),Object(a.jsx)("td",{children:r})]},t)}))]})},"sample-option")})]})})]})};function Pc(){const e=Object(hn.a)(["\n    .header-warning {\n        color: var(--main-danger);\n    }\n"]);return Pc=function(){return e},e}function Mc(){const e=Object(hn.a)(["\n    .ant-drawer-header {\n        padding: 0;\n    }\n    .ant-drawer-content {\n        box-shadow: 0 0 3px 2px #202020;\n    }\n    .ant-drawer-body {\n        padding: 0;\n        height: 100%;\n    }\n    .ant-drawer-close {\n        display: none;\n    }\n    .ant-drawer-content {\n        background-color: #484848;\n    }\n\n    .manager-label-container {\n        padding: var(--spacing-sm) 0 0 var(--spacing-sm);\n    }\n    .manager-button-container {\n        padding: var(--spacing-sm) var(--spacing-sm) 0 var(--spacing-sm);\n        .manager-button {\n            cursor: pointer;\n            input {\n                display: none;\n            }\n            &:hover {\n                color: var(--main-active);\n                .anticon {\n                    color: var(--main-active);\n                }\n            }\n            &.close-button:hover {\n                .anticon {\n                    color: var(--main-danger);\n                }\n            }\n        }\n    }\n    .card-manager-header {\n        display: grid;\n        grid-template-columns: 1fr max-content;\n        .card-manager-filter {\n            grid-column: span 2;\n            padding: var(--spacing-xs);\n            .card-manager-search {\n                width: 100%;\n            }\n        }\n    }\n    .manager-button-container {\n        display: inline-flex;\n        gap: var(--spacing-sm);\n    }\n"]);return Mc=function(){return e},e}function Hc(){const e=Object(hn.a)(["\n    position: absolute;\n    right: 0;\n    top: 125px;\n"]);return Hc=function(){return e},e}const Kc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.015,t=e;return{check:()=>{const n=Math.random();return t<n?(t+=e,!1):(t=e,!0)}}}(),Yc=jn.b.div(Hc()),Gc=Object(jn.b)(to.a)(Mc()),Uc=Object(r.forwardRef)(((e,t)=>{let{language:n,onVisibleChange:o,onSelect:i,onDownload:l,onRequestImport:c}=e;const s="list-upload-id",d=Object(r.useRef)(null),{cardList:u,changeEditStatus:b,pendingActiveCard:p,setActiveId:m,setCardList:f,setFilterFunction:h,setPendingActiveCard:g,sortList:v,toggleVisible:y,visible:j}=oa(Object(lr.useShallow)((e=>{let{cardList:t,changeEditStatus:n,pendingActiveCard:a,setActiveId:r,setCardList:o,setFilterFunction:i,setPendingActiveCard:l,sortList:c,toggleVisible:s,visible:d}=e;return{cardList:t,changeEditStatus:n,pendingActiveCard:a,setActiveId:r,setCardList:o,setFilterFunction:i,setPendingActiveCard:l,sortList:c,toggleVisible:s,visible:d}}))),[x,O]=Object(r.useState)(0),[w,k]=Object(r.useState)(!1),S=Ln()((e=>{h({type:"text",value:e.target.value})}),250),F=Object(r.useCallback)((e=>{i(e),m(e.id)}),[i,m]);return Object(r.useEffect)((()=>{p&&(i(p),m(p.id),g())}),[i,p,m,g]),Object(r.useEffect)((()=>{localStorage.setItem("manager-panel-visible",j.toString()),o(j)}),[o,j]),Object(r.useEffect)((()=>{const e=oa.subscribe((e=>e.filterResetSignal),(e=>{e&&O((e=>e+1))}));return()=>{e()}}),[]),Object(r.useImperativeHandle)(t,(()=>({})),[]),Object(a.jsx)(Yc,{children:Object(a.jsx)(Gc,{title:Object(a.jsxs)("div",{className:"card-manager-header truncate",children:[Object(a.jsx)(Vc,{className:"manager-label-container truncate",language:n,children:u.length}),Object(a.jsxs)("div",{className:"manager-button-container",children:[Object(a.jsx)("div",{className:"manager-button",children:Object(a.jsx)(Wc,{language:n})}),Object(a.jsx)(fr.a,{overlay:Object(a.jsx)(pr.a,{children:[{value:aa.level.key,label:n["manager.button.sort.level.label"]},{value:aa.name.key,label:n["manager.button.sort.name.label"]},{value:aa.atk.key,label:n["manager.button.sort.atk.label"]},{value:aa.def.key,label:n["manager.button.sort.def.label"]},{value:aa.set.key,label:n["manager.button.sort.set-id.label"]}].map((e=>{let{value:t,label:n}=e;return Object(a.jsx)(pr.a.Item,{onClick:()=>v(t),children:n},t)}))}),children:Object(a.jsx)("div",{className:"manager-button",children:Object(a.jsx)(wl.a,{})})}),Object(a.jsx)(yn.a,{title:n["manager.header.button.download.tooltip"],children:Object(a.jsx)("div",{className:"manager-button",onClick:async()=>{let e=!0;if(Kc.check()&&(e=window.confirm(n["prompt.remind.backup.label"])),e){const e=(e=>{const t=[],n=Dn.length;for(let a=0;a<e.length;a++){const r=(e,t)=>{const n=Hn[e];"number"===typeof n&&("string"===typeof t&&(o[n]=t),"number"===typeof t&&(o[n]="".concat(t)),"boolean"===typeof t&&(o[n]="".concat(t)),null==t&&(o[n]=""))},o=Array(n).map((()=>"")),{art:i,artCrop:l,artFinish:c,artFit:s,atk:d,attribute:u,background:b,backgroundCrop:p,backgroundFit:m,backgroundType:f,cardIcon:h,creator:g,def:v,effect:y,effectStyle:j,effectTextStyle:x,externalInfo:O,finish:w,foil:k,format:S,frame:F,furiganaHelper:C,hasBackground:T,isDuelTerminalCard:L,isFirstEdition:N,isLegacyCard:R,isLimitedEdition:I,isLink:E,isPendulum:A,isSpeedCard:B,linkMap:z,name:D,nameStyle:W,nameStyleType:P,opacity:M,otherTextStyle:H,password:K,pendulumEffect:Y,pendulumFrame:G,pendulumScaleBlue:U,pendulumScaleRed:X,pendulumStyle:V,pendulumTextStyle:_,setId:q,star:J,starAlignment:$,statTextStyle:Z,sticker:Q,subFamily:ee,typeAbility:te,typeTextStyle:ne}=e[a],ae=JSON.stringify(O);r("Format",S),r("Frame",F),r("Name",D),r("Attribute",u),r("Star","".concat(J)),r("Spell/Trap Icon",ee),r("Art Link",i),r("Type Ability",te.join("/")),r("Effect",y),r("Set Id",q),r("ATK",d),r("DEF",v),r("Password",K),r("Sticker",Q),r("Copyright",g),r("Is Pendulum",A),r("Pendulum Effect",Y),r("Pendulum Scale Red",X),r("Pendulum Scale Blue",U),r("Is Link",E),r("Link - Top Left Arrow",z.includes("1")),r("Link - Top Arrow",z.includes("2")),r("Link - Top Right Arrow",z.includes("3")),r("Link - Left Arrow",z.includes("4")),r("Link - Right Arrow",z.includes("6")),r("Link - Bottom Left Arrow",z.includes("7")),r("Link - Bottom Arrow",z.includes("8")),r("Link - Bottom Right Arrow",z.includes("9")),r("Is First Edition",N),r("Is Speed Card",B),r("Is Limited Edition",I),r("Is Duel Terminal Card",L),r("Is Legacy Card",R),r("Foil",k),r("Art Finish",c),r("Card Finish",w.join(",")),r("Art Crop - X (%)",l.x),r("Art Crop - Y (%)",l.y),r("Art Crop - Width (%)",l.width),r("Art Crop - Height (%)",l.height),r("Is Using Full Art",s),r("Star Alignment",$),r("Card Icon Type",h),r("Opacity - Body",M.body),r("Opacity - Pendulum",M.pendulum),r("Opacity - Text",M.text),r("Opacity - Name",M.name),r("Opacity - Base Fill",M.baseFill),r("Opacity - Art Border",M.artBorder),r("Opacity - Name Border",M.nameBorder),r("Opacity - Boundless",M.boundless),r("Has Background",T),r("Background Link",b),r("Is Using Full Background",m),r("Background Type",f),r("Background Crop - X (%)",p.x),r("Background Crop - Y (%)",p.y),r("Background Crop - Width (%)",p.width),r("Background Crop - Height (%)",p.height),r("Bottom Frame",G),r("Condense Rate",j.condenseTolerant),r("Use Furigana Helper",C),r("Name Style Type",P),r("Name Style - Font",W.font),r("Name Style - Fill Style",W.fillStyle),r("Name Style - Headtext Fill Style",W.headTextFillStyle),r("Name Style - Shadow Color",W.shadowColor),r("Name Style - Shadow Offset Y",W.shadowOffsetY),r("Name Style - Shadow Offset X",W.shadowOffsetX),r("Name Style - Shadow Blur",W.shadowBlur),r("Name Style - Has Shadow",W.hasShadow),r("Name Style - Line Color",W.lineColor),r("Name Style - Line Width",W.lineWidth),r("Name Style - Line Offset Y",W.lineOffsetY),r("Name Style - Line Offset X",W.lineOffsetX),r("Name Style - Has Outline",W.hasOutline),r("Name Style - Gradient Angle",W.gradientAngle),r("Name Style - Gradient Color",W.gradientColor),r("Name Style - Has Gradient",W.hasGradient),r("Name Style - Preset",W.preset),r("Name Style - Pattern",W.pattern),r("Stat Style - Is Custom",Z[0]),r("Stat Style - Fill Color",Z[1]),r("Stat Style - Has Shadow",Z[2]),r("Stat Style - Shadow Color",Z[3]),r("Type Style - Is Custom",ne[0]),r("Type Style - Fill Color",ne[1]),r("Type Style - Has Shadow",ne[2]),r("Type Style - Shadow Color",ne[3]),r("Effect Style - Is Custom",x[0]),r("Effect Style - Fill Color",x[1]),r("Effect Style - Has Shadow",x[2]),r("Effect Style - Shadow Color",x[3]),r("Effect Style - Upsize",j.upSize),r("Pendulum Effect Style - Is Custom",_[0]),r("Pendulum Effect Style - Fill Color",_[1]),r("Pendulum Effect Style - Has Shadow",_[2]),r("Pendulum Effect Style - Shadow Color",_[3]),r("Pendulum Effect Style - Upsize",V.upSize),r("Other Style - Is Custom",H[0]),r("Other Style - Fill Color",H[1]),r("Other Style - Has Shadow",H[2]),r("Other Style - Shadow Color",H[3]),r("External Info (JSON)","{}"===ae?"":ae),t.push(o.map(Kn).join(","))}return[Dn.join(","),t.join("\n")].join("\n")})(oa.getState().cardList);Dt(oa.getState().listName,new Blob([e],{type:"text/csv"}),"text/csv"),b("download")}},children:Object(a.jsx)(To.a,{})})}),Object(a.jsx)(yn.a,{overlay:n["manager.header.button.upload.tooltip"],children:Object(a.jsxs)("div",{className:"manager-button",onClick:()=>{const e=document.getElementById(s);e&&!w&&e.click()},children:[Object(a.jsx)("input",{ref:d,type:"file",id:s,accept:".csv",className:"import-upload-input",onChange:async()=>{var e;const t=null===(e=d.current)||void 0===e?void 0:e.files,{isListDirty:a}=oa.getState(),r=()=>{O((e=>e+1)),k(!1),vn.a.error({message:n["error.csv-import.message"],description:n["error.csv-import.description"]})};let o=!0;a&&(o=window.confirm(n["prompt.warning.on-import.label"])),o&&t&&t[0]?(k(!0),Tc.a.parse(t[0],{complete(e){const t=Vn(e);t.length>0?(f(t,t[0].id),O((e=>e+1)),i(t[0]),k(!1)):r()},error:r})):(O((e=>e+1)),k(!1))}},"upload-".concat(x)),w?Object(a.jsx)(Fc.a,{}):Object(a.jsx)(ai.a,{})]})},"".concat(w)),Object(a.jsx)("div",{className:"manager-button close-button",onClick:()=>y(!1),children:Object(a.jsx)(kn.a,{})})]}),Object(a.jsx)("div",{className:"card-manager-filter",children:Object(a.jsx)(kr.a,{className:"card-manager-search",placeholder:n["manager.button.search.text.placeholder"],onChange:S,allowClear:!0},"search-".concat(x))})]}),visible:j,maskClosable:!1,mask:!1,destroyOnClose:!1,forceRender:!0,closeIcon:()=>null,onClose:()=>y(!1),width:280,children:Object(a.jsx)(Sc,{language:n,onSelect:F,onDownload:l,onRequestImport:c})})})})),Xc=jn.b.div(Pc()),Vc=e=>{let{language:t,children:n}=e,o=Object(c.a)(e,["language","children"]);const{isListDirty:i,cardList:l}=oa(Object(lr.useShallow)((e=>{let{isListDirty:t,cardList:n}=e;return{isListDirty:t,cardList:n}})));return Object(r.useEffect)((()=>{let e=e=>(e.preventDefault(),t["prompt.warning.on-leave.label"]);return i&&l.length>1&&window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[l.length,i,t]),Object(a.jsxs)(Xc,Object(s.a)(Object(s.a)({},o),{},{children:[n,i&&l.length>1&&Object(a.jsx)("span",{className:"header-warning",children:"\xa0*"})]}))};var _c=n(540),qc=n(541);function Jc(){const e=Object(hn.a)(["\n    top: var(--spacing-xs);\n    right: calc(var(--overlay-size) + 2 * var(--spacing-xs));\n"]);return Jc=function(){return e},e}function $c(){const e=Object(hn.a)(["\n    top: var(--spacing-xs);\n    right: var(--spacing-xs);\n"]);return $c=function(){return e},e}function Zc(){const e=Object(hn.a)(["\n    --overlay-size: 51px;\n    position: absolute;\n    z-index: 101;\n    background: var(--main-primary);\n    border-color: var(--main-active);\n    color: var(--color-heavy);\n    padding: var(--spacing);\n    line-height: 1;\n    font-size: var(--fs-3xl);\n    text-align: center;\n    width: var(--overlay-size);\n    height: var(--overlay-size);\n    border-radius: var(--br-lg);\n    cursor: pointer;\n    box-shadow: var(--bs-1);\n    display: none;\n    &:hover {\n        background: var(--sub-primary);\n    }\n"]);return Zc=function(){return e},e}function Qc(){const e=Object(hn.a)(["\n    color: var(--main-danger);\n"]);return Qc=function(){return e},e}function es(){const e=Object(hn.a)(["\n\tposition: fixed;\n\tright: var(--spacing);\n\tbottom: 0;\n\tfont-size: var(--fs-xs);\n\topacity: 0.5;\n\tpadding: var(--spacing-px) var(--spacing-xs);\n\tcolor: var(--color-dim);\n    img {\n        height: 10px;\n        margin-left: 1px;\n    }\n"]);return es=function(){return e},e}function ts(){const e=Object(hn.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(45deg, #333, #333);\n\tz-index: 4000;\n\tcolor: white;\n\ttext-shadow:\n\t\t0 1px #333,\n\t\t0 2px #111;\n\tfont-size: var(--fs-3xl);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return ts=function(){return e},e}function ns(){const e=Object(hn.a)(["\n    width: var(--card-width);\n    height: var(--card-height);\n    margin-bottom: var(--spacing);\n    transform: translateX(var(--translate-ratio)) translateY(var(--translate-ratio)) scale(var(--resize-ratio))\n        translateZ(0);\n    position: absolute;\n    top: 0;\n    left: 0;\n    canvas {\n        position: absolute;\n        left: 0;\n        z-index: 1;\n        pointer-events: none;\n    }\n    &:hover {\n        .reset-button,\n        .lightbox-button {\n            display: block;\n        }\n        #export-canvas.js-export-available {\n            display: inline-block !important;   // Override js-controlled inline style\n            cursor: default;\n        }\n        #export-canvas-guard {\n            display: flex;\n            cursor: wait;\n            transition: all 2s;\n        }\n    }\n    #export-canvas {\n        display: none;\n        z-index: 100;\n        pointer-events: all;\n    }\n    #export-canvas-guard {\n        position: absolute;\n        left: 0;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        z-index: 101;\n        // background-color: #ffffff08;\n        width: var(--card-width);\n        height: var(--card-height);\n        .anticon {\n            font-size: var(--fs-4xl);\n        }\n        .canvas-guard-alert {\n            position: absolute;\n            top: 0;\n            right: 0;\n            color: white;\n            padding: var(--spacing-xs) var(--spacing);\n            border-radius: 0 0 0 var(--br-lg);\n            background-color: var(--main-active);\n            box-shadow:\n                0 3px 6px rgba(0, 0, 0, 0.16),\n                0 3px 6px rgba(0, 0, 0, 0.23);\n        }\n        &.guard-on {\n            display: flex !important;   // Override js-controlled inline style\n        }\n    }\n    .crop-canvas {\n        position: relative;\n        /** Size here is just a placeholder, crop canvas constantly get its dimensions updated based on the current artwork */\n        width: 416px;\n        height: 416px;\n        z-index: 0;\n        top: 0;\n        left: 0;\n        visibility: hidden;\n    }\n"]);return ns=function(){return e},e}function as(){const e=Object(hn.a)(["\n    display: flex;\n    column-gap: var(--spacing);\n    border-radius: var(--br-lg);\n    font-size: var(--fs-4xl);\n    line-height: 1.5;\n    margin: auto;\n    max-width: var(--card-width);\n    min-height: 59px;\n    outline: none !important;   // Avoid default state styling\n    padding: var(--spacing);\n    padding-right: 0;\n    text-align: center;\n    text-shadow: 0 1px 2px black;\n    .anticon {\n        cursor: pointer;\n    }\n    button {\n        color: white;\n        border-radius: var(--br-lg);\n        outline: none !important;   // Avoid default state styling\n        cursor: pointer;\n    }\n    .save-button {\n        flex: 1;\n        font-size: var(--fs-xl);\n        border: none;\n        font-weight: 500;\n        box-shadow: var(--bs-button);\n        height: 39px; // Alignment\n        line-height: 1;\n        &:focus, &:active {\n            color: white;\n        }\n    }\n    #save-button-waiting {\n        cursor: wait;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        z-index: 1;\n    }\n    #save-button-ready {\n        cursor: pointer;\n        &:hover {\n            background-color: var(--sub-info);\n            box-shadow: none;\n        }\n    }\n    .save-button-container {\n        display: flex;\n        flex: 1;\n        font-size: var(--fs);\n        line-height: 1.35;\n        position: relative;\n    }\n    .imexport {\n        flex: 0 0 200px;\n        display: grid;\n        grid-template-columns: 1fr max-content var(--spacing) 1fr max-content;\n        .primary-button {\n            align-content: center;\n            font-size: var(--fs);\n            background-color: var(--main-tertiary);\n            border: var(--bw) solid var(--sub-tertiary);\n            border-radius: var(--br-lg) 0 0 var(--br-lg);\n            &:hover {\n                background-color: var(--sub-tertiary);\n                box-shadow: none;\n            }\n        }\n        "," {\n            border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        }\n    }\n"]);return as=function(){return e},e}const rs=jn.b.div(as(),On),os=jn.b.div(ns()),is=jn.b.div(ts()),ls=jn.b.div(es()),cs=jn.b.span(Qc()),ss=jn.b.div(Zc()),ds=Object(jn.b)(ss)($c()),us=Object(jn.b)(ss)(Jc());var bs=n(211),ps=n(498),ms=n(499),fs=n(509),hs=n(510);Object(bs.configure)({ignoreTags:[]});const gs={EXPORT:["ctrl+d","command+d"],IMPORT:["ctrl+e","command+e"],MERGE:["ctrl+g","command+g"],VIEW:["ctrl+b","command+b"],DOWNLOAD:["ctrl+s","command+s"]},{height:vs,width:ys}=u;var js=function(){var e;const{allowHotkey:t,softMode:n}=sa(Object(lr.useShallow)((e=>{let{setting:{allowHotkey:t,reduceMotionColor:n}}=e;return{softMode:n,allowHotkey:t}}))),{isInitiating:o,isLoading:i,language:l,isMetadataReady:d,languageInfo:b,initiate:p,loadDefaultLanguage:m}=En(Object(lr.useShallow)((e=>{let{isInitiating:t,isLoading:n,language:a,isMetadataReady:r,languageInfo:o,initiate:i,loadDefaultLanguage:l}=e;return{isInitiating:t,isLoading:n,language:a,isMetadataReady:r,languageInfo:o,initiate:i,loadDefaultLanguage:l}}))),[f,h]=Object(r.useState)(!0),[g,v]=Object(r.useState)(""),[y,j]=Object(r.useState)("online"),[x,O]=Object(r.useState)(0),[w,k]=Object(r.useState)(!1),[S,F]=Object(r.useState)(!1),C=Object(r.useRef)(null),T=Object(r.useRef)(null),L=Object(r.useRef)(null),N=Object(r.useRef)(null),R=Object(r.useRef)(null),I=Object(r.useRef)(null),E=Object(r.useRef)(null),A=Object(r.useRef)(null),B=Object(r.useRef)(null),z=Object(r.useRef)(null),D=Object(r.useRef)(null),W=Object(r.useRef)(null),P=Object(r.useRef)(null),M=Object(r.useRef)(null),H=Object(r.useRef)(null),K=Object(r.useRef)(null),Y=Object(r.useRef)(null),G=Object(r.useRef)(null),[U]=Object(r.useState)({artworkCanvasRef:T,backgroundCanvasRef:L,exportCanvasRef:N,frameCanvasRef:R,cardIconCanvasRef:I,pendulumScaleCanvasRef:E,pendulumEffectCanvasRef:A,typeCanvasRef:B,effectCanvasRef:z,nameCanvasRef:D,statCanvasRef:W,setIdCanvasRef:P,passwordCanvasRef:M,creatorCanvasRef:H,stickerCanvasRef:K,finishCanvasRef:Y,lightboxCanvasRef:G}),X=Object(r.useRef)(null),V=Object(r.useRef)(null),_=Object(r.useRef)(null),[q,J]=Object(r.useState)(0);Object(r.useEffect)((()=>{p()}),[p]),Object(r.useEffect)((()=>{d&&m()}),[d,m]),Object(r.useEffect)((()=>{["font-family","letter-spacing","--width-label"].forEach((e=>{var t,n;document.body.style.setProperty(e,null!==(t=null===(n=b.style)||void 0===n?void 0:n[e])&&void 0!==t?t:"")}))}),[b]),Object(r.useEffect)((()=>{var e;const t=null===(e=N.current)||void 0===e?void 0:e.getContext("2d"),n=ca.getState().setCard;t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",ya(t)),!1===o&&ir.a.load({custom:{families:["LucidaFax-Italic","Matrix-Bold","MatrixBoldSmallCaps","MatrixBook","MatrixRegularSmallCaps","RoGSanSrfStd-Bd","YuGiOhITCStoneSerifBSc","matrix","palatino-linotype-bold","stone-serif-bold","stone-serif-regular"],urls:["asset/font.css"]},active:()=>{const e=(()=>{try{const n=localStorage.getItem("card-version"),a=localStorage.getItem("card-data"),r=a?Ct(JSON.parse(a)):null,o=new URLSearchParams(window.location.search).get("data");if(o){var e,t;const{card:n}=ia(o),a=Ct(n),{artSource:i,backgroundSource:l}=a;if("online"===i&&"online"===l)return ia(o).card;const c=Object(s.a)({},a);return"offline"===i&&(c.artData=null!==(e=null===r||void 0===r?void 0:r.artData)&&void 0!==e?e:""),"offline"===l&&(c.backgroundData=null!==(t=null===r||void 0===r?void 0:r.backgroundData)&&void 0!==t?t:""),c}return null!==r&&"2.1.1"===n?r:ct()}catch(n){return console.error(n),ct()}})();n(e),oa.getState().setCardList([e],e.id),h(!1)},fontinactive(e,t){console.error("TCG fontinactive",e,t),vn.a.error({message:Bn()["error.load.font.tcg"](e)})},inactive:()=>{v(Bn()["error.load.font.all-tcg"]),h(!1)}})}),[o]);const{styleContent:$}=function(e){var t=e.isLanguageInitiating,n=e.onActive,a=e.onBeforeLoad,o=e.onFontInactive,i=e.onInactive,l=ca(Object(lr.useShallow)((function(e){return{format:e.card.format,font:e.card.nameStyle.font}}))),c=l.font,s=l.format,d=Object(r.useState)(""),u=Object(an.a)(d,2),b=u[0],p=u[1],m=Object(r.useRef)(!1),f=Object(r.useRef)(0);return Object(r.useEffect)((function(){("ocg"===s||"OCG"===c)&&!1===m.current&&f.current<=3&&!1===t&&(f.current+=1,p("".concat("/ygocarder","/asset/ocg-font.css")),a(),ir.a.load({custom:{families:["DFHSGothic-W3-WIN-RKSJ-H","DFKakuTaiHiStd-W4","FOT-Rodin Pro M","Yu-Gi-Oh! DF Leisho 3"],urls:["asset/ocg-font.css"]},active:function(){m.current=!0,n()},inactive:function(){m.current=!0,i()},fontinactive:o}))}),[s,c,t,n,a,o,i]),{styleContent:b}}({isLanguageInitiating:o,onBeforeLoad:()=>{var e;h(!0);const t=null===(e=N.current)||void 0===e?void 0:e.getContext("2d");t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",ya(t))},onActive:()=>{h(!1)},onInactive:()=>{v(Bn()["error.load.font.all-ocg"]),h(!1)},onFontInactive:(e,t)=>{console.error("OCG fontinactive",e,t),vn.a.error({message:Bn()["error.load.font.ocg"](e)})}}),[Z,Q]=Object(r.useState)(!1);Object(r.useEffect)((()=>{const e=document.body.classList;n?e.add("reduced-color-motion"):e.remove("reduced-color-motion")}),[n]);const ee=Object(r.useCallback)((function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&!t||k((t=>"boolean"===typeof e?e:!t))}),[t]),te=Object(r.useRef)(!1),ne=document.getElementById("sentry-bug-report");Object(r.useEffect)((()=>{ne&&l&&!1===te.current&&!1===Fr.f()&&(te.current=!0,ps.a({dsn:"https://32e20d849c5724b2e63eab9d0a57c165@o4508424630697984.ingest.us.sentry.io/4508424632401920",integrations:[ms.a(),fs.a(),hs.a({colorScheme:"system",autoInject:!1}).attachTo(ne,{formTitle:l["contributor.bug-report.tooltip"],nameLabel:l["contributor.bug-report.name.label"],namePlaceholder:l["contributor.bug-report.name.placeholder"],isEmailRequired:!1,showEmail:!1,messageLabel:l["contributor.bug-report.message.label"],messagePlaceholder:l["contributor.bug-report.message.placeholder"],addScreenshotButtonLabel:l["contributor.bug-report.screenshot.label"],removeScreenshotButtonLabel:l["contributor.bug-report.remove-screenshot.label"],cancelButtonLabel:l["contributor.bug-report.cancel.label"],submitButtonLabel:l["contributor.bug-report.submit.label"],isRequiredLabel:l["contributor.bug-report.required.label"],successMessageText:l["contributor.bug-report.success.label"]})],tracesSampleRate:1,tracePropagationTargets:["lauqerm.github.io"],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}))}),[l,ne]);const ae=Object(r.useCallback)(((e,t)=>{var n;const{addToList:a,forcePurityCheck:r,writeOnCurrentCard:o}=null!==t&&void 0!==t?t:{},{setCard:i,card:l}=ca.getState(),c=o?Object(s.a)(Object(s.a)({},e),{},{id:l.id}):e;a&&oa.getState().addCard(c),i(c,r),J((e=>e+1)),null===(n=C.current)||void 0===n||n.forceCardData(c),un()}),[]),re=Object(r.useCallback)((async function(e){var n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a&&!t||(null===e||void 0===e||e.preventDefault(),null===(n=_.current)||void 0===n||n.requestImport("replace"))}),[t]),oe=Object(r.useCallback)((function(e){var n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a&&!t||(null===e||void 0===e||e.preventDefault(),null===(n=_.current)||void 0===n||n.requestImport("merge"))}),[t]),ie=Object(r.useCallback)((function(e){var n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;if(!a||t)if(null===e||void 0===e||e.preventDefault(),"online"===y&&(null===(n=C.current)||void 0===n?void 0:n.isLoading()))window.alert(l["error.export.image-loading.message"]);else try{var o;const e=null!==r&&void 0!==r?r:ca.getState().card;null===(o=V.current)||void 0===o||o.setCardData(e)}catch(i){console.error(i),vn.a.error({message:l["error.export.message"],description:l["error.export.description"]})}}),[t,l,y]),le=Object(r.useCallback)((e=>{const{id:t}=e,n=Object(c.a)(e,["id"]);ie(void 0,!1,n)}),[ie]),ce=Object(r.useCallback)((function(e){var n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a&&!t||(null===e||void 0===e||e.preventDefault(),null===(n=X.current)||void 0===n||n.download())}),[t]),se=Object(r.useMemo)((()=>({IMPORT:e=>re(e,!0),MERGE:e=>oe(e,!0),EXPORT:e=>ie(e,!0),VIEW:()=>ee(!0,!0),DOWNLOAD:e=>ce(e,!0)})),[ce,ie,re,oe,ee]),de=Object(r.useCallback)((()=>{Q(!0),alert(l["prompt.download.tainted.message"])}),[l]),ue=Object(r.useCallback)((()=>{O((e=>e+1)),J((e=>e+1)),Q(!1)}),[]),be=Object(r.useCallback)(((e,t)=>{J((e=>e+1)),j(t)}),[]),pe=Object(r.useCallback)((()=>{J((e=>e+1)),Q(!0)}),[]),me=Object(r.useCallback)((e=>{F(e)}),[]),fe=i||f;return Object(a.jsx)(bs.HotKeys,{keyMap:gs,handlers:se,children:Object(a.jsxs)("div",{id:"app",onDrop:()=>{},className:"language-".concat(b.codeName," manager-").concat(S?"visible":"hidden"),style:Object(s.a)({backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/debut-dark.png"), linear-gradient(180deg, #00000022, #00000044)'),height:mn()?"-webkit-fill-available":"100vh"},{"--card-height":"".concat(u.height,"px"),"--card-width":"".concat(u.width,"px")}),children:[$&&Object(a.jsx)("link",{rel:"stylesheet",type:"text/css",href:$}),Object(a.jsxs)("div",{className:"app-container",style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/dark-denim-3.png")')},children:[fe&&Object(a.jsx)(is,{className:"app-loading",children:g.length>0?Object(a.jsx)(cs,{children:g}):null!==(e=b.initialMessage)&&void 0!==e?e:""}),Object(a.jsxs)("div",{className:"card-preview-panel ".concat(Z?"export-tainted":"export-normal"),children:[Object(a.jsxs)(rs,{className:"data-button-panel",children:[Object(a.jsxs)("div",{className:"imexport",children:[Object(a.jsx)(ni,{ref:V,artworkCanvas:T.current,allowHotkey:t,onRequireExportData:ie,onRequireDownload:()=>{var e;return null===(e=X.current)||void 0===e?void 0:e.download()},onClose:un}),Object(a.jsx)("div",{}),Object(a.jsx)(li,{ref:_,onImport:ae,onClose:un,allowHotkey:t,language:l})]}),Object(a.jsx)(br,{language:l}),Object(a.jsx)(wr,{ref:X,canvasMap:U,imageChangeCount:q,isTainted:Z,isInitializing:f,onDownloadError:de}),Z&&Object(a.jsx)("div",{id:"save-button-tainted",className:"save-button-container",children:Object(a.jsxs)("span",{children:[l["alert.download.tainted-first-line"],Object(a.jsx)("br",{}),l["alert.download.tainted-second-line"]," ",Object(a.jsx)(eo,{})]})})]}),Object(a.jsx)("div",{className:"card-canvas-container",children:Object(a.jsxs)(os,{className:"card-canvas-group",children:[Object(a.jsx)(yn.a,{title:l["button.reset.tooltip"],children:Object(a.jsx)(us,{className:"reset-button",onClick:()=>{if(window.confirm(l["prompt.reset.message"])){var e;const{setCard:t,card:n}=ca.getState(),a=Object(s.a)({id:n.id},lt()),r="tcg"===n.format?a:Fn(a,"ocg");t(r,!0),J((e=>e+1)),null===(e=C.current)||void 0===e||e.forceCardData(r)}},children:Object(a.jsx)(_c.a,{})})}),Object(a.jsx)(yn.a,{title:Object(a.jsxs)("div",{className:"center",children:[l["button.full-size.label"],t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),"Ctrl-B / \u2318-B"]}):null]}),children:Object(a.jsx)(ds,{className:"lightbox-button",onClick:()=>ee(),children:Object(a.jsx)(qc.a,{})})}),Object(a.jsx)("canvas",{id:"export-canvas",ref:N,width:ys,height:vs},x+.1),Object(a.jsx)("div",{id:"export-canvas-guard",onContextMenu:e=>e.preventDefault()}),Object(a.jsx)("canvas",{id:"frameCanvas",ref:R,width:ys,height:vs},x),Object(a.jsx)("canvas",{id:"nameCanvas",ref:D,width:ys,height:148}),Object(a.jsx)("canvas",{id:"cardIconCanvas",ref:I,width:ys,height:222}),Object(a.jsx)("canvas",{id:"pendulumScaleCanvas",ref:E,width:ys,height:889}),Object(a.jsx)("canvas",{id:"pendulumEffectCanvas",ref:A,width:ys,height:889}),Object(a.jsx)("canvas",{id:"typeCanvas",ref:B,width:ys,height:1037}),Object(a.jsx)("canvas",{id:"effectCanvas",ref:z,width:ys,height:1111}),Object(a.jsx)("canvas",{id:"statCanvas",ref:W,width:ys,height:vs}),Object(a.jsx)("canvas",{id:"setIdCanvas",ref:P,width:ys,height:vs}),Object(a.jsx)("canvas",{id:"passwordCanvas",ref:M,width:ys,height:vs}),Object(a.jsx)("canvas",{id:"creatorCanvas",ref:H,width:ys,height:vs}),Object(a.jsx)("canvas",{id:"stickerCanvas",ref:K,width:ys,height:vs}),Object(a.jsx)("canvas",{id:"finishCanvas",ref:Y,width:ys,height:vs}),Object(a.jsx)("canvas",{className:"crop-canvas",ref:T}),Object(a.jsx)("canvas",{className:"crop-canvas",ref:L})]})})]}),!1===fe&&Object(a.jsx)(cc,{ref:C,artworkCanvas:T.current,backgroundCanvas:L.current,onSourceLoaded:ue,onCropChange:be,onTainted:pe})]}),Object(a.jsx)(Uc,{language:l,onVisibleChange:me,onDownload:le,onSelect:ae,onRequestImport:()=>{var e;null===(e=_.current)||void 0===e||e.requestImport("new")}}),Object(a.jsx)(gn.a,{width:"".concat(u.width+30,"px"),wrapClassName:"card-lightbox-overlay",visible:w,forceRender:!0,onCancel:()=>k(!1),footer:null,children:Object(a.jsx)("canvas",{id:"lightbox-canvas",ref:G,width:ys,height:vs},x+.1)}),Object(a.jsxs)(ls,{className:"by-me",children:["Made by Lauqerm ",Object(a.jsx)("img",{src:"https://i.imgur.com/RY6IRqn.png",alt:"avatar"})]})]})})},xs=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,543)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};l.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(js,{})}),document.getElementById("root")),xs()}},[[484,1,2]]]);
//# sourceMappingURL=main.b4500a76.chunk.js.map