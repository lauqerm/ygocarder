(this.webpackJsonpygocarder=this.webpackJsonpygocarder||[]).push([[0],{295:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},309:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},339:function(e,t,n){},348:function(e,t,n){},456:function(e,t,n){},462:function(e,t,n){},463:function(e,t,n){},472:function(e,t,n){},486:function(e,t,n){"use strict";n.r(t);var r,a=n(1),o=n(0),i=n.n(o),c=n(49),l=n.n(c),s=(n(295),n(2)),u=n(5),d=(n(296),n(297),n(298),n(299),n(300),813),f=1185,b=210,p=912,m=52,h="#404040",g=function(){return{body:100,pendulum:100,text:100,name:100,baseFill:h,artBorder:!0,nameBorder:!0,boundless:!1}},v={normal:{artFinishX:100,artFinishY:219,artWidth:614,artX:100,artY:219,ratio:1,type:"normal"},pendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.325,type:"pendulum"},extendedCard:{artFinishX:100,artFinishY:219,artWidth:702,artX:56,artY:213,ratio:.775,type:"extendedCard"},extendedPendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:.775,type:"extendedPendulum"},truePendulum:{artFinishX:56,artFinishY:213,artWidth:702,artX:56,artY:213,ratio:1.057,type:"truePendulum"},fullCard:{artFinishX:100,artFinishY:219,artWidth:758,artX:28,artY:28,ratio:.67,type:"fullCard"},fullPendulum:{artFinishX:56,artFinishY:213,artWidth:758,artX:28,artY:28,ratio:.67,type:"fullPendulum"}},j=function(e,t,n){var r=Object(s.a)(Object(s.a)({},g()),t),a=r.boundless,o=r.body,i=r.pendulum,c=r.text;return"full"===n?v.fullCard:v["fit"!==n&&a||o<100?e?"fullPendulum":"fullCard":e?c<100?"extendedPendulum":i<100?"truePendulum":"pendulum":c<100?"extendedCard":"normal"]},x=n(514),y="NONE",O=[{name:y,nameKey:"input.attribute.none",color:"#000000",isCreative:!1},{name:"DARK",nameKey:"input.attribute.dark",label:"Dark",color:"#b41dda",isCreative:!1},{name:"EARTH",nameKey:"input.attribute.earth",label:"Earth",color:"#8d8e8e",isCreative:!1},{name:"FIRE",nameKey:"input.attribute.fire",label:"Fire",color:"#e51b23",isCreative:!1},{name:"LIGHT",nameKey:"input.attribute.light",label:"Light",color:"#bfae32",isCreative:!1},{name:"WATER",nameKey:"input.attribute.water",label:"Water",color:"#008ecd",isCreative:!1},{name:"WIND",nameKey:"input.attribute.wind",label:"Wind",color:"#28ab35",isCreative:!1},{name:"DIVINE",nameKey:"input.attribute.divine",label:"Divine",color:"#ef6300",isCreative:!1},{name:"SPELL",nameKey:"input.attribute.spell",label:"Spell",color:"#1b8f83",isCreative:!1},{name:"TRAP",nameKey:"input.attribute.trap",label:"Trap",color:"#c32a8c",isCreative:!1},{name:"LAUGH",nameKey:"input.attribute.laugh",label:"Laugh",color:"#f78f27",isCreative:!0}],w="NO ICON",k=[{label:Object(a.jsx)(x.a,{}),value:w,nameKey:"input.icon.none"},{label:"Field",value:"FIELD",nameKey:"input.icon.field"},{label:"Continuous",value:"CONTINUOUS",nameKey:"input.icon.continuous"},{label:"Quick-Play",value:"QUICK-PLAY",nameKey:"input.icon.quick-play"},{label:"Ritual",value:"RITUAL",nameKey:"input.icon.ritual"},{label:"Equip",value:"EQUIP",nameKey:"input.icon.equip"},{label:"Counter",value:"COUNTER",nameKey:"input.icon.counter"}],F=function(e){return Object(s.a)({hasGradient:!1,hasOutline:!1,hasShadow:!1,pattern:"none"},e)},S={commonB:{key:"commonB",label:"Common (Black)",image:"asset/image/other/name-common-b.png",value:F({preset:"commonB",fillStyle:"#000000"})},commonW:{key:"commonW",label:"Common (White)",image:"asset/image/other/name-common-w.png",value:F({preset:"commonW",fillStyle:"#ffffff"})},skillDefault:{key:"skillDefault",label:"Skill (Default)",image:"asset/image/other/name-skill-default.png",value:F({preset:"skillDefault",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",hasOutline:!0})},skillArial:{key:"skillArial",label:"Skill (Arial)",image:"asset/image/other/name-skill-arial.png",value:F({preset:"skillArial",font:"Arial",fillStyle:"#ffffff",lineWidth:6,lineColor:"#000",lineOffsetX:1,hasOutline:!0})},rare:{key:"rare",label:"Rare",image:"asset/image/other/name-rare.png",value:F({preset:"rare",fillStyle:"#cfc6de"})},secretGradient:{key:"secretGradient",label:"Secret (Gradient)",image:"asset/image/other/name-secret-gradient.png",value:F({preset:"secretGradient",gradientAngle:180,gradientColor:"0.000|#7a71a6,1.000|#a8c1e5",hasGradient:!0})},secret:{key:"secret",label:"Secret",image:"asset/image/other/name-secret.png",value:F({preset:"secret",fillStyle:"#8a8381"})},platinum2:{key:"platinum2",label:"Platinum",image:"asset/image/other/name-platinum.png",value:F({preset:"platinum2",fillStyle:"#a49f9e"})},ultra:{key:"ultra",label:"Ultra",image:"asset/image/other/name-ultra.png",value:F({preset:"ultra",fillStyle:"#dbb473"})},ultra2:{key:"ultra2",label:"Ultra (Type 2)",image:"asset/image/other/name-ultra-2.png",value:F({preset:"ultra2",fillStyle:"#fee002"})},platinum:{key:"platinum",label:"Foil Platinum",image:"asset/image/other/name-foil-platinum.png",value:F({preset:"platinum",fillStyle:"#CCCCCC",shadowColor:"#FFFFFF",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},gold:{key:"gold",label:"Foil Gold",image:"asset/image/other/name-foil-gold.png",value:F({preset:"gold",fillStyle:"#b88c43",shadowColor:"#FCC400",shadowOffsetY:1,shadowOffsetX:0,shadowBlur:1,hasShadow:!0})},animeRed:{key:"animeRed",label:"Anime (Type Red)",image:"asset/image/other/name-anime-red.png",value:F({preset:"animeRed",gradientAngle:180,gradientColor:"0.000|#d81961,0.220|#b81654,0.270|#9e1348,0.330|#95093e,0.380|#95093e,0.450|#ba3264,0.530|#ff5e99,0.620|#ffa0c3,0.690|#ffffff,0.770|#ff5e99,0.870|#d81961,1.000|#b81654",hasGradient:!0,hasOutline:!0,hasShadow:!0,lineColor:"#333333",lineOffsetX:1,lineOffsetY:0,lineWidth:3,shadowBlur:2,shadowColor:"#383838",shadowOffsetX:2,shadowOffsetY:3})},animeSilver:{key:"animeSilver",label:"Anime (Type Silver)",image:"asset/image/other/name-anime-silver.png",value:F({preset:"animeSilver",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#cecbb8,0.220|#b0ad9b,0.270|#94917e,0.330|#797768,0.380|#797768,0.450|#d9d9d9,0.610|#ffffff,0.700|#ffffff,0.870|#d6d7c7,1.000|#c9cbb6",hasGradient:!0})},animeGold:{key:"animeGold",label:"Anime (Type Gold)",image:"asset/image/other/name-anime-gold.png",value:F({preset:"animeGold",shadowColor:"#383838",shadowOffsetY:3,shadowOffsetX:2,shadowBlur:2,hasShadow:!0,lineColor:"#333333",lineWidth:3,lineOffsetX:1,lineOffsetY:0,hasOutline:!0,gradientAngle:180,gradientColor:"0.000|#eee317,0.220|#dbbe15,0.270|#d0920c,0.330|#b57f0b,0.380|#d0920c,0.450|#ffff6b,0.610|#ffffff,0.700|#ffffff,0.870|#e5dd2d,1.000|#e3da23",hasGradient:!0})},promo:{key:"promo",label:"Promo",image:"asset/image/other/name-promo.png",value:F({preset:"promo",fillStyle:"#c7080b",shadowColor:"#333333",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:1,hasShadow:!0,lineColor:"#8a1801",lineWidth:3,lineOffsetX:0,hasOutline:!0,lineOffsetY:0})}},C=Object.values(S),T={none:{key:"none",patternImage:"",blendMode:"source-atop"},type1:{key:"type1",patternImage:"finish-name-type1",blendMode:"source-atop"},type2:{key:"type2",patternImage:"finish-name-type2",blendMode:"source-atop"},type3:{key:"type3",patternImage:"finish-name-type3",blendMode:"source-atop"},type4:{key:"type4",patternImage:"finish-name-type4",blendMode:"source-atop"},type5:{key:"type5",patternImage:"finish-name-type5",blendMode:"multiply",overrideFill:!0},type6:{key:"type6",patternImage:"finish-name-type6",blendMode:"source-atop"},type7:{key:"type7",patternImage:"finish-name-type7",blendMode:"lighter",overrideFill:!0},type8:{key:"type8",patternImage:"finish-name-type8",blendMode:"source-atop"},type9:{key:"type9",patternImage:"finish-name-type9",blendMode:"source-atop"}},R=Object.values(T),N={tcg:[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8}],"tcg-stat":[{trueWidth:684,trueBaseline:890.23,trueEdge:64.8}],"tcg-type-stat":[{trueWidth:684,trueBaseline:919.8,trueEdge:64.5}],"tcg-type":[{trueWidth:684,trueBaseline:921.8,trueEdge:64.5}],ocg:[{trueWidth:684,trueBaseline:895.23,trueEdge:64.8}],"ocg-stat":[{trueWidth:684,trueBaseline:891.23,trueEdge:64.8}],"ocg-type-stat":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5}],"ocg-type":[{trueWidth:684,trueBaseline:918.5,trueEdge:64.5}]},L=[{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94},{trueWidth:555.47,trueBaseline:746.29,trueEdge:128.94}],E={tcg:{small:{trueBaseline:919,trueEdge:62.5,trueWidth:684.5},medium:{trueBaseline:920,trueEdge:62.5,trueWidth:684.5},large:{trueBaseline:187.5,trueEdge:732,edgeAlignment:"right",trueWidth:648.5}},ocg:{small:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},medium:{trueBaseline:917,trueEdge:63.7,trueWidth:684.5},large:{trueBaseline:190.5,trueEdge:728,edgeAlignment:"right",trueWidth:642.5}}},M={ocg:{trueBaseline:1146.5,trueEdge:736,trueWidth:435},tcg:{trueBaseline:1149.5,trueEdge:733,trueWidth:380}},I={ocg:{trueBaseline:1148.931,trueEdge:37.031,trueWidth:255},tcg:{trueBaseline:1149.431,trueEdge:37.031,trueWidth:311}},A=[{shortForm:"\u7279\u6b8a\u53ec\u559a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u30ab\u30fc\u30c9",rubyForm:"{\u30ab\u30fc\u30c9}"},{shortForm:"\u30c7\u30e5\u30a8\u30eb",rubyForm:"{\u30c7\u30e5\u30a8\u30eb}"},{shortForm:"\u30de\u30c3\u30c1",rubyForm:"{\u30de\u30c3\u30c1}"},{shortForm:"\u30bf\u30fc\u30f3",rubyForm:"{\u30bf\u30fc\u30f3}"},{shortForm:"\u30d7\u30ec\u30a4\u30e4\u30fc",rubyForm:"{\u30d7\u30ec\u30a4\u30e4\u30fc}"},{shortForm:"\u81ea\u5206",rubyForm:"{\u81ea|\u3058}{\u5206|\u3076\u3093}"},{shortForm:"\u76f8\u624b",rubyForm:"{\u76f8|\u3042\u3044}{\u624b|\u3066}"},{shortForm:"LP",regexForm:"(?<![a-zA-Z_])LP(?![a-zA-Z_])",rubyForm:"{LP|\u30e9\u30a4\u30d5\u30dd\u30a4\u30f3\u30c8}"},{shortForm:"\u30c7\u30c3\u30ad",rubyForm:"{\u30c7\u30c3\u30ad}"},{shortForm:"\u30e1\u30a4\u30f3",rubyForm:"{\u30e1\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30c9",rubyForm:"{\u30b5\u30a4\u30c9}"},{shortForm:"EX",regexForm:"(?<!\\w)EX(?!\\w)",rubyForm:"{EX|\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a3\u30fc\u30eb\u30c9",rubyForm:"{\u30d5\u30a3\u30fc\u30eb\u30c9}"},{shortForm:"\u5893\u5730",rubyForm:"{\u5893|\u307c}{\u5730|\u3061}"},{shortForm:"\u624b\u672d",rubyForm:"{\u624b|\u3066}{\u672d|\u3075\u3060}"},{shortForm:"\u30be\u30fc\u30f3",rubyForm:"{\u30be\u30fc\u30f3}"},{shortForm:"\u30e2\u30f3\u30b9\u30bf\u30fc",rubyForm:"{\u30e2\u30f3\u30b9\u30bf\u30fc}"},{shortForm:"\u7e26\u5217",rubyForm:"{\u7e26|\u305f\u3066}{\u5217|\u308c\u3064}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc}"},{shortForm:"\u6301\u3061\u4e3b",rubyForm:"{\u6301|\u3082}\u3061{\u4e3b|\u306c\u3057}"},{shortForm:"\u30c0\u30e1\u30fc\u30b8",rubyForm:"{\u30c0\u30e1\u30fc\u30b8}"},{shortForm:"\u6226\u95d8",rubyForm:"{\u6226|\u305b\u3093}{\u95d8|\u3068\u3046}"},{shortForm:"\u30b9\u30da\u30eb",rubyForm:"{\u30b9\u30da\u30eb}"},{shortForm:"\u30b9\u30d4\u30fc\u30c9",rubyForm:"{\u30b9\u30d4\u30fc\u30c9}"},{shortForm:"\u30c1\u30a7\u30fc\u30f3",rubyForm:"{\u30c1\u30a7\u30fc\u30f3}"},{shortForm:"\u30d6\u30ed\u30c3\u30af",rubyForm:"{\u30d6\u30ed\u30c3\u30af}"},{shortForm:"\u76f4\u63a5",rubyForm:"{\u76f4|\u3061\u3087\u304f}{\u63a5|\u305b\u3064}"},{shortForm:"\u7d20\u6750",rubyForm:"{\u7d20|\u305d}{\u6750|\u3056\u3044}"},{shortForm:"\u540d",rubyForm:"{\u540d|\u3081\u3044}"},{shortForm:"\u6761\u4ef6",rubyForm:"{\u6761|\u3058\u3087\u3046}{\u4ef6|\u3051\u3093}"},{shortForm:"\u30b3\u30a4\u30f3",rubyForm:"{\u30b3\u30a4\u30f3}"},{shortForm:"\u30b5\u30a4\u30b3\u30ed",rubyForm:"{\u30b5\u30a4\u30b3\u30ed}"},{shortForm:"\u5143",rubyForm:"{\u5143|\u3082\u3068}"},{shortForm:"\u5148",rubyForm:"{\u5148|\u3055\u304d}"},{shortForm:"\u72b6\u614b",rubyForm:"{\u72b6|\u3058\u3087\u3046}{\u614b|\u305f\u3044}"},{shortForm:"\u76f8\u4e92",rubyForm:"{\u76f8|\u305d\u3046}{\u4e92|\u3054}"},{shortForm:"\u30a8\u30af\u30b9\u30c8\u30e9",rubyForm:"{\u30a8\u30af\u30b9\u30c8\u30e9}"},{shortForm:"\u30d5\u30a7\u30a4\u30ba",rubyForm:"{\u30d5\u30a7\u30a4\u30ba}"},{shortForm:"\u30c9\u30ed\u30fc",rubyForm:"{\u30c9\u30ed\u30fc}"},{shortForm:"\u30b9\u30bf\u30f3\u30d0\u30a4",rubyForm:"{\u30b9\u30bf\u30f3\u30d0\u30a4}"},{shortForm:"\u30d0\u30c8\u30eb",rubyForm:"{\u30d0\u30c8\u30eb}"},{shortForm:"\u30a8\u30f3\u30c9",rubyForm:"{\u30a8\u30f3\u30c9}"},{shortForm:"\u30b9\u30bf\u30fc\u30c8",rubyForm:"{\u30b9\u30bf\u30fc\u30c8}"},{shortForm:"\u30b9\u30c6\u30c3\u30d7",rubyForm:"{\u30b9\u30c6\u30c3\u30d7}"},{shortForm:"\u7a2e\u985e",rubyForm:"{\u7a2e|\u3057\u3085}{\u985e|\u308b\u3044}"},{shortForm:"\u5f62\u5f0f",rubyForm:"{\u5f62|\u3051\u3044}{\u5f0f|\u3057\u304d}"},{shortForm:"\u8868\u5074",rubyForm:"{\u8868|\u304a\u3082\u3066}{\u5074|\u304c\u308f}"},{shortForm:"\u88cf\u5074",rubyForm:"{\u88cf|\u3046\u3089}{\u5074|\u304c\u308f}"},{shortForm:"\u8868\u793a",rubyForm:"{\u8868|\u3072\u3087\u3046}{\u793a|\u3058}"},{shortForm:"\u88cf",rubyForm:"{\u88cf|\u3046\u3089}"},{shortForm:"\u7f60",rubyForm:"{\u7f60|\u30c8\u30e9\u30c3\u30d7}"},{shortForm:"\u30a2\u30af\u30b7\u30e7\u30f3",rubyForm:"\u30a2\u30af\u30b7\u30e7\u30f3"},{shortForm:"\u88c5\u5099",rubyForm:"{\u88c5|\u305d\u3046}{\u5099|\u3073}"},{shortForm:"\u901f\u653b",rubyForm:"{\u901f|\u305d\u3063}{\u653b|\u3053\u3046}"},{shortForm:"\u6c38\u7d9a",rubyForm:"{\u6c38|\u3048\u3044}{\u7d9a|\u305e\u304f}"},{shortForm:"\u30ab\u30a6\u30f3\u30bf\u30fc",rubyForm:"{\u30ab\u30a6\u30f3\u30bf\u30fc}"},{shortForm:"\u30ec\u30d9\u30eb",rubyForm:"{\u30ec\u30d9\u30eb}"},{shortForm:"\u30e9\u30f3\u30af",rubyForm:"{\u30e9\u30f3\u30af}"},{shortForm:"\u30b9\u30b1\u30fc\u30eb",rubyForm:"{\u30b9\u30b1\u30fc\u30eb}"},{shortForm:"\u653b\u6483\u529b",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u5b88\u5099\u529b",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u6483\u529b",rubyForm:"{\u6483|\u3052\u304d}{\u529b|\u308a\u3087\u304f}"},{shortForm:"\u52dd\u5229",rubyForm:"{\u52dd|\u3057\u3087\u3046}{\u5229|\u308a}"},{shortForm:"\u5c5e\u6027",rubyForm:"{\u5c5e|\u305e\u304f}{\u6027|\u305b\u3044}"},{shortForm:"\u7a2e\u65cf",rubyForm:"{\u7a2e|\u3057\u3085}{\u65cf|\u305e\u304f}"},{shortForm:"\u52b9\u679c",rubyForm:"{\u52b9|\u3053\u3046}{\u679c|\u304b}"},{shortForm:"\u878d\u5408",rubyForm:"{\u878d|\u3086\u3046}{\u5408|\u3054\u3046}"},{shortForm:"\u5100\u5f0f",rubyForm:"{\u5100|\u304e}{\u5f0f|\u3057\u304d}"},{shortForm:"\u30de\u30ad\u30b7\u30de\u30e0",rubyForm:"{\u30de\u30ad\u30b7\u30de\u30e0}"},{shortForm:"\u30c8\u30fc\u30af\u30f3",rubyForm:"{\u30c8\u30fc\u30af\u30f3}"},{shortForm:"\u30c1\u30e5\u30fc\u30ca\u30fc",rubyForm:"{\u30c1\u30e5\u30fc\u30ca\u30fc}"},{shortForm:"\u30c7\u30e5\u30a2\u30eb",rubyForm:"{\u30c7\u30e5\u30a2\u30eb}"},{shortForm:"\u30ea\u30d0\u30fc\u30b9",rubyForm:"{\u30ea\u30d0\u30fc\u30b9}"},{shortForm:"\u30c8\u30a5\u30fc\u30f3",rubyForm:"{\u30c8\u30a5\u30fc\u30f3}"},{shortForm:"\u30b9\u30d4\u30ea\u30c3\u30c8",rubyForm:"{\u30b9\u30d4\u30ea\u30c3\u30c8}"},{shortForm:"\u30e6\u30cb\u30aa\u30f3",rubyForm:"{\u30e6\u30cb\u30aa\u30f3}"},{shortForm:"\u5149",rubyForm:"{\u5149|\u3072\u304b\u308a}"},{shortForm:"\u95c7",rubyForm:"{\u95c7|\u3084\u307f}"},{shortForm:"\u5730",rubyForm:"{\u5730|\u3061}"},{shortForm:"\u6c34",rubyForm:"{\u6c34|\u307f\u305a}"},{shortForm:"\u708e",rubyForm:"{\u708e|\u307b\u306e\u304a}"},{shortForm:"\u98a8",rubyForm:"{\u98a8|\u304b\u305c}"},{shortForm:"\u7363\u6226\u58eb",rubyForm:"{\u7363|\u3058\u3085\u3046}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u5275\u9020\u795e",rubyForm:"{\u5275|\u305d\u3046}{\u9020|\u305e\u3046}{\u795e|\u3057\u3093}"},{shortForm:"\u30b5\u30a4\u30d0\u30fc\u30b9",rubyForm:"{\u30b5\u30a4\u30d0\u30fc\u30b9}"},{shortForm:"\u6050\u7adc",rubyForm:"{\u6050|\u304d\u3087\u3046}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u5e7b\u795e\u7363",rubyForm:"{\u5e7b|\u3052\u3093}{\u795e|\u3057\u3093}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5929\u4f7f",rubyForm:"{\u5929|\u3066\u3093}{\u4f7f|\u3057}"},{shortForm:"\u60aa\u9b54",rubyForm:"{\u60aa|\u3042\u304f}{\u9b54|\u307e}"},{shortForm:"\u9b5a",rubyForm:"{\u9b5a|\u3055\u304b\u306a}"},{shortForm:"\u30ae\u30e3\u30e9\u30af\u30b7\u30fc",rubyForm:"{\u30ae\u30e3\u30e9\u30af\u30b7\u30fc}"},{shortForm:"\u5e7b\u60f3\u9b54",rubyForm:"{\u5e7b|\u3052\u3093}{\u60f3|\u305d\u3046}{\u9b54|\u307e}"},{shortForm:"\u6606\u866b",rubyForm:"{\u6606|\u3053\u3093}{\u866b|\u3061\u3085\u3046}"},{shortForm:"\u6a5f\u68b0",rubyForm:"{\u6a5f|\u304d}{\u68b0|\u304b\u3044}"},{shortForm:"\u690d\u7269",rubyForm:"{\u690d|\u3057\u3087\u304f}{\u7269|\u3076\u3064}"},{shortForm:"\u722c\u866b\u985e",rubyForm:"{\u722c|\u306f}{\u866b|\u3061\u3085\u3046}{\u985e|\u308b\u3044}"},{shortForm:"\u5ca9\u77f3",rubyForm:"{\u5ca9|\u304c\u3093}{\u77f3|\u305b\u304d}"},{shortForm:"\u6d77\u7adc",rubyForm:"{\u6d77|\u304b\u3044}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u9b54\u6cd5\u4f7f\u3044",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}{\u4f7f|\u3064\u304b}\u3044"},{shortForm:"\u96f7",rubyForm:"{\u96f7|\u3044\u304b\u305a\u3061}"},{shortForm:"\u9ce5\u7363",rubyForm:"{\u9ce5|\u3061\u3087\u3046}{\u7363|\u3058\u3085\u3046}"},{shortForm:"\u5e7b\u7adc",rubyForm:"{\u5e7b|\u3052\u3093}{\u7adc|\u308a\u3085\u3046}"},{shortForm:"\u30a2\u30f3\u30c7\u30c3\u30c8",rubyForm:"{\u30a2\u30f3\u30c7\u30c3\u30c8}"},{shortForm:"\u30b5\u30a4\u30dc\u30fc\u30b0",rubyForm:"{\u30b5\u30a4\u30dc\u30fc\u30b0}"},{shortForm:"\u5929\u754c\u6226\u58eb",rubyForm:"{\u5929|\u3066\u3093}{\u754c|\u304b\u3044}{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u9b54\u5c0e\u9a0e\u58eb",rubyForm:"{\u9b54|\u307e}{\u5c0e|\u3069\u3046}{\u9a0e|\u304d}{\u58eb|\u3057}"},{shortForm:"\u7121\u52b9\u5316",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}{\u5316|\u304b}"},{shortForm:"\u30aa\u30e1\u30ac",rubyForm:"{\u30aa\u30e1\u30ac}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u6368\u3066\u308b",rubyForm:"{\u6368|\u3059}\u3066\u308b"},{shortForm:"\u52a0\u3048\u308b",rubyForm:"{\u52a0|\u304f\u308f}\u3048\u308b"},{shortForm:"\u304b\u3089\u96e2\u308c\u308b",rubyForm:"\u304b\u3089{\u96e2|\u306f\u306a}\u308c\u308b"},{shortForm:"\u4e0e\u3048\u308b",rubyForm:"{\u4e0e|\u3042\u305f}\u3048\u308b"},{shortForm:"\u91cd\u306d\u308b",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u308b"},{shortForm:"\u53d6\u308a\u9664\u304f",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u53d6\u308a\u9664\u3044",rubyForm:"{\u53d6|\u3068}\u308a{\u9664|\u306e\u305e}\u3044"},{shortForm:"\u9664\u304f",rubyForm:"{\u9664|\u306e\u305e}\u304f"},{shortForm:"\u884c\u3046",rubyForm:"{\u884c|\u304a\u3053\u306a}\u3046"},{shortForm:"\u5bfe\u3059",rubyForm:"{\u5bfe|\u305f\u3044}\u3059"},{shortForm:"\u9001\u308b",rubyForm:"{\u9001|\u304a\u304f}\u308b"},{shortForm:"\u7f6e\u304f",rubyForm:"{\u7f6e|\u304a}\u304f"},{shortForm:"\u3081\u304f\u308b",rubyForm:"{\u3081\u304f\u308b}"},{shortForm:"\u30a2\u30c9\u30d0\u30f3\u30b9",rubyForm:"{\u30a2\u30c9\u30d0\u30f3\u30b9}"},{shortForm:"\u53cd\u8ee2",rubyForm:"{\u53cd|\u306f\u3093}{\u8ee2|\u3066\u3093}"},{shortForm:"\u7279\u6b8a",rubyForm:"{\u7279|\u3068\u304f}{\u6b8a|\u3057\u3085}"},{shortForm:"\u767a\u52d5",rubyForm:"{\u767a|\u306f\u3064}{\u52d5|\u3069\u3046}"},{shortForm:"\u7834\u58ca",rubyForm:"{\u7834|\u306f}{\u58ca|\u304b\u3044}"},{shortForm:"\u5bfe\u8c61",rubyForm:"{\u5bfe|\u305f\u3044}{\u8c61|\u3057\u3087\u3046}"},{shortForm:"\u7121\u52b9",rubyForm:"{\u7121|\u3080}{\u52b9|\u3053\u3046}"},{shortForm:"\u7121\u8996",rubyForm:"{\u7121|\u3080}{\u8996|\u3057}"},{shortForm:"\u78ba\u8a8d",rubyForm:"{\u78ba|\u304b\u304f}{\u8a8d|\u306b\u3093}"},{shortForm:"\u653b\u6483",rubyForm:"{\u653b|\u3053\u3046}{\u6483|\u3052\u304d}"},{shortForm:"\u51e6\u7406",rubyForm:"{\u51e6|\u3057\u3087}{\u7406|\u308a}"},{shortForm:"\u5ba3\u8a00",rubyForm:"{\u5ba3|\u305b\u3093}{\u8a00|\u3052\u3093}"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u30ea\u30ea\u30fc\u30b9",rubyForm:"{\u30ea\u30ea\u30fc\u30b9}"},{shortForm:"\u30b9\u30ad\u30c3\u30d7",rubyForm:"{\u30b9\u30ad\u30c3\u30d7}"},{shortForm:"\u30b7\u30e3\u30c3\u30d5\u30eb",rubyForm:"{\u30b7\u30e3\u30c3\u30d5\u30eb}"},{shortForm:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",rubyForm:"{\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb}"},{shortForm:"\u30bb\u30c3\u30c8",rubyForm:"{\u30bb\u30c3\u30c8}"},{shortForm:"RUM",regexForm:"(?<!\\w)RUM(?!\\w)",rubyForm:"{RUM|\u30e9\u30f3\u30af\u30a2\u30c3\u30d7\u30de\u30b8\u30c3\u30af}"},{shortForm:"S",regexForm:"(?<!\\w)S(?!\\w)",rubyForm:"{S|\u30b7\u30f3\u30af\u30ed}"},{shortForm:"X",regexForm:"(?<!\\w)X(?!\\w)",rubyForm:"{X|\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"L",regexForm:"(?<!\\w)L(?!\\w)",rubyForm:"{L|\u30ea\u30f3\u30af}"},{shortForm:"P",regexForm:"(?<!\\w)P(?!\\w)",rubyForm:"{P|\u30da\u30f3\u30c7\u30e5\u30e9\u30e0}"},{shortForm:"\u30ea\u30f3\u30af",rubyForm:"{\u30ea\u30f3\u30af}"},{shortForm:"\u5b88\u5099",rubyForm:"{\u5b88|\u3057\u3085}{\u5099|\u3073}"},{shortForm:"\u901a\u5e38",rubyForm:"{\u901a|\u3064\u3046}{\u5e38|\u3058\u3087\u3046}"},{shortForm:"\u53ef\u80fd",rubyForm:"{\u53ef|\u304b}{\u80fd|\u306e\u3046}"},{shortForm:"\u795e",rubyForm:"{\u795e|\u304b\u307f}"},{shortForm:"\u7363",rubyForm:"{\u7363|\u3051\u3082\u306e}"},{shortForm:"\u30c9\u30e9\u30b4\u30f3",rubyForm:"{\u30c9\u30e9\u30b4\u30f3}"},{shortForm:"\u30b5\u30a4\u30ad\u30c3\u30af",rubyForm:"{\u30b5\u30a4\u30ad\u30c3\u30af}"},{shortForm:"\u91cd\u306d\u3066",rubyForm:"{\u91cd|\u304b\u3055}\u306d\u3066"},{shortForm:"\u9b54\u6cd5",rubyForm:"{\u9b54|\u307e}{\u6cd5|\u307b\u3046}"},{shortForm:"\u6226\u58eb",rubyForm:"{\u6226|\u305b\u3093}{\u58eb|\u3057}"},{shortForm:"\u53ec\u559a",rubyForm:"{\u53ec|\u3057\u3087\u3046}{\u559a|\u304b\u3093}"},{shortForm:"\u5408\u8a08",rubyForm:"{\u5408|\u3054\u3046}{\u8a08|\u3051\u3044}"},{shortForm:"\u4ee5\u4e0a",rubyForm:"{\u4ee5|\u3044}{\u4e0a|\u3058\u3087\u3046}"},{shortForm:"\u4e0a\u8a18",rubyForm:"{\u4e0a|\u3058\u3087\u3046}{\u8a18|\u304d}"},{shortForm:"\u5834\u5408",rubyForm:"{\u5834|\u3070}{\u5408|\u3042\u3044}"},{shortForm:"\u964d\u81e8",rubyForm:"{\u964d|\u3053\u3046}{\u81e8|\u308a\u3093}"},{shortForm:"\u4ee5\u5916",rubyForm:"{\u4ee5|\u3044}{\u5916|\u304c\u3044}"},{shortForm:"\u4f7f\u7528",rubyForm:"{\u4f7f|\u3057}{\u7528|\u3088\u3046}"},{shortForm:"\u5b58\u5728",rubyForm:"{\u5b58|\u305d\u3093}{\u5728|\u3056\u3044}"},{shortForm:"\u6700\u5927",rubyForm:"{\u6700|\u3055\u3044}{\u5927|\u3060\u3044}"},{shortForm:"\u6210\u529f",rubyForm:"{\u6210|\u305b\u3044}{\u529f|\u3053\u3046}"},{shortForm:"\u81ea\u8eab",rubyForm:"{\u81ea|\u3058}{\u8eab|\u3057\u3093}"},{shortForm:"\u4ee5\u4e0b",rubyForm:"{\u4ee5|\u3044}{\u4e0b|\u304b}"},{shortForm:"\u7d42\u4e86",rubyForm:"{\u7d42|\u3057\u3085\u3046}{\u4e86|\u308a\u3087\u3046}"},{shortForm:"\u5168\u3066",rubyForm:"{\u5168|\u3059\u3079}\u3066"},{shortForm:"\u6368\u3066",rubyForm:"{\u6368|\u3059}\u3066"},{shortForm:"\u884c\u304b\u305a",rubyForm:"{\u884c|\u3044}\u304b\u305a"},{shortForm:"CNo\uff0e",regexForm:"(?<![a-zA-Z])CNo\uff0e(?![a-zA-Z])",rubyForm:"{CNo\uff0e||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{CNo||\u30ab\u30aa\u30b9\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"No\uff0e",regexForm:"(?<![a-zA-Z])No\uff0e(?![a-zA-Z])",rubyForm:"{No\uff0e||\u30ca\u30f3\u30d0\u30fc\u30ba}",rubyFormName:"{No||\u30ca\u30f3\u30d0\u30fc\u30ba}\uff0e"},{shortForm:"CX",regexForm:"(?<![a-zA-Z])CX(?![a-zA-Z])",rubyForm:"{CX|\u30ab\u30aa\u30b9\u30a8\u30af\u30b7\u30fc\u30ba}"},{shortForm:"\u9069\u7528",rubyForm:"{\u9069|\u3066\u304d}{\u7528|\u3088\u3046}"},{shortForm:"\u6570\u5024",rubyForm:"{\u6570|\u3059\u3046}{\u5024|\u3061}"},{shortForm:"\u8a08\u7b97",rubyForm:"{\u8a08|\u3051\u3044}{\u7b97|\u3055\u3093}"},{shortForm:"\u5fc5\u8981",rubyForm:"{\u5fc5|\u3072\u3064}{\u8981|\u3088\u3046}"},{shortForm:"\u9078\u629e",rubyForm:"{\u9078|\u305b\u3093}{\u629e|\u305f\u304f}"},{shortForm:"\u534a\u5206",rubyForm:"{\u534a|\u306f\u3093}{\u5206|\u3076\u3093}"},{shortForm:"\u958b\u59cb",rubyForm:"{\u958b|\u304b\u3044}{\u59cb|\u3057}"},{shortForm:"\u88cf\u8868",rubyForm:"{\u88cf|\u3046\u3089}{\u8868|\u304a\u3082\u3066}"},{shortForm:"\u56de\u5fa9",rubyForm:"{\u56de|\u304b\u3044}{\u5fa9|\u3075\u304f}"},{shortForm:"\u6307\u5b9a",rubyForm:"{\u6307|\u3057}{\u5b9a|\u3066\u3044}"},{shortForm:"\u4f4d\u7f6e",rubyForm:"{\u4f4d|\u3044}{\u7f6e|\u3061}"},{shortForm:"\u79fb\u52d5",rubyForm:"{\u79fb|\u3044}{\u52d5|\u3069\u3046}"},{shortForm:"\u65b9\u6cd5",rubyForm:"{\u65b9|\u307b\u3046}{\u6cd5|\u307b\u3046}"},{shortForm:"\u5909\u66f4",rubyForm:"{\u5909|\u3078\u3093}{\u66f4|\u3053\u3046}"},{shortForm:"\u767a\u751f",rubyForm:"{\u767a|\u306f\u3063}{\u751f|\u305b\u3044}"},{shortForm:"\u516c\u958b",rubyForm:"{\u516c|\u3053\u3046}{\u958b|\u304b\u3044}"},{shortForm:"\u9806\u756a",rubyForm:"{\u9806|\u3058\u3085\u3093}{\u756a|\u3070\u3093}"},{shortForm:"\u9650\u308a",rubyForm:"{\u9650|\u304b\u304e}\u308a"},{shortForm:"\u9664\u5916",rubyForm:"{\u9664|\u3058\u3087}{\u5916|\u304c\u3044}"},{shortForm:"\u9806",rubyForm:"{\u9806|\u3058\u3085\u3093}"},{shortForm:"\u4ee3",rubyForm:"{\u4ee3|\u304b}"},{shortForm:"\u8d85",rubyForm:"{\u8d85|\u3053}"},{shortForm:"\u6bce",rubyForm:"{\u6bce|\u3054\u3068}"},{shortForm:"\u524d",rubyForm:"{\u524d|\u307e\u3048}"},{shortForm:"\u9055",rubyForm:"{\u9055|\u3061\u304c}"},{shortForm:"\u7d9a",rubyForm:"{\u7d9a|\u3064\u3065}"},{shortForm:"\u6b8b",rubyForm:"{\u6b8b|\u306e\u3053}"},{shortForm:"\u4ed6",rubyForm:"{\u4ed6|\u307b\u304b}"},{shortForm:"\u5f53",rubyForm:"{\u5f53|\u3042}"},{shortForm:"\u5ea6",rubyForm:"{\u5ea6|\u3069}"},{shortForm:"\u6642",rubyForm:"{\u6642|\u3068\u304d}"},{shortForm:"\u65cf",rubyForm:"{\u65cf|\u305e\u304f}"},{shortForm:"\u6570",rubyForm:"{\u6570|\u304b\u305a}"},{shortForm:"\u4f53",rubyForm:"{\u4f53|\u305f\u3044}"},{shortForm:"\u9650",rubyForm:"{\u9650|\u30b2\u30f3}"},{shortForm:"\u7f6e",rubyForm:"{\u7f6e|\u30c1}"},{shortForm:"\u53d7",rubyForm:"{\u53d7|\u3046}"},{shortForm:"\u679a",rubyForm:"{\u679a|\u307e\u3044}"},{shortForm:"\u5f8c",rubyForm:"{\u5f8c|\u3054}"},{shortForm:"\u9001",rubyForm:"{\u9001|\u304a\u304f}"},{shortForm:"\u4e8b",rubyForm:"{\u4e8b|\u3053\u3068}"},{shortForm:"\u5185",rubyForm:"{\u5185|\u3046\u3061}"},{shortForm:"\u898b",rubyForm:"{\u898b|\u307f}"},{shortForm:"\u4e2d",rubyForm:"{\u4e2d|\u306a\u304b}"},{shortForm:"\u52a0",rubyForm:"{\u52a0|\u304f\u308f}"},{shortForm:"\u9078",rubyForm:"{\u9078|\u3048\u3089}"},{shortForm:"\u4e00",rubyForm:"{\u4e00|\u3044\u3061}"},{shortForm:"\u756a",rubyForm:"{\u756a|\u3070\u3093}"},{shortForm:"\u540c",rubyForm:"{\u540c|\u3069\u3046}"},{shortForm:"\u56de",rubyForm:"{\u56de|\u304b\u3044}"},{shortForm:"\u6271",rubyForm:"{\u6271|\u3042\u3064\u304b}"},{shortForm:"\u661f",rubyForm:"{\u661f|\u30ec\u30d9\u30eb}"},{shortForm:"\u653b",rubyForm:"{\u653b|\u3053\u3046}"},{shortForm:"\u5b88",rubyForm:"{\u5b88|\u3057\u3085}"},{shortForm:"\u623b",rubyForm:"{\u623b|\u3082\u3069}"},{shortForm:"\u4e0a",rubyForm:"{\u4e0a|\u3046\u3048}"},{shortForm:"\u6b21",rubyForm:"{\u6b21|\u3064\u304e}"},{shortForm:"\u5024",rubyForm:"{\u5024|\u3061}"},{shortForm:"\u542b",rubyForm:"{\u542b|\u3075\u304f}"},{shortForm:"\u4e0e",rubyForm:"{\u4e0e|\u3080\u305f}"},{shortForm:"\u5f97",rubyForm:"{\u5f97|\u3048}"},{shortForm:"\u53ca",rubyForm:"{\u53ca|\u304a\u3088}"},{shortForm:"\u7570",rubyForm:"{\u7570|\u3053\u3068}"},{shortForm:"\u8a18",rubyForm:"{\u8a18|\u3057\u308b}"},{shortForm:"\u7e70",rubyForm:"{\u7e70|\u304f}"},{shortForm:"\u8fd4",rubyForm:"{\u8fd4|\u304b\u3048}"},{shortForm:"\u6c7a",rubyForm:"{\u6c7a|\u304d}"},{shortForm:"\u4e92",rubyForm:"{\u4e92|\u305f\u304c}"},{shortForm:"\u6255",rubyForm:"{\u6255|\u306f\u3089}"},{shortForm:"\u591a",rubyForm:"{\u591a|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u304a\u304a}"},{shortForm:"\u6301",rubyForm:"{\u6301|\u3082}"},{shortForm:"\u9593",rubyForm:"{\u9593|\u3042\u3044\u3060}"},{shortForm:"\u6240",rubyForm:"{\u6240|\u3057\u3087}"},{shortForm:"\u9ad8",rubyForm:"{\u9ad8|\u305f\u304b}"},{shortForm:"\u500d",rubyForm:"{\u500d|\u3070\u3044}"},{shortForm:"\u4e0b",rubyForm:"{\u4e0b|\u3057\u305f}"},{shortForm:"\u969b",rubyForm:"{\u969b|\u3055\u3044}"},{shortForm:"\u597d",rubyForm:"{\u597d|\u3059}"},{shortForm:"\u8868",rubyForm:"{\u8868|\u304a\u3082\u3066}"}],D=A.reduce((function(e,t){return e[t.shortForm]=t,e}),{}),W=[{blendMode:"overlay",opacity:1}],B=[{blendMode:"overlay",opacity:.65},{blendMode:"multiply",opacity:.55}],z={type1:{value:"type1",label:"1",partInstructionMap:{}},type2:{value:"type2",label:"2",partInstructionMap:{}},type3:{value:"type3",label:"3",partInstructionMap:{"art-overlay":W,"art-border":W,"art-border-pendulum":W,"border-pendulum":W,attribute:W,frame:W}},type4:{value:"type4",label:"4",partInstructionMap:{}},type5:{value:"type5",label:"5",partInstructionMap:{}},type6:{value:"type6",label:"6",partInstructionMap:{}},type7:{value:"type7",label:"7",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.175},{blendMode:"color-dodge",opacity:.125}]}},type8:{value:"type8",label:"8",partInstructionMap:{"art-border":B,"art-border-pendulum":B,"border-pendulum":B,frame:B,"frame-background":B,name:B,star:B}},type9:{value:"type9",label:"9",partInstructionMap:{"total-overlay":[{blendMode:"screen",opacity:.45}]}}},P={type1:{value:"type1",label:"1",partInstructionMap:{art:[{}]}},type2:{value:"type2",label:"2",partInstructionMap:{art:[{opacity:.08,blendMode:"darken"},{opacity:.28,blendMode:"color-dodge"},{opacity:.48,blendMode:"multiply"}]}},type3:{value:"type3",label:"3",partInstructionMap:{art:[{opacity:.66,blendMode:"color-dodge"},{opacity:.64,blendMode:"multiply"}]}},type4:{value:"type4",label:"4",partInstructionMap:{art:[{opacity:.31,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type5:{value:"type5",label:"5",partInstructionMap:{art:[{opacity:.19,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type6:{value:"type6",label:"6",partInstructionMap:{art:[{opacity:.25,blendMode:"color-dodge"},{opacity:.6,blendMode:"multiply"}]}},type7:{value:"type7",label:"7",partInstructionMap:{art:[{}]}}},H={bulletSymbolOffset:0,capitalLetterRatio:1,headTextFontRatio:.355,headTextSpacing:.5,largeSymbolRatio:1.35,letterSpacing:0,offsetY:0,ordinalFontOffsetY:-2,ordinalFontRatio:1/1.1,squareBracketRatio:1},K=0,G=1,Y=.8,X="normal",V=!0,U=.03125,q={alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextFontRatio:.7,headTextHeightRatio:.815,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:1,headTextGapRatio:0},J=Object(s.a)(Object(s.a)({},q),{},{font:"MatrixBook",headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),$=Object(s.a)(Object(s.a)({},q),{},{font:'"stone-serif-regular"',headTextHeightRatio:.75,fontStyle:"tcg",fontList:[]}),_=Object(s.a)(Object(s.a)({},q),{},{font:'"Yu-Gi-Oh! DF Leisho 3"',fontStyle:"ocg",metricMethod:"compact",fontList:[]}),Z={tcg:Object(s.a)(Object(s.a)({},J),{},{fontList:[{bulletSymbolWidth:38,fontSize:40.2,lineHeight:42.1,lineCount:5,bulletSymbolOffset:1},{bulletSymbolWidth:30,fontSize:33.2,lineHeight:35.1,lineCount:6},{bulletSymbolWidth:26,fontSize:28.2,lineHeight:30.3,lineCount:7},{bulletSymbolWidth:23,fontSize:24.38,lineHeight:24.7,lineCount:8},{bulletSymbolWidth:23,fontSize:19.94,lineHeight:21.15,lineCount:10}]}),"tcg-stat":Object(s.a)(Object(s.a)({},J),{},{fontList:[{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:7}]}),"tcg-type-stat":Object(s.a)(Object(s.a)({},J),{},{fontList:[{bulletSymbolWidth:40,fontSize:45.2,lineHeight:48.1,lineCount:3,bulletSymbolOffset:1},{bulletSymbolWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:4},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:6},{bulletSymbolWidth:23,fontSize:19.95,lineHeight:21.5,lineCount:7},{bulletSymbolWidth:23,fontSize:18.8,lineHeight:18.8,lineCount:8},{bulletSymbolWidth:19,fontSize:16.7,lineHeight:16.7,lineCount:9,bulletSymbolOffset:1},{bulletSymbolWidth:19,fontSize:15,lineHeight:15,lineCount:10,bulletSymbolOffset:2}]}),"tcg-type":Object(s.a)(Object(s.a)({},J),{},{fontList:[{bulletSymbolWidth:40,fontSize:42.2,lineHeight:43.9,lineCount:4,bulletSymbolOffset:2},{bulletSymbolWidth:30,fontSize:33.2,lineHeight:35.5,lineCount:5},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:6},{bulletSymbolWidth:23,fontSize:25.2,lineHeight:24.9,lineCount:7}]}),ocg:Object(s.a)(Object(s.a)({},_),{},{fontList:[{bulletSymbolWidth:38,fontSize:43.2,lineHeight:50.1,lineCount:4,bulletSymbolOffset:2,headTextFontRatio:.25},{bulletSymbolWidth:30,fontSize:34.7,lineHeight:40.1,lineCount:5,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22,lineHeight:26,lineCount:7},{bulletSymbolWidth:16,fontSize:22,lineHeight:26,lineCount:8}]}),"ocg-stat":Object(s.a)(Object(s.a)({},_),{},{fontList:[{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]}),"ocg-type-stat":Object(s.a)(Object(s.a)({},_),{},{fontList:[{bulletSymbolWidth:41,fontSize:45.7,lineHeight:49.8,lineCount:3,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:32,fontSize:34.7,lineHeight:38.1,lineCount:4,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:24,fontSize:27.7,lineHeight:30.1,lineCount:5,bulletSymbolOffset:2,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:6}]}),"ocg-type":Object(s.a)(Object(s.a)({},_),{},{fontList:[{bulletSymbolWidth:34,fontSize:38.7,lineHeight:44.1,lineCount:4,bulletSymbolOffset:3,headTextFontRatio:.25},{bulletSymbolWidth:30,fontSize:32.7,lineHeight:36.1,lineCount:5,bulletSymbolOffset:2,headTextFontRatio:.25},{bulletSymbolWidth:26,fontSize:28.7,lineHeight:32.8,lineCount:6,bulletSymbolOffset:1,headTextFontRatio:.3},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.8,lineCount:7}]})},Q=[{bulletSymbolWidth:40,fontSize:44.2,lineHeight:47.1,lineCount:3},{bulletSymbolWidth:30,fontSize:34.2,lineHeight:36.5,lineCount:4},{bulletSymbolWidth:26,fontSize:27.2,lineHeight:29.5,lineCount:5},{bulletSymbolWidth:23,fontSize:21.8,lineHeight:24.9,lineCount:6},{bulletSymbolWidth:23,fontSize:17.28,lineHeight:21.5,lineCount:7},{bulletSymbolWidth:23,fontSize:16.28,lineHeight:18.8,lineCount:8},{bulletSymbolWidth:19,fontSize:14.46,lineHeight:16.7,lineCount:9},{bulletSymbolWidth:19,fontSize:12.99,lineHeight:15,lineCount:10}],ee={tcg:Object(s.a)(Object(s.a)({},J),{},{fontList:[{bulletSymbolWidth:41,fontSize:50.3,lineHeight:56.35,lineCount:2},{bulletSymbolWidth:34,fontSize:35.3,lineHeight:38.85,lineCount:3,bulletSymbolOffset:2},{bulletSymbolWidth:27,fontSize:26.3,lineHeight:29.35,lineCount:4,bulletSymbolOffset:3},{bulletSymbolWidth:23,fontSize:24.3,lineHeight:24.35,lineCount:5}]}),ocg:Object(s.a)(Object(s.a)({},_),{},{fontList:[{bulletSymbolWidth:41,bulletSymbolOffset:3,fontSize:45.55,lineHeight:57.6,headTextFontRatio:.2,lineCount:2},{bulletSymbolWidth:31,bulletSymbolOffset:2,fontSize:35.55,lineHeight:40.6,headTextFontRatio:.3,lineCount:3},{bulletSymbolWidth:23,bulletSymbolOffset:1,fontSize:25.05,lineHeight:30.6,headTextFontRatio:.35,lineCount:4},{bulletSymbolWidth:16,fontSize:22.05,lineHeight:25.2,headTextFontRatio:.4,lineCount:5}]})},te={veryStrict:{1:600,2:620,3:640},strict:{1:645,2:665,3:685},loose:{1:700,2:710,3:720},veryLoose:{1:740,2:770,3:800},relaxed:{1:850,2:900,3:950}},ne={Default:{value:"Default",labelKey:"input.name-style.font-type.default",fontData:{alphabetFont:"MatrixRegularSmallCaps",font:"MatrixRegularSmallCaps",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.55,fontList:[{bulletSymbolWidth:64,fontSize:91.5,headTextFontRatio:.19,letterSpacing:.015,lineCount:1,lineHeight:91.5,offsetY:0}],letterDeviationMap:{i:{yOffset:1,yRatio:1.03},"\xec":{yOffset:1,yRatio:1.03},"\xed":{yOffset:1,yRatio:1.03},"\xee":{yOffset:1,yRatio:1.03},"\xef":{yOffset:1,yRatio:1.03},"\u0129":{yOffset:1,yRatio:1.03},"\u012b":{yOffset:1,yRatio:1.03},"\u012d":{yOffset:1,yRatio:1.03},"\u012f":{yOffset:1,yRatio:1.03},"\u01d0":{yOffset:1,yRatio:1.03},"\u0209":{yOffset:1,yRatio:1.03},"\u020b":{yOffset:1,yRatio:1.03},"\u0268":{yOffset:1,yRatio:1.03},"\u0269":{yOffset:1,yRatio:1.03},"\u1d79":{yOffset:1,yRatio:1.03},"\u1d7c":{yOffset:1,yRatio:1.03},"\u1d96":{yOffset:1,yRatio:1.03},"\u1e2d":{yOffset:1,yRatio:1.03},"\u1e2f":{yOffset:1,yRatio:1.03},"\u1ec9":{yOffset:1,yRatio:1.03},"\u1ecb":{yOffset:1,yRatio:1.03},I:{yOffset:1,yRatio:1.022},"\xcc":{yOffset:1,yRatio:1.022},"\xcd":{yOffset:1,yRatio:1.022},"\xce":{yOffset:1,yRatio:1.022},"\xcf":{yOffset:1,yRatio:1.022},"\u0128":{yOffset:1,yRatio:1.022},"\u012a":{yOffset:1,yRatio:1.022},"\u012c":{yOffset:1,yRatio:1.022},"\u012e":{yOffset:1,yRatio:1.022},"\u0130":{yOffset:1,yRatio:1.022},"\u0196":{yOffset:1,yRatio:1.022},"\u0197":{yOffset:1,yRatio:1.022},"\u01cf":{yOffset:1,yRatio:1.022},"\u0208":{yOffset:1,yRatio:1.022},"\u020a":{yOffset:1,yRatio:1.022},"\u1e2c":{yOffset:1,yRatio:1.022},"\u1e2e":{yOffset:1,yRatio:1.022},"\u1ec8":{yOffset:1,yRatio:1.022},"\u1eca":{yOffset:1,yRatio:1.022}}}},Arial:{value:"Arial",labelKey:"input.name-style.font-type.arial",fontData:{alphabetFont:"Arial",font:"Arial",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",ordinalFont:'"DFKakuTaiHiStd-W4"',fontStyle:"tcg",symbolFont:"matrix",symbolFontRatio:.775,headTextHeightRatio:.825,weight:"bold",fontList:[{bulletSymbolWidth:40.67,fontSize:61,headTextFontRatio:.19,letterSpacing:-.14,lineCount:1,lineHeight:61,offsetY:3}]}},OCG:{value:"OCG",labelKey:"input.name-style.font-type.ocg",fontData:{alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',font:'"Yu-Gi-Oh! DF Leisho 3"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",headTextHeightRatio:.775,headTextOverflow:"condense",headTextBold:!0,metricMethod:"name",numberFont:"DFKakuTaiHiStd-W4",numberFontRatio:1,ordinalFont:'"DFKakuTaiHiStd-W4"',symbolFont:"matrix",symbolFontRatio:.775,fontStyle:"ocg",fontList:[{bulletSymbolWidth:42.67,fontSize:64,headTextFontRatio:.175,headTextSpacing:3,letterSpacing:-.03,lineCount:1,lineHeight:64,offsetY:0}]}}},re={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{offsetY:-1,bulletSymbolWidth:20.05,fontSize:21.2,lineHeight:21.2,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:20,lineHeight:20,lineCount:1,letterSpacing:-.01,headTextFontRatio:.4,largeSymbolRatio:1.25}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",metricMethod:"creator",fontStyle:"ocg",fontList:[{bulletSymbolWidth:18,fontSize:19,letterSpacing:.05,lineHeight:20.5,lineCount:1,headTextFontRatio:0,wordLetterSpacing:.11}]}},ae={tcg:{font:"stone-serif-regular",alphabetFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"stone-serif-regular",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletSymbolWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:21,lineHeight:21,lineCount:1,letterSpacing:0,headTextFontRatio:.4,largeSymbolRatio:1.25,offsetY:1}]},ocg:{font:'"FOT-Rodin Pro M"',alphabetFont:'"FOT-Rodin Pro M"',numberFont:"stone-serif-regular",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",metricMethod:"furigana",fontList:[{bulletSymbolWidth:20.05,fontSize:22.219,lineHeight:22.219,lineCount:1,letterSpacing:.1,headTextFontRatio:.4,largeSymbolRatio:1.25},{bulletSymbolWidth:20.05,fontSize:19,headTextFontRatio:0,largeSymbolRatio:1.25,lineCount:1,lineHeight:20.5,ordinalFontOffsetY:1,ordinalFontRatio:1.25}]}},oe={font:"YuGiOhITCStoneSerifBSc",alphabetFont:"YuGiOhITCStoneSerifBSc",symbolFont:"matrix",symbolFontRatio:.8,ordinalFont:"YuGiOhITCStoneSerifBSc",furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"tcg",fontList:[{bulletSymbolWidth:20.05,fontSize:31.5,lineHeight:31.5,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:.02,headTextFontRatio:.4},{bulletSymbolWidth:21.8,fontSize:32.75,lineHeight:32.75,lineCount:1,iconSymbolWidth:26,capitalLetterRatio:.95,letterSpacing:-.03,headTextFontRatio:.4},{bulletSymbolWidth:14.8,fontSize:44.5,lineHeight:44.5,lineCount:1,iconSymbolWidth:45,capitalLetterRatio:.90001,squareBracketRatio:.94001,letterSpacing:-.03,headTextFontRatio:.4}]},ie={font:'"Yu-Gi-Oh! DF Leisho 3"',alphabetFont:'"Yu-Gi-Oh! DF Leisho 3"',symbolFont:"matrix",symbolFontRatio:.8,headTextHeightRatio:.775,ordinalFont:'"DFKakuTaiHiStd-W4"',furiganaFont:"DFHSGothic-W3-WIN-RKSJ-H",fontStyle:"ocg",fontList:[{bulletSymbolWidth:20.05,fontSize:25.2,lineHeight:25.2,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletSymbolWidth:21.8,fontSize:26.5,lineHeight:26.5,lineCount:1,iconSymbolWidth:26,headTextFontRatio:.3},{bulletSymbolWidth:36.8,fontSize:48,lineHeight:48,lineCount:1,iconSymbolWidth:45,headTextFontRatio:.25,headTextSpacing:3,letterSpacing:-.07,squareBracketRatio:1.02501}]},ce=n(18),le={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\u300c":"\uff62","\u300d":"\uff63","\u3001":"\uff64",":":"\uff1a","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},se={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\uff62":"\u300c","\uff63":"\u300d","\uff64":"\u3001","\uff1a":":","\u2200":"\u2c6f","\ua4ef":"\u2c6f","\ua4db":"\u0186","\ua4f1":"\u018e","\ua4de":"\u2132","\ua4e8":"\u2141","\ua4d8":"\ua7b0","\ua4f6":"\ua780","\u2142":"\ua780","\ua4d2":"\u0500","\ua4d5":"\ua7b1","\u0548":"\ua4f5","\ua4e5":"\u0245","\uff1c":"<","\uff1e":">","\uff01":"!","\uff08":"(","\uff09":")","\uff06":"&","\uff07":"'","\uff20":"@"},ue={"(\uff11)":"\u2460","(\uff12)":"\u2461","(\uff13)":"\u2462","(\uff14)":"\u2463","(\uff15)":"\u2464","(\uff16)":"\u2465","(\uff17)":"\u2466","(\uff18)":"\u2467","(\uff19)":"\u2468","(\uff11\uff10)":"\u2469","(\uff11\uff11)":"\u246a","(\uff11\uff12)":"\u246b","(\uff11\uff13)":"\u246c","(\uff11\uff14)":"\u246d","(\uff11\uff15)":"\u246e","(\uff11\uff16)":"\u246f","(\uff11\uff17)":"\u2470","(\uff11\uff18)":"\u2471","(\uff11\uff19)":"\u2472","(\uff12\uff10)":"\u2473","(1)":"\u2460","(2)":"\u2461","(3)":"\u2462","(4)":"\u2463","(5)":"\u2464","(6)":"\u2465","(7)":"\u2466","(8)":"\u2467","(9)":"\u2468","(10)":"\u2469","(11)":"\u246a","(12)":"\u246b","(13)":"\u246c","(14)":"\u246d","(15)":"\u246e","(16)":"\u246f","(17)":"\u2470","(18)":"\u2471","(19)":"\u2472","(20)":"\u2473"},de={ocg:["\xa9\u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e\u30fb\u30c6\u30ec\u30d3\u6771\u4eac\u30fbKONAMI","\xa9\u9ad8\u6a4b\u548c\u5e0c \u30b9\u30bf\u30b8\u30aa\u30fb\u30c0\u30a4\u30b9\uff0f\u96c6\u82f1\u793e","\xa9\u9ad8\u6a4b\u548c\u5e0c\uff0f\u96c6\u82f1\u793e"],tcg:["\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI","\xa91996 KAZUKI TAKAHASHI","\xa9KAZUKI TAKAHASHI / SHUEISHA"]},fe=(r={"\u6c34\u65cf":"Aqua","\u7363\u65cf":"Beast","\u7363\u6226\u58eb\u65cf":"Beast-Warrior","\u5275\u9020\u795e\u65cf":"Creator God","\u30b5\u30a4\u30d0\u30fc\u30b9\u65cf":"Cyberse","\u6050\u7adc\u65cf":"Dinosaur","\u5e7b\u795e\u7363\u65cf":"Divine-Beast","\u30c9\u30e9\u30b4\u30f3\u65cf":"Dragon","\u5929\u4f7f\u65cf":"Fairy","\u60aa\u9b54\u65cf":"Fiend","\u9b5a\u65cf":"Fish","\u30ae\u30e3\u30e9\u30af\u30b7\u30fc\u65cf":"Galaxy","\u5e7b\u60f3\u9b54\u65cf":"Illusion","\u6606\u866b\u65cf":"Insect","\u6a5f\u68b0\u65cf":"Machine","\u690d\u7269\u65cf":"Plant","\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Psychic","\u708e\u65cf":"Pyro","\u722c\u866b\u985e\u65cf":"Reptile","\u5ca9\u77f3\u65cf":"Rock","\u6d77\u7adc\u65cf":"Sea Serpent","\u9b54\u6cd5\u4f7f\u3044\u65cf":"Spellcaster","\u96f7\u65cf":"Thunder","\u6226\u58eb\u65cf":"Warrior","\u9ce5\u7363\u65cf":"Winged Beast","\u5e7b\u7adc\u65cf":"Wyrm","\u30a2\u30f3\u30c7\u30c3\u30c8\u65cf":"Zombie","\u30b5\u30a4\u30dc\u30fc\u30b0\u65cf":"Cyborg","\u5929\u754c\u6226\u58eb\u65cf":"Celestial Warrior","\u30cf\u30a4\u30c9\u30e9\u30b4\u30f3\u65cf":"High Dragon","\u9b54\u5c0e\u9a0e\u58eb\u65cf":"Magical Knight","\u30aa\u30e1\u30ac\u30b5\u30a4\u30ad\u30c3\u30af\u65cf":"Omega Psychic","\u30e2\u30f3\u30b9\u30bf\u30fc":"Monster","\u9b54\u6cd5\u30ab\u30fc\u30c9":"Spell Card","\u7f60\u30ab\u30fc\u30c9":"Trap Card","\u30a2\u30af\u30b7\u30e7\u30f3":"Action","\u901a\u5e38":"Normal","\u52b9\u679c":"Effect","\u5100\u5f0f":"Ritual","\u30d5\u30e5\u30fc\u30b8\u30e7\u30f3":"Fusion","\u878d\u5408":"Fusion","\u30b7\u30f3\u30af\u30ed":"Synchro","\u30a8\u30af\u30b7\u30fc\u30ba":"Xyz","\u30da\u30f3\u30c7\u30e5\u30e9\u30e0":"Pendulum","\u30ea\u30f3\u30af":"Link","\u30de\u30ad\u30b7\u30de\u30e0":"Maximum","\u30c8\u30fc\u30af\u30f3":"Token","\u7279\u6b8a\u53ec\u559a":"Special Summon","\u30c0\u30fc\u30af\u30b7\u30f3\u30af\u30ed\u30e2\u30f3\u30b9\u30bf\u30fc":"Dark Synchro","\u30c1\u30e5\u30fc\u30ca\u30fc":"Tuner","\u30c7\u30e5\u30a2\u30eb":"Gemini","\u30ea\u30d0\u30fc\u30b9":"Flip","\u30c8\u30a5\u30fc\u30f3":"Toon","\u30b9\u30d4\u30ea\u30c3\u30c8":"Spirit","\u30e6\u30cb\u30aa\u30f3":"Union"},Object(ce.a)(r,de.ocg[2],de.tcg[2]),Object(ce.a)(r,de.ocg[1],de.tcg[1]),Object(ce.a)(r,de.ocg[0],de.tcg[0]),Object(ce.a)(r,"{\u7d14|\u30b8\u30e5\u30f3}{\u72d0|\u3053}","Junko"),Object(ce.a)(r,"\u81ea\u5206\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u52b9\u679c\u30e2\u30f3\u30b9\u30bf\u30fc\xd7\uff12\u4f53\u4ee5\u4e0a\n\u2460\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u304c\u30e2\u30f3\u30b9\u30bf\u30fc\u30be\u30fc\u30f3\u306b\u5b58\u5728\u3059\u308b\u9650\u308a\u3001\u76f8\u624b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u52b9\u679c\u3092\u767a\u52d5\u3059\u308b\u5ea6\u306b\u3001\u305d\u306e\u76f8\u624b\u306e\u8868\u5074\u8868\u793a\u30e2\u30f3\u30b9\u30bf\u30fc\u306b\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\uff11\u3064\u7f6e\u304f(\u6700\u5927\uff11\u3064\u307e\u3067\uff09\u3002\u2461\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u304c\u767a\u52d5\u3057\u305f\u52b9\u679c\u3092\u53d7\u3051\u306a\u3044\u3002\u2462\uff1a\u3053\u306e\u30ab\u30fc\u30c9\u306f\u30d4\u30e5\u30a2\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u3068\u306e\u6226\u95d8\u3067\u306f\u7834\u58ca\u3055\u308c\u306a\u3044\u3002","[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter."),Object(ce.a)(r,"\u203b\u516c\u5f0f\u306e\u30c7\u30e5\u30a8\u30eb\u3067\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002","This card cannot be used in a Duel."),Object(ce.a)(r,"\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002","Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1."),r),be=Object.entries(fe).reduce((function(e,t){var n=Object(u.a)(t,2),r=n[0];return e[n[1]]=r,e}),{"Once per turn: You can pay 800 LP, increase this card\u2019s Pendulum Scale by 1.":"\u2460\uff1a\uff11\u30bf\u30fc\u30f3\u306b\uff11\u5ea6\u3001\uff18\uff10\uff10\uff2c\uff30\u3092\u6255\u3063\u3066\u767a\u52d5\u3067\u304d\u308b\u3002\u3053\u306e\u30ab\u30fc\u30c9\u306e\uff30\u30b9\u30b1\u30fc\u30eb\u30921\u3064\u4e0a\u3052\u308b\u3002"}),pe={normal:{name:"normal",nameKey:"input.frame.normal",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c49c5e"},effect:{name:"effect",nameKey:"input.frame.effect",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#b96c49"},fusion:{name:"fusion",nameKey:"input.frame.fusion",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#8948a4"},synchro:{name:"synchro",nameKey:"input.frame.synchro",labelColor:"#000",edition:"normal",labelBackgroundColor:"#efefef"},xyz:{name:"xyz",nameKey:"input.frame.xyz",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#000000"},link:{name:"link",nameKey:"input.frame.link",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#0c8ac6"},ritual:{name:"ritual",nameKey:"input.frame.ritual",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#5e85c9"},spell:{name:"spell",nameKey:"input.frame.spell",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#1b8f83"},trap:{name:"trap",nameKey:"input.frame.trap",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#c32a8c"},token:{name:"token",nameKey:"input.frame.token",labelColor:"#ffffff",edition:"normal",labelBackgroundColor:"#6f6c6b"},"dark-synchro":{name:"dark-synchro",nameKey:"input.frame.dark-synchro",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4d4543"},obelisk:{name:"obelisk",nameKey:"input.frame.obelisk",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#515eb0"},osiris:{name:"osiris",nameKey:"input.frame.osiris",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#bd5044"},ra:{name:"ra",nameKey:"input.frame.ra",labelColor:"#000",edition:"extendend",labelBackgroundColor:"#b9ad34"},raviel:{name:"raviel",nameKey:"input.frame.raviel",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#313c5f"},uria:{name:"uria",nameKey:"input.frame.uria",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#623320"},hamon:{name:"hamon",nameKey:"input.frame.hamon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#534a19"},"lg-dragon":{name:"lg-dragon",nameKey:"input.frame.lg-dragon",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#4e84a4"},"speed-skill":{name:"speed-skill",nameKey:"input.frame.speed-skill",labelColor:"#ffffff",edition:"extendend",labelBackgroundColor:"#199cd5"},zarc:{name:"zarc",nameKey:"input.frame.zarc",labelColor:"#000",edition:"extendend",labelBackgroundColorList:["rgba(185,108,73,1)","rgba(137,72,164,1)","rgba(239,239,239,1)","rgba(0,0,0,1)"],labelBackgroundImage:"linear-gradient(90deg, ".concat(["rgba(185,108,73,1) 23%","rgba(137,72,164,1) 27%","rgba(137,72,164,1) 48%","rgba(239,239,239,1) 52%","rgba(239,239,239,1) 73%","rgba(0,0,0,1) 77%"].join(", "),")")}},me=Object.values(pe),he=[{top:175,left:55,width:100,height:100},{top:165,left:323,width:170,height:80},{top:175,left:655,width:100,height:100},{top:442,left:45,width:70,height:170},{top:0,left:0,width:0,height:0},{top:442,left:700,width:70,height:170},{top:775,left:55,width:100,height:100},{top:810,left:323,width:170,height:80},{top:775,left:655,width:100,height:100}],ge=new RegExp("[A-Z\uff21-\uff3a]"),ve=new RegExp("[\\[\\]\u3010\u3011]"),je="[#@\u221ea-z\uff41-\uff5aA-Z\uff21-\uff3a0-9\uff10-\uff19!\uff01+\xd7\uff03#@\u221e\u2018\u201c\u2019\u201d:;\\[\\]\\(\\)\u3010\u3011\\.,]+",xe=new RegExp(je),ye=new RegExp("({[^{}]+?}|".concat(je,"|.)")),Oe="\u2989",we="\u298a",ke="\u27c5",Fe="\u27c6",Se="\u27ec",Ce="\u27ed",Te=new RegExp("[".concat([Oe,we,ke,Fe,Se,Ce].join(""),"]|(\\|[^}]+})"),"g"),Re="".concat(Oe,"|").concat(we),Ne=new RegExp(Re),Le="(\\n^[\\r\\t\\f\\v \\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]*\\n".concat(Oe,"?\\([\\w\\W]+\\)").concat(we,"?)\\s*$"),Ee=new RegExp("[".concat("#\u2605@\u221e","]")),Me=A.map((function(e){var t;return null!==(t=e.regexForm)&&void 0!==t?t:e.shortForm})).join("|"),Ie="(".concat(Me,")(?![^{]*})"),Ae="\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b",De=new RegExp("[".concat(Ae,"]")),We=".[".concat(Ae,")\\]\uff5d\u3015\u3009\u300b\u300d\uff63\u300f\u3011\u3019\u3017\u301f'\"\u2019\u201d\uff60\xbb\u2010\u30a0\u2013\u301c\uff1f!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.\uff61\uff64]+"),Be=new RegExp("[\u2460-\u2473\u203b]"),ze=new RegExp("[\uff21-\uff3a\uff41-\uff5a]"),Pe=new RegExp("[\uff10-\uff19]"),He=new RegExp("[0-9]"),Ke=/[\u3042\u3044\u3046\u3048\u304a\u304b\u304c\u304d\u304e\u304f\u3050\u3051\u3052\u3053\u3054\u3055\u3056\u3057\u3058\u3059\u305a\u305b\u305c\u305d\u305e\u305f\u3060\u3061\u3062\u3064\u3065\u3066\u3067\u3068\u3069\u306a\u306b\u306c\u306d\u306e\u306f\u3070\u3071\u3072\u3073\u3074\u3075\u3076\u3077\u3078\u3079\u307a\u307b\u307c\u307d\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093\u3094]/,Ge=/[\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ac\u30ad\u30ae\u30af\u30b0\u30b1\u30b2\u30b3\u30b4\u30b5\u30b6\u30b7\u30b8\u30b9\u30ba\u30bb\u30bc\u30bd\u30be\u30bf\u30c0\u30c1\u30c2\u30c4\u30c5\u30c6\u30c7\u30c8\u30c9\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d0\u30d1\u30d2\u30d3\u30d4\u30d5\u30d6\u30d7\u30d8\u30d9\u30da\u30db\u30dc\u30dd\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\u30f4\u30f7\u30f8\u30f9\u30fa]/,Ye=new RegExp("[\u30fb]"),Xe=new RegExp("[\u30fc]"),Ve=new RegExp("[\u2015]"),Ue=new RegExp("[".concat("\uff1a","]")),qe=new RegExp("[".concat("\u3002\uff64","]")),Je=new RegExp("[".concat("\uff1a","]")),$e={"\u3002":-.2,"\uff64":-.2,"\uff62":0,"\uff63":0,"\uff1a":0,">":.25,"<":-.25},_e={"\u3002":-.5,"\uff1a":-.25},Ze={">":.125,"<":.125},Qe={"\\":-.025},et={},tt={"\\":.3},nt=function(e){return"tcg"===e?7:1},rt=/{[^{}]+?}/,at="\\s\\-/",ot=-2.25,it=function(){return{version:0,format:"tcg",frame:"fusion",foil:"normal",opacity:g(),finish:[],artFinish:"normal",name:"Junko",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},attribute:"LIGHT",subFamily:w,cardIcon:"auto",star:6,starAlignment:"auto",art:"https://i.imgur.com/h5kXZeC.png",artData:"",artFit:!1,artSource:"online",artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:["1","3","7","9"],isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"Once per turn: You can pay 800 LP, increase this card's Pendulum Scale by 1.",pendulumScaleRed:"4",pendulumScaleBlue:"4",typeAbility:["Fairy","Fusion","Effect"],effectStyle:{condenseTolerant:"strict",upSize:0},pendulumStyle:{upSize:0},effect:"[2+ Effect Monsters on your field]\nEach time an opponent's monster activates its effect, place 1 Pure Counter on that opponent's monster (max. 1) after that effect resolves. Unaffected by activated effects from monster with a Pure Counter. Cannot be destroyed by battle with monsters with a Pure Counter.",setId:"YGOC-EN001",atk:"2000",def:"2000",password:"18111996",sticker:"holo5",isFirstEdition:!0,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"\xa92020 Studio Dice/SHUEISHA, TV TOKYO, KONAMI",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],externalInfo:{}}},ct=function(){return{version:0,format:"tcg",frame:"effect",foil:"normal",opacity:g(),finish:[],artFinish:"normal",name:"",nameStyleType:"auto",nameStyle:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},attribute:"LIGHT",subFamily:w,cardIcon:"auto",star:6,starAlignment:"auto",art:"https://i.imgur.com/jjtCuG5.png",artData:"",artSource:"online",artFit:!1,artCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},hasBackground:!1,background:"",backgroundData:"",backgroundFit:!1,backgroundSource:"online",backgroundType:"fit",backgroundCrop:{x:0,y:4,width:100,height:89.5,unit:"%",aspect:1},linkMap:[],isPendulum:!1,pendulumFrame:"auto",pendulumEffect:"",pendulumScaleRed:"4",pendulumScaleBlue:"4",typeAbility:[],effectStyle:{condenseTolerant:"strict",upSize:0},pendulumStyle:{upSize:0},effect:"",setId:"",atk:"0",def:"0",password:"",sticker:"no-sticker",isFirstEdition:!1,isSpeedCard:!1,isLimitedEdition:!1,isDuelTerminalCard:!1,isLegacyCard:!1,creator:"",furiganaHelper:!0,statTextStyle:[!1,"#000000",!1,"#000000"],typeTextStyle:[!1,"#000000",!1,"#000000"],effectTextStyle:[!1,"#000000",!1,"#000000"],pendulumTextStyle:[!1,"#000000",!1,"#000000"],externalInfo:{}}},lt=[{type:"body",subType:"artBorder",label:"Card",labelKey:"input.opacity.body.label",tooltipKey:"input.opacity.art-border.tooltip"},{type:"name",subType:"nameBorder",label:"Name",labelKey:"input.opacity.name.label",tooltipKey:"input.opacity.name-border.tooltip"},{type:"pendulum",label:"Pendulum",labelKey:"input.opacity.pendulum.label",tooltipKey:null},{type:"text",label:"Effect",labelKey:"input.opacity.effect.label",tooltipKey:null}],st=["#4D4D4D","#999999","#FFFFFF","#FF7F7F","#FFD27F","#FFFF7F","#7FFF7F","#7FBF7F","#7FFFFF","#7F7FFF","#BF7FBF","#FF7FFF","#333333","#808080","#cccccc","#FF0000","#FFA500","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#800080","#FF00FF","#000000","#666666","#B3B3B3","#7F0000","#7F5200","#7F7F00","#007F00","#004000","#007F7F","#00007F","#400040","#7F007F"],ut=function(e){return"xyz"===e.frame},dt=function(e){return"link"===e.frame&&bt(e)},ft=function(e){return"speed-skill"===e.frame&&!bt(e)},bt=function(e){return"spell"!==e.frame&&"trap"!==e.frame&&"speed-skill"!==e.frame},pt=function(e){return"spell"===e||"trap"===e?"st":"xyz"===e?"rank":"dark-synchro"===e?"negative-level":"speed-skill"===e?"none":"level"},mt=function(e){return!bt({frame:e})||ht(e)},ht=function(e){return["link","xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(e)},gt=function(e){var t,n=e.format,r=e.frame,a=e.nameStyle,o=e.nameStyleType,i=e.foil;if("custom"===o)return a;var c=ft({frame:r}),l=mt(r),u="Default";"ocg"===n&&(u="OCG"),c&&"tcg"===n&&(u="Arial");var d={fillStyle:l?"#ffffff":"#000000",headTextFillStyle:l?"#ffffff":"#000000"};if("predefined"===o){var f,b,p=Object(s.a)({},S[null!==(f=a.preset)&&void 0!==f?f:"commonB"].value);return S[null!==(b=p.preset)&&void 0!==b?b:"commonB"].value.font||(p.font=u),Object(s.a)(Object(s.a)({},d),p)}var m=c?{hasOutline:!0,lineWidth:6,strokeStyle:"#000"}:{},h="normal"!==i&&null!==(t=S[i].value)&&void 0!==t?t:{},g="zarc"===r?S.animeGold.value:{};return Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({font:u},d),m),h),g)},vt=n(505),jt=n(23),xt=function(e){var t=(e=e.substring(0,e.length-1)).split("\x01");if(e=t[0],1<t.length){t=t[1];var n,r=Object(jt.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e=(e=e.split(a)).join(e.pop())}}catch(o){r.e(o)}finally{r.f()}}return yt(e,0)},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],r=function(e,t){return e.replace(new RegExp("".concat((t[2]?t[2]:"")+t[0],"|").concat((t[3]?t[3]:"")+t[1]),"g"),(function(e){return e===t[0]?t[1]:t[0]}))};if(t)for(t=0;t<n.length;++t)e=r(e,n[t]);else for(t=n.length;t--;)e=r(e,n[t]);return e},Ot=Object(s.a)(Object(s.a)({},{version:"ve",format:"fm",frame:"fr",foil:"fo",opacity:{_newKey:"op",body:"opbd",pendulum:"oppd",name:"opnm",text:"optx",boundless:"opbl",artFrame:"opaf",artBorder:"opab",nameBorder:"opnb",baseFill:"opbf"},finish:"fn",art:"ar",artData:"ad",artFit:"af",artSource:"as",artFinish:"afn",artCrop:{_newKey:"arc",x:"arx",y:"ary",width:"arw",height:"arh",unit:"aru",aspect:"ara"},hasBackground:"hbg",background:"bg",backgroundFit:"bf",backgroundData:"bgd",backgroundSource:"bgs",backgroundType:"bgt",backgroundCrop:{_newKey:"bgc",x:"bgx",y:"bgy",width:"bgw",height:"bgh",unit:"bgu",aspect:"bga"},name:"na",nameStyleType:"nst",effectStyle:{_newKey:"es",condenseTolerant:"cdtl",upSize:"eus"},pendulumStyle:{_newKey:"ps",upSize:"pus"},nameStyle:{_newKey:"ns",font:"nsft",fillStyle:"nsfs",headTextFillStyle:"nshfs",shadowColor:"nssc",shadowOffsetY:"nssoy",shadowOffsetX:"nssox",shadowBlur:"nssb",hasShadow:"nshs",lineColor:"nslc",lineWidth:"nslw",lineOffsetY:"nsloy",lineOffsetX:"nslox",hasOutline:"nshl",gradientAngle:"nsgd",gradientColor:"nscg",hasGradient:"nshg",preset:"nspr",pattern:"nspt"},attribute:"at",subFamily:"sf",star:"st",starAlignment:"sa",cardIcon:"it",linkMap:"lm",isPendulum:"ip",pendulumFrame:"pf",pendulumEffect:"pe",pendulumScaleRed:"rs",pendulumScaleBlue:"bs",typeAbility:"ta",effect:"ef",setId:"si",atk:"atk",def:"def",password:"pw",sticker:"sti",isFirstEdition:"ife",isSpeedCard:"isp",isDuelTerminalCard:"idt",isLimitedEdition:"ile",isLegacyCard:"ilc",creator:"cr",furiganaHelper:"fh",effectTextStyle:"ets",pendulumTextStyle:"pts",statTextStyle:"sts",typeTextStyle:"tts",externalInfo:"ei"}),{passcode:"pc",picture:"pt",pictureCrop:{_newKey:"ptc",x:"ptx",y:"pty",width:"ptw",height:"pth",unit:"ptu",aspect:"pta"}}),wt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot,r={},a=Object(s.a)({},t);return Object.keys(a).forEach((function(t){var o=a[t];if("object"!==typeof o||null===o||Array.isArray(o)){var i=n[t];"string"===typeof i&&(r[i]=o)}else{var c,l=null===(c=n[t])||void 0===c?void 0:c._newKey;l&&(r[l]=e(o,n[t]))}})),r},kt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot,r={};return Object.keys(n).forEach((function(a){var o=n[a];if("object"!==typeof o||null===o||Array.isArray(o))null!=t[o]&&(r[a]=t[o]);else{var i=null===o||void 0===o?void 0:o._newKey;i&&t[i]&&(r[a]=e(t[i],n[a]))}})),r},Ft=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot,r="string"===typeof t?JSON.parse(xt(decodeURIComponent(t))):t,a={};return Object.keys(n).forEach((function(t){var o=n[t];if("object"!==typeof o||null===o||Array.isArray(o))null!=r[o]&&(a[t]=r[o]);else{var i=null===o||void 0===o?void 0:o._newKey;i&&r[i]&&(a[t]=e(r[i],n[t]))}})),a},St=function(e){var t,n,r,a,o,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct(),l=Object(s.a)(Object(s.a)({},c),Object(vt.a)(e));return l.effectStyle=Object(s.a)(Object(s.a)({},ct().effectStyle),l.effectStyle),null==l.pendulumStyle&&(l.pendulumStyle=Object(s.a)({},ct().pendulumStyle)),null==l.version&&(l.version=1),null==l.format&&(l.format="tcg"),null==l.pendulumFrame&&(l.pendulumFrame="auto"),null==l.finish&&(l.finish=[]),null==l.artFinish&&(l.artFinish="normal"),l.picture&&!e.art&&(l.art=l.picture),delete l.picture,l.pictureCrop&&!e.artCrop&&(l.artCrop=l.pictureCrop),delete l.pictureCrop,""===(null!==(t=l.art)&&void 0!==t?t:"")&&(l.art=""),""===(null!==(n=l.artData)&&void 0!==n?n:"")&&(l.artData=""),""===(null!==(r=l.artSource)&&void 0!==r?r:"")&&(l.artSource="online"),null==l.artFit&&(l.artFit=!1),"boolean"===typeof l.opacity.artFrame&&null==l.opacity.boundless&&(l.opacity.boundless=!l.opacity.artFrame,delete l.opacity.artFrame),l.opacity=Object(s.a)(Object(s.a)({},g()),l.opacity),""===(null!==(a=l.background)&&void 0!==a?a:"")&&(l.background=""),""===(null!==(o=l.backgroundData)&&void 0!==o?o:"")&&(l.backgroundData=""),""===(null!==(i=l.backgroundSource)&&void 0!==i?i:"")&&(l.backgroundSource="online"),null==l.backgroundFit&&(l.backgroundFit=!1),null==l.hasBackground&&(l.background||l.backgroundData||l.opacity.baseFill)&&(l.hasBackground=!0),l.kanjiHelper&&!e.furiganaHelper&&(l.furiganaHelper=l.kanjiHelper),delete l.kanjiHelper,void 0===l.furiganaHelper&&(l.furiganaHelper=!0),l.passcode&&!e.password&&(l.password=l.passcode),delete l.passcode,l.effectTextStyle||(l.effectTextStyle=[!1,"#000000",!1,"#000000"]),l.pendulumTextStyle||(l.pendulumTextStyle=[!1,"#000000",!1,"#000000"]),l.typeTextStyle||(l.typeTextStyle=[!1,"#000000",!1,"#000000"]),l.statTextStyle||(l.statTextStyle=[!1,"#000000",!1,"#000000"]),"undefined"===typeof l.isLimitedEdition&&(l.isLimitedEdition=!1),"undefined"===typeof l.isLegacyCard&&(l.isLegacyCard=!1),l.starAlignment||(l.starAlignment="auto"),l},Ct=n(72),Tt=function(e){try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1")}catch(t){return console.error(t),e}},Rt=function(e){try{return e.replaceAll(/\{([^{}|]*)\|+?[^{}|]*\}/g,"$1")}catch(t){return console.error(t),e}},Nt=function(e,t,n){var r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(t),r.dataset.downloadurl=[n,r.download,r.href].join(":");var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});r.dispatchEvent(a),r.remove()},Lt=function(e){try{return"isFirstEdition"in e&&"typeAbility"in e&&"setId"in e}catch(t){return console.error(t),!1}},Et=function(e){try{return"ife"in e&&"ta"in e&&"si"in e}catch(t){return console.error(t),!1}},Mt=Object(ce.a)({CONTINUOUS:"Continuous",COUNTER:"Counter",EQUIP:"Equip",FIELD:"Field","QUICK-PLAY":"Quick-play",RITUAL:"Ritual"},w,"None"),It=Object.entries(Mt).reduce((function(e,t){var n=Object(u.a)(t,2),r=n[0];return e[n[1]]=r,e}),{}),At={EARTH:"Earth",LIGHT:"Light",DARK:"Dark",FIRE:"Fire",WIND:"Wind",WATER:"Water",SPELL:"Spell",TRAP:"Trap",DIVINE:"Divine"},Dt=Object.entries(At).reduce((function(e,t){var n=Object(u.a)(t,2),r=n[0];return e[n[1]]=r,e}),{}),Wt={normal:"Normal",effect:"Effect",ritual:"Ritual",fusion:"Fusion",synchro:"Synchro",xyz:"Xyz",link:"Link",token:"Token",spell:"Spell",trap:"Trap","dark-synchro":"Dark Synchro",zarc:"Unity","speed-skill":"Skill"},Bt=Object.entries(Wt).reduce((function(e,t){var n=Object(u.a)(t,2),r=n[0];return e[n[1]]=r,e}),{}),zt={common:{key:""},rare:{key:"rare--",text:"rare"},secret:{key:"secretGradient-type3-",text:"secretGradient",artFinish:"type3"},ultra:{key:"ultra-type3-",text:"ultra",artFinish:"type3"},rainbow:{key:"platinum-type1-type1",text:"platinum",artFinish:"type1",finish:["type1"]}},Pt=Object.entries(zt).reduce((function(e,t){var n=Object(u.a)(t,2),r=n[0];return e[n[1].key]=r,e}),{}),Ht=function(e,t){var n=e.name,r=e.star,a=e.typeAbility,o=e.subFamily,i=e.effect,c=e.atk,l=e.def,u=e.art,d=e.artData,f=e.artSource,b=e.password,p=e.creator,m=e.attribute,h=e.setId,g=e.pendulumEffect,v=e.pendulumScaleBlue,j=e.pendulumScaleRed,x=e.isPendulum,y=e.linkMap,O=e.frame,w=e.externalInfo,k=e.nameStyle,F=e.nameStyleType,S=e.artFinish,C=e.finish,T=Tt(n),R=Rt(i),N=Rt(g),L=Mt[o],E=At[m],M=Wt[O],I="predefined"===F?Pt[[k.preset,S,C.join("|")].join("-")]:"common",A=null!==w&&void 0!==w?w:{},D=A.pendulum,W=A.rarity,B=Object(Ct.a)(A,["pendulum","rarity"]);return{isPartial:n!==T||i!==R||g!==N||void 0===L||void 0===E||void 0===M||void 0===I,result:Object(s.a)({version:"1.0.0",name:T,level:"".concat(r),type:a.join("/"),icon:null!==L&&void 0!==L?L:"",effect:R,atk:c,def:l,serial:b,copyright:p,attribute:null!==E&&void 0!==E?E:"None",id:h,pendulum:Object(s.a)({enabled:x,effect:N,blue:v,red:j,boxSize:"Normal",boxSizeEnabled:!0},D),variant:"Normal",link:{topLeft:!!y.includes("1"),topCenter:!!y.includes("2"),topRight:!!y.includes("3"),middleLeft:!!y.includes("4"),middleRight:!!y.includes("6"),bottomLeft:!!y.includes("7"),bottomCenter:!!y.includes("8"),bottomRight:!!y.includes("9")},layout:null!==M&&void 0!==M?M:"Normal",boxSize:"Normal",rarity:null!==I&&void 0!==I?I:W,image:t?t.toDataURL("image/jpeg"):"offline"===f?d:u},B)}},Kt=1e3,Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt,n=e,r=t,a=r,o=a,i=30,c=100,l=10,s=function(){return 1===c?v():(a+=c,a-=c/=l),Math.min(a,r)},u=function(){return i-=1,a-=c},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;n=e,r=t,a=t,i=30,c=100,o=t},f=function(){return a},b=function(e){return a=e},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return o=e},m=function(){return o},h=function(){return i=-1,a=o},g=function(){return i},v=function(){return i=-1};return{reset:d,searchDown:u,reverseSearch:s,finish:v,getMedian:f,setMedian:b,setLastEffective:p,getLastEffective:m,applyLastEffective:h,getIterateCount:g}},Yt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Kt,r=Gt();r.getIterateCount()>=0;){if(r.getIterateCount()<=0){var a=r.getMedian();n=a;break}var o=e(r.getMedian());if(!o&&r.getMedian()>0)r.searchDown();else{if(r.getMedian()===Kt)break;n=r.reverseSearch()}}var i=Math.max(t,Math.min(n,Kt));return i!==n&&e(i),i},Xt=function(e){var t=null!==e&&void 0!==e?e:{},n=t.defaultWeight,r=void 0===n?"":n,a=t.defaultStyle,o=void 0===a?"":a,i=t.defaultSize,c=void 0===i?"10px":i,l=t.defaultFamily,s=void 0===l?"Arial":l,u=r,d=o,f="number"===typeof c?"".concat(c,"px"):c,b="number"===typeof c?c:parseFloat(c.replaceAll("px","")),p=s;return{getFont:function(){return"".concat([d,u,f,p].filter((function(e){return""!==e})).join(" "),", Arial")},getFontInfo:function(){return{style:d,size:f,family:p,sizeAsNumber:b,weight:u}},setWeight:function(e){return u=e,this},setStyle:function(e){return d=e,this},setSize:function(e){var t="function"===typeof e?e(b):e;return f="number"===typeof t?"".concat(t,"px"):t,b="number"===typeof t?t:parseFloat(t.replaceAll("px","")),this},setFamily:function(e){return p=e,this}}},Vt=function(e){return(null!==e&&void 0!==e?e:[]).map((function(e){var t=e.color,n=e.offset;return"".concat(n,"|").concat(t)})).join(",")},Ut=function e(t){return t?t.split(",").map((function(e,t){var n=e.split("|"),r=Object(u.a)(n,2),a=r[0];return{color:r[1],offset:a,id:t+1}})):e("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf")},qt=function(e){var t=e.debug,n=e.optionLength,r=e.stopPropagation,a=void 0!==r&&r,o=e.setFocus,i=e.onTrigger,c=e.onCancel,l=e.onKeyPress;return{tabIndex:0,onFocus:function(){t&&console.info("Navigation Focus",t),o(0)},onBlur:function(){t&&console.info("Navigation Blur",t),o(-1)},onKeyDown:function(e){a&&e.stopPropagation(),t&&console.info("Navigation Keydown",t,e.key),!1!==(null===l||void 0===l?void 0:l(e))&&("ArrowRight"===e.key||"ArrowDown"===e.key?(e.preventDefault(),o((function(e){return Math.max(0,n+e+1)%n}))):"ArrowLeft"===e.key||"ArrowUp"===e.key?(e.preventDefault(),o((function(e){return Math.max(0,n+e-1)%n}))):"Enter"===e.key||" "===e.key?i():"Escape"===e.key&&(null===c||void 0===c||c()))}}},Jt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="",r=e.length,a=0;a<t;a++)n+=e.charAt(Math.floor(Math.random()*r));return n};function $t(e,t){if(window.history.pushState){var n=new URLSearchParams(window.location.search);n.set(e,t);var r=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString();window.history.pushState({path:r},"",r)}}var _t=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".radio-train-input-group";null===(e=document.querySelector(t))||void 0===e||e.focus()},Zt=/^#[a-fA-F0-9]{3}([a-fA-F0-9]{3})?$/,Qt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n,r,a,o=e.replace("#",""),i=[0,0,0,1];if(3===o.length||4===o.length)i=[parseInt("".concat(o[0]).concat(o[0]),16),parseInt("".concat(o[1]).concat(o[1]),16),parseInt("".concat(o[2]).concat(o[2]),16),parseInt("".concat(null!==(n=o[3])&&void 0!==n?n:"f").concat(null!==(r=o[3])&&void 0!==r?r:"f"),16)];if(6===o.length||8===o.length)i=[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16),parseInt(null!==(a=o.slice(6,8))&&void 0!==a?a:"ff",16)];return i.map((function(e){return isNaN(e)?255:e})).slice(0,t?4:3)}catch(c){return[0,0,0,1].slice(0,t?4:3)}},en=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};function tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var nn=n(15),rn=n(16),an=n(501),on=n(34),cn=n(38),ln=n(97),sn=n(99),un=n(211),dn=function(e){Object(ln.a)(n,e);var t=Object(sn.a)(n);function n(e){var r;return Object(on.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(cn.a)(n,[{key:"componentDidCatch",value:function(e,t){un.c(e,{data:t.componentStack})}},{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.error("Boundary",e),{hasError:!0}}}]),n}(i.a.Component),fn=n(517),bn=n(518),pn=n(513),mn=n(515),hn=(n(309),function(e){var t=e.overlayClassName,n=e.iconProps,r=Object(Ct.a)(e,["overlayClassName","iconProps"]),o=null!==n&&void 0!==n?n:{},i=o.className,c=Object(Ct.a)(o,["className"]);return Object(a.jsx)(pn.a,Object(s.a)(Object(s.a)({overlayClassName:["explanation-overlay",null!==t&&void 0!==t?t:""].join(" ")},r),{},{children:Object(a.jsx)(mn.a,Object(s.a)({className:["explanation-icon",null!==i&&void 0!==i?i:""].join(" ")},c))}))}),gn=function(e,t){var n,r,a,o,i,c=e.creator,l=e.effect,u=e.format,d=e.isFirstEdition,f=e.name,b=e.password,p=e.pendulumEffect,m=e.setId,h=e.typeAbility;if(u===t)return e;var g="ocg"===t?be:fe,v="ocg"===t&&/-EN/.test(m)?m.replace("-EN","-JP"):"tcg"===t&&/-JP/.test(m)?m.replace("-JP","-EN"):m;return Object(s.a)(Object(s.a)({},e),{},{name:null!==(n=g[f])&&void 0!==n?n:f,format:t,effect:null!==(r=g[l])&&void 0!==r?r:l,pendulumEffect:null!==(a=g[p])&&void 0!==a?a:p,typeAbility:h.map((function(e){var t;return null!==(t=g[e])&&void 0!==t?t:e})),creator:null!==(o=g[c])&&void 0!==o?o:c,password:null!==(i=g[b])&&void 0!==i?i:b,setId:v,isFirstEdition:"ocg"!==t&&d})},vn=n(133),jn=n(132),xn=n.n(jn),yn=n(258),On=n.n(yn),wn=n(287),kn=n(3),Fn=n.n(kn),Sn=n(10),Cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(s.a)(Object(s.a)({},t),e.rawDictionary),r=function(e){var t;return null!==(t=n[e])&&void 0!==t?t:""},o=function(e,t){var n=new RegExp("\\{(".concat(Object.keys(t).join("|"),")\\}")),r=e.split(n);return Object(a.jsx)(i.a.Fragment,{children:r.map((function(e,n){return n%2===0?Object(a.jsx)(i.a.Fragment,{children:e},"".concat(e,"-").concat(n)):t[e]}))},e)},c={"error.load.font.tcg":function(e){return r("error.load.font.tcg").replaceAll("{familyName}",e)},"error.load.font.ocg":function(e){return r("error.load.font.ocg").replaceAll("{familyName}",e)},"error.max-size.description":function(e){return r("error.max-size.description").replaceAll("{fileSize}","".concat(e))},"contributor.disclaimer.line-1":function(e){return o(r("contributor.disclaimer.line-1"),{siteLink:e})},"contributor.disclaimer.line-5":function(e,t){return o(r("contributor.disclaimer.line-5"),{author1:e,author2:t})},"contributor.template-maker":function(e,t,n,a){return o(r("contributor.template-maker"),{artist1:e,artist2:t,artist3:n,artist4:a})},"converter.header.warning.label":function(e){return o(r("converter.header.warning.label"),{maxAmount:e})},"guide.format.introduction":function(e){return o(r("guide.format.introduction"),{settingIcon:e})},"guide.format.section-1.content":function(e,t,n,a){return o(r("guide.format.section-1.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a})},"guide.format.section-2.content":function(e,t,n,a){return o(r("guide.format.section-2.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a})},"guide.format.section-3.content":function(e,t,n){return o(r("guide.format.section-3.content"),{separator:e,hotkey:t,hotkeyAlternative:n})},"guide.format.section-4.content":function(e,t,n){return o(r("guide.format.section-4.content"),{separator:e,hotkey:t,hotkeyAlternative:n})},"guide.format.section-5.content":function(e,t,n,a){return o(r("guide.format.section-5.content"),{openTag:e,closeTag:t,hotkey:n,hotkeyAlternative:a})},"input.scale.label":function(e){return o(r("input.scale.label"),{scaleType:e})}};return Object(s.a)(Object(s.a)({},e),{},{rawDictionary:n,dictionary:Object(s.a)(Object(s.a)({},n),c)})},Tn=Object(vn.create)((function(e,t){var n=function(){var e=new URL(window.location.href),t=e.searchParams,n=t.get("language");if(t.delete("language"),window.history.replaceState(window.history.state,"",e.href),n)return n;try{var r=window.localStorage.getItem("language");return r||"eng"}catch(a){return console.error("useSetting: Error when getting cached language",a),"eng"}}(),r={},a=Cn(Object(s.a)(Object(s.a)({},{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1}),{},{rawDictionary:{}})),o=function(){var t=Object(Sn.a)(Fn.a.mark((function t(){var n,r;return Fn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("/ygocarder","/asset/i18n/metadata.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent){t.next=9;break}throw new Error("No metadata found");case 9:e({languageMetadataMap:r,isMetadataReady:!0}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("loadLanguageMetadata: Could not load language metadata, try to use English",t.t0),e({languageMetadataMap:{eng:{name:"English",formalName:"English",codeName:"eng",initialMessage:"Loading fonts and scripts\u2026",order:1,active:!0}},isMetadataReady:!0});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,a,o,i;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r[t]){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("".concat("/ygocarder","/asset/i18n/").concat(t,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 5:return a=e.sent,e.next=8,a.json();case 8:if((o=e.sent).rawDictionary){e.next=11;break}throw new Error("No dictionary found");case 11:return i=Cn(o,null===(n=r.eng)||void 0===n?void 0:n.rawDictionary),r[t]=i,e.abrupt("return",i);case 16:return e.prev=16,e.t0=e.catch(2),console.error("loadLanguage: Could not load language, revert back to default",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var n=Object(Sn.a)(Fn.a.mark((function n(o){var c,l;return Fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=t().languageMetadataMap[o]){n.next=3;break}return n.abrupt("return");case 3:if(r[o]){n.next=9;break}return n.next=6,i(o);case 6:n.t0=n.sent,n.next=10;break;case 9:n.t0=r[o];case 10:(l=n.t0)?(e({languageInfo:t().languageMetadataMap[o],language:l.dictionary}),window.localStorage.setItem("language",o),e({isLoading:!1,languageInfo:c})):e({isLoading:!1,languageInfo:t().languageMetadataMap.eng,language:a.dictionary});case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{languageMetadataMap:{},languageInfo:{name:"Default",formalName:"Default",codeName:"def",initialMessage:"",order:1e3,active:!1},language:a.dictionary,error:null,isInitiating:!0,isLoading:!0,isMetadataReady:!1,initiate:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loadDefaultLanguage:function(){var t=Object(Sn.a)(Fn.a.mark((function t(){return Fn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i("eng");case 2:return t.next=4,c(n);case 4:e({isInitiating:!1});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),loadLanguage:i,changeLanguage:c}})),Rn=function(){return Tn((function(e){return e.language}))},Nn=function(){return Tn.getState().language},Ln=function(e,t){var n=ct(),r=!1;if(!e)return{isPartial:r,card:n};try{var a="string"===typeof e?JSON.parse(e):e;if(Lt(a))n=St(a,t);else if(Et(a)||null!=t){var o=kt(a);n=St(o,t)}else{var i=function(e){var t,n=e.name,r=e.atk,a=e.def,o=e.attribute,i=e.effect,c=e.boxSize,l=e.copyright,u=e.icon,d=e.id,f=e.image,b=e.layout,p=e.level,m=e.link,h=e.pendulum,g=e.rarity,v=e.serial,j=e.type,x=e.variant,O=e.version,k=h.red,F=h.blue,C=h.boxSize,T=h.boxSizeEnabled,R=h.effect,N=h.enabled,L=It[u],E=Dt[o],M=Bt[b],I="string"===typeof(t=f)&&t.startsWith("data:image/"),A=parseInt(p),D=g?zt[g.toLowerCase()]:void 0,W=void 0===L||void 0===E||void 0===M||void 0===D,B=null!==D&&void 0!==D?D:{},z=B.finish,P=B.artFinish,H=B.text,K=H?S[H]:null,G=ct();return{isPartial:W,result:Object(s.a)(Object(s.a)({},G),{},{finish:null!==z&&void 0!==z?z:[],name:n,nameStyleType:H?"predefined":"auto",nameStyle:K?K.value:{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},atk:r,def:a,attribute:null!==E&&void 0!==E?E:y,effect:i,creator:l,subFamily:null!==L&&void 0!==L?L:w,setId:d,frame:null!==M&&void 0!==M?M:"normal",star:"".concat(A)===p&&A<=13?A:p,typeAbility:j.split("/").map((function(e){return e.trim()})),art:I?"":f,artFit:!0,artData:I?f:"",artSource:I?"offline":"online",artFinish:null!==P&&void 0!==P?P:"normal",linkMap:[!0===(null===m||void 0===m?void 0:m.topLeft)?"1":null,!0===(null===m||void 0===m?void 0:m.topCenter)?"2":null,!0===(null===m||void 0===m?void 0:m.topRight)?"3":null,!0===(null===m||void 0===m?void 0:m.middleLeft)?"4":null,!0===(null===m||void 0===m?void 0:m.middleRight)?"6":null,!0===(null===m||void 0===m?void 0:m.bottomLeft)?"7":null,!0===(null===m||void 0===m?void 0:m.bottomCenter)?"8":null,!0===(null===m||void 0===m?void 0:m.bottomRight)?"9":null].filter((function(e){return"string"===typeof e})),isPendulum:N,pendulumScaleBlue:F,pendulumScaleRed:k,pendulumEffect:R,password:v,externalInfo:{version:O,variant:x,boxSize:c,rarity:g,pendulum:{boxSize:C,boxSizeEnabled:T}}})}}(a),c=i.isPartial,l=i.result;r=c,n=l}}catch(u){console.error("decodedCard",e,u);try{n=function(e){var t;return t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Ft(e):"string"===typeof e?JSON.parse(e):e,St(t)}(e,!0),wn.a.info({message:Nn()["service.decode.outdated.message"],description:Nn()["service.decode.outdated.description"]})}catch(u){console.error("cardData",e,u),wn.a.error({message:Nn()["service.decode.error.message"],description:Nn()["service.decode.error.description"]})}}return{isPartial:r,card:n}},En={debounce:{type:"debounce",wait:400},throttle:{type:"throttle",wait:1e3}},Mn=Object(vn.create)((function(e,t){return{card:it(),setCard:function(t){e("function"===typeof t?function(e){return{card:t(e.card)}}:{card:t})},getUpdater:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},a=arguments.length>2?arguments[2]:void 0,o=t(),i=o.setCard,c=function(t){i((function(n){var a;return Object(s.a)(Object(s.a)({},n),{},Object(ce.a)({},e,r("string"===typeof t||"number"===typeof t||Array.isArray(t)?t:null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)))}))};if(!a)return c;var l="string"===typeof a?null!==(n=En[a])&&void 0!==n?n:void 0:a;if(!l)return c;var u=l.wait,d=l.type;return"debounce"===d?xn()(c,u):"throttle"===d?On()(c,u):c}}})),In=n(14),An=Object(vn.create)((function(e){var t=function(){try{var e,t=JSON.parse(null!==(e=window.localStorage.getItem("setting"))&&void 0!==e?e:"{}");return t&&"object"===typeof t&&!Array.isArray(t)?t:{}}catch(n){return console.error("useSetting: Error when getting cached setting",n),{}}}(),n=t.resolution,r=t.allowHotkey,a=t.reduceMotionColor,o=t.showCreativeOption,i=t.showExtraDecorativeOption;return{setting:{resolution:Array.isArray(n)&&"number"===typeof n[0]&&"number"===typeof n[1]?n:[d,f],allowHotkey:"boolean"!==typeof r||r,reduceMotionColor:"boolean"===typeof a&&a,showCreativeOption:"boolean"!==typeof o||o,showExtraDecorativeOption:"boolean"!==typeof i||i},updateSetting:function(t){e((function(e){var n="function"===typeof t?t(e.setting):Object(s.a)(Object(s.a)({},e.setting),t);return window.localStorage.setItem("setting",JSON.stringify(n)),{setting:n}}))}}})),Dn=f,Wn=d,Bn=function(e){var t=e.ctx,n=e.color,r=void 0===n?"#000000".replace(/0/g,(function(){return(~~(12*Math.random()+2)).toString(16)})):n,a=e.width,o=e.offset,i=void 0===o?4:o,c=e.edge,l=e.baseline,s=e.xRatio,u=t.fillStyle;t.fillStyle=r,t.beginPath(),t.rect(c/s,l+1+Math.random()*i,a/s,2),t.fillStyle=u},zn=function(e,t,n,r,a,o){if(!e||!t)return r;var i=(null!==o&&void 0!==o?o:{}).stroke,c=void 0!==i&&i;e.textAlign="left";var l=t.split(""),s=r;return l.forEach((function(t){e.fillText(t,s,a),c&&e.strokeText(t,s,a),s+=e.measureText(t).width*(2+n)/2})),s},Pn=function(e,t,n,r,a,o){if(!e||!t)return r;var i=(null!==o&&void 0!==o?o:{}).stroke,c=void 0!==i&&i;e.textAlign="right";var l=t.split(""),s=r;return l.forEach((function(t,r){var o=l[l.length-r-1];e.fillText(o,s,a),c&&e.strokeText(o,s,a),s-=e.measureText(o).width*(2+n)/2})),s},Hn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dn;return!!e&&(e.clearRect(0,0,t,n),!0)},Kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;return function(){var n=Object(Sn.a)(Fn.a.mark((function n(r,a,o){var i,c,l,s,u,d,f,b,p,m,h,g,v,j;return Fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&Array.isArray(e)&&!(e.length<=0)){n.next=2;break}return n.abrupt("return",Promise.resolve());case 2:i=Object(jt.a)(e),n.prev=3,i.s();case 5:if((c=i.n()).done){n.next=39;break}if(l=c.value,s=t[l],!o||!t[l]){n.next=37;break}if(d=s.partInstructionMap,!(f=a&&null!==(u=d[a])&&void 0!==u?u:[]).length){n.next=33;break}b=Object(jt.a)(f),n.prev=13,b.s();case 15:if((p=b.n()).done){n.next=23;break}return m=p.value,h=m.blendMode,g=void 0===h?"source-over":h,v=m.opacity,j=void 0===v?1:v,r.globalCompositeOperation=g,r.globalAlpha=j,n.next=21,o(l);case 21:n.next=15;break;case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(13),b.e(n.t0);case 28:return n.prev=28,b.f(),n.finish(28);case 31:n.next=35;break;case 33:return n.next=35,o(l);case 35:r.globalAlpha=1,r.globalCompositeOperation="source-over";case 37:n.next=5;break;case 39:n.next=44;break;case 41:n.prev=41,n.t1=n.catch(3),i.e(n.t1);case 44:return n.prev=44,i.f(),n.finish(44);case 47:r.globalAlpha=1,r.globalCompositeOperation="source-over";case 49:case"end":return n.stop()}}),n,null,[[3,41,44,47],[13,25,28,31]])})));return function(e,t,r){return n.apply(this,arguments)}}()},Gn="#000000",Yn="#000000",Xn=function(e){var t=e.ctx,n=e.x,r=void 0===n?0:n,a=e.y,o=void 0===a?0:a,i=e.blur,c=void 0===i?0:i,l=e.color,s=void 0===l?Yn:l,u=e.shadowColor,d=void 0===u?Gn:u;return t.shadowOffsetX=r,t.shadowOffsetY=o,t.shadowBlur=c,t.shadowColor=d,t.fillStyle=s,function(){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.shadowColor=Gn,t.fillStyle=Yn}},Vn={},Un=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n){var r,a,o=arguments;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:0,a=o.length>3&&void 0!==o[3]?o[3]:0,t&&""!==n){e.next=4;break}return e.abrupt("return",new Promise((function(e){return e(!1)})));case 4:return n.includes("/frame-token")&&wn.a.info({message:"draw"}),e.abrupt("return",new Promise((function(e){var o,i;if(!0===(null===(o=Vn[n])||void 0===o?void 0:o.ready)){var c=Vn[n].image,l="number"===typeof r?r:r(c),s="number"===typeof a?a:a(c);return t.drawImage(c,l,s),void setTimeout((function(){return e(!0)}),0)}if(null===(i=Vn[n])||void 0===i?void 0:i.error)setTimeout((function(){return e(!0)}),0);else{var u=Vn[n]&&(Vn[n].cache||Vn[n].ready),d=u?Vn[n].image:new Image;u||(d.src="/ygocarder"+n),d.addEventListener("load",(function(){var o="number"===typeof r?r:r(d),i="number"===typeof a?a:a(d);t.drawImage(d,o,i),Vn[n]&&(Vn[n].ready=!0,Vn[n].error=!1),e(!0)}),{once:!0}),d.addEventListener("error",(function(){Vn[n]&&(Vn[n].error=!0),e(!1)}),{once:!0}),u||(Vn[n]={image:d,ready:!1,error:!1,cache:!0})}})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qn=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n){var r,a,o=arguments;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:0,a=o.length>3&&void 0!==o[3]?o[3]:0,e.next=4,Un(t,"/asset/image/"+n,r,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n,r,a,o,i){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!==n){e.next=2;break}return e.abrupt("return",new Promise((function(e){return e(!1)})));case 2:return e.abrupt("return",new Promise((function(e){var c,l;if(!0===(null===(c=Vn[n])||void 0===c?void 0:c.ready)){var s=Vn[n].image,u="number"===typeof r?r:r(s),d="number"===typeof a?a:a(s),f="number"===typeof o?o:o(s),b="number"===typeof i?i:i(s);return t.drawImage(s,u,d,f,b),void setTimeout((function(){return e(!0)}),0)}if(null===(l=Vn[n])||void 0===l?void 0:l.error)setTimeout((function(){return e(!0)}),0);else{var p=Vn[n]&&(Vn[n].cache||Vn[n].ready),m=p?Vn[n].image:new Image;p||(m.src="/ygocarder"+n),m.addEventListener("load",(function(){var c="number"===typeof r?r:r(m),l="number"===typeof a?a:a(m),s="number"===typeof o?o:o(m),u="number"===typeof i?i:i(m);t.drawImage(m,c,l,s,u),Vn[n]&&(Vn[n].ready=!0,Vn[n].error=!1),e(!0)}),{once:!0}),m.addEventListener("error",(function(){Vn[n]&&(Vn[n].error=!0),e(!1)}),{once:!0}),p||(Vn[n]={image:m,ready:!1,error:!1,cache:!0})}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),$n=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n,r,a,o,i){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(t,"/asset/image/"+n,r,a,o,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),_n=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n,r,a,o,i,c,l){var u,d,f,b,p,m,h,g,v,j,x,y;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.getContext("2d"),(d=document.createElement("canvas")).width=a,d.height=o,(f=d.getContext("2d",{willReadFrequently:!0}))&&u){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,qn(f,n,0,0);case 9:return b=Qt(r),p=f.getImageData(0,0,a,o).data,m=Xn(Object(s.a)({ctx:f},l)),e.next=14,qn(f,n,0,0);case 14:for(h=f.getImageData(0,0,a,o),g=h.data,m(),f.clearRect(0,0,a,o),f.drawImage(t,i,c,a,o,0,0,a,o),v=f.getImageData(0,0,a,o),j=v.data,x=0;x<j.length;x+=4)p[x+3]>0?(j[x+0]=b[0]*(1-p[x+0]/255),j[x+1]=b[1]*(1-p[x+1]/255),j[x+2]=b[2]*(1-p[x+2]/255),j[x+3]=255):g[x+3]>0&&(y=g[x+3]/255,j[x+0]=(1-y)*j[x+0]+y*g[x+0],j[x+1]=(1-y)*j[x+1]+y*g[x+1],j[x+2]=(1-y)*j[x+2]+y*g[x+2],j[x+3]=255);u.putImageData(v,i,c);case 23:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i,c,l){return e.apply(this,arguments)}}(),Zn=function(e){var t,n,r=e.ctx,a=e.letter,o=e.isLastOfLine,i=void 0!==o&&o,c=e.debug,l=e.fontStyle,s=e.xRatio,u=e.metricMethod,d=void 0===u?"standard":u;if(Ne.test(a))return{width:0,boundWidth:0};var f="tcg"===l?tt:Ze,b="tcg"===l?Qe:$e,p="tcg"===l?et:_e,m=r.measureText(a),h=m.width,g=m.actualBoundingBoxLeft+m.actualBoundingBoxRight,v=1;"name"===d&&(v=1+8*(1-s));var j,x="name"===d||"compact"===d||"furigana"===d?.046875:0,y=g,O=null!==(t=i?p[a]:b[a])&&void 0!==t?t:0;if("tcg"===l)return{width:h,actualBoundWidth:g,boundWidth:h+2*((null!==(j=f[a])&&void 0!==j?j:0)*h),metric:m,offsetRatio:O};var w=(null!==(n=f[a])&&void 0!==n?n:0)*h+("furigana"===d?0:Math.min(.075*h,Math.max(.45,h*x)*v)),k=1;Ye.test(a)?(y="furigana"===d?g:g*("creator"===d?1.75:2.5),k=.6):Xe.test(a)?(y="furigana"===d?g:Math.max(g,.75*h),w=2):De.test(a)?y="furigana"===d?g:Math.max(g,.7*h):Pe.test(a)?y=h:Ue.test(a)?y=2*g:qe.test(a)?y=1.25*g*(i?.5:1):Ke.test(a)?y="furigana"===d?g:Math.max(g,.75*h):Ge.test(a)?y=Math.max(g,.69*h)*("creator"===d?.975:1):Ve.test(a)?(y=h,w=0):y="furigana"===d?g:Math.max(g,.75*h),w="furigana"===d?0:w;var F=1*h*1;return c&&console.info("getLetterWidth ".concat(c),a,m,1,1,"|",F),{width:h,actualBoundWidth:g,boundWidth:"standard"===d?h*k:y+2*w,metric:m,offsetRatio:O}},Qn=function(e){var t=e.ctx,n=e.baseline,r=e.edge,a=e.letter,o=e.xRatio,i=e.deviation,c=void 0===i?{}:i,l=e.letterMetric,s=e.textDrawer,u=null!==l&&void 0!==l?l:{},d=u.boundWidth,f=u.metric,b=void 0===f?t.measureText(a):f,p=u.offsetRatio,m=void 0===p?0:p,h=o<1?{}:c,g=h.yOffset,v=void 0===g?K:g,j=h.yRatio,x=void 0===j?G:j,y=b.width*o,O=d?d*o:y,w=null!==s&&void 0!==s?s:function(e){var t=e.ctx,n=e.letter,r=e.scaledBaseline,a=e.scaledEdge;t.fillText(n,a,r)},k=(y-O)/2,F=O*m;t.scale(1,x),w({ctx:t,letter:a,scaledEdge:r/o-k-F,scaledBaseline:(n+v)/x}),t.scale(1,1/x)},er=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?new RegExp("([".concat(at,"])|(").concat(Oe,"[\\w\\W]+?").concat(we,")|(.+?)")):new RegExp("([".concat(at,"])|").concat(Oe,"([\\w\\W]+?)").concat(we,"|(.+?)"));return e.split(n).filter((function(e){return null!=e&&""!==e}))},tr=function(e,t,n,r){var a=n.fontSize,o=n.ordinalFontRatio,i=void 0===o?H.ordinalFontRatio:o,c=n.headTextFontRatio,l=void 0===c?H.headTextFontRatio:c,s=t.font,u=t.ordinalFont,d=t.symbolFont,f=t.symbolFontRatio,b=t.numberFont,p=void 0===b?s:b,m=t.numberFontRatio,h=void 0===m?1:m,g=t.furiganaFont,v=r.getFontInfo(),j=r.getFontInfo(),x=r.getFontInfo(),y=r.getFontInfo(),O=r.getFontInfo();return{applyNumberFont:function(){v=r.getFontInfo(),e.font=r.setFamily(p).setSize(a*h).getFont()},stopApplyNumberFont:function(){e.font=r.setFamily(v.family).setSize(v.size).getFont()},applyLargerText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;O=r.getFontInfo(),e.font=r.setSize(a*t).getFont()},stopApplyLargerText:function(){e.font=r.setSize(O.size).getFont()},applySymbolFont:function(){j=r.getFontInfo(),e.font=r.setFamily(d).setSize(a*f).getFont()},stopApplySymbolFont:function(){e.font=r.setFamily(j.family).setSize(j.size).getFont()},applyOrdinalFont:function(){x=r.getFontInfo(),e.font=r.setFamily(u).setSize(a*i).getFont()},stopApplyOrdinalFont:function(){e.font=r.setFamily(x.family).setSize(x.size).getFont()},applyFuriganaFont:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y=r.getFontInfo(),e.font=r.setFamily(g).setWeight(t?"bold":"").setSize(a*l).getFont()},stopApplyFuriganaFont:function(){e.font=r.setFamily(y.family).setWeight(y.weight).setSize(y.size).getFont()},applyAsymmetricScale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.scale(t,n)},applyScale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e.scale(t,n)},resetScale:function(){e.setTransform(1,0,0,1,0,0)},reverseScale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.scale(1/t,1/t)}}},nr=function(e,t,n,r,a){var o=(r-a)/2;e.beginPath(),e.arc(t+o,n-o-1,o,0,2*Math.PI,!1),e.fill(),e.lineWidth=1,e.strokeStyle="#003300",e.stroke()},rr=function(e){var t=e.footText,n=e.footTextWidth,r=e.headText,a=e.headTextLetterWidth,o=e.headTextGap,i=e.headTextSpacing,c=e.gapPadding,l=e.debug,s=e.fitFootText,u=e.sentenceXRatio,d=e.xRatio,f=0===r.length,b=a/n*u,p=i,m=0;b<=.95?p=i:b<=1.175?p=i>=0?0:3*i:b<=1.56?p=i>=0?-1*i/4:3*i:(m=.66,p=i>=0?-1*i/4:2*i),(s||d>0&&d<1)&&(p=i);var h=a*(d&&!s?d:!m||s?1:m)+p*(r.length-1),g=f?0:(n-a)/r.length,v=n,j=1===t.length||2*c+h>n?"center":"space-around",x="center"===j?p:g,y="center"===j?2*c+h:v,O=s?Math.min(y,n):y,w="center"===j?(h-n)/2:0,k=Math.max(o,s?Math.min(w,0):w);return l&&console.info("analyzeHeadText ".concat(l),j,x,"|",r,O,y,t,n,k),{gapPadding:c,letterSpacing:x,trueHeadTextWidth:y,headTextWidth:O,alignment:j,halfGap:k,headTextXRatio:"center"===j?m:0}},ar=function(e,t){return e>=0?t>=0?0:-1*Math.max(-1*e,t):t>=0?-1*Math.max(e,-1*t):0},or=function e(t){var n=t.ctx,r=t.token,a=t.nextToken,o=t.xRatio,i=t.previousTokenGap,c=void 0===i?0:i,l=t.letterSpacing,s=void 0===l?H.letterSpacing:l,d=t.format,f=t.textData;if(!n||!r)return{totalWidth:0,leftMostLetter:"",spaceCount:0,spaceAtEnd:!1,rightGap:0,leftGap:0};for(var b=f.currentFont,p=f.fontData,m=f.fontLevel,h=p.metricMethod,g=p.headTextGapRatio,v=void 0===g?U:g,j=p.headTextOverflow,x=void 0===j?X:j,y=p.fontStyle,O=p.fontList[m],w=O.bulletSymbolWidth,k=O.capitalLetterRatio,F=O.fontSize,S=O.iconSymbolWidth,C=void 0===S?w:S,T=O.largeSymbolRatio,R=void 0===T?H.largeSymbolRatio:T,N=O.headTextSpacing,L=void 0===N?H.headTextSpacing:N,E=O.squareBracketRatio,M=O.wordLetterSpacing,I=-.5*F,A=tr(n,p,O,b),D=A.applyScale,W=A.reverseScale,B=A.applyLargerText,z=A.stopApplyLargerText,P=A.applyFuriganaFont,K=A.stopApplyFuriganaFont,G=A.applyOrdinalFont,Y=A.stopApplyOrdinalFont,V=A.applySymbolFont,q=A.stopApplySymbolFont,J=A.applyNumberFont,$=A.stopApplyNumberFont,_=1+s/2,Z="",Q=0,ee=0,te=!1,ne=void 0===a,re=null!==c&&void 0!==c?c:0,ae=!1,oe=0,ie=r.replaceAll(new RegExp(Re,"g"),"").split(ye).filter((function(e){return null!=e&&""!==e})),ce=0;ce<ie.length;ce++){var le=0===ce,se=ie[ce];if("\u29be"===se)re=0,Q+=C/o*_,le&&(oe=0,Z=se[0]);else if("\u25cf"===se){re=0,Q+=w/o*_,le&&(oe=0,Z=se[0])}else if(/[\xa9]/.test(se)){re=0,B(R);var ue=n.measureText(se).width/o;z(),Q+=ue*_,le&&(oe=0,Z=se[0])}else if(Be.test(se)){re=0,G();var de=n.measureText(se).width/o;Y(),Q+=de*_,ee+=1,le&&(oe=0,Z=se[0])}else if(rt.test(se)){var fe=se.replaceAll(/{|}/g,"").split(/(\|+)/),be=Object(u.a)(fe,3),pe=be[0],me=be[1],he=be[2],je=void 0===he?"":he,Oe="||"===me,we=e({ctx:n,token:pe,nextToken:a,xRatio:o,letterSpacing:s,previousTokenGap:0,format:d,textData:f}).totalWidth;P();var ke=je.split("").map((function(e){return Zn({ctx:n,letter:e,fontStyle:y,metricMethod:"furigana",xRatio:1}).boundWidth})).reduce((function(e,t){return e+t}),0);K();var Fe=rr({headText:je,headTextLetterWidth:ke/o,footText:pe,footTextWidth:we,headTextGap:I/o,headTextSpacing:L,gapPadding:v*F/o,fitFootText:Oe,sentenceXRatio:o,xRatio:"condense"===x&&pe.length>1?Math.min(1,o+.1):0}),Se=Fe.halfGap,Ce=Fe.headTextWidth,Te=0===je.length?Math.max(I,we/ot):Se,Ne=Te,Le=Te,Me=Math.max(Ce,we),Ie=ar(re,Ne);re=Le,Q+=Me-Ie,ee+=1,le&&(ae=!0,oe=Ne,Z=pe[0])}else if(xe.test(se)){var Ae=M?1+M/2:_;n.letterSpacing="".concat((Ae-1)*b.getFontInfo().sizeAsNumber,"px");for(var De=se,We=0;""!==De;){var ze=De[0],Pe=De.slice(1),Ke=n.measureText(De).width-n.measureText(Pe).width;ve.test(ze)?(D(E),Ke=n.measureText(De).width-n.measureText(Pe).width,W(E)):ge.test(ze)?(D(k),Ke=n.measureText(De).width-n.measureText(Pe).width,W(k)):He.test(ze)?(J(),Ke=n.measureText(De).width-n.measureText(Pe).width,$()):Ee.test(ze)&&"tcg"===y?(V(),Ke=n.measureText(De).width-n.measureText(Pe).width,q()):Ke=n.measureText(De).width-n.measureText(Pe).width,We+=Ke,De=Pe}var Ge=Math.max(I,We/ot),Ye=Ge;Q+=We-ar(re,Ge),re=Ye,le&&(oe=Ge,Z=se[0]),n.letterSpacing="0px"}else if(Ee.test(se)&&"tcg"===y){V();var Xe=n.measureText(se).width*_;q();var Ue=Math.max(I,Xe/ot),qe=Ue;Q+=Xe-ar(re,Ue),re=qe,le&&(oe=Ue,Z=se[0])}else{var $e=Zn({ctx:n,letter:se,isLastOfLine:ne,fontStyle:y,metricMethod:h,xRatio:o}).boundWidth*_,_e=Math.max(I,$e/ot),Ze=_e;Q+=$e-ar(re,_e),re=Ze,("ocg"===d||"tcg"===d&&/\s+/.test(se))&&!1===Ve.test(se)&&(ee+=1,ce===ie.length-1&&(te=!0)),le&&(oe=_e,Z=se[0]),Je.test(se)&&(oe=0,re=0)}}return{totalWidth:Q,spaceCount:ee,spaceAtEnd:te,leftMostLetter:Z,rightGap:re,leftGap:oe,offsetable:ae}},ir=function(e){var t=e.ctx,n=e.median,r=e.paragraphList,a=e.additionalLineCount,o=void 0===a?0:a,i=e.width,c=e.format,l=e.textData,s=l.fontData,u=l.fontLevel,d=s.fontList[u].letterSpacing,f=[],b=r.reduce((function(e,r){for(var a=(n<=100?100:n)/1e3,o=i/a,s=er(r,!0),u=1,b=[],p=0,m=0,h=0,g=0,v=a;g<s.length;g++){var j=s[g],x=s[g+1];j===Se?(h+=1,v=1):j===Ce&&(h-=1,v=a);var y=or({ctx:t,token:j,nextToken:x,xRatio:v,previousTokenGap:m,format:c,letterSpacing:d,textData:l}),O=y.leftMostLetter,w=y.totalWidth,k=y.rightGap,F=y.leftGap,S=w/(h>0?a:1)+(0===g?(F>0?-1*Math.min(20/v,F):0)+(ze.test(O)?4:0):0);if(p+S>o){var C=b.join("").trim();h>0&&(C+=Ce),h<0&&(C=Se+C),h=0,f.push({line:C,effectiveMedian:n,isLast:!1,actualLineWidth:p});var T=or({ctx:t,token:j,nextToken:x,xRatio:v,previousTokenGap:0,format:c,textData:l}),R=T.totalWidth,N=T.rightGap,L=T.leftGap;p=R+((L>0?-1*Math.min(20/v,L):0)+(ze.test(O)?4:0)),m=N,b=[j],u+=1}else p+=S,m=k,b.push(j)}var E=b.join("").trim();return h>0&&(E+=Ce),h<0&&(E=Se+E),h=0,f.push({line:E,effectiveMedian:n,isLast:!0,actualLineWidth:p}),e+u}),0)+(null!==o&&void 0!==o?o:0);return{currentLineList:f,currentLineCount:b}},cr=function(e){var t=e.ctx,n=e.fontSize,r=e.edge,a=e.baseline,o=e.headText,i=e.headTextLetterWidth,c=e.footText,l=e.footTextWidth,s=e.headTextGap,u=e.headTextSpacing,d=e.headTextHeightRatio,f=e.headTextBold,b=e.headTextGapRatio,p=e.xRatio,m=e.fontStyle,h=e.textWorker,g=e.fitFootText,v=e.headTextOverflow,j=h.applyFuriganaFont,x=h.stopApplyFuriganaFont,y=h.resetScale,O=h.applyScale,w="condense"===v&&c.length>1?Math.min(1,p+.1):0,k=rr({headText:o,headTextLetterWidth:i,footText:c,footTextWidth:l*p,headTextGap:s,headTextSpacing:u*p,gapPadding:n*b,fitFootText:g,sentenceXRatio:p,xRatio:w}),F=k.gapPadding,S=k.letterSpacing,C=k.trueHeadTextWidth,T=k.halfGap,R=k.alignment,N=k.headTextXRatio,L=C>l*p;if(0===o.length)return{trueHeadTextWidth:C,halfGap:T};var E=g?Math.min(1,l*p/C):1,M=g?E:w&&"center"===R?w:N,I=r;y(),(g||M)&&(O(M,1),I=r/M),"center"===R?(I+=F,L?M>E&&(I+=(l*p/M-C)/2/M):I+=(l*p-C)/2):I+=S/2;var A,D=Object(jt.a)(o);try{for(D.s();!(A=D.n()).done;){var W=A.value;j();var B=Zn({ctx:t,letter:W,fontStyle:m,metricMethod:"furigana",xRatio:1}),z=B.width,P=B.boundWidth,H=(z-P)/2;x(),j(f),t.fillText(W,I-H,a-n*d),x(),I+=P+S}}catch(K){D.e(K)}finally{D.f()}return(g||M)&&y(),O(p,1),{trueHeadTextWidth:C,halfGap:T}},lr=function e(t){for(var n=t.ctx,r=t.tokenList,a=t.trueEdge,o=t.trueBaseline,i=t.spaceWidth,c=void 0===i?0:i,l=t.xRatio,d=t.yRatio,f=void 0===d?1:d,b=t.textData,p=t.format,m=t.textDrawer,h=t.debug,g=void 0!==h&&h,v=b.currentFont,j=b.fontData,x=b.fontLevel,y=j.fontList[x],O=j.headTextFillStyle,w=j.headTextBold,k=void 0===w?V:w,F=j.headTextHeightRatio,S=void 0===F?Y:F,C=j.headTextOverflow,T=void 0===C?X:C,R=j.headTextGapRatio,N=void 0===R?U:R,L=j.metricMethod,E=j.fontStyle,M=j.letterDeviationMap,I=void 0===M?{}:M,A=y.bulletSymbolOffset,D=void 0===A?H.bulletSymbolOffset:A,W=y.bulletSymbolWidth,B=y.capitalLetterRatio,z=void 0===B?H.capitalLetterRatio:B,P=y.fontSize,K=y.headTextSpacing,G=void 0===K?H.headTextSpacing:K,q=y.iconSymbolWidth,J=void 0===q?W:q,$=y.largeSymbolRatio,_=void 0===$?H.largeSymbolRatio:$,Z=y.letterSpacing,Q=void 0===Z?H.letterSpacing:Z,ee=y.ordinalFontOffsetY,te=void 0===ee?H.ordinalFontOffsetY:ee,ne=y.squareBracketRatio,re=void 0===ne?H.squareBracketRatio:ne,ae=y.wordLetterSpacing,oe=tr(n,j,y,v),ie=oe.stopApplyFuriganaFont,ce=oe.applyFuriganaFont,le=oe.stopApplyLargerText,se=oe.applyLargerText,ue=oe.stopApplyNumberFont,de=oe.applyNumberFont,fe=oe.stopApplyOrdinalFont,be=oe.applyOrdinalFont,pe=oe.applyScale,me=oe.reverseScale,he=oe.applySymbolFont,je=oe.stopApplySymbolFont,Oe=oe.applyAsymmetricScale,we=oe.resetScale,ke=1+Q/2,Fe=o/f,Te=0,Re=[],Ne=0,Le=a,Me=0,Ie=l;Me<r.length;Me++){var Ae=r[Me];if(Ae!==Se)if(Ae!==Ce){for(var De=-.5*Ie,We=P*De,Pe=r[Me+1],Ke=r[Me+2],Ge={ctx:n,xRatio:Ie,letterSpacing:Q,format:p,textData:b},Ye={ctx:n,baseline:Fe,xRatio:Ie,textDrawer:m},Xe=Ae.split(ye).filter((function(e){return null!=e&&""!==e})),Ue=or(Object(s.a)({token:Ae,nextToken:Pe,previousTokenGap:Te/Ie},Ge)),qe=Ue.leftMostLetter,$e=Ue.leftGap,_e=Ue.rightGap,Ze=Ue.totalWidth,Qe=Ue.spaceCount,et=0===Me?($e>0?-1*Math.min(20,$e*Ie):0)+(ze.test(qe)?4:0):0,tt=Le+et,at=Te,ot=0;ot<Xe.length;ot++){var it,ct,lt=Xe[ot],st=null!==(it=Xe[ot+1])&&void 0!==it?it:Pe,ut=null!==(ct=Xe[Me+2])&&void 0!==ct?ct:Ke;if(Ae===Se||Ae===Ce);else if("\u29be"===lt)Re.push({edge:tt,size:J,baseline:Fe}),tt+=J*ke,at=0,Ne=0;else if("\u25cf"===lt)we(),nr(n,tt,o+D,W,nt(p)),tt+=W*ke,Oe(Ie,f),at=0,Ne=0;else if(/[\xa9]/.test(lt))we(),se(_),Qn(Object(s.a)(Object(s.a)({},Ye),{},{letter:lt,edge:tt*Ie,baseline:o+2})),tt+=n.measureText(lt).width*ke,le(),Oe(Ie,f),at=0,Ne=0;else if(Be.test(lt))we(),be(),Qn(Object(s.a)(Object(s.a)({},Ye),{},{letter:lt,edge:tt*Ie,baseline:o+te})),tt+=n.measureText(lt).width*ke,fe(),Oe(Ie,f),tt+=c,at=0,Ne=0;else if(rt.test(lt)){var dt=lt.replaceAll(/{|}/g,"").split(/(\|+)/),ft=Object(u.a)(dt,3),bt=ft[0],pt=ft[1],mt=ft[2],ht=void 0===mt?"":mt,gt="||"===pt,vt=or(Object(s.a)({token:bt,nextToken:st,previousTokenGap:0},Ge)).totalWidth;ce();var jt=ht.split("").map((function(e){return Zn({ctx:n,letter:e,fontStyle:E,metricMethod:"furigana",xRatio:1}).boundWidth})).reduce((function(e,t){return e+t}),0);ie();var xt=rr({headText:ht,headTextLetterWidth:jt,footText:bt,footTextWidth:vt*Ie,headTextGap:We,headTextSpacing:G*Ie,gapPadding:P*N,fitFootText:gt,sentenceXRatio:Ie,xRatio:"condense"===T&&bt.length>1?Math.min(1,Ie+.1):0}),yt=xt.headTextWidth,Ot=xt.halfGap,wt=0===ht.length?Math.max(We,vt*De):Ot,kt=wt,Ft=wt,St=ar(at,Ft),Ct=Ft>0?Ft-St:0,Tt=or(Object(s.a)({token:st,nextToken:ut,previousTokenGap:kt/Ie},Ge)),Rt=Tt.offsetable,Nt=Tt.leftGap*Ie,Lt=ar(kt,Nt),Et=Ct+(kt>0?kt-Lt:0),Mt=0,It=0;Et>0&&Nt>=-2&&Rt?(Mt=(Et+2*Math.max(Nt,0))/3,It=Math.max(Nt,0)-Mt):Mt=Ct;var At=tt+(wt<0?-St:et?-et:Mt)+Ne;Ne=It,e({ctx:n,format:p,textData:b,tokenList:er(bt),trueBaseline:Fe,trueEdge:At,xRatio:Ie,yRatio:f,spaceWidth:0,textDrawer:m,debug:!1});var Dt=n.fillStyle,Wt=n.strokeStyle,Bt=n.shadowColor,zt=n.shadowOffsetX,Pt=n.shadowOffsetY,Ht=n.shadowBlur;O&&(n.fillStyle=O,n.strokeStyle="",n.shadowColor="",n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0),cr({ctx:n,fontSize:P,edge:tt-St,baseline:Fe,headText:ht,headTextLetterWidth:jt,footText:bt,footTextWidth:vt,headTextGap:We,headTextSpacing:G,headTextHeightRatio:S,headTextBold:k,headTextGapRatio:N,xRatio:Ie,fontStyle:E,textWorker:oe,fitFootText:gt,headTextOverflow:T}),n.fillStyle=Dt,n.strokeStyle=Wt,n.shadowColor=Bt,n.shadowOffsetX=zt,n.shadowOffsetY=Pt,n.shadowBlur=Ht,tt+=Math.max(vt*Ie,yt)-St+c,at=kt}else if(xe.test(lt)){var Kt=ae?1+ae/2:ke;n.letterSpacing="".concat((Kt-1)*v.getFontInfo().sizeAsNumber,"px");for(var Gt=n.measureText(lt).width*Ie,Yt=Math.max(We,Gt*De),Xt=Yt,Vt=lt,Ut=tt-=ar(at,Yt);""!==Vt;){var qt=Vt[0],Jt=Vt.slice(1),$t=0,_t=Object(s.a)(Object(s.a)({},Ye),{},{deviation:I[qt],letter:qt,edge:Ut});if(ve.test(qt))pe(re),$t=n.measureText(Vt).width-n.measureText(Jt).width,Qn(Object(s.a)(Object(s.a)({},_t),{},{edge:Ut/re,baseline:Fe/re})),me(re);else if(ge.test(qt)){pe(z);var Zt=($t=n.measureText(Vt).width-n.measureText(Jt).width)>n.measureText(qt).width*z?Math.round($t*(1-z))/2:0;Qn(Object(s.a)(Object(s.a)({},_t),{},{edge:Ut/z+Zt,baseline:Fe/z})),me(z)}else He.test(qt)?(de(),$t=n.measureText(Vt).width-n.measureText(Jt).width,Qn(_t),ue()):Ee.test(qt)&&"tcg"===E?(he(),$t=n.measureText(Vt).width-n.measureText(Jt).width,Qn(_t),je()):($t=n.measureText(Vt).width-n.measureText(Jt).width,Qn(_t));Ut+=$t*Ie,Vt=Jt}tt=Ut,at=Xt,Ne=0,n.letterSpacing="0px"}else if(Ee.test(lt)&&"tcg"===E){var Qt=lt;he();var en=n.measureText(Qt).width*ke*Ie,tn=Math.max(We,en*De),nn=tn;tt-=ar(at,tn),Qn(Object(s.a)(Object(s.a)({},Ye),{},{letter:Qt,edge:tt})),tt+=en,je(),at=nn,Ne=0}else{var rn=lt,an=Zn({ctx:n,letter:rn,fontStyle:E,metricMethod:L,isLastOfLine:void 0===st,xRatio:Ie}),on=an.boundWidth*ke*Ie,cn=Math.max(We,on*De),ln=cn;tt-=ar(at,cn),Qn(Object(s.a)(Object(s.a)({},Ye),{},{letter:rn,edge:tt,deviation:I[rn],letterMetric:an})),tt+=on,("ocg"===p||"tcg"===p&&/\s+/.test(rn))&&!0!==Ve.test(rn)&&(tt+=c),Je.test(rn)||(at=ln),Ne=0}}Te=_e*Ie,g&&Bn({ctx:n,baseline:Fe,edge:Le,width:Ze*Ie,xRatio:Ie}),Le+=Ze*Ie+Qe*c+et}else Ie=l,n.scale(Ie,1);else Ie=1,n.setTransform(1,0,0,1,0,0)}return{tokenEdge:Le,iconPositionList:Re}},sr=function(e,t,n){var r,a=null!==n&&void 0!==n?n:{},o=a.multiline,i=void 0===o||o,c=a.furiganaHelper,l=void 0===c||c,s=a.dictionaryType,u=void 0===s?"rubyForm":s,d=null!==e&&void 0!==e?e:"",f="",b="ocg"===t?le:se,p=Object(jt.a)(d);try{for(p.s();!(r=p.n()).done;){var m,h=r.value;f+=null!==(m=b[h])&&void 0!==m?m:h}}catch(F){p.e(F)}finally{p.f()}var g,v=f,j=(i?v.replace(/^\[([\w\W]*?)\](?=(\n|$))/gm,"".concat(ke,"$1").concat(Fe)):v).replace(/(^|[-\u2014\s(["])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/[(\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/--/g,"\u2014").replace(/\u25cf /g,"\u25cf").replace(/(\([\uff10-\uff190-9]{1,2}\))/g,(function(e){var t=ue[e];return null!==t&&void 0!==t?t:e})).replaceAll(new RegExp("{{([^{}]+?)}}","g"),(function(e){return e.replaceAll("{{",Se).replaceAll("}}",Ce)})).replaceAll(new RegExp("{[^{}]+?}","g"),(function(e){return"".concat(Oe).concat(e).concat(we)})),x=("tcg"===t||!1===l?j:j.replaceAll(new RegExp(Ie,"g"),(function(e){var t,n=null!==(t=D[e][u])&&void 0!==t?t:D[e].rubyForm;return"".concat(Oe).concat(n).concat(we)}))).replaceAll(new RegExp(je,"g"),(function(e){return"".concat(Oe).concat(e).concat(we)})).replaceAll(new RegExp("[(\\[\uff5b\u3014\u3008\u300a\u300c\uff62\u300e\u3010\u3018\u3016\u301d'\"\u2018\u201c\uff5f\xab\u25cf]+.","g"),(function(e){return"".concat(Oe).concat(e).concat(we)})).replaceAll(new RegExp(We,"g"),(function(e){return"".concat(Oe).concat(e).concat(we)})).replaceAll(new RegExp(".[\u2014...\u2025\u3033\u3034\u3035)]+[^\\s]","g"),(function(e){return"".concat(Oe).concat(e).concat(we)})).replaceAll(new RegExp("[\u2460-\u2473]\uff1a.","g"),(function(e){return"".concat(Oe).concat(e).concat(we)})),y=[],O=0,w=Object(jt.a)(x);try{for(w.s();!(g=w.n()).done;){var k=g.value;k===Oe?(0===O&&y.push(k),O+=1):k===we?0===(O-=1)&&y.push(k):y.push(k)}}catch(F){w.e(F)}finally{w.f()}return y.join("").replaceAll("".concat(Fe).concat(we),"".concat(we).concat(Fe)).replaceAll("".concat(Oe).concat(ke),"".concat(ke).concat(Oe)).replaceAll("".concat(Se).concat(we),"".concat(we).concat(Se)).replaceAll("".concat(Oe).concat(Ce),"".concat(Ce).concat(Oe)).replaceAll("".concat(ke).concat(Fe),"").replaceAll("".concat(Oe).concat(we),"")},ur=function(e){var t,n,r=e.ctx,a=e.value,o=e.format,i=e.alignment,c=e.baselineOffset,l=void 0===c?0:c,u=e.lightFooter,d=e.hasShadow;if(Hn(r)){r.fillStyle=u?"#ffffff":"#000000",r.shadowColor=d?u?"#000000":"#ffffff":"#000000",r.shadowOffsetY=0,r.shadowOffsetX=0,r.shadowBlur=d?3:0;for(var f=null!==(t=M[o])&&void 0!==t?t:M.tcg,b=f.trueEdge,p=f.trueBaseline,m=f.trueWidth,h=re[o],g=h.font,v=sr(a,o,{multiline:!1,furiganaHelper:!1}),j={fontLevel:0,fontData:h,currentFont:Xt()},x=0,y=1e3,O=h.fontList[0],w=function(e){O=h.fontList[e];var t=Xt({defaultFamily:g,defaultSize:"".concat(O.fontSize,"px"),defaultWeight:d?"bold":""}),n={fontLevel:e,fontData:h,currentFont:t},a=0;if(r.font=t.getFont(),r.textAlign="left",y=Yt((function(e){var t=ir({ctx:r,median:e,paragraphList:[v],format:o,textData:n,width:m}),i=t.currentLineCount,c=t.currentLineList;return!(i>1)&&(a=c[0].actualLineWidth,!0)})),x=a,j=n,y>=1e3)return"break"},k=0;k<h.fontList.length;k++){if("break"===w(k))break}var F=y/1e3;r.scale(F,1);var S=lr({ctx:r,tokenList:er(v),xRatio:F,yRatio:1,trueEdge:"left"===i?b:b-x*F,trueBaseline:p+(null!==(n=O.offsetY)&&void 0!==n?n:H.offsetY)+l,textData:j,format:o,textDrawer:function(e){var t=e.ctx,n=e.letter,r=e.scaledEdge,a=e.scaledBaseline;t.fillText(n,r,a)}});return r.setTransform(1,0,0,1,0,0),Object(s.a)({leftEdge:"left"===i?b:b-x*F},S)}},dr=function(e){var t=e.format,n=e.isNormal,r=e.statInEffect,a=e.typeInEffect,o=[t,a?"type":"",r?"stat":""].filter((function(e){return""!==e})).join("-"),i=[t,a?"type":"",r?"stat":""].filter((function(e){return""!==e})).join("-"),c=Z[i];return r&&a&&n&&"tcg"===t&&((c=$).fontList=Q),{fontDataKey:i,fontData:c,sizeList:N[o]}},fr=d,br=function(e){var t,n=e.ctx,r=e.content,a=e.isNormal,o=void 0!==a&&a,i=e.fontData,c=void 0===i?Z.tcg:i,l=e.textStyle,u=e.sizeList,d=void 0===u?N["tcg-type"]:u,f=e.condenseTolerant,b=void 0===f?"strict":f,p=e.format,m=e.furiganaHelper,h=e.option,g=null!==h&&void 0!==h?h:{},v=g.defaultSizeLevel,j=g.forceRelaxCondenseLimit,x=null!==v&&void 0!==v?v:0;if(!n||!r)return x;for(var y=function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e,i=[],c=new RegExp("^(".concat(ke,"([^").concat(Fe,"]*)").concat(Fe,"\\s*)"));do{var l,s;n=null===(l=c.exec(o))||void 0===l?void 0:l[1],(r=null===(s=c.exec(o))||void 0===s?void 0:s[2])&&n&&(i.push(r),o=o.replace(n,""))}while(n&&r);var u="",d=new RegExp(Le,"m"),f=null===(t=d.exec(e))||void 0===t?void 0:t[1];return f&&a?(u=f,o=o.replace(f,"")):u="",{fullLineList:i,effectText:o,effectFlavorCondition:u}}(sr(r.trim(),p,{furiganaHelper:m}),o),O=y.effectText,w=y.effectFlavorCondition,k=y.fullLineList,F=(null!==(t=k.length)&&void 0!==t?t:0)+(w.length>0?1:0),S=O?O.split("\n"):[],C=c.font,T=c.fontList,R=function(){var e,t,r,a="tcg"===p?j&&x<j?te.relaxed:null!==(e=te[b])&&void 0!==e?e:te.strict:{1:800,2:800,3:800},i=T[x],u=i.fontSize,f=i.lineHeight,m=i.lineCount,h=null!==(t=d[x])&&void 0!==t?t:d[d.length-1],g=h.trueEdge,v=h.trueWidth,y=h.trueBaseline,O=o&&"tcg"===p?v-2:v,R=Xt();n.font=R.setStyle(o&&"tcg"===p?"italic":"").setWeight("").setSize(u).setFamily(C).getFont(),n.textAlign="left";var N={fontData:c,fontLevel:x,currentFont:R},L=[],E=Yt((function(e){var t=ir({ctx:n,median:e,paragraphList:S,additionalLineCount:F,format:p,textData:N,width:O}),r=t.currentLineList,a=t.currentLineCount;return L=r,!(a>m)}),200),M=Xn(Object(s.a)({ctx:n},l));if(!(E<(null!==(r=a["".concat(S.length)])&&void 0!==r?r:a[3])&&x<T.length-1)){n.clearRect(0,0,fr,1111);var I=y+f,A=k.map((function(e){return{line:e,isLast:!0,effectiveMedian:Yt((function(t){return!(ir({ctx:n,median:t,paragraphList:[e],format:p,textData:N,width:O}).currentLineCount>1)}))}}));if([].concat(Object(In.a)(A),Object(In.a)(L)).forEach((function(e){var t=e.line,r=e.isLast,a=e.effectiveMedian/1e3,o=function(e){for(var t=e.ctx,n=e.line,r=e.width,a=e.xRatio,o=e.format,i=e.isLast,c=e.textData,l=er(n),s=0,u=0,d=0,f=0,b=a;f<l.length;f++){var p=l[f],m=l[f+1];if(p!==Se)if(p!==Ce){var h=or({ctx:t,token:p,nextToken:m,xRatio:b,previousTokenGap:d/b,textData:c,format:o}),g=h.spaceCount,v=h.totalWidth,j=h.spaceAtEnd,x=h.leftGap,y=h.rightGap,O=h.leftMostLetter;d=y*b,s+=v*b+((0===f&&x>0?-1*Math.min(20,x*b):0)+(0===f&&ze.test(O)?4*b:0)),u+=g-(j&&void 0===m?1:0)}else b=a;else b=1}var w=u>0?(r-s)/u:0;return{tokenList:l,spaceWidth:i?"tcg"===o?w>1.5?0:w:w>3.65?0:w:w}}({ctx:n,line:t,xRatio:a,format:p,isLast:r,textData:N,width:O}),i=o.tokenList,c=o.spaceWidth;n.scale(a,1),lr({ctx:n,tokenList:i,xRatio:a,yRatio:1,trueEdge:g,trueBaseline:I,spaceWidth:c,textData:N,format:p}),I+=f,n.setTransform(1,0,0,1,0,0)})),w.length>0){var D=Yt((function(e){return!(ir({ctx:n,median:e,paragraphList:[w],format:p,textData:N,width:O}).currentLineCount>1)}))/1e3;n.scale(D,1),n.font=R.setStyle("").getFont();var W=er(w);W="\n"===W[0]?W.slice(1):W,lr({ctx:n,tokenList:W,xRatio:D,yRatio:1,trueEdge:g,trueBaseline:I,textData:N,format:p}),I+=f,n.setTransform(1,0,0,1,0,0)}return"break"}x+=1,M()};x<T.length&&x>=0;){if("break"===R())break}return x},pr=d,mr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r,a,o,i,c,l,u,d,f,b,p,m,h,g;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx,r=t.cardIcon,a=t.text,o=t.star,i=t.starAlignment,c=void 0===i?"auto":i,l=t.style,u=t.onStarDraw,50,4,f=50*(d="string"===typeof o?""===o?0:1:"number"===typeof o?o:0)+4*(d-1),145,b="right",["rank","negative-level"].includes(r)&&(b="left"),b="auto"===c?b:c,d>12&&(b="center"),a&&"center"===b&&(d=0,f=0),p="center"===b?(pr+f)/2:"left"===b?85.9125+f:728.775,m=-54,n&&a&&"st"!==r&&(50,h=Xn(Object(s.a)({ctx:n},l)),n.textAlign="left"===b||"right"===b?b:"left",n.font="bold ".concat(50,"px RoGSanSrfStd-Bd"),g="center"===b?n.measureText(a).width/-2:"left"===b?4:-58,n.fillText(a,p+g,190),n.textAlign="left",h()),e.next=16,Promise.all(Object(In.a)(Array(d)).map(Object(Sn.a)(Fn.a.mark((function e(){var t;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[p-(50+(m+=54)),145],e.next=4,qn.apply(void 0,[n,"subfamily/subfamily-".concat(r,".png")].concat(t));case 4:return e.next=6,u(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ctx,r=t.sticker,Hn(n)){e.next=3;break}return e.abrupt("return");case 3:if("no-sticker"!==r){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return e.abrupt("return",qn(n,"sticker/sticker-".concat(r.toLowerCase(),".png"),739.1438,1110.938));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r,a,o,i,c,l,s,u;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ctx,r=t.type,a=t.isPendulum,o=t.isLink,i=t.isDuelTerminalCard,c=t.isSpeedCard,l=t.bordered,n){e.next=3;break}return e.abrupt("return");case 3:if(!i){e.next=7;break}return s=a?[255,1072,175,35]:o?[151,848,216,24]:[80,843,270,30],e.next=7,$n.apply(void 0,[n,"text/text-duel-terminal-".concat(r).concat(l?"-bordered":"",".png")].concat(s));case 7:if(!c){e.next=11;break}return u=a?[255,1084,176.4,25]:o?[151,854,215.6,22]:[80,850,245,25],e.next=11,$n.apply(void 0,[n,"text/text-speed-duel-".concat(r).concat(l?"-bordered":"",".png")].concat(u));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r,a,o,i,c,l,s;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx,r=t.type,a=t.isPendulum,o=t.isLink,i=t.isLegacyCard,c=t.widthOffset,l=t.bordered,s=!i||a?[145,1122,240-c,37]:o?[151,846,216,36]:[80,843,240,40],e.next=4,$n.apply(void 0,[n,"text/text-limited-edition-".concat(r).concat(l?"-bordered":"",".png")].concat(s));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n,r){var a,o,i;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=t.getContext("2d"))&&Array.isArray(n)){e.next=3;break}return e.abrupt("return");case 3:return i=null!==(a=r.color)&&void 0!==a?a:"#000000",e.next=6,_n(t,"link/link-text.png",i,120,30,600,1080,r);case 6:o.textAlign="right",o.scale(1.2,1),o.font="bold 26.55px RoGSanSrfStd-Bd",o.fillText("".concat(n.length),622.75,1105),o.setTransform(1,0,0,1,0,0),o.textAlign="left";case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xr=b,yr=p,Or=m,wr=function(e){var t=e.canvas,n=e.artworkCanvas,r=e.backgroundCanvas,a=e.format,o=e.hasBackground,i=e.frame,c=e.bottomFrame,l=e.backgroundType,u=e.cardIcon,d=e.attribute,f=e.star,b=e.foil,p=e.pendulumSize,m=e.opacity,h=e.isLink,g=e.isSpeedSkill,v=e.isXyz,x=e.isPendulum,O=e.loopFinish,w=e.loopArtFinish,k=t.getContext("2d"),F=m.artBorder,S=m.nameBorder,C=m.body,T=m.name,R=m.pendulum,N=m.text,L=m.boundless,E=j(x,m),M=E.artX,I=E.artY,A=E.artFinishX,D=E.artFinishY,W=E.artWidth,B=C>0||F,z=860,P="normal"!==b,H=v||g?i:"normal",K=H,G=!L&&B,Y={calculateCardArtRedrawCoordination:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=null!==t&&void 0!==t?t:m,o=a.body,i=j(x,a,r),c=i.artX,l=i.artY,s=i.artWidth,u=e.width,d=e.height,f=s/u,b=o<100?(Or-c)/f:0,p=b*f,h=o<100?(xr-l)/f:0,g=h*f,v=o<100?d-yr/f:0,y=c+p,O=l+g,w=s-2*p,k=s/(u/d)*n-v*f;return{imageScaledRatio:f,sourceOffsetX:b,sourceOffsetY:h,destinationOffsetX:p,destinationOffsetY:g,offsetHeight:v,destinationX:y,destinationY:O,destinationWidth:w,destinationHeight:k}},drawFrame:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return k.globalAlpha=C/100,e.next=5,qn(k,"frame/frame-".concat(i,".png"),0,0);case 5:return e.next=7,qn(k,"frame-pendulum/frame-pendulum-".concat(c,".png"),0,0);case 7:k.globalAlpha=1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawCardArt:function(){if(n&&k){var e=n.width,t=n.height;t<=0||k.drawImage(n,0,0,e,t,M,I,W,W/(e/t))}},drawBackground:function(e){if(r&&k&&o){var t=r.width,n=r.height;if(!(n<=0))if("pendulum"!==e){var a=j(x,Object(s.a)(Object(s.a)({},m),{},{boundless:!0}),l),i=a.artX,c=a.artY,u=a.artWidth;k.drawImage(r,0,0,t,n,i,c,u,u/(t/n))}else{var d=Y.calculateCardArtRedrawCoordination(r);"full"===l?d=Y.calculateCardArtRedrawCoordination(r,Object(s.a)(Object(s.a)({},m),{},{body:0}),void 0,"full"):"fit"===l&&(d=Y.calculateCardArtRedrawCoordination(r,m,void 0,"fit"));var f=d,b=f.sourceOffsetX,p=f.sourceOffsetY,h=f.offsetHeight,g=f.destinationX,v=f.destinationY,y=f.destinationWidth,O=f.destinationHeight;k.drawImage(r,b,p,t-2*b,n-h,g,v,y,O)}}},drawAttribute:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(k,"attribute/attr-".concat(a,"-").concat(d.toLowerCase(),".png"),678,55);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawStar:function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r,a;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.style,r=t.starAlignment,a="auto"===u?pt(i):u,e.next=4,mr({ctx:k,cardIcon:a,text:"string"===typeof f?f:null,star:f,starAlignment:r,style:n,onStarDraw:function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("st"!==a){e.next=4;break}e.t0=Promise.resolve(),e.next=7;break;case 4:return e.next=6,O(k,"star",function(){var e=Object(Sn.a)(Fn.a.mark((function e(n){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn.apply(void 0,[k,"finish/finish-".concat(n,"-star.png")].concat(Object(In.a)(t))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),drawPendulumScaleIcon:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(k,"frame-pendulum/pendulum-scale-".concat(p,".png"),0,750);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawLinkArrowMap:function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([1,2,3,4,6,7,8,9].map(function(){var e=Object(Sn.a)(Fn.a.mark((function e(n){var r,a,o,i,c,l,s,u,d;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=he[n-1]).left,o=r.top,i=r.height,c=r.width,l=t.includes("".concat(n)),s="link/link-inactive-".concat(n),u="link/link-active-".concat(n),d=[a,o,c,i],e.next=7,$n.apply(void 0,[k,"".concat(s,"-base").concat(L?"-full":"",".png")].concat(d));case 7:return e.next=9,$n.apply(void 0,[k,"".concat(s,"-core.png")].concat(d));case 9:if(!l){e.next=15;break}return e.next=12,$n.apply(void 0,[k,"".concat(u,"-base.png")].concat(d));case 12:return e.abrupt("return",$n.apply(void 0,[k,"".concat(u,"-core.png")].concat(d)));case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),drawStatBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(n){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(t,"frame/frame-stat-border.png",n,813,20,0,1070);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),drawNameBackground:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return k.globalAlpha=T/100,e.next=5,qn(k,"background/background-name-".concat(i,".png"),0,0);case 5:k.globalAlpha=1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawEffectBackground:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){var t,n=arguments;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],k){e.next=3;break}return e.abrupt("return");case 3:return k.globalAlpha=N/100,e.next=6,qn(k,"background/background-text-".concat(c,".png"),54,884);case 6:if(!t){e.next=10;break}return k.globalAlpha=R/100,e.next=10,qn(k,"background/background-pendulum-".concat(c,".png"),55,738);case 10:k.globalAlpha=1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawFrameBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"frame/frame-border-".concat(H,".png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawNameBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S?qn(k,"frame/name-border-".concat(K,".png"),0,0):Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawArtBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){var t;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=5;break}return t="",t=v||g?"frame/art-border-".concat(i,".png"):h||["zarc","hamon","uria","raviel"].includes(i)?"frame/art-border-special.png":"frame/art-border.png",e.next=5,qn(k,t,60,170);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawPendulumBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(k,"frame-pendulum/border-pendulum-".concat(p)+"-".concat(n)+(t?"":"-artless")+".png",30,185);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),drawEffectBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P||"speed-skill"!==c){e.next=5;break}return e.next=3,qn(k,"frame/effect-border-speed-skill.png",35,z);case 3:e.next=7;break;case 5:return e.next=7,qn(k,"frame/effect-border.png",35,z);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawCardBorder:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(k,"frame/card-border".concat(P?"-".concat(b):"",".png"),0,0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawArtBorderFoil:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=3;break}return e.next=3,qn(k,"frame/art-border-".concat(b,".png"),60,170);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawEffectBorderFoil:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(k,"frame/effect-border-".concat(b,".png"),35,z);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawLinkMapFoil:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){var t,n=arguments;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:B,e.next=3,qn(k,"link/link-overlay-arrow-".concat(b).concat(t?"":"-artless",".png"),0,175);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawNameFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B&&!S){e.next=3;break}return e.next=3,O(k,"name",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-name.png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawAttributeFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d===y){e.next=3;break}return e.next=3,O(k,"attribute",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-attribute.png"),678,55));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawArtFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=3;break}return e.next=3,w(k,"art",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(k,"finish/art-finish-".concat(t).concat(x?"-pendulum-".concat(p):"",".png"),A,D);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawArtOverlayFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k,"art-overlay",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish"+"-".concat(t)+"-".concat(G?"art":"unart")+"-overlay"+(x?"-pendulum-".concat(p):"")+".png",A,D));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawArtBorderFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=3;break}return e.next=3,O(k,"art-border",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-art-border.png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawPendulumArtBorderFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=3;break}return e.next=3,O(k,"art-border-pendulum",(function(e){return qn(k,"finish/finish-".concat(e,"-art-border-pendulum-").concat(p,".png"),0,0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawBorderPendulumFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k,"border-pendulum",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-border-pendulum-").concat(p,".png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawFrameFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k,"frame",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-frame").concat(x?"-pendulum-".concat(p):"",".png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawFrameBackgroundFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k,"frame-background",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-frame-background").concat(x?"-pendulum-".concat(p):"",".png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawOverlayFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k,"overlay",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-overlay.png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),drawCardBorderFinish:function(){var e=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(k,"card-border",function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(k,"finish/finish-".concat(t,"-card-border.png"),0,0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return Y},kr=function(e,t,n,r,a,o,i,c){var l=t%360,s="".concat(Math.floor(l/90)),u=l%90,d=i+c,f=r+a/2,b=o+(c-i)/2,p=a,m=d;"1"!==s&&"3"!==s||(p=d,m=a);var h=Math.sqrt(Math.pow(p,2)/4+Math.pow(m,2)/4);if(h>0){var g=90-(180*Math.asin(p/2/h)/Math.PI-u),v=Math.sin(g/180*Math.PI)*h,j=Math.sin(u/180*Math.PI)*v,x=Math.cos(u/180*Math.PI)*v,y=j,O=x;"1"===s&&(y=x,O=-j),"2"===s&&(y=-j,O=-x),"3"===s&&(y=-x,O=j);var w=f+y,k=b-O,F=f-y,S=b+O,C=e.createLinearGradient(w,k,F,S);return n.forEach((function(e){var t=e.color,n=e.offset;return C.addColorStop(parseFloat(n),t)})),C}},Fr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t,n,r,a,o,i,c){var l,u,d,f,b,p,m,h,g,v,j,x,y,O,w,k,F,S,C,R,N,L,E,M,I,A,D,W,B,z,P,K,G,Y,X,V,U,q,J,$,_,Z,Q,ee,te,re,ae,oe,ie;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=c.isSpeedSkill,u=c.format,d=c.cloneNode,f=c.frame,b=c.furiganaHelper,p=null===d||void 0===d?void 0:d.getContext("2d"),!(t&&p&&n)){e.next=58;break}if(v=Object(s.a)(Object(s.a)({},{font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"}),i),j=v.font,x=v.fillStyle,y=v.headTextFillStyle,O=v.shadowBlur,w=v.hasShadow,k=v.shadowColor,F=v.shadowOffsetX,S=v.shadowOffsetY,C=v.hasOutline,R=v.lineColor,N=v.lineWidth,L=v.lineOffsetX,E=v.lineOffsetY,M=v.hasGradient,I=v.gradientAngle,A=v.gradientColor,D=v.pattern,W=null!==(m=T[null!==D&&void 0!==D?D:""])&&void 0!==m?m:{},B=W.patternImage,z=W.blendMode,P=C,t.textAlign="left",w&&(t.shadowColor=k,t.shadowOffsetY=S,t.shadowOffsetX=F,t.shadowBlur=O),C&&(t.lineWidth=N,t.strokeStyle=R),K=Object(s.a)(Object(s.a)({},(null!==(h=ne[j])&&void 0!==h?h:ne.Default).fontData),{},{headTextFillStyle:y}),G=Xt({defaultFamily:K.font,defaultSize:K.fontList[0].fontSize,defaultWeight:K.weight}),Y={fontLevel:0,fontData:K,currentFont:G},X=sr(n,u,{multiline:!1,furiganaHelper:b,dictionaryType:"rubyFormName"}),V="ocg"===u?[X]:X.split(new RegExp("([^".concat("&A-Za-z0-9\\-/\\s\\(\\)!,.\u2018\u201c\u2019\u201d:;<>\\[\\]\\\\","])"),"g")),U=Xt({defaultFamily:K.font,defaultSize:K.fontList[0].fontSize,defaultWeight:K.weight}),q=U.getFont(),J=U.setSize((function(e){return e*K.symbolFontRatio})).setStyle("small-caps").setFamily(K.symbolFont).getFont(),$=0,_=0,V.forEach((function(e,n){t.font=n%2===0?q:J;var r=t.measureText(e.replaceAll(Te,""));$=Math.max($,r.actualBoundingBoxAscent),_=Math.max(_,r.actualBoundingBoxDescent)}),0),t.font=q,Z=0,Q=Yt((function(e){var n=ir({ctx:t,median:e,paragraphList:[X],format:u,textData:Y,width:o}),r=n.currentLineCount,a=n.currentLineList;return!(r>1)&&(Z=a[0].actualLineWidth,!0)})),ee=Q/1e3,te=1,t.scale(ee,te),re=null!==(g=K.fontList[0].offsetY)&&void 0!==g?g:H.offsetY,ae=er(X),oe=Z>0&&M?kr(t,I,Ut(A),r,Z,a,$,_):void 0,t.fillStyle=null!==oe&&void 0!==oe?oe:x,lr({ctx:t,tokenList:ae,xRatio:ee,yRatio:te,trueEdge:r,trueBaseline:a,textData:Y,format:u,textDrawer:function(e){var t=e.ctx,n=e.letter,r=e.scaledEdge,a=e.scaledBaseline;t.fillText(n,r,a-(l?re:0))}}),!B||!d){e.next=45;break}return t.setTransform(1,0,0,1,0,0),e.next=35,qn(p,"frame/frame-".concat(f,".png"),0,0);case 35:return e.next=37,qn(p,"background/background-name-".concat(f,".png"),0,0);case 37:return p.globalCompositeOperation=z,e.next=40,$n(p,"finish-name/".concat(B,".png"),r,a-$,o,$+_);case 40:t.globalCompositeOperation="source-in",t.drawImage(d,0,0),t.scale(ee,te),t.globalCompositeOperation="source-over",lr({ctx:t,tokenList:ae,xRatio:ee,yRatio:te,trueEdge:r,trueBaseline:a,textData:Y,format:u,textDrawer:function(){}});case 45:P&&(t.globalCompositeOperation="destination-over",lr({ctx:t,tokenList:ae,xRatio:ee,yRatio:te,trueEdge:r,trueBaseline:a,textData:Y,format:u,textDrawer:function(e){var t=e.ctx,n=e.letter,r=e.scaledEdge,a=e.scaledBaseline;t.lineJoin="round",t.strokeText(n,r+L,a+E-(l?re:0))}})),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),ie={font:"Default",fillStyle:"#000000",headTextFillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,hasShadow:!1,lineColor:"#000000",lineWidth:0,lineOffsetY:0,lineOffsetX:0,hasOutline:!1,gradientAngle:0,gradientColor:"0.000|#eef10b,0.5|#d78025,1.000|#7e20cf",hasGradient:!1,preset:"commonB",pattern:"none"},t.fillStyle=ie.fillStyle,t.shadowColor=ie.shadowColor,t.shadowOffsetY=ie.shadowOffsetY,t.shadowOffsetX=ie.shadowOffsetX,t.shadowBlur=ie.shadowBlur,t.lineWidth=ie.lineWidth,t.strokeStyle=ie.lineColor,t.lineJoin="miter",t.globalCompositeOperation="source-over";case 58:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i,c){return e.apply(this,arguments)}}(),Sr={small:0,medium:1,large:2},Cr=function(e){var t,n,r=e.ctx,a=e.value,o=e.format,i=e.metricMethod,c=e.size,l=e.furiganaHelper,u=null!==(t=null===(n=E[o])||void 0===n?void 0:n[c])&&void 0!==t?t:E.tcg.medium,d=u.edgeAlignment,f=void 0===d?"left":d,b=u.trueEdge,p=u.trueBaseline,m=u.trueWidth,h={tcg:oe,ocg:ie}[o];i&&(h.metricMethod=i);var g=h.font,v=Sr[c],j=h.fontList[v],x=Xt({defaultFamily:g,defaultSize:"".concat(j.fontSize,"px")}),y={fontLevel:v,fontData:h,currentFont:x},O=0;r.font=x.getFont(),r.textAlign="left";var w=sr(a,o,{multiline:!1,furiganaHelper:l}),k=Yt((function(e){var t=ir({ctx:r,median:e,paragraphList:[w],format:o,textData:y,width:m}),n=t.currentLineCount,a=t.currentLineList;return!(n>1)&&(O=a[0].actualLineWidth,!0)}))/1e3;r.scale(k,1);var F=lr({ctx:r,tokenList:er(w),xRatio:k,yRatio:1,trueEdge:"left"===f?b:b-O*k,trueBaseline:p,textData:y,format:o,textDrawer:function(e){var t=e.ctx,n=e.letter,r=e.scaledEdge,a=e.scaledBaseline;t.fillText(n,r,a)}});return r.setTransform(1,0,0,1,0,0),Object(s.a)(Object(s.a)({},F),{},{xRatio:k})},Tr=function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r,a,o,i,c,l,u,d,f,b,p,m,h,g,v,j,x,y,O,k,F,S,C;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ctx,r=t.typeAbility,a=t.subFamily,o=t.format,i=t.frame,c=t.size,l=t.isMonster,u=t.textStyle,d=t.furiganaHelper,Hn(n)){e.next=3;break}return e.abrupt("return");case 3:if(f=r.length>0,p=r+((b=a!==w&&"large"===c)?"\u29be":""),m=f?"tcg"===o?"large"===c?"[\u200a\u200a".concat(p,"\u200a\u200a]"):"[".concat(p,"]"):"\u3010".concat(p,"\u3011"):"",f){e.next=9;break}return e.abrupt("return");case 9:if(h=ht(i)&&!ft({frame:i})&&"large"===c?"#ffffff":"#000000",g=Object(s.a)({color:h},u),v=Xn(Object(s.a)({ctx:n},g)),j=Cr({ctx:n,format:o,size:c,value:m,metricMethod:l?void 0:"compact",furiganaHelper:d}),x=j.iconPositionList,y=j.xRatio,v(),O="ocg"===o?-4:0,k="ocg"===o?-3:0,!b){e.next=22;break}return F=x[0],S=F.edge,C=F.baseline,e.next=20,$n(n,"subfamily/subfamily-".concat(a.toLowerCase(),".png"),(function(e){return S+.175*e.naturalWidth*y+k}),(function(e){return C-.8*e.naturalWidth+O}),(function(e){return e.naturalWidth}),(function(e){return e.naturalWidth}));case 20:e.next=22;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rr=function(e,t,n,r){if(e&&t){e.font="".concat(60.5,"px MatrixBoldSmallCaps"),e.textAlign="left";var a="".concat(t).split(""),o=0;a.forEach((function(t){o+=e.measureText(t).width*("1"===t?.65:1)}));var i=n-o/2;a.forEach((function(t){e.fillText(t,"1"===t?i-3:i,r+60.5),i+=e.measureText(t).width*("1"===t?.65:1)}))}},Nr=function(e,t,n,r){if(e){e.scale(1,.98),e.font="bold 35.73px Matrix-Bold";var a=zn(e,t,.075,n,r/.98);e.setTransform(1,0,0,1,0,0),e.scale(1,1.01),e.font="bold 34.74px Matrix-Bold",zn(e,"/",.15,a+5,r/1.01),e.setTransform(1,0,0,1,0,0)}},Lr=function(e,t,n,r){if(e&&null!=t){var a=73.97;if("\u221e"===t)e.textAlign="right",e.font="bold 37px matrix",e.fillText(t,n+a,r);else if("?"===t)e.textAlign="right",e.font="bold 34px matrix",e.fillText(t,n+a,r);else{e.textAlign="left";var o="".concat(t).split("?"),i=o.reduce((function(t,n,r){e.font="37px MatrixBoldSmallCaps";var a=t+e.measureText(n).width;return r<o.length-1&&(e.font="37px matrix",a+=e.measureText("?").width),a}),0);if(i>0){var c=Math.min(a/i,1);e.scale(c,1),o.reduce((function(t,n,a,i){var l=i[i.length-1-a],s=t;return e.font="37px MatrixBoldSmallCaps",s-=e.measureText(l).width*c,e.fillText(l,s/c,r),a<o.length-1&&(e.font="bold 37px matrix",s-=e.measureText("?").width*c,e.fillText("?",s/c,r)),s}),n+a),e.scale(1/c,1)}}}},Er=f,Mr=d,Ir=function(e,t,n){var r=Mn().card,a=t.exportCanvasRef,i=t.artworkCanvasRef,c=t.backgroundCanvasRef,l=t.frameCanvasRef,b=t.creatorCanvasRef,p=t.effectCanvasRef,m=t.nameCanvasRef,x=t.passwordCanvasRef,O=t.pendulumEffectCanvasRef,w=t.pendulumScaleCanvasRef,k=t.setIdCanvasRef,F=t.statCanvasRef,S=t.stickerCanvasRef,C=t.cardIconCanvasRef,T=t.typeCanvasRef,R=t.finishCanvasRef,N=t.lightboxCanvasRef,E=r.format,M=r.hasBackground,A=r.backgroundType,D=r.frame,W=r.foil,B=r.finish,K=r.artFinish,G=r.opacity,Y=r.name,X=r.nameStyle,V=r.nameStyleType,U=r.effectTextStyle,q=r.pendulumTextStyle,J=r.typeTextStyle,$=r.statTextStyle,_=r.effect,Z=r.effectStyle,Q=r.typeAbility,te=r.isPendulum,ne=r.pendulumFrame,re=r.pendulumEffect,oe=r.pendulumScaleBlue,ie=r.pendulumScaleRed,ce=r.pendulumStyle,le=r.atk,se=r.def,ue=r.linkMap,de=r.attribute,fe=r.cardIcon,be=r.subFamily,pe=r.star,me=r.starAlignment,he=r.setId,ge=r.password,ve=r.creator,je=r.sticker,xe=r.isLegacyCard,ye=r.isFirstEdition,Oe=r.isDuelTerminalCard,we=r.isSpeedCard,ke=r.isLimitedEdition,Fe=r.furiganaHelper,Se=Object(o.useRef)({frame:{name:"frame",order:1,rerun:0,instructor:function(){return Promise.resolve()}},attribute:{name:"attribute",order:2,rerun:0,instructor:function(){return Promise.resolve()}},sticker:{name:"sticker",order:3,rerun:0,instructor:function(){return Promise.resolve()}},creator:{name:"creator",order:4,rerun:0,instructor:function(){return Promise.resolve()}},name:{name:"name",order:5,rerun:0,instructor:function(){return Promise.resolve()}},typeAbility:{name:"typeAbility",order:6,rerun:0,instructor:function(){return Promise.resolve()}},overlay:{name:"overlay",order:7,rerun:0,instructor:function(){return Promise.resolve()}}}),Ce="auto"===ne?te?"spell":D:ne,Te=null===Z||void 0===Z?void 0:Z.condenseTolerant,Re=function(e){return"normal"===e.frame&&bt(e)}(r),Ne=ut(r),Le=dt(r),Ee=bt(r),Me=ft(r),Ie=G.body,Ae=void 0===Ie?100:Ie,De=G.boundless,We=!!(Ae<50||De),Be=["xyz","dark-synchro","speed-skill","hamon","uria","raviel"].includes(Ce),ze=mt(D),Pe=Object(o.useMemo)((function(){return function(e){e.lightFooter;var t=e.lightHeader,n=e.requireShadow,r=e.effectTextStyle,a=e.pendulumTextStyle,o=e.statTextStyle,i=e.typeTextStyle,c={color:t?"#ffffff":"#000000"},l=n?Object(s.a)({blur:2,y:1,shadowColor:t?"#000000":"#ffffff"},c):c,d=Object(u.a)(r,4),f=d[0],b=d[1],p=d[2],m=d[3],h=f?Object(s.a)(Object(s.a)({},p?{y:0,blur:4,shadowColor:m}:{}),{},{color:b}):{},g=Object(u.a)(a,4),v=g[0],j=g[1],x=g[2],y=g[3],O=v?Object(s.a)(Object(s.a)({},x?{y:0,blur:4,shadowColor:y}:{}),{},{color:j}):{},w=Object(u.a)(i,4),k=w[0],F=w[1],S=w[2],C=w[3],T=k?Object(s.a)(Object(s.a)({},S?{y:1,blur:1,shadowColor:C}:{}),{},{color:F}):{},R=Object(u.a)(o,4),N=R[0],L=R[1],E=R[2],M=R[3];return{levelStyle:l,resolvedEffectTextStyle:h,resolvedPendulumEffectTextStyle:O,resolvedTypeTextStyle:T,resolvedStatTextStyle:N?Object(s.a)(Object(s.a)({},E?{y:1,blur:1,shadowColor:M}:{}),{},{color:L}):{}}}({lightFooter:Be,lightHeader:ze,requireShadow:We,effectTextStyle:U,pendulumTextStyle:q,statTextStyle:$,typeTextStyle:J})}),[Be,ze,We,U,q,$,J]),He=Pe.levelStyle,Ke=Pe.resolvedEffectTextStyle,Ge=Pe.resolvedPendulumEffectTextStyle,Ye=Pe.resolvedStatTextStyle,Xe=Pe.resolvedTypeTextStyle,Ve=be.toUpperCase(),Ue=Q.map((function(e){return e.trim()})).join("ocg"===E?"\uff0f":"/"),qe="auto"!==ne||te?!!(le||se||Le&&ue.length):Ee,Je="auto"===fe?Ee||Me:"st"!==fe||Le,$e=n.isInitializing,_e=n.imageChangeCount,Ze=n.pendulumSize,Qe=void 0===Ze?"medium":Ze,et=n.language,tt=e&&!1===$e,nt=Object(o.useMemo)((function(){return Kn(B,z)}),[B]),rt=Object(o.useMemo)((function(){return Kn([K],P)}),[K]);Object(o.useEffect)((function(){tt&&(Se.current.frame.rerun+=1,Se.current.frame.instructor=Object(Sn.a)(Fn.a.mark((function e(){var t,n,r,a,o,u,d,f,b,p,m,j,x,y,O,w,k,F,S,C,T,R,N,L,I,B,z,P,H,K,Y,X,V,U,q,J,$,_,Z,Q,ee,ne,re,ae,oe,ie,ce,le,se,be,he,ge,ve,je,xe,ye,ke,Fe,Se,Te,Re;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(t=l.current)||void 0===t?void 0:t.getContext("2d"),a=i.current,o=c.current,Hn(r)&&l.current){e.next=5;break}return e.abrupt("return");case 5:return u=Object(s.a)(Object(s.a)({},g()),G),d=u.artBorder,f=u.body,b=u.boundless,p=u.baseFill,m=function(e,t,n,a){return new Promise((function(o){setTimeout((function(){r.fillStyle=M?p:h,r.fillRect(e,t,n,a),o(!0)}),0)}))},j=f>0||d,e.next=11,m(0,0,Mr,Er);case 11:return x=wr({canvas:l.current,artworkCanvas:a,backgroundCanvas:o,format:E,frame:D,bottomFrame:Ce,hasBackground:M,backgroundType:A,attribute:de,cardIcon:fe,star:pe,foil:W,pendulumSize:Qe,opacity:u,isLink:Le,isSpeedSkill:Me,isXyz:Ne,isPendulum:te,loopFinish:nt,loopArtFinish:rt}),y=x.drawAttribute,O=x.drawBackground,w=x.drawCardArt,k=x.drawFrame,F=x.drawLinkArrowMap,S=x.drawPendulumScaleIcon,C=x.drawStar,T=x.drawNameBackground,R=x.drawEffectBackground,N=x.drawFrameBorder,L=x.drawNameBorder,I=x.drawArtBorder,B=x.drawPendulumBorder,z=x.drawBorderPendulumFinish,P=x.drawEffectBorder,H=x.drawCardBorder,K=x.drawStatBorder,Y=x.drawAttributeFinish,X=x.drawArtBorderFoil,V=x.drawEffectBorderFoil,U=x.drawLinkMapFoil,q=x.drawNameFinish,J=x.drawArtFinish,$=x.drawArtOverlayFinish,_=x.drawArtBorderFinish,Z=x.drawPendulumArtBorderFinish,Q=x.drawFrameFinish,ee=x.drawFrameBackgroundFinish,ne=x.drawOverlayFinish,re=x.drawCardBorderFinish,ae=x.calculateCardArtRedrawCoordination,o&&r&&O(),a&&r&&!b&&w(),e.next=16,k();case 16:return e.next=18,H();case 18:return e.next=20,re();case 20:if(te){e.next=36;break}if(b){e.next=30;break}return e.next=24,T();case 24:return e.next=26,R();case 26:return e.next=28,P();case 28:return e.next=30,V();case 30:return e.next=32,I();case 32:return e.next=34,X();case 34:return e.next=36,_();case 36:if(!te||Le||b){e.next=48;break}if(!(a&&r&&a.height>0)){e.next=44;break}return oe=a.width,ie=a.height,ce=ae(a),le=ce.sourceOffsetX,se=ce.sourceOffsetY,be=ce.offsetHeight,he=ce.destinationX,ge=ce.destinationY,ve=ce.destinationWidth,je=ce.destinationHeight,e.next=42,m(he,ge,ve,je);case 42:O("pendulum"),r.drawImage(a,le,se,oe-2*le,ie-be,he,ge,ve,je);case 44:return e.next=46,T();case 46:return e.next=48,R(!0);case 48:return e.next=50,J();case 50:return e.next=52,$();case 52:if(!te||Le||b){e.next=64;break}return e.next=55,S();case 55:return e.next=57,B(j,"normal");case 57:return e.next=59,B(j,W);case 59:return e.next=61,Z();case 61:if(!j){e.next=64;break}return e.next=64,z();case 64:if(b){e.next=69;break}return e.next=67,Q();case 67:return e.next=69,q();case 69:if(!j){e.next=72;break}return e.next=72,ee();case 72:if(!b){e.next=122;break}if(!Le){e.next=78;break}return e.next=76,_();case 76:e.next=92;break;case 78:if(!te){e.next=92;break}if(xe=v.fullCard.ratio/v.extendedPendulum.ratio,!(a&&r&&a.height>0)){e.next=85;break}return ye=ae(a,Object(s.a)(Object(s.a)(Object(s.a)({},g()),G),{},{body:100,boundless:!1}),xe),ke=ye.destinationX,Fe=ye.destinationY,Se=ye.destinationWidth,Te=ye.destinationHeight,e.next=84,m(ke,Fe,Se,Te);case 84:O("pendulum");case 85:if(!j){e.next=90;break}return e.next=88,B(j,"normal");case 88:return e.next=90,B(j,W);case 90:return e.next=92,Z();case 92:return e.next=94,T();case 94:return e.next=96,q();case 96:return e.next=98,L();case 98:return a&&r&&w(),e.next=101,$();case 101:if(!te||Le){e.next=114;break}return e.next=104,R(!0);case 104:return e.next=106,S();case 106:return e.next=108,B(!1,"normal");case 108:return e.next=110,B(!1,W);case 110:return e.next=112,z();case 112:e.next=120;break;case 114:return e.next=116,R();case 116:return e.next=118,P();case 118:return e.next=120,V();case 120:return e.next=122,Q();case 122:if(!qe){e.next=125;break}return e.next=125,K(null!==(n=Ye.color)&&void 0!==n?n:"#000000");case 125:if(te||!Le){e.next=134;break}return e.next=128,F(ue);case 128:return e.next=130,U(!1);case 130:return Re=Xn(Object(s.a)({ctx:r},Ye)),e.next=133,jr(l.current,null!==ue&&void 0!==ue?ue:[],Ye);case 133:Re();case 134:return e.next=136,y();case 136:return e.next=138,Y();case 138:if(Le){e.next=141;break}return e.next=141,C({style:He,starAlignment:me});case 141:if(b){e.next=144;break}return e.next=144,L();case 144:return e.next=146,N();case 146:return e.next=148,gr({ctx:r,type:Be&&!te?"white":"black",bordered:(f<50||b)&&!te,isDuelTerminalCard:Oe,isSpeedCard:we,isLink:Le,isPendulum:te});case 148:return e.next=150,ne();case 150:case"end":return e.stop()}}),e)}))))}),[tt,i,c,l,D,E,M,A,de,Ce,W,pe,me,fe,Oe,Le,te,we,Me,Ne,Be,ue,Ye,rt,nt,G,Qe,qe,He,_e]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=w.current)||void 0===e?void 0:e.getContext("2d");Hn(t)&&te&&(Rr(t,null!==oe&&void 0!==oe?oe:0,84.4,790),Rr(t,null!==ie&&void 0!==ie?ie:0,728,790))}}),[tt,te,oe,ie,w]),Object(o.useEffect)((function(){tt&&(Se.current.name.rerun+=1,Se.current.name.instructor=Object(Sn.a)(Fn.a.mark((function e(){var t,n,r,a;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(t=m.current)||void 0===t?void 0:t.getContext("2d"),a=null===(n=m.current)||void 0===n?void 0:n.cloneNode(),Hn(r)&&a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Fr(r,Y,"tcg"===E?60:68,116,de===y?"tcg"===E?688:674:"tcg"===E?608:598,gt({format:E,frame:D,nameStyle:X,nameStyleType:V,foil:W}),{isSpeedSkill:Me,format:E,cloneNode:a,frame:D,furiganaHelper:Fe});case 6:case"end":return e.stop()}}),e)}))))}),[tt,de,W,E,D,Fe,Me,Y,m,X,V]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=F.current)||void 0===e?void 0:e.getContext("2d");if(Hn(t)&&qe){var n=Xn(Object(s.a)({ctx:t},Ye));Nr(t,"ATK",432.1,1106.494),Lr(t,le,508.824,1106.494),Le||(Nr(t,"DEF",600.85,1106.494),Lr(t,se,673.865,1106.494)),n()}}}),[tt,le,se,Le,Ee,Ye,F,qe]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=k.current)||void 0===e?void 0:e.getContext("2d");Hn(t)&&function(e,t,n){if(e){var r=n.isPendulum,a=n.isLink,o=n.withShadow,i=n.format,c=n.lightFooter,l=.175,s=0,u=0;e.fillStyle=c&&!r?"#ffffff":"#000000",e.shadowColor=o?c?"#000000":"#ffffff":"#000000",e.shadowOffsetY=0,e.shadowOffsetX=0,e.shadowBlur=o&&!r?3:0,e.font="".concat(o?"bold":""," 22px stone-serif-regular"),"ocg"===i&&(l=.145,s=-1,u=-3),r?zn(e,t,l,66.65+u,1105.01+s):a?Pn(e,t,l,666.56+u,872.94+s):Pn(e,t,l,728.78+u,871.5+s)}}(t,he,{isLink:Le,isPendulum:te,withShadow:We&&!te,format:E,lightFooter:Be})}}),[tt,E,Le,te,Be,k,he,Me,Ce,We]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=x.current)||void 0===e?void 0:e.getContext("2d");if(Hn(t)){var n=function(e){var t,n,r=e.ctx,a=e.value,o=e.format,i=e.alignment,c=e.baselineOffset,l=void 0===c?0:c,s=e.lightFooter,u=e.hasShadow;if(!Hn(r))return 0;r.fillStyle=s?"#ffffff":"#000000",r.shadowColor=u?s?"#000000":"#ffffff":"#000000",r.shadowOffsetY=0,r.shadowOffsetX=0,r.shadowBlur=u?3:0;for(var d=null!==(t=I[o])&&void 0!==t?t:I.tcg,f=d.trueEdge,b=d.trueBaseline,p=d.trueWidth,m=/^[0-9]*$/.test(a),h=ae[o],g=h.font,v=sr(a,o,{multiline:!1,furiganaHelper:!1}),j={fontLevel:m?0:1,fontData:h,currentFont:Xt()},x=0,y=1e3,O=h.fontList[0],w=function(e){O=h.fontList[e];var t=Xt({defaultFamily:g,defaultSize:"".concat(O.fontSize,"px"),defaultWeight:u?"bold":""}),n={fontLevel:e,fontData:h,currentFont:t},a=0;if(r.font=t.getFont(),r.textAlign="left",y=Yt((function(e){var t=ir({ctx:r,median:e,paragraphList:[v],format:o,textData:n,width:p}),i=t.currentLineCount,c=t.currentLineList;return!(i>1)&&(a=c[0].actualLineWidth,!0)})),x=a,j=n,y>=1e3)return"break"},k=0;k<h.fontList.length&&"break"!==w(k);k++);var F=y/1e3;r.scale(F,1);var S=lr({ctx:r,tokenList:er(v),xRatio:F,yRatio:1,trueEdge:"left"===i?f:f-x*F,trueBaseline:b+(null!==(n=O.offsetY)&&void 0!==n?n:H.offsetY)+l,textData:j,format:o,textDrawer:function(e){var t=e.ctx,n=e.letter,r=e.scaledEdge,a=e.scaledBaseline;t.fillText(n,r,a)}});return r.setTransform(1,0,0,1,0,0),S.tokenEdge}({ctx:t,value:ge,lightFooter:Be,alignment:"left",format:E,hasShadow:"zarc"===Ce||We});if(ye)t.fillStyle=Be?"#ffffff":"#000000",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1150.93,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{stroke:!1};if(e){var o=(null!==a&&void 0!==a?a:{}).stroke,i=void 0!==o&&o,c=7.4;e.font="bold 23.7px palatino-linotype-bold";var l=t;e.fillText("1",l,n+r),i&&e.strokeText("1",l,n),l+=e.measureText("1").width-2,e.font="bold 17.78px palatino-linotype-bold",e.fillText("st",l,n-c+r),i&&e.strokeText("st",l,n-c),l+=e.measureText("st").width,e.font="bold 22.22px palatino-linotype-bold",e.fillText(" Edition",l,n+r),i&&e.strokeText(" Edition",l,n)}}(t,xe&&!te?Le?151:89:Math.max(n+14.813,142.2)-("ocg"===E?10:0),xe&&!te?871:1150.93,xe&&!te?0:Me?-2:-1)}}}),[tt,ye,ge,x,Be,E,We,Le,Me,te,xe,Ce]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=b.current)||void 0===e?void 0:e.getContext("2d");Se.current.creator.rerun+=1,Se.current.creator.instructor=Object(Sn.a)(Fn.a.mark((function e(){var n,r,a,o,i,c,l,u;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hn(t)){e.next=2;break}return e.abrupt("return");case 2:if(r=Object(s.a)(Object(s.a)({},g()),G),a=r.body,o=r.boundless,i=ur({ctx:null===(n=b.current)||void 0===n?void 0:n.getContext("2d"),format:E,value:ve,alignment:"right",baselineOffset:Me?-2:0,hasShadow:We,lightFooter:Be}),c="tcg"===E?390:350,l="tcg"===E?30:40,!ke){e.next=10;break}return e.next=10,vr({ctx:t,type:Be&&!te?"white":"black",bordered:(a<50||o)&&!te,isLink:Le,isPendulum:te,widthOffset:(null!==(u=null===i||void 0===i?void 0:i.leftEdge)&&void 0!==u?u:c)<c?l:0,isLegacyCard:xe});case 10:case"end":return e.stop()}}),e)})))}}),[tt,ve,b,p,E,xe,ke,Le,te,Me,Be,G,We]),Object(o.useEffect)((function(){tt&&(Se.current.sticker.rerun+=1,Se.current.sticker.instructor=Object(Sn.a)(Fn.a.mark((function e(){var t;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr({ctx:null===(t=S.current)||void 0===t?void 0:t.getContext("2d"),sticker:je});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))}),[tt,je,S]),Object(o.useEffect)((function(){var e,t;if(tt){var n=null===(e=p.current)||void 0===e?void 0:e.getContext("2d"),r=null===(t=T.current)||void 0===t?void 0:t.getContext("2d");Se.current.typeAbility.rerun+=1,Se.current.typeAbility.instructor=Object(Sn.a)(Fn.a.mark((function e(){var t,a,o,i,c;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hn(n)&&Hn(r)){e.next=2;break}return e.abrupt("return");case 2:return a=(t=null!==Z&&void 0!==Z?Z:{}).condenseTolerant,o=t.upSize,i=U[0]?o:0,c=br(Object(s.a)(Object(s.a)({ctx:n,content:_,isNormal:Re,condenseTolerant:a,format:E,furiganaHelper:Fe},dr({format:E,statInEffect:qe,typeInEffect:Je,isNormal:Re})),{},{textStyle:Ke,option:{forceRelaxCondenseLimit:3,defaultSizeLevel:3-i}})),e.next=7,Tr({ctx:r,format:E,frame:D,furiganaHelper:Fe,isMonster:Ee,textStyle:Xe,size:Je?c<=3?"medium":"small":"large",subFamily:Ve,typeAbility:Ue});case 7:case"end":return e.stop()}}),e)})))}}),[tt,Je,qe,Z,_,U,p,E,D,Fe,Ee,Re,Xe,Ke,Ve,Ue,T]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=O.current)||void 0===e?void 0:e.getContext("2d");if(Hn(t)&&te){var n=(null!==ce&&void 0!==ce?ce:{}).upSize,r=q[0]?n:0;br({ctx:t,content:re,isNormal:!1,fontData:ee[E],textStyle:Ge,sizeList:L,condenseTolerant:Te,format:E,furiganaHelper:Fe,option:{forceRelaxCondenseLimit:3,defaultSizeLevel:3-r}})}}}),[tt,Te,E,te,O,re,ce,q,Fe,Ge]),Object(o.useEffect)((function(){var e;if(tt){var t=null===(e=R.current)||void 0===e?void 0:e.getContext("2d");Se.current.overlay.rerun+=1,Se.current.overlay.instructor=Object(Sn.a)(Fn.a.mark((function e(){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hn(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,nt(t,"total-overlay",(function(e){return qn(t,"finish/finish-".concat(e,"-total-overlay.png"),0,0)}));case 4:case"end":return e.stop()}}),e)})))}}),[tt,R,nt,Y]);var at=Object(o.useRef)({}),ot=Object(o.useCallback)(function(){var e=Object(Sn.a)(Fn.a.mark((function e(t){var n,r,o,c,s,u,h,g,v,y,L,E,M,I,A;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.isPendulum,r=void 0!==n&&n,o=t.opacity,c=a.current,s=null===c||void 0===c?void 0:c.getContext("2d"),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r){setTimeout((function(){if(e.current&&t)try{e.current.toBlob((function(e){if(e){var n=URL.createObjectURL(e);if(n){var a=new Image;a.src=n,a.onload=function(){t.drawImage(a,0,0),URL.revokeObjectURL(n),r(!0)},a.onerror=function(){URL.revokeObjectURL(n),r(!1)}}else r(!1)}else r(!1)}))}catch(n){console.error(n),r(!1)}else r(!1)}),25*n)}))},!c||!s){e.next=37;break}return s.clearRect(0,0,d,f),e.next=8,Promise.all(Object.values(Se.current).sort((function(e,t){return e.order-t.order})).map((function(e){var t=e.instructor,n=e.rerun,r=e.name;return 0!==n&&at.current[r]!==n||!at.current[r]?(at.current[r]=n,t()):Promise.resolve()}))).catch((function(e){console.error(e);var t="fail-to-draw-notification";wn.a.close(t),wn.a.error({key:t,message:et["error.draw.error.message"],description:et["error.draw.error.description"]})}));case 8:return(v=i.current)&&s&&(y=j(r,o),L=y.artX,E=y.artY,M=y.artWidth,I=v.width,(A=v.height)>0&&s.drawImage(v,0,0,I,A,L,E,M,M/(I/A))),e.next=12,u(l,s,0);case 12:return e.next=14,u(m,s,0);case 14:return e.next=16,u(C,s,0);case 16:return e.next=18,u(w,s,0);case 18:return e.next=20,u(O,s,0);case 20:return e.next=22,u(T,s,0);case 22:return e.next=24,u(p,s,0);case 24:return e.next=26,u(F,s,0);case 26:return e.next=28,u(k,s,0);case 28:return e.next=30,u(x,s,0);case 30:return e.next=32,u(b,s,0);case 32:return e.next=34,u(S,s,0);case 34:return e.next=36,u(R,s,0);case 36:null===(h=N.current)||void 0===h||null===(g=h.getContext("2d"))||void 0===g||g.drawImage(c,0,0);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[et,i,C,b,a,p,R,N,m,x,O,w,k,l,F,S,T]);return{drawingPipeline:Se,onExport:ot}},Ar=n(180),Dr=n.n(Ar),Wr=n(44),Br=n(516),zr=n(510),Pr=n(139);function Hr(){var e=Object(nn.a)(["animation: "," 12s linear infinite;"]);return Hr=function(){return e},e}function Kr(){var e=Object(nn.a)(["\n    cursor: pointer;\n    .setting-button-label {\n        display: grid;\n        label {\n            cursor: pointer;\n            line-height: 1;\n            font-size: var(--fs-xs);\n            margin-top: var(--spacing-xs);\n        }\n    }\n    .anticon-setting {\n        font-size: var(--fs-xl);\n        justify-self: center;\n        > svg {\n            ","\n        }\n    }\n    &:hover {\n        color: var(--main-active);\n        .anticon-setting {\n            color: var(--sub-active);\n        }\n    }\n"]);return Kr=function(){return e},e}function Gr(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: var(--spacing-sm);\n    background-color: var(--main-level-3);\n    padding: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    color: var(--color);\n"]);return Gr=function(){return e},e}function Yr(){var e=Object(nn.a)(["\n    to {\n        transform: rotate(360deg);\n    }\n"]);return Yr=function(){return e},e}var Xr=Object(rn.c)(Yr()),Vr=rn.b.div(Gr()),Ur=rn.b.div(Kr(),(function(e){return e.$softMode?"":Object(rn.a)(Hr(),Xr)})),qr=function(){var e=Rn(),t=An((function(e){return{setting:e.setting,updateSetting:e.updateSetting}})),n=t.setting,r=t.updateSetting,o=n.allowHotkey,i=n.reduceMotionColor,c=n.showCreativeOption,l=n.showExtraDecorativeOption;return Object(a.jsx)(Ur,{className:"setting-button",$softMode:i,children:Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"setting-button-overlay",content:Object(a.jsxs)(Vr,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(zr.a,{checked:i,onChange:function(e){return r({reduceMotionColor:e.target.checked})},children:e["setting.option.soft-mode.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(zr.a,{checked:l,onChange:function(e){return r({showExtraDecorativeOption:e.target.checked})},children:e["setting.option.extra-decorative.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(zr.a,{checked:c,onChange:function(e){return r({showCreativeOption:e.target.checked})},children:e["setting.option.creative.label"]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Pr.a,{title:e["setting.option.hotkey.tooltip"],placement:"left",children:Object(a.jsx)(zr.a,{checked:o,onChange:function(e){return r({allowHotkey:e.target.checked})},children:e["setting.option.hotkey.label"]})})}),Object(a.jsx)("div",{children:Object(a.jsx)("small",{children:e["setting.alert"]})})]}),children:Object(a.jsxs)("div",{className:"setting-button-label",children:[Object(a.jsx)(Br.a,{}),Object(a.jsx)("label",{children:e["setting.button.label"]})]})})})},Jr=n(506);n(330);function $r(){var e=Object(nn.a)(["\n    align-content: center;\n    align-self: center;\n    border-left: var(--bw) dashed #b1b1b1;\n    padding-left: var(--spacing);\n    margin-left: var(--spacing);\n    height: 100%;\n"]);return $r=function(){return e},e}var _r=function(){var e;return Object(a.jsxs)("div",{className:"affiliation",children:[Object(a.jsxs)("span",{className:"version",children:["v",null!==(e="2.0.29")?e:"unknown"]}),Object(a.jsx)("div",{className:"affiliation-link",children:Object(a.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(a.jsx)(fn.a,{})})})]})},Zr=rn.b.div($r()),Qr=function(){var e=Tn((function(e){return{languageInfo:e.languageInfo,language:e.language,languageMetadataMap:e.languageMetadataMap,changeLanguage:e.changeLanguage}})),t=e.language,n=e.languageInfo,r=e.languageMetadataMap,o=e.changeLanguage;return Object(a.jsxs)("div",{className:"app-header",children:[Object(a.jsx)("img",{alt:"app-logo",src:"".concat("/ygocarder","/logo192.png"),width:35}),Object(a.jsxs)("div",{className:"app-description",children:[Object(a.jsxs)("div",{className:"header-language",children:[Object(a.jsx)("h1",{children:"Yugioh Carder"}),Object(a.jsx)(Jr.a.Group,{value:n.codeName,size:"small",className:"language-option",children:Object.values(r).filter((function(e){return e.active})).map((function(e){var t=e.codeName,n=e.name;return Object(a.jsx)(Jr.a.Button,{value:t,onChange:function(e){return o(e.target.value)},children:n},t)}))}),Object(a.jsx)("span",{className:"bug-report",children:Object(a.jsxs)("div",{id:"sentry-bug-report",children:[t["contributor.bug-report.tooltip"]," ",Object(a.jsx)(bn.a,{})]})})]}),Object(a.jsxs)("div",{className:"app-contribution",children:[Object(a.jsxs)("span",{className:"app-creator",children:[t["contributor.gui.label"],": ",Object(a.jsx)("a",{href:"https://github.com/lauqerm/ygocarder",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"Lauqerm"})}),"\xa0",Object(a.jsx)(hn,{content:Object(a.jsxs)("div",{className:"disclaimer",children:[Object(a.jsx)("h2",{children:t["contributor.disclaimer.label"]}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:t["contributor.disclaimer.line-1"](Object(a.jsx)("a",{href:"https://lauqerm.github.io/ygocarder",children:"lauqerm.github.io/ygocarder"},"app-author"))}),Object(a.jsx)("li",{children:t["contributor.disclaimer.line-2"]}),Object(a.jsx)("li",{children:t["contributor.disclaimer.line-3"]}),Object(a.jsx)("li",{children:t["contributor.disclaimer.line-4"]}),Object(a.jsx)("li",{children:t["contributor.disclaimer.line-5"](Object(a.jsx)("a",{href:"https://www.deviantart.com/grezar",target:"_blank",rel:"noreferrer",children:"Grezar"},"template-maker-1"),Object(a.jsx)("a",{href:"https://www.deviantart.com/9558able",target:"_blank",rel:"noreferrer",children:"9558able"},"template-maker-2"))}),Object(a.jsx)("li",{children:t["contributor.disclaimer.line-6"]})]})]})})]}),Object(a.jsx)("span",{className:"template-creator",children:t["contributor.template-maker"](Object(a.jsx)("a",{href:"https://www.deviantart.com/grezar/art/SKILL-UPDATE-Series-10-Card-Proxy-Template-686736691",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"Grezar"})},"artist-1"),Object(a.jsx)("a",{href:"https://www.deviantart.com/9558able/art/Yugioh-Series-10-Proxy-Template-DELUXE-EDITION-843282421",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"9558able"})},"artist-2"),Object(a.jsx)("a",{href:"https://www.deviantart.com/slackermagician",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"SlackerMagician"})},"artist-3"),Object(a.jsx)("a",{href:"https://www.deviantart.com/icycatelf",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("b",{children:"icycatelf"})},"artist-4"))})]})]}),Object(a.jsx)(Zr,{className:"app-setting",children:Object(a.jsx)(qr,{})})]})},ea=function(){var e=Rn();return Object(a.jsx)(hn,{overlayClassName:"disclaimer-overlay",content:Object(a.jsxs)("div",{className:"disclaimer",children:[Object(a.jsx)("h2",{children:e["alert.explaination.tainted.first-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.first-answer"]}),Object(a.jsx)("h2",{children:e["alert.explaination.tainted.second-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.second-answer"]}),Object(a.jsx)("h2",{children:e["alert.explaination.tainted.third-question"]}),Object(a.jsx)("p",{children:e["alert.explaination.tainted.third-answer"]})]})})},ta=n(507),na=n(91),ra=n(519);n(331);function aa(){var e=Object(nn.a)(["\n    min-width: 0;\n    position: relative;\n    overflow: hidden;\n    .caption {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        padding: var(--spacing-px) var(--spacing-sm);\n        background: var(--main-level-5);\n        border-radius: var(--br-lg) 0 0 0;\n        box-shadow: var(--bs-block);\n    }\n    > img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n        border-radius: var(--br-lg);\n    }\n"]);return aa=function(){return e},e}function oa(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: 615fr 703fr;\n    gap: var(--spacing-sm);\n    padding: var(--spacing-sm) 0;\n    overflow: hidden;\n    .panel-box {\n        min-width: 0;\n        position: relative;\n        overflow: hidden;\n    }\n"]);return oa=function(){return e},e}function ia(){var e=Object(nn.a)(["\n    white-space: pre-line;\n"]);return ia=function(){return e},e}function ca(){var e=Object(nn.a)(["\n    background: var(--main-level-1);\n    padding: var(--spacing-px) var(--spacing-xxs);\n    border: var(--bw) solid #4e84a4;\n    border-radius: var(--br);\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n"]);return ca=function(){return e},e}var la=rn.b.span(ca()),sa=rn.b.div(ia()),ua=rn.b.div(oa()),da=rn.b.div(aa()),fa=function(e){var t=e.caption,n=e.containerProps,r=e.alt,o=Object(Ct.a)(e,["caption","containerProps","alt"]),i=(null!==n&&void 0!==n?n:{}).className;return Object(a.jsxs)(da,{className:"image-with-caption ".concat(i),children:[Object(a.jsx)("img",Object(s.a)({alt:r},o)),Object(a.jsx)("div",{className:"caption",children:t})]})},ba=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Rn();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ta.a,{footer:null,visible:n,width:"60%",title:Object(a.jsxs)("div",{className:"overlay-title",children:[i["guide.format.label"]," ",Object(a.jsx)(na.a,{size:"small",type:"primary",onClick:function(){r(!1)},children:i["guide.format.close"]})]}),className:"formattting-guide-overlay",onClose:function(){r(!1)},children:Object(a.jsxs)(sa,{children:[Object(a.jsxs)("p",{children:[i["guide.format.introduction"](Object(a.jsx)(Br.a,{},"icon")),"."]}),Object(a.jsx)("h2",{children:i["guide.format.section-1.label"]}),i["guide.format.section-1.content"](Object(a.jsx)(la,{children:"["},"open-tag"),Object(a.jsx)(la,{children:"]"},"close-tag"),Object(a.jsx)(la,{children:"Ctrl-1"},"hotkey"),Object(a.jsx)(la,{children:"\u2318-1"},"hokey-alternative")),Object(a.jsxs)(ua,{className:"panel-figure",children:[Object(a.jsx)(fa,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-raw.jpg"),caption:i["guide.format.caption.input"]}),Object(a.jsx)(fa,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-1-preview.jpg"),caption:i["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:i["guide.format.section-2.label"]}),i["guide.format.section-2.content"](Object(a.jsx)(la,{children:"{"},"open-tag"),Object(a.jsx)(la,{children:"}"},"close-tag"),Object(a.jsx)(la,{children:"Ctrl-2"},"hotkey"),Object(a.jsx)(la,{children:"\u2318-2"},"hokey-alternative")),Object(a.jsxs)(ua,{className:"panel-figure",children:[Object(a.jsx)(fa,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-raw.jpg"),caption:i["guide.format.caption.input"]}),Object(a.jsx)(fa,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-2-preview.jpg"),caption:i["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:i["guide.format.section-3.label"]}),i["guide.format.section-3.content"](Object(a.jsx)(la,{children:"|"},"separator"),Object(a.jsx)(la,{children:"Ctrl-3"},"hotkey"),Object(a.jsx)(la,{children:"\u2318-3"},"hokey-alternative")),Object(a.jsxs)(ua,{className:"panel-figure",children:[Object(a.jsx)(fa,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-raw.jpg"),caption:i["guide.format.caption.input"]}),Object(a.jsx)(fa,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-3-preview.jpg"),caption:i["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:i["guide.format.section-4.label"]}),i["guide.format.section-4.content"](Object(a.jsx)(la,{children:"||"},"separator"),Object(a.jsx)(la,{children:"Ctrl-4"},"hotkey"),Object(a.jsx)(la,{children:"\u2318-4"},"hokey-alternative")),Object(a.jsxs)(ua,{className:"panel-figure",children:[Object(a.jsx)(fa,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-raw.jpg"),caption:i["guide.format.caption.input"]}),Object(a.jsx)(fa,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-4-preview.jpg"),caption:i["guide.format.caption.output"]})]}),Object(a.jsx)("h2",{children:i["guide.format.section-5.label"]}),i["guide.format.section-5.content"](Object(a.jsx)(la,{children:"{{"},"open-tag"),Object(a.jsx)(la,{children:"}}"},"close-tag"),Object(a.jsx)(la,{children:"Ctrl-5"},"hotkey"),Object(a.jsx)(la,{children:"\u2318-5"},"hokey-alternative")),Object(a.jsxs)(ua,{className:"panel-figure",children:[Object(a.jsx)(fa,{containerProps:{className:"panel-box box-raw"},alt:"non-breakable line raw",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-raw.jpg"),caption:i["guide.format.caption.input"]}),Object(a.jsx)(fa,{containerProps:{className:"panel-box box-preview"},alt:"non-breakable line preview",src:"".concat("/ygocarder","/asset/image/syntax/syntax-5-preview.jpg"),caption:i["guide.format.caption.output"]})]})]})}),Object(a.jsxs)(na.a,{className:"formatting-help-button",type:"primary",onClick:function(){r(!0)},children:[i["guide.format.label"]," ",Object(a.jsx)(ra.a,{})]})]})};function pa(){var e=Object(nn.a)(["\n    display: inline-block;\n    width: 10px;\n"]);return pa=function(){return e},e}function ma(){var e=Object(nn.a)(["\n    display: grid;\n    ","\n    > label {\n        cursor: pointer;\n        padding: 0 var(--spacing-xxs);\n        text-align: center;\n    }\n"]);return ma=function(){return e},e}var ha=rn.b.div(ma(),(function(e){return e.$withPillar?"grid-template-columns: max-content 1fr;":"grid-template-columns: 1fr;"})),ga=rn.b.div(pa()),va=function(e){var t=e.nameKey,n=e.labelBackgroundColor,r=e.labelBackgroundColorList,o=e.className,i=Rn();return Object(a.jsxs)(ha,{className:"frame-info-block ".concat(null!==o&&void 0!==o?o:""),$withPillar:!(!n&&!r),children:[r?Object(a.jsx)(ga,{children:r.map((function(e){return Object(a.jsx)("div",{style:{backgroundColor:e,height:"".concat(100/r.length,"%")}},e)}))}):n?Object(a.jsx)(ga,{style:{backgroundColor:n}}):null,Object(a.jsx)("label",{className:"frame-info-block-label",children:i[t]})]})};function ja(){var e=Object(nn.a)(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--spacing-xs);\n    width: 24px;\n    height: 24px;\n    border: var(--bw) solid var(--sub-level-1);\n    background-color: var(--main-level-4);\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: var(--sub-level-4);\n\t}\n"]);return ja=function(){return e},e}var xa=rn.b.span(ja()),ya=function(e){var t=e.Icon,n=e.children,r=e.onClick,o=e.iconProps,i=e.tooltipProps,c=e.containerProps,l=null!==c&&void 0!==c?c:{},u=l.className,d=l.onClick,f=l.onKeyDown,b=Object(Ct.a)(l,["className","onClick","onKeyDown"]);return Object(a.jsx)(Pr.a,Object(s.a)(Object(s.a)({title:null},i),{},{children:Object(a.jsx)(xa,Object(s.a)(Object(s.a)({tabIndex:0},b),{},{onClick:function(e){null===r||void 0===r||r(),null===d||void 0===d||d(e)},onKeyDown:function(e){null===f||void 0===f||f(e),"Enter"===e.key&&(null===r||void 0===r||r())},className:["icon-button",null!==u&&void 0!==u?u:""].join(" "),children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(t,Object(s.a)({},o)),n]})}))}))},Oa=n(504),wa=n(142),ka=n(259),Fa=n.n(ka),Sa=n(520),Ca=n(491);function Ta(){var e=Object(nn.a)(["\n    display: flex;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(#fafafaaa, #fafafaaa);\n    justify-content: center;\n    align-items: center;\n    z-index: 999;\n"]);return Ta=function(){return e},e}var Ra=rn.b.div(Ta()),Na=function(){return Object(a.jsx)(Ca.a,{})};Na.FullView=function(){return Object(a.jsx)(Ra,{className:"loading-fullview",children:Object(a.jsx)(Ca.a,{size:"large"})})};n(338),n(339);var La=function(e,t,n){if(!t)return e;var r=e.width,a=e.height,o=e.x,i=void 0===o?0:o,c=e.y,l=void 0===c?0:c;if("px"===e.unit){var u=t.width,d=t.height,f=d/u>=.8?400/300:1,b=Math.min((null!==i&&void 0!==i?i:0)*f,u),p=Math.min((null!==l&&void 0!==l?l:0)*f,d),m=Math.min((null!==r&&void 0!==r?r:0)*f,u);return{unit:"%",x:b/u*100,y:p/d*100,width:m/u*100,height:m/(null!==n&&void 0!==n?n:1)/d*100,aspect:n}}if(i<0)return Object(s.a)(Object(s.a)({},e),{},{x:0});if(l<0)return Object(s.a)(Object(s.a)({},e),{},{y:0});var h=t.naturalHeight,g=t.naturalWidth,v=null!==r&&void 0!==r?r:0,j=null!==a&&void 0!==a?a:0,x=.05*(h>g?h:g),y=Math.abs(j*h*n-v*g)<=x;return Object(s.a)(Object(s.a)({},e),{},{x:i<0?0:i,y:l<0?0:l,height:y?j:v*t.naturalWidth/n/t.naturalHeight,aspect:n})},Ea=Object(o.forwardRef)((function(e,t){var n=e.title,r=e.backgroundColor,i=e.className,c=e.forceFit,l=e.defaultSourceType,d=e.defaultInternalSource,f=void 0===d?"":d,b=e.defaultExternalSource,p=void 0===b?"":b,m=e.receivingCanvas,h=e.children,g=e.beforeCropper,v=e.defaultCropInfo,j=e.ratio,x=e.onSourceLoaded,y=void 0===x?function(){}:x,O=e.onSourceChange,w=void 0===O?function(){}:O,k=e.onCropChange,F=void 0===k?function(){}:k,S=e.onTainted,C=void 0===S?function(){}:S,T=e.onMaxSizeExceeded,R=void 0===T?function(){}:T,N=e.onForceFitChange,L=void 0===N?function(){}:N,E="offline"===l?"offline":"online",M=Rn(),I=Object(o.useRef)(null),A=Object(o.useState)("anonymous"),D=Object(u.a)(A,1)[0],W=Object(o.useState)(0),B=Object(u.a)(W,2),z=B[0],P=B[1],H=Object(o.useState)(E),K=Object(u.a)(H,2),G=K[0],Y=K[1],X=Object(o.useState)(E),V=Object(u.a)(X,2),U=V[0],q=V[1],J=Object(o.useState)(f),$=Object(u.a)(J,2),_=$[0],Z=$[1],Q=Object(o.useState)(!1),ee=Object(u.a)(Q,2),te=ee[0],ne=ee[1],re=Object(o.useState)(null),ae=Object(u.a)(re,2),oe=ae[0],ie=ae[1],ce=Object(o.useState)(p),le=Object(u.a)(ce,2),se=le[0],ue=le[1],de=Object(o.useRef)(null),fe=Object(o.useState)({current:v,completed:null}),be=Object(u.a)(fe,2),pe=be[0],me=be[1],he=Object(o.useState)("%"===v.unit),ge=Object(u.a)(he,2),ve=ge[0],je=ge[1],xe=pe.current,ye=pe.completed,Oe=Object(o.useRef)({source:"",crop:null}),we=Object(o.useCallback)((function(e){if(ne(!1),ie(null),y(),de.current=e,e.src===Oe.current.source&&Oe.current.crop){var t=ke.current;setTimeout((function(){if(t===ke.current&&Oe.current.crop){var n=La(Oe.current.crop,e,j);me({completed:n,current:n}),je(!0),Oe.current={source:"",crop:null}}}),250)}else setTimeout((function(){me((function(t){var n=La(t.current,e,j);return{completed:n,current:n}})),je(!0)}),250)}),[y,j]);Object(o.useEffect)((function(){var e,t,n,r,a=de.current;if(ye&&m&&a){var o=ye.aspect;m.style.transform="scale(2)";var i=m.getContext("2d");if(i&&"number"===typeof o&&!(o<=0)){var l=a.naturalHeight,u=a.naturalWidth,d=u/a.width,f=l/a.height,b=null!==(e=ye.unit)&&void 0!==e?e:"px",p=window.devicePixelRatio;i.setTransform(p,0,0,p,0,0);var h=Math.floor((null!==(t=ye.width)&&void 0!==t?t:0)*("px"===b?d:u/100)),g=Math.min(u,h),v=Math.floor(h/o),j=Math.min(l,v),x=Math.min(u,Math.floor((null!==(n=ye.x)&&void 0!==n?n:0)*("px"===b?d:u/100))),y=Math.min(l,Math.floor((null!==(r=ye.y)&&void 0!==r?r:0)*("px"===b?f:l/100)));if(i.imageSmoothingQuality="high",!(g<=0||j<=0)){var O,w,k=void 0;if(x+g>u||y+j>l||x<0||y<0||Math.abs((h-g)/g)>.01||Math.abs((v-j)/j)>.01)"width"===(o*l>u?"width":"height")?(x=0,k={unit:"%",aspect:o,height:(j=(g=u)/o)/l*100,width:g/u*100,x:0,y:(y=(l-j)/2)/l*100}):(y=0,k={unit:"%",aspect:o,height:(j=l)/l*100,width:(g=l*o)/u*100,x:(x=(u-g)/2)/u*100,y:0});if(c)"width"===(o*l>u?"width":"height")?j=(g=u)/o:(g=l*o,j=l),m.width=g,m.height=j,i.drawImage(a,0,0,u,l,0,0,g,j);else m.width=null!==(O=g)&&void 0!==O?O:0,m.height=null!==(w=j)&&void 0!==w?w:0,i.drawImage(a,x,y,g,j,0,0,g,j);"offline"===G&&(null!==_&&void 0!==_?_:"").length<=0||o===ye.aspect&&F(ye,G),k&&me((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:k})}))}}}}),[ye,m,z,c]),Object(o.useEffect)((function(){me((function(e){if(null!=de.current&&e.current){var t=La(e.current,de.current,j);return{current:t,completed:t}}return e}))}),[j]);var ke=Object(o.useRef)(0);Object(o.useImperativeHandle)(t,(function(){return{isLoading:function(){return te},hasImage:function(){return"string"===typeof _&&_.length>0&&"offline"===G||"string"===typeof se&&se.length>0&&"online"===G},forceSource:function(e,t,n){("offline"===G?_:se)!==t&&(ne(!0),Y(e),q(e),w(e,t),"offline"===e?Z(t):ue(t)),je("%"===n.unit),ke.current+=1,Oe.current={source:t,crop:n},P((function(e){return e+1}))}}}));var Fe="offline"===G&&(null!==_&&void 0!==_?_:"").length>0||"online"===G&&(null!==se&&void 0!==se?se:"").length>0,Se=m&&Fe&&!te&&(null===ye||void 0===ye?void 0:ye.width)&&(null===ye||void 0===ye?void 0:ye.height);return Object(a.jsxs)("div",{className:"card-image-cropper ".concat(i),children:[Object(a.jsxs)("div",{className:"card-image-source-input",children:[h,Object(a.jsxs)("div",{className:"card-image-source-input-container",children:[Object(a.jsxs)("div",{className:"card-image-source-input-title",children:[Object(a.jsxs)("span",{className:"field-title",children:[n," ",Object(a.jsx)(ya,{Icon:Sa.a,containerProps:{className:Se?"":"disabled"},tooltipProps:{overlay:Se?M["image-cropper.download"]:M["image-cropper.no-download"]},onClick:function(){return Se&&m&&function(e,t){t&&e&&e.toBlob((function(e){if(null!==e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.download="crop-preview.png",n.href=URL.createObjectURL(e),n.click(),window.URL.revokeObjectURL(t)}}),"image/png",1)}(m,ye)}})]}),Object(a.jsxs)(Jr.a.Group,{className:"card-image-source-type-input",onChange:function(e){var t=e.target.value;q(t),((null!==_&&void 0!==_?_:"").length>0&&"offline"===t||(null!==se&&void 0!==se?se:"").length>0&&"online"===t)&&(Y(t),"offline"===t?w("offline",_):w("online",se))},value:U,children:[Object(a.jsx)(Jr.a.Button,{value:"online",checked:"online"===U,children:M["image-cropper.source.online.tooltip"]}),Object(a.jsx)(Pr.a,{title:Object(a.jsx)("div",{className:"image-warning",children:M["image-cropper.offline-warning"]}),children:Object(a.jsx)(Jr.a.Button,{value:"offline",checked:"offline"===U,children:M["image-cropper.source.offline.tooltip"]})})]})]}),Object(a.jsxs)("div",{className:["card-image-input","online"===U?"":"input-inactive"].join(" "),children:[Object(a.jsx)(Oa.a,{placeholder:M["image-cropper.placeholder"],value:se,onChange:function(e){var t=e.target.value;ne(!0),Y("online"),q("online"),w("online",t),ue(t)},maxLength:512,allowClear:!0},"key"),Object(a.jsx)("div",{className:"online-image-tip",children:M["image-cropper.online-tip"]})]}),Object(a.jsxs)("div",{className:["card-image-input","offline"===U?"":"input-inactive"].join(" "),children:[Object(a.jsx)(Oa.a,{ref:I,type:"file",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.size<4194304){ne(!0);var n=new FileReader;n.addEventListener("load",(function(){"string"===typeof n.result&&(Z(n.result),Y("offline"),q("offline"),w("offline",n.result),ne(!1))})),n.readAsDataURL(t)}else R(4)}else alert(M["image-cropper.not-found-warning"])},onClick:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.setValue("")}}),Object(a.jsx)("hr",{}),M["image-cropper.offline-warning"]]})]})]}),g,Object(a.jsxs)("div",{className:"card-cropper",children:[te&&Object(a.jsx)(Na.FullView,{}),Fe&&!oe&&Object(a.jsxs)(xa,{className:"force-fit-toggle",onClick:function(){return L(!c)},children:[Object(a.jsx)(zr.a,{checked:c})," ",Object(a.jsx)("span",{children:M["image-cropper.force-fit.label"]})]}),(!Fe||oe)&&Object(a.jsx)(wa.a,{description:M["image-cropper.not-found-warning"],image:null}),Object(a.jsx)(Fa.a,{src:"offline"===G?_:se,disabled:c,className:c?"force-fitted":"",imageStyle:r?{backgroundColor:r}:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/transparent-tile.png")')},onImageLoaded:we,onImageError:function(){if(Oe.current={source:"",crop:null},ie("Image error"),ne(!1),m)if("online"===G&&""===(null!==se&&void 0!==se?se:"")||"offline"===G&&""===(null!==_&&void 0!==_?_:"")){var e=m.width,t=m.height,n=m.getContext("2d");null===n||void 0===n||n.clearRect(0,0,e,t),ye&&F(ye,G),y()}else C();else C()},crop:xe,onChange:function(e,t){var n=de.current;Oe.current.crop||(ve?me((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:La(t,n,j)})})):(je(!0),me((function(t){return Object(s.a)(Object(s.a)({},t),{},{current:La(e,n,j)})}))))},onComplete:function(e,t){Oe.current.crop||me((function(e){return Object(s.a)(Object(s.a)({},e),{},{completed:t})}))},ruleOfThirds:!0,crossorigin:D},"".concat(G,"-").concat(ve,"-").concat(z))]})]})})),Ma=(n(348),function(e){var t=e.defaultValue,n=void 0===t?[]:t,r=e.onChange,i=void 0===r?function(){}:r,c=Object(o.useState)(n),l=Object(u.a)(c,2),s=l[0],d=l[1],f=[-45,0,45,-90,0,90,-135,180,135],b=Rn(),p=JSON.stringify(s);return Object(o.useEffect)((function(){i(s)}),[p]),Object(a.jsxs)("div",{className:"link-marker-chooser",children:[Object(a.jsx)("div",{className:"title",children:b["link-picker.label"]}),Object(a.jsx)("div",{className:"container",children:Object(In.a)(Array(9)).map((function(e,t){var n="".concat(t+1);return"5"===n?Object(a.jsx)(Pr.a,{overlay:b["link-picker.reset.tooltip"],children:Object(a.jsx)("div",{className:"link-marker-reset",onClick:function(){d([])},children:Object(a.jsx)(x.a,{})})},"5"):Object(a.jsx)("div",{className:"link-marker-button marker-".concat(t+1," ").concat(s.includes(n)?"marker-checked":""),onClick:function(){d((function(e){var t=Object(In.a)(e);return t.includes(n)?t=t.filter((function(e){return e!==n})):t.push(n),t}))},children:Object(a.jsx)("div",{className:"link-marker-icon link-marker-icon-".concat(t+1),style:{transform:"rotate(".concat(f[t],"deg)")}})},n)}))})]})});function Ia(){var e=Object(nn.a)(["\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br-lg);\n    background-color: var(--main-level-3);\n    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05); // Mimic antd\n    padding: var(--spacing-xs) 0;\n    color: var(--color);\n"]);return Ia=function(){return e},e}function Aa(){var e=Object(nn.a)(["\n    display: flex;\n    align-items: center;\n    padding: var(--spacing-xs) var(--spacing);\n    cursor: pointer;\n    &:hover {\n        background-color: var(--sub-active);\n    }\n    &.menu-active {\n        background-color: var(--main-active);\n        &:hover {\n            background-color: var(--sub-active);\n        }\n    }\n"]);return Aa=function(){return e},e}function Da(){var e=Object(nn.a)(["\n    font-weight: 500;\n    border-color: transparent;\n    background-color: transparent;\n    color: var(--color-vendor);\n    text-shadow: var(--ts);\n    user-select: none;\n    display: inline-block;\n    height: 32px;\n    width: var(--width-label);\n    line-height: 30px;\n    position: relative;\n    min-width: var(--width-label);\n    text-align: right;\n    padding-right: var(--spacing-antd);\n"]);return Da=function(){return e},e}var Wa=function(e){return Object(a.jsx)(dn,{fallback:Object(a.jsx)(a.Fragment,{}),children:Object(a.jsx)(an.a,Object(s.a)({},e))})},Ba=rn.b.div(Da()),za=rn.b.div(Aa()),Pa={Container:rn.b.div(Ia()),Option:za},Ha=[{label:"OCG",value:"ocg",props:{className:"ocg-button",style:{fontWeight:"bold"}}},{label:"TCG",value:"tcg",props:{className:"tcg-button",style:{fontWeight:"bold"}}}],Ka=Object.values(z).map((function(e){var t=e.value;return{label:e.label,value:t}})),Ga=[{value:"normal",label:Object(a.jsx)(x.a,{})}].concat(Object(In.a)(Object.values(P).map((function(e){var t=e.value;return{label:e.label,value:t}})))),Ya=function(){return me.map((function(e){var t=e.name,n=e.nameKey,r=e.labelBackgroundColor,o=e.labelBackgroundColorList,i=e.edition;return{label:Object(a.jsx)(va,{labelBackgroundColor:r,labelBackgroundColorList:o,nameKey:n}),value:t,edition:i}}))},Xa=Object(In.a)(Array(14)).map((function(e,t){return{label:t,value:t}})),Va={auto:{value:"auto",labelKey:"input.icon-type.auto.label",fullLabelKey:"input.icon-type.auto.label",icon:null},st:{value:"st",labelKey:"input.icon-type.icon.label",fullLabelKey:"input.icon-type.icon.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"s/t-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-continuous.png")})},level:{value:"level",labelKey:"input.icon-type.level.label",fullLabelKey:"input.icon-type.level.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-level.png")})},"negative-level":{value:"negative-level",labelKey:"input.icon-type.negative-level.label",fullLabelKey:"input.icon-type.negative-level.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"negative-level-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-negative-level.png")})},rank:{value:"rank",labelKey:"input.icon-type.rank.label",fullLabelKey:"input.icon-type.rank.label",icon:Object(a.jsx)("img",{className:"icon-image",alt:"rank-icon",src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-rank.png")})}},Ua=Object.values(Va),qa=["no-sticker","gold","silver","beta","holo5","holo4","holo3","holo2","holo1","limited","unlimited"].map((function(e){return{label:"no-sticker"===e?Object(a.jsx)(x.a,{}):Object(a.jsx)("img",{alt:e,src:"".concat("/ygocarder","/asset/image/sticker/sticker-").concat(e.toLowerCase(),".png")}),value:e}})),Ja=Object.entries({veryStrict:{label:"5",order:1},strict:{label:"4",order:2},loose:{label:"3",order:3},veryLoose:{label:"2",order:4},relaxed:{label:"1",order:5}}).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return{label:r.label,value:n,order:r.order}})).sort((function(e,t){return e.order-t.order}));function $a(){var e=Object(nn.a)(["\n    z-index: 10;\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    align-items: center;\n    column-gap: var(--spacing-sm);\n\n    .char-picker {\n        z-index: 1;\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));\n        button.ant-btn {\n            padding: 0 var(--spacing-xs);\n        }\n        .handler,\n        .ant-btn {\n            background-color: var(--main-level-1);\n            color: var(--color-heavy);\n            text-shadow: var(--ts);\n            font-family: Segoe UI Symbol, sans-serif;\n            border: 1px solid var(--sub-level-1);\n            border-radius: 0;\n            padding: 0 var(--spacing);\n            + .ant-btn {\n                border-left-width: 0;\n            }\n            &:hover {\n                color: var(--main-active);\n            }\n            &:first-child {\n                border-radius: var(--br) 0 0 var(--br);\n            }\n            &:last-child {\n                border-radius: 0 var(--br) var(--br) 0;\n            }\n        }\n        /** Currently char picker no longer movable */\n        /* .handler {\n            cursor: grabbing;\n            background-color: var(--main-level-2);\n            height: unset;\n            font-size: var(--fs-xl);\n            height: var(--fs-xl);\n            line-height: 1;\n            padding: 0;\n            text-align: center;\n        } */\n    }\n    .moveable-control-box {\n        .moveable-control.moveable-origin,\n        .moveable-line.moveable-direction {\n            border-color: transparent;\n            background: none;\n        }\n    }\n"]);return $a=function(){return e},e}var _a=rn.b.div($a()),Za=function(e){var t=e.targetId,n=void 0===t?"":t,r=e.onPick,o=void 0===r?function(){}:r,i=Rn(),c=function(e){var t=document.getElementById(n);if(t){var r=function(e,t){if(document.selection)return e.focus(),document.selection.createRange().text=t,{value:e.value,position:0};if(e.selectionStart||0===e.selectionStart){var n=e.selectionStart,r=e.selectionEnd;return e.value=e.value.substring(0,n)+t+e.value.substring(r,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.focus(),{value:e.value,position:n+t.length}}return e.value+=t,{value:e.value,position:0}}(t,e).value;o(r,e)}};return Object(a.jsxs)(_a,{tabIndex:-1,className:"char-picker-container",children:[Object(a.jsx)("div",{id:"char-picker",className:"char-picker",children:["\u221e","\u2606","\u25cf","\xa9","\u2122","\u2c6f","\u042f","\u203b"].map((function(e){return Object(a.jsx)("button",{tabIndex:-1,className:"ant-btn",onClick:function(){return c(e)},children:e},e)}))}),Object(a.jsx)("div",{className:"char-picker-guideline",children:Object(a.jsx)(hn,{content:Object(a.jsxs)(a.Fragment,{children:[i["input.char-picker.guide.header"],Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:i["input.char-picker.guide.instruction-1"]}),Object(a.jsx)("li",{children:i["input.char-picker.guide.instruction-2"]})]})]})})})]})},Qa=n(89),eo=n(521),to=n(511),no=n(213),ro=(n(455),n(456),Object(o.forwardRef)((function(e,t){var n=e.disabled,r=e.color,i=e.onSelect,c=e.onOffsetChange,l=e.onRemove,s=Rn(),d=Object(o.useState)(r),f=Object(u.a)(d,2),b=f[0],p=f[1],m=Object(o.useState)(0),h=Object(u.a)(m,2),g=h[0],v=h[1],j=Object(o.useState)(-1),x=Object(u.a)(j,2),y=x[0],O=x[1],w=Object(o.useRef)(xn()(v,250)).current;return Object(o.useImperativeHandle)(t,(function(){return{setColor:function(e){if(e){var t=e.color,n=e.offset,r=e.id,a=Math.min,o=Math.max,i=Math.round;p(t),v(o(0,a(100,i(100*parseFloat(n))))),O(r)}},setCurrentOffset:function(e,t){var n=Math.min,r=Math.max,a=Math.round;e===y&&v(r(0,n(100,a(100*parseFloat(t)))))}}})),Object(o.useEffect)((function(){y>0&&(null===c||void 0===c||c(y,"".concat(g/100)))}),[y,g,c]),Object(a.jsxs)("div",{className:"stop-point-control-panel",children:[Object(a.jsxs)("div",{className:"stop-point-offset-input",children:[Object(a.jsxs)("div",{children:[s["input.name-style.gradient.color-stop.label"],": ",Object(a.jsx)(to.a,{value:g,size:"small",max:100,min:0,onChange:function(e){return w("string"===typeof e?parseInt(e):null!==e&&void 0!==e?e:0)}})]}),Object(a.jsx)(na.a,{className:"remove-stop-color",size:"small",disabled:n,onClick:function(){return null===l||void 0===l?void 0:l(y)},children:s["input.name-style.gradient.color-remove.label"]})]}),Object(a.jsx)(Qa.a,{styles:{default:{picker:{color:"#000000",background:"var(--main-level-3)",boxShadow:"none"},body:{padding:"var(--spacing) var(--spacing)"}}},disableAlpha:!0,color:b,onChange:function(e){return p(e.hex)},onChangeComplete:function(e){p(e.hex),null===i||void 0===i||i(e.hex)}})]})}))),ao=function(e){return{colorList:e,raw:Vt(e)}},oo=function(e){var t,n,r=e.palette,i=void 0===r?Vt(Ut("0.000|#eef10b,0.5|#d78025,1.000|#7e20cf")):r,c=e.angle,l=void 0===c?180:c,d=e.memoizedOnChange,f=Rn(),b=Object(o.useRef)(null),p=Object(o.useState)(l),m=Object(u.a)(p,2),h=m[0],g=m[1],v=Object(o.useState)((function(){var e,t,n=Ut(i);return{raw:i,colorList:n,currentControlId:null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1}})),j=Object(u.a)(v,2),x=j[0],y=j[1],O=Object(o.useCallback)((function(e,t){return y((function(n){var r=n.colorList.map((function(n){return n.id===e?Object(s.a)(Object(s.a)({},n),{},{offset:t}):n}));return Object(s.a)(Object(s.a)({},n),ao(r))}))}),[]);Object(o.useEffect)((function(){g(l)}),[l]),Object(o.useEffect)((function(){var e,t,n=Ut(i);y({raw:i,colorList:n,currentControlId:null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:-1})}),[i]);var w=Object(o.useRef)(!1);return Object(o.useEffect)((function(){var e;x.colorList[0]&&w.current&&(w.current=!0,null===(e=b.current)||void 0===e||e.setColor(x.colorList[0]))}),[x.colorList]),Object(o.useEffect)((function(){var e=!0;return setTimeout((function(){var t=x.colorList,n=x.currentControlId;if(e&&n>=0){var r,a=t.find((function(e){return e.id===n}));a&&(null===(r=b.current)||void 0===r||r.setCurrentOffset(n,a.offset))}}),100),function(){e=!1}}),[x]),Object(o.useEffect)((function(){var e=!0;return setTimeout((function(){e&&d(x.colorList,h)}),200),function(){e=!1}}),[x,h,d]),Object(a.jsxs)("div",{className:"controls-wrapper gradient-picker-container",children:[Object(a.jsxs)("div",{className:"gradient-angle-control",children:[Object(a.jsx)("h2",{children:f["input.name-style.gradient.color-point.label"]}),Object(a.jsxs)(na.a,{size:"small",className:"add-stop-color",disabled:(null!==(t=null===(n=x.colorList)||void 0===n?void 0:n.length)&&void 0!==t?t:1e4)>20,onClick:function(){y((function(e){var t=[].concat(Object(In.a)(e.colorList),[{offset:"0.5",color:"#ffffff",id:e.colorList.length+1}]).sort((function(e,t){return Number(e.offset)-Number(t.offset)}));return Object(s.a)(Object(s.a)({},e),ao(t))}))},children:[f["input.name-style.gradient.add-point.label"]," (",x.colorList.length,"/",20,")"]}),Object(a.jsxs)("div",{className:"angle-picker-container",children:[Object(a.jsx)("h2",{children:f["input.name-style.gradient.gradient-direction.label"]}),Object(a.jsx)(no.AnglePicker,{angle:h,size:120,setAngle:g})]})]}),Object(a.jsx)("div",{className:"stop-color-picker-container",children:Object(a.jsx)(no.GradientPicker,Object(s.a)(Object(s.a)({},{width:370,paletteHeight:32,maxStops:20,minStops:2,stopRemovalDrop:99999,palette:x.colorList,onPaletteChange:function(e){return y((function(t){return Object(s.a)(Object(s.a)({},t),ao(e))}))},onColorStopSelect:function(e){var t;y((function(t){return Object(s.a)(Object(s.a)({},t),{},{currentControlId:e.id})})),null===(t=b.current)||void 0===t||t.setColor(e)}}),{},{children:Object(a.jsx)(ro,{ref:b,disabled:x.colorList.length<=1,onOffsetChange:O,onRemove:function(e){y((function(t){var n,r,a=t.colorList.filter((function(t){return t.id!==e})),o=null!==(n=null===a||void 0===a?void 0:a[0].id)&&void 0!==n?n:-1;o>0&&x.colorList[o]&&(null===(r=b.current)||void 0===r||r.setColor(x.colorList[o]));return Object(s.a)(Object(s.a)({},ao(a)),{},{currentControlId:o})}))}})}))})]})};function io(){var e=Object(nn.a)(["\n    line-height: 0;\n    cursor: pointer;\n    min-height: 26.13px;\n    &.menu-active {\n        outline: var(--bw-lg) solid var(--main-active);\n        &:hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.preset-item-focused {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    :hover {\n        outline: var(--bw-lg) solid var(--sub-active);\n    }\n    img {\n        max-width: 100%;\n    }\n"]);return io=function(){return e},e}function co(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: repeat(4, 120px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    &:focus-visible {\n        outline: none;\n        box-shadow: 0 0 0 2px var(--focus) inset;\n    }\n"]);return co=function(){return e},e}function lo(){var e=Object(nn.a)(["\n    line-height: 0;\n    cursor: pointer;\n    align-self: center;\n    text-align: center;\n    &:not(.menu-off) {\n        min-height: 23.2px;\n        &.menu-active {\n            outline: var(--bw-lg) solid var(--main-active);\n            &:hover {\n                outline: var(--bw-lg) solid var(--sub-active);\n            }\n        }\n        :hover {\n            outline: var(--bw-lg) solid var(--sub-active);\n        }\n    }\n    &.menu-off {\n        &:hover {\n            color: var(--main-link);\n            .anticon {\n                color: var(--main-link);\n            }\n        }\n    }\n    img {\n        max-width: 100%;\n        border: var(--bw) solid var(--sub-level-1);\n    }\n"]);return lo=function(){return e},e}function so(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 200px);\n    gap: var(--spacing-sm);\n    padding: var(--spacing-xs);\n    .alert {\n        grid-column: span 2;\n        font-size: var(--fs-sm);\n        text-align: center;\n    }\n"]);return so=function(){return e},e}function uo(){var e=Object(nn.a)(["\n    background-color: var(--main-level-4);\n    ","\n    padding: var(--spacing-xxs) var(--spacing-xs);\n    margin: calc(-1 * var(--spacing-xxs)) 0;\n    border-radius: var(--br-lg);\n    box-shadow: var(--bs-button);\n    color: var(--color-heavy);\n    cursor: pointer;\n    ","\n    &:hover {\n        background-color: var(--sub-level-4);\n    }\n"]);return uo=function(){return e},e}var fo=rn.b.div(uo(),(function(e){return e.$active?"border: var(--bw) solid var(--main-active);":"border: var(--bw) solid var(--sub-level-1);"}),(function(e){var t=e.$softMode,n=e.$active;return t?"\n                border: var(--bw) solid var(--main-level-4);\n                ".concat(n?"outline: var(--bw) solid var(--main-active);":"","\n            "):""})),bo=Object(rn.b)(Pa.Container)(so()),po=rn.b.div(lo()),mo=Object(rn.b)(Pa.Container)(co()),ho=rn.b.div(io()),go=n(283),vo=Object(o.forwardRef)((function(e,t){var n=e.className,r=e.defaultValue,i=e.fieldMap,c=e.labelMap,l=e.onChange,d=Rn(),f=i.x,b=i.y,p=i.color,m=i.width,h=Object(o.useState)((function(){var e=r[f],t=r[b],n=r[p],a=r[m];return{x:null!==e&&void 0!==e?e:0,y:null!==t&&void 0!==t?t:0,width:null!==a&&void 0!==a?a:0,color:n}})),g=Object(u.a)(h,2),v=g[0],j=g[1],x=v.x,y=v.y,O=v.color,w=v.width,k=c[m];return Object(o.useEffect)((function(){var e=!0;return setTimeout((function(){e&&l(v)}),500),function(){e=!1}}),[v]),Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t=Object.keys(e);for(var n in t)if(e[n]!==v[n])return void j((function(t){return Object(s.a)(Object(s.a)({},t),e)}))}}})),Object(a.jsxs)("div",{className:n,children:[Object(a.jsx)("h2",{children:d["input.name-style.slider.position.label"]}),Object(a.jsxs)("div",{className:"line-position",children:[Object(a.jsx)(go.a,{axis:"xy",styles:{track:{backgroundColor:"var(--main-slider)",width:100,height:100,gridRow:"span 3",position:"relative"},thumb:{backgroundColor:"var(--sub-slider)",zIndex:10}},xmax:5,xmin:-5,ymax:5,ymin:-5,x:null!==x&&void 0!==x?x:0,y:null!==y&&void 0!==y?y:0,onChange:function(e){var t=e.x,n=e.y;return j((function(e){return Object(s.a)(Object(s.a)({},e),{},{x:t,y:n})}))}}),Object(a.jsxs)("div",{className:"single-slider",children:[d["input.name-style.slider.x-offset.label"],": ",Object(a.jsx)(to.a,{size:"small",value:x,onChange:function(e){return j((function(t){return Object(s.a)(Object(s.a)({},t),{},{x:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})}))}})]}),Object(a.jsxs)("div",{className:"single-slider",children:[d["input.name-style.slider.y-offset.label"],": ",Object(a.jsx)(to.a,{size:"small",value:y,onChange:function(e){return j((function(t){return Object(s.a)(Object(s.a)({},t),{},{y:"number"===typeof e?e:parseInt(null!==e&&void 0!==e?e:"0")})}))}})]}),Object(a.jsxs)("div",{className:"single-slider",children:[k,": ",Object(a.jsx)(Wa,{value:w,min:1,max:10,onChange:function(e){"number"===typeof e&&j((function(t){return Object(s.a)(Object(s.a)({},t),{},{width:e})}))}})]})]}),Object(a.jsx)("h2",{children:d["input.name-style.slider.color.label"]}),Object(a.jsx)(Qa.b,{colors:st,color:O,onChangeComplete:function(e){return j((function(t){return Object(s.a)(Object(s.a)({},t),{},{color:e.hex})}))}})]})})),jo=Object(o.forwardRef)((function(e,t){var n=e.active,r=e.value,i=e.onClick,c=e.onCancel,l=Object(o.useRef)(null),d=Object(o.useState)(0),f=Object(u.a)(d,2),b=f[0],p=f[1];return Object(o.useImperativeHandle)(t,(function(){return{focus:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.focus()}}})),Object(a.jsx)(mo,Object(s.a)(Object(s.a)({ref:l},qt({stopPropagation:!0,optionLength:C.length,setFocus:p,onTrigger:function(){b>=0&&i(C[b])},onCancel:function(){null===c||void 0===c||c()}})),{},{children:C.map((function(e,t){var o=e.key,c=e.image,l=e.label;return Object(a.jsx)(ho,{className:tn("preset-item",r.preset===o&&n?"menu-active":"",b===t?"preset-item-focused":""),onClick:function(t){t.stopPropagation(),i(e)},children:Object(a.jsx)("img",{className:"preset-preview",src:"".concat("/ygocarder","/").concat(c),alt:l})},o)}))}))})),xo=(n(462),Object(o.forwardRef)((function(e,t){var n=e.frameInfo,r=e.defaultType,i=e.defaultValue,c=e.showExtraDecorativeOption,l=e.onChange,d=Rn(),f=Object(o.useRef)(null),b=Object(o.useState)(-1),p=Object(u.a)(b,2),m=p[0],h=p[1],g=Object(o.useState)(!1),v=Object(u.a)(g,2),j=v[0],y=v[1],O=Object(o.useState)(r),w=Object(u.a)(O,2),k=w[0],F=w[1],C=Object(o.useState)(i),T=Object(u.a)(C,2),N=T[0],L=T[1],E=function(){var e=Object(o.useState)(0),t=Object(u.a)(e,2),n=t[0],r=t[1];return[Object(o.useCallback)((function(){r((function(e){return e+1}))}),[]),n]}(),M=Object(u.a)(E,2),I=M[0],A=M[1],D=Object(o.useRef)(xn()(l,250)).current,W=Object(o.useCallback)((function(e,t){L((function(n){return Object(s.a)(Object(s.a)({},n),{},{gradientAngle:t,gradientColor:Vt(e)})})),I()}),[I]),B=An((function(e){return e.setting.reduceMotionColor})),z=Object(o.useMemo)((function(){return e=d,Object.values(ne).map((function(t){var n=t.value,r=t.labelKey;return{label:e[r],value:n}}));var e}),[d]);Object(o.useEffect)((function(){0!==A&&(F("custom"),D("custom",N))}),[A]);var P=Object(o.useRef)(null),H=Object(o.useRef)(null);Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t,n;L((function(t){return Object(s.a)(Object(s.a)({},t),e)}));var r=e.lineColor,a=e.lineWidth,o=e.lineOffsetX,i=e.lineOffsetY,c=e.shadowBlur,l=e.shadowColor,u=e.shadowOffsetX,d=e.shadowOffsetY;null===(t=P.current)||void 0===t||t.setValue({x:u,y:d,width:c,color:l}),null===(n=H.current)||void 0===n||n.setValue({x:o,y:i,width:a,color:r})}}}));var K=N.fillStyle,G=N.headTextFillStyle,Y=N.hasOutline,X=N.hasShadow,V=N.hasGradient,U=N.gradientColor,q=N.gradientAngle,J=N.pattern,$=N.font,_=null!==n&&void 0!==n?n:{},Z={background:_.labelBackgroundColor,backgroundImage:_.labelBackgroundImage},Q="custom"===k,ee="predefined"===k,te="name-style-option-input-container",re=function(){F("auto"),"auto"!==k&&D("auto",N)},ae=function(){var e,t=N.preset?null===(e=S[N.preset])||void 0===e?void 0:e.value:{};F("predefined"),L((function(e){return Object(s.a)(Object(s.a)({},e),t)})),D("predefined",Object(s.a)(Object(s.a)({},N),t))},oe=function(){F("custom"),"custom"!==k&&D("custom",N)};return Object(a.jsx)("div",{className:"ant-input-group-wrapper text-style-input",children:Object(a.jsxs)("span",{className:"ant-input-wrapper ant-input-group",children:[Object(a.jsx)("span",{className:"ant-input-group-addon",children:d["input.name-style.label"]}),Object(a.jsxs)("span",{className:"name-style-input-container",children:[Object(a.jsxs)("div",Object(s.a)(Object(s.a)({id:te,className:"ant-radio-group ant-radio-group-outline name-style-option-input-container"},qt({setFocus:h,optionLength:3,onKeyPress:function(e){if(1===m&&("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key))return e.preventDefault(),h(1),y(!0),setTimeout((function(){var e;1===m&&(null===(e=f.current)||void 0===e||e.focus())}),200),!1},onTrigger:function(){0===m&&re(),1===m&&ae(),2===m&&oe()}})),{},{children:[Object(a.jsxs)("label",{className:tn("ant-radio-wrapper","auto"===k&&"ant-radio-wrapper-checked",0===m&&"ant-radio-focused"),onClick:function(){return re()},children:[Object(a.jsxs)("span",{className:"ant-radio ".concat("auto"===k?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"auto"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label",children:d["input.name-style.type.auto.label"]})]}),Object(a.jsx)("span",{className:"name-style-option-break"}),Object(a.jsx)("label",{className:tn("ant-radio-wrapper",ee&&"ant-radio-wrapper-checked",1===m&&"ant-radio-focused"),onClick:function(){return ae()},children:Object(a.jsx)(pn.a,{visible:j,onVisibleChange:y,trigger:["hover","click"],placement:"bottomLeft",overlayClassName:"predefined-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(jo,{ref:f,active:ee,value:N,onCancel:function(){var e;y(!1),null===(e=document.getElementById(te))||void 0===e||e.focus()},onClick:function(e){var t,n=e.key,r=n?null===(t=S[n])||void 0===t?void 0:t.value:{};F("predefined"),L((function(e){return Object(s.a)(Object(s.a)({},e),r)})),D("predefined",Object(s.a)(Object(s.a)({},N),r))}})}),children:Object(a.jsxs)("span",{className:"name-style-option-label",children:[Object(a.jsxs)("span",{className:"ant-radio ".concat(ee?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"predefined"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label",children:d["input.name-style.type.predefined.label"]})]})})}),Object(a.jsx)("span",{className:"name-style-option-break"}),Object(a.jsx)("label",{className:tn("ant-radio-wrapper",Q&&"ant-radio-wrapper-checked",2===m&&"ant-radio-focused"),onClick:function(){return oe()},children:Object(a.jsxs)("span",{children:[Object(a.jsxs)("span",{className:"ant-radio ".concat(Q?"ant-radio-checked":""),children:[Object(a.jsx)("input",{tabIndex:-1,type:"radio",className:"ant-radio-input",value:"custom"}),Object(a.jsx)("span",{className:"ant-radio-inner"})]}),Object(a.jsx)("span",{className:"ant-radio-label ant-radio-label-custom",children:d["input.name-style.type.custom.label"]})]})})]})),Object(a.jsxs)("div",{className:"style-picker",children:[Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsxs)("div",{className:"custom-style-text",children:[Object(a.jsx)("h3",{children:d["input.name-style.color.text.label"]}),Object(a.jsx)(Qa.b,{colors:st,color:K,onChangeComplete:function(e){F("custom"),L((function(t){return Object(s.a)(Object(s.a)({},t),{},{fillStyle:e.hex})})),I()}})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"custom-style-text",children:[Object(a.jsx)("h3",{children:d["input.name-style.color.ruby.label"]}),Object(a.jsx)(Qa.b,{colors:st,color:G,onChangeComplete:function(e){F("custom"),L((function(t){return Object(s.a)(Object(s.a)({},t),{},{headTextFillStyle:e.hex})})),I()}})]})]})}),placement:"bottom",children:Object(a.jsxs)(fo,{$softMode:B,className:"picker-dropdown color-picker-dropdown",children:[d["input.name-style.color.label"]," ",Object(a.jsx)(eo.a,{})]})},"color-picker"),c&&Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(zr.a,{value:"has-shadow",checked:X,onChange:function(){F("custom"),L((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasShadow:!e.hasShadow})})),I()},children:d["input.name-style.shadow.toggle.label"]})}),X&&Object(a.jsx)(vo,{ref:P,className:"custom-style-shadow",fieldMap:{color:"shadowColor",width:"shadowBlur",x:"shadowOffsetX",y:"shadowOffsetY"},labelMap:{shadowBlur:d["input.name-style.slider.blur.label"]},defaultValue:N,onChange:function(e){var t=e.color,n=e.width,r=e.x,a=e.y;L((function(e){return Object(s.a)(Object(s.a)({},e),{},{shadowBlur:n,shadowColor:t,shadowOffsetX:r,shadowOffsetY:a})})),I()}})]})}),placement:"bottom",children:Object(a.jsxs)(fo,{$softMode:B,$active:Q&&X,className:"picker-dropdown shadow-picker-dropdown",children:[d["input.name-style.shadow.label"]," ",Object(a.jsx)(eo.a,{})]})},"shadow-picker"),Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(zr.a,{value:"has-line",checked:Y,onChange:function(){F("custom"),L((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasOutline:!e.hasOutline})})),I()},children:d["input.name-style.outline.toggle.label"]})}),Y&&Object(a.jsx)(vo,{ref:H,className:"custom-style-line",fieldMap:{color:"lineColor",width:"lineWidth",x:"lineOffsetX",y:"lineOffsetY"},labelMap:{lineWidth:d["input.name-style.slider.thickness.label"]},defaultValue:N,onChange:function(e){var t=e.color,n=e.width,r=e.x,a=e.y;L((function(e){return Object(s.a)(Object(s.a)({},e),{},{lineWidth:n,lineColor:t,lineOffsetX:r,lineOffsetY:a})})),I()}})]})}),placement:"bottom",children:Object(a.jsxs)(fo,{$softMode:B,$active:Q&&Y,className:"picker-dropdown outline-picker-dropdown",children:[d["input.name-style.outline.label"]," ",Object(a.jsx)(eo.a,{})]})},"outline-picker"),c&&Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)("div",{className:"custom-style-picker",children:[Object(a.jsx)("h3",{className:"custom-style-expand",children:Object(a.jsx)(zr.a,{value:"has-gradient",checked:V,onChange:function(){F("custom"),L((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasGradient:!e.hasGradient})})),I()},children:d["input.name-style.gradient.toggle.label"]})}),V&&Object(a.jsx)("div",{className:"custom-style-gradient",children:Object(a.jsx)(oo,{angle:q,palette:U,memoizedOnChange:W})})]})}),placement:"bottom",children:Object(a.jsxs)(fo,{$softMode:B,$active:Q&&V,className:"picker-dropdown gradient-picker-dropdown",children:[d["input.name-style.gradient.label"]," ",Object(a.jsx)(eo.a,{})]})},"gradient-picker"),c&&Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(bo,{onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)("div",{className:"alert",children:d["input.name-style.pattern.alert"]}),R.map((function(e){var t=e.key,n=e.patternImage;return Object(a.jsx)(po,{className:["pattern-option",N.pattern===t?"menu-active":"",n?"":"menu-off"].join(" "),onClick:function(){L((function(e){return Object(s.a)(Object(s.a)({},e),{},{pattern:t})})),I()},children:n?Object(a.jsx)("img",{style:n?Z:{},className:"pattern-image",src:"".concat("/ygocarder","/asset/image/finish-name/").concat(n,".png"),alt:t}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{})," ",d["input.name-style.pattern.no-pattern.label"]]})},t)}))]})}),placement:"bottomLeft",children:Object(a.jsx)(fo,{$softMode:B,$active:Q&&"string"===typeof J&&"none"!==J,className:"picker-dropdown pattern-picker-dropdown",children:d["input.name-style.pattern.label"]})},"pattern-picker"),Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay font-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Pa.Container,{children:z.map((function(e){var t=e.value,n=e.label;return Object(a.jsx)(Pa.Option,{className:$===t?"menu-active":"",onClick:function(){L((function(e){return Object(s.a)(Object(s.a)({},e),{},{font:t})})),I()},children:n},t)}))})}),placement:"bottomLeft",children:Object(a.jsx)(fo,{$softMode:B,className:"picker-dropdown font-picker-dropdown",children:d["input.name-style.font.label"]})},"font-picker")]})]})]})})})));function yo(){var e=Object(nn.a)(["\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tcolumn-gap: var(--spacing-xs);\n\t\trow-gap: var(--spacing-xs);\n\t\tbox-shadow: none;\n\t\tborder-radius: 0;\n\t\t&:focus-visible {\n\t\t\toutline: 3px solid var(--focus); // +1 width size to account for shadow\n\t\t}\n\t\t.ant-radio-button-wrapper:first-child,\n\t\t.ant-radio-button-wrapper:last-child {\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1;\n\t\t\twhite-space: nowrap;\n\t\t\tborder: none;\n\t\t\tbox-shadow: var(--bs-1);\n\t\t\tpadding: 0;\n\t\t\tmin-width: 90px;\n\t\t\theight: 28px;\n\t\t\tline-height: 28px;\n\t\t\ttext-align: center;\n\t\t\ttext-shadow: none;\n\t\t\tfont-size: var(--fs-sm);\n\t\t\t&:hover {\n\t\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\t\toutline-offset: var(--bw);\n\t\t\t}\n\t\t\t&::before {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t.ant-radio-button-wrapper-checked {\n\t\t\toutline: var(--bw) solid var(--main-active);\n\t\t\toutline-offset: var(--bw);\n\t\t}\n\t}\n"]);return yo=function(){return e},e}function Oo(){var e=Object(nn.a)(["\n    display: flex;\n    .checkbox-train-input-group,\n    .radio-train-input-group {\n        display: flex;\n        flex: 1 1 auto;\n\t\t&:focus-visible {\n\t\t\t.radio-train-focused,\n\t\t\t.checkbox-train-focused {\n\t\t\t\tbackground-color: var(--main-level-3);\n\t\t\t}\n\t\t}\n    }\n    .ant-radio-button-wrapper {\n        user-select: none;\n    }\n    .ant-radio-button-wrapper:first-child,\n    .ant-radio-button-wrapper:last-child {\n        border-radius: 0;\n    }\n    .ant-radio-button-wrapper:not(.ant-radio-button-wrapper-checked):first-child {\n        border-left-color: var(--sub-level-1);\n    }\n"]);return Oo=function(){return e},e}var wo=Object(rn.a)(Oo()),ko=Object(rn.a)(yo());function Fo(){var e=Object(nn.a)(["\n    ","\n"]);return Fo=function(){return e},e}var So=rn.b.div(Fo(),wo),Co=Object(o.forwardRef)((function(e,t){var n=e.onChange,r=e.value,i=e.optionList,c=e.children,l=e.suffix,d=e.className,f=e.strict,b=void 0!==f&&f,p=Object(o.useState)(-1),m=Object(u.a)(p,2),h=m[0],g=m[1],v=Object(o.useRef)(null),j=i.length;return Object(o.useImperativeHandle)(t,(function(){return{focus:function(){var e;return null===(e=v.current)||void 0===e?void 0:e.focus()}}})),Object(a.jsxs)(So,{className:["ant-radio-group ant-radio-group-outline radio-train",d].join(" "),children:[c&&Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:c}),Object(a.jsx)("div",Object(s.a)(Object(s.a)({ref:v,className:"radio-train-input-group"},qt({setFocus:g,optionLength:j,onTrigger:function(){var e=i[h];e&&n(e.value)}})),{},{children:i.map((function(e,t){var o=e.value,i=e.props,c=e.label,l=e.tooltipProps,u=(null!==i&&void 0!==i?i:{}).className,d=b?o===r:"".concat(o)==="".concat(r);return Object(a.jsx)(Pr.a,Object(s.a)(Object(s.a)({overlay:null},l),{},{children:Object(a.jsxs)("label",Object(s.a)(Object(s.a)({},i),{},{className:["ant-radio-button-wrapper",d?"ant-radio-button-wrapper-checked":"",null!==u&&void 0!==u?u:"",h===t?"radio-train-focused":""].join(" "),onClick:function(){return n(o)},children:[Object(a.jsx)("span",{className:"ant-radio-button ".concat(d?"ant-radio-button-checked":""),children:Object(a.jsx)("span",{className:"ant-radio-button-inner"})}),Object(a.jsx)("span",{className:"label",children:c})]}))}),o)}))})),l]})}));function To(){var e=Object(nn.a)(["\n\t","\n"]);return To=function(){return e},e}var Ro=Object(rn.b)(Co)(To(),ko),No=function(e){var t=e.onSTFrameChange,n=An().setting.showExtraDecorativeOption,r=Object(o.useMemo)((function(){return Ya().filter((function(e){return n||"normal"===e.edition}))}),[n]),i=Mn(Object(Wr.useShallow)((function(e){var t=e.card,n=e.setCard;return{frame:t.frame,setCard:n}}))),c=i.frame,l=i.setCard,u=Object(o.useCallback)((function(e){l((function(n){var r=n.typeAbility,a=n.isPendulum,o=n.attribute,i=n.format,c="".concat(e),l="spell"===c||"trap"===c,u="tcg"===i?{"Spell Card":"Spell Card","Trap Card":"Trap Card"}:be,d="spell"===c?[u["Spell Card"]]:"trap"===c?[u["Trap Card"]]:r;return l&&t(d),Object(s.a)(Object(s.a)({},n),{},{frame:c,isPendulum:"link"!==c&&a,attribute:l?"".concat(c).toUpperCase():o,typeAbility:d})}))}),[l,t]);return Object(a.jsx)(Ro,{className:"frame-radio",value:c,onChange:u,optionList:r})};function Lo(){var e=Object(nn.a)(["\n    ","\n"]);return Lo=function(){return e},e}var Eo=rn.b.div(Lo(),wo),Mo=function(e){var t=e.onChange,n=e.value,r=e.optionList,i=e.children,c=e.className,l=Object(o.useState)(-1),d=Object(u.a)(l,2),f=d[0],b=d[1],p=r.length;return Object(a.jsxs)(Eo,{className:["ant-radio-group ant-radio-group-outline checkbox-train",c].join(" "),children:[i&&Object(a.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:i}),Object(a.jsx)("div",Object(s.a)(Object(s.a)({className:"checkbox-train-input-group"},qt({setFocus:b,optionLength:p,onTrigger:function(){var e=r[f];if(e){var a=!!Array.isArray(n)&&n.includes("".concat(e.value));t(a?n.filter((function(t){return"".concat(e.value)!==t})):[].concat(Object(In.a)(n),["".concat(e.value)]))}}})),{},{children:r.map((function(e,r){var o=e.label,i=e.value,c=e.props,l=!!Array.isArray(n)&&n.includes("".concat(i));return Object(a.jsxs)("label",Object(s.a)(Object(s.a)({},c),{},{className:["ant-radio-button-wrapper",l?"ant-radio-button-wrapper-checked":"",f===r?"checkbox-train-focused":""].join(" "),onClick:function(){t(l?n.filter((function(e){return"".concat(i)!==e})):[].concat(Object(In.a)(n),["".concat(i)]))},children:[Object(a.jsx)("span",{className:"ant-radio-button ".concat(l?"ant-radio-button-checked":""),children:Object(a.jsx)("span",{className:"ant-radio-button-inner"})}),Object(a.jsx)("span",{className:"label",children:o})]}),i)}))}))]})};function Io(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: max-content max-content;\n    align-items: start;\n    gap: 0;\n    .card-image-source-input {\n        display: flex;\n        flex-direction: column-reverse;\n        .online-image-tip {\n            text-align: center;\n        }\n    }\n    .card-cropper {\n        width: 375px;\n        text-align: center;\n    }\n"]);return Io=function(){return e},e}var Ao=Object(rn.b)(Ea)(Io()),Do=Object(o.forwardRef)((function(e,t){var n=e.backgroundColor,r=e.children,i=e.receivingCanvas,c=e.onSourceLoaded,l=e.onTainted,u=e.onCropChange,d=Rn(),f=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{background:t.background,backgroundCrop:t.backgroundCrop,backgroundType:t.backgroundType,backgroundData:t.backgroundData,backgroundSource:t.backgroundSource,backgroundFit:t.backgroundFit,isPendulum:t.isPendulum,opacity:t.opacity,getUpdater:e.getUpdater,setCard:e.setCard}}))),b=f.background,p=f.backgroundCrop,m=f.backgroundType,h=f.backgroundData,g=f.backgroundSource,v=f.backgroundFit,x=f.isPendulum,y=f.opacity,O=f.getUpdater,w=f.setCard,k=Object(o.useRef)(null),F=Object(o.useMemo)((function(){return O("backgroundSource")}),[O]),S=Object(o.useMemo)((function(){return O("background")}),[O]),C=Object(o.useMemo)((function(){return O("backgroundData")}),[O]),T=Object(o.useCallback)((function(e){return w((function(t){return Object(s.a)(Object(s.a)({},t),{},{backgroundFit:e})}))}),[w]),R=Object(o.useCallback)((function(e,t){null===u||void 0===u||u(e,t),e&&w((function(t){return Object(s.a)(Object(s.a)({},t),{},{backgroundCrop:e})}))}),[u,w]);return Object(o.useImperativeHandle)(t,(function(){return{isLoading:function(){var e,t;return null!==(e=null===(t=k.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},hasImage:function(){var e,t;return null!==(e=null===(t=k.current)||void 0===t?void 0:t.hasImage())&&void 0!==e&&e},setValue:function(e){var t,n,r=e.background,a=e.backgroundCrop,o=e.backgroundData;"offline"===e.backgroundSource?"string"===typeof o&&a&&(null===(t=k.current)||void 0===t||t.forceSource("offline",o,a)):"string"===typeof r&&a&&(null===(n=k.current)||void 0===n||n.forceSource("online",r,a))}}})),Object(a.jsx)(Ao,{ref:k,title:d["input.background-image.label"],backgroundColor:n,defaultSourceType:g,defaultInternalSource:h,defaultExternalSource:b,defaultCropInfo:p,receivingCanvas:i,forceFit:v,onSourceChange:function(e,t){F(e),"offline"===e?C(t):S(t)},onCropChange:R,onTainted:l,onSourceLoaded:c,onForceFitChange:T,onMaxSizeExceeded:function(e){wn.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:j(x,y,m).ratio,beforeCropper:null,children:r})})),Wo=n(522);n(463);function Bo(){var e=Object(nn.a)(["\n    --input-width: 315px;\n    &.overlay-no-background-image {\n        .card-image-cropper {\n            grid-template-columns: 1fr;\n        }\n        .card-cropper {\n            min-height: 0;\n            line-height: 0;\n            width: 0;\n            visibility: hidden;\n            position: absolute;\n        }\n        .card-image-source-input {\n            padding-right: 0;\n            margin-right: 0;\n            border-right: none;\n        }\n        i {\n            max-width: var(--input-width); // Alignment\n        }\n    }\n    i {\n        display: inline-block;\n        font-size: var(--fs-sm);\n        color: var(--color);\n        font-weight: normal;\n    }\n    .background-picker {\n        padding: var(--spacing-xs);\n        /** No display none here, again we want to keep card cropper painted, just not visible */\n        &.overlay-no-background {\n            visibility: hidden;\n            height: 0;\n            width: 0;\n            padding: 0;\n        }\n        .card-image-input {\n            text-align: center;\n            max-width: var(--input-width);\n        }\n    }\n    .card-image-source-input {\n        height: 100%;\n        justify-content: start;\n        padding-right: var(--spacing-xs);\n        margin-right: var(--spacing-xs);\n        border-right: var(--bw) solid var(--sub-level-4);\n        .type-section h2 {\n            margin-top: var(--spacing-xs);\n        }\n        .color-section h2 {\n            padding-top: 0;\n            padding-left: 0;\n        }\n    }\n    .color-section {\n        > h2 + div {\n            > div:first-child {\n                box-shadow: none !important; // Override inline style\n            }\n            > div:nth-child(2) {\n                border: var(--bw) solid var(--main-level-1);\n            }\n        }\n    }\n"]);return Bo=function(){return e},e}function zo(){var e=Object(nn.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    padding: 2px 0;\n    align-items: center;\n    .slider-label,\n    .ant-slider,\n    .slider-padding {\n        border: var(--bw) solid var(--sub-level-1);\n        background-color: var(--main-level-4);\n    }\n    .slider-label {\n        display: inline-flex;\n        column-gap: var(--spacing-xs);\n        border-right: none;\n        padding: var(--spacing-xxs) var(--spacing-xs);\n        border-radius: var(--br) 0 0 var(--br);\n        box-shadow: var(--bs-input);\n        .ant-checkbox-wrapper {\n            transform: translateY(-1px); // Alignment\n        }\n    }\n    .ant-slider {\n        margin: 0;\n        border-left: none;\n        border-right: none;\n        height: 28px; // Alignment\n        padding-top: 11px; // Alignment\n    }\n    .slider-padding {\n        border-left: none;\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .ant-slider-rail,\n    .ant-slider-track {\n        border-radius: 0 var(--br) var(--br) 0;\n    }\n    .card-opacity-slider {\n        flex: 0 1 auto;\n        display: grid;\n        grid-template-columns: max-content 60px 45px 12px;\n        &.inactive {\n            .slider-label,\n            .ant-slider,\n            .slider-padding {\n                background-color: var(--main-level-3);\n            }\n        }\n    }\n    .ant-input-number.ant-input-number-sm {\n        height: 28px; // Alignment\n        width: unset;\n        border-radius: 0;\n        box-shadow: var(--bs-input);\n        .ant-input-number-input {\n            height: 26px; // Alignment\n        }\n    }\n    .background-preview {\n        display: inline-block;\n        line-height: 0;\n        width: 17px;\n        height: 17px; // Alignment\n        align-self: center;\n        border: 1px solid #333333;\n        cursor: pointer;\n        text-align: center;\n        user-select: none;\n        &:hover {\n            box-shadow: 0 0 2px 0 #222222;\n        }\n        .background-image-preview {\n            max-width: 15px;\n            max-height: 15px;\n        }\n        .no-background-icon {\n            font-size: 15px; // Alignment\n        }\n    }\n"]);return zo=function(){return e},e}function Po(){var e=Object(nn.a)(["\n    white-space: pre-line;\n"]);return Po=function(){return e},e}var Ho=rn.b.span(Po()),Ko=rn.b.div(zo()),Go=rn.b.div(Bo()),Yo=Object(o.forwardRef)((function(e,t){var n,r=e.receivingCanvas,i=e.defaultValue,c=e.onTainted,l=e.onChange,d=e.onSourceLoaded,f=e.onCropChange,b=Rn(),p=Mn(Object(Wr.useShallow)((function(e){var t=e.card,n=t.isPendulum;return{hasBackground:t.hasBackground,backgroundType:t.backgroundType,isPendulum:n,background:t.background,setCard:e.setCard,getUpdater:e.getUpdater}}))),m=p.hasBackground,v=p.backgroundType,j=p.isPendulum,x=p.background,y=p.setCard,O=p.getUpdater,w=Object(o.useState)(!0),k=Object(u.a)(w,2),F=k[0],S=k[1],C=Object(o.useState)(!0),T=Object(u.a)(C,2),R=T[0],N=T[1],L=Object(o.useState)(Object(s.a)(Object(s.a)({},g()),i)),E=Object(u.a)(L,2),M=E[0],I=E[1],A=Object(o.useRef)(null),D=Object(o.useMemo)((function(){return O("backgroundType")}),[O]),W=Object(o.useCallback)((function(e){return y((function(t){var n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},{hasBackground:n})}))}),[y]);Object(o.useEffect)((function(){var e=!0;return setTimeout((function(){e&&l(M)}),500),function(){e=!1}}),[M]),Object(o.useEffect)((function(){S(!1),setTimeout((function(){N(!1)}),250)}),[]),Object(o.useImperativeHandle)(t,(function(){return{isLoading:function(){var e,t;return null!==(e=null===(t=A.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:function(e){var t,n=e.background,r=e.backgroundCrop,a=e.backgroundData,o=e.backgroundSource,i=Object(Ct.a)(e,["background","backgroundCrop","backgroundData","backgroundSource"]);"string"!==typeof n&&"string"!==typeof a||!r||(null===(t=A.current)||void 0===t||t.setValue({background:n,backgroundCrop:r,backgroundData:a,backgroundSource:o}));for(var c in i)i[c]!==M[c]&&I((function(e){return Object(s.a)(Object(s.a)({},e),i)}))}}}));var B=0===(null!==x&&void 0!==x?x:"").length&&!0!==(null===(n=A.current)||void 0===n?void 0:n.hasImage());return Object(a.jsxs)(Ko,{className:"card-opacity-slider-container",children:[Object(a.jsx)(Pr.a,{overlayClassName:"long-tooltip-overlay",title:Object(a.jsx)(Ho,{children:b["input.opacity.boundless.tooltip"]}),children:Object(a.jsx)(zr.a,{className:"art-frame",onChange:function(e){return I((function(t){return Object(s.a)(Object(s.a)({},t),{},{boundless:e.target.checked})}))},checked:M.boundless,children:b["input.opacity.boundless.label"]})}),lt.map((function(e){var t,n,o,i=e.labelKey,l=e.type,u=e.subType,p=e.tooltipKey;if("pendulum"===l&&!j)return null;var g,y=!!u,O=u&&M[u];return Object(a.jsxs)("div",{className:["card-opacity-slider",O?"":"inactive"].join(" "),children:[Object(a.jsxs)("div",{className:"slider-label",children:["body"===l&&Object(a.jsx)(pn.a,{visible:F,destroyTooltipOnHide:!1,trigger:["click"],onVisibleChange:S,overlayClassName:["global-input-overlay global-style-picker-overlay layout-picker-overlay",F?"picker-visible":"",R?"picker-hidden":""].join(" "),content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsxs)(Go,{className:["custom-style-picker",B?"overlay-no-background-image":""].join(" "),children:[Object(a.jsxs)("h3",{className:"custom-style-expand ".concat(m?"":"inactive"),children:[Object(a.jsx)(zr.a,{checked:m,onChange:function(e){W(e)},children:b["input.background.toggle-label"]}),Object(a.jsx)("br",{}),Object(a.jsx)("i",{children:b["input.background.description"]})]}),Object(a.jsx)("div",{className:"background-picker ".concat(m?"":"overlay-no-background"),children:Object(a.jsx)(Do,{ref:A,receivingCanvas:r,onSourceLoaded:d,onTainted:c,onCropChange:f,backgroundColor:M.baseFill,children:Object(a.jsxs)("div",{className:"layout-picker-panel",children:[Object(a.jsxs)("div",{className:"layout-picker-subpanel color-section",children:[Object(a.jsx)("h2",{children:b["input.background-color.label"]}),Object(a.jsx)(Qa.b,{colors:st,color:M.baseFill,onChangeComplete:function(e){I((function(t){return Object(s.a)(Object(s.a)({},t),{},{baseFill:e.hex})}))}})]}),!B&&Object(a.jsxs)("div",{className:"layout-picker-subpanel type-section",children:[Object(a.jsx)("h2",{children:b["input.background-type.label"]}),Object(a.jsx)(Co,{onChange:D,optionList:(g={fit:b["input.background-type.fit.label"],full:b["input.background-type.full.label"]},[{value:"fit",label:g.fit},{value:"full",label:g.full}]),value:v})]})]})})})]})}),placement:"bottom",children:Object(a.jsx)("div",{className:"background-preview",style:{backgroundColor:m?M.baseFill:h},children:m?x?Object(a.jsx)("img",{className:"background-image-preview",src:x,alt:"Background"}):null:Object(a.jsx)(Wo.a,{className:"no-background-icon"})})}),y&&Object(a.jsx)(Pr.a,{title:p&&null!==(t=b[p])&&void 0!==t?t:null,overlayClassName:"long-tooltip-overlay",children:Object(a.jsx)(zr.a,{checked:O,onChange:function(e){return u&&I((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},u,e.target.checked))}))}})}),b[i]]}),Object(a.jsx)(to.a,{size:"small",min:0,max:100,onChange:function(e){return I((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},l,"number"===typeof e?e:100))}))},value:null!==(n=M[l])&&void 0!==n?n:100}),Object(a.jsx)(Wa,{min:0,max:100,step:5,onChange:function(e){return I((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},l,e))}))},value:null!==(o=M[l])&&void 0!==o?o:100}),Object(a.jsx)("div",{className:"slider-padding"})]},l)}))]})})),Xo=n(523),Vo=n(524),Uo=n(525);function qo(){var e=Object(nn.a)(["\n    .custom-star-input {\n        width: 6.5rem;\n    }\n    .checkbox-star-suffix {\n        display: flex;\n        flex-wrap: wrap;\n        column-gap: var(--spacing-sm);\n        row-gap: var(--spacing-xxs);\n        margin-left: var(--spacing-sm);\n    }\n"]);return qo=function(){return e},e}function Jo(){var e=Object(nn.a)(["\n    img.icon-image {\n        width: var(--fs-lg);\n    }\n"]);return Jo=function(){return e},e}var $o=Object(rn.b)(Pa.Container)(Jo()),_o=Object(rn.b)(Co)(qo()),Zo=Object(o.forwardRef)((function(e,t){var n=e.isLink,r=e.isMonster,i=e.showCreativeOption,c=Rn(),l=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{frame:t.frame,subFamily:t.subFamily,cardIcon:t.cardIcon,star:t.star,starAlignment:t.starAlignment,getUpdater:e.getUpdater}}))),s=l.frame,u=l.subFamily,d=l.cardIcon,f=l.star,b=l.starAlignment,p=l.getUpdater,m="dark-synchro"==={frame:s}.frame,h=ut({frame:s}),g=Object(o.useMemo)((function(){return p("cardIcon")}),[p]),v=Object(o.useMemo)((function(){return p("subFamily")}),[p]),j=Object(o.useMemo)((function(){return p("star")}),[p]),y=Object(o.useMemo)((function(){return p("starAlignment")}),[p]);Object(o.useImperativeHandle)(t,(function(){return{}}));var O,F="auto"===d?Va[r?h?"rank":m?"negative-level":"level":"st"]:Va[d],S=c[F.labelKey],C=i?Object(a.jsxs)(a.Fragment,{children:[S," ",Object(a.jsx)(eo.a,{})]}):S,T=Object(a.jsx)(pn.a,{trigger:["click"],overlayClassName:"global-input-overlay pattern-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)($o,{children:Ua.map((function(e){var t=e.fullLabelKey,n=e.value,r=e.icon;return Object(a.jsxs)(Pa.Option,{className:n===d?"menu-active":"",onClick:function(){return g(n)},children:[r?Object(a.jsxs)(a.Fragment,{children:[r,"\xa0"]}):null,c[t]]},n)}))})}),placement:"bottomRight",children:Object(a.jsx)("span",{className:"card-icon-dropdown ".concat("auto"===d?"":"active"," ").concat(i?"":"disabled"),children:C})},"icon-type-picker"),R=i?T:C;return n?null:"st"===F.value?Object(a.jsx)(Co,{className:"fill-input-train",value:u,onChange:v,optionList:(O=c,k.map((function(e){var t=e.value,n=e.nameKey;return{label:t===w?Object(a.jsx)(x.a,{}):Object(a.jsx)(Pr.a,{overlay:O[n],children:Object(a.jsx)("img",{alt:O[n],src:"".concat("/ygocarder","/asset/image/subfamily/subfamily-").concat(t.toLowerCase(),".png")})}),value:t}}))),children:R}):Object(a.jsx)(_o,{className:"checkbox-star-train",value:f,onChange:j,optionList:Xa,strict:!0,suffix:i&&Object(a.jsxs)("div",{className:"checkbox-star-suffix",children:[Object(a.jsx)(Oa.a,{className:"custom-star-input",value:"number"===typeof f?"":f,allowClear:!0,onChange:j,placeholder:c["input.icon-type.custom.placeholder"]}),Object(a.jsx)(Co,{value:b,onChange:y,optionList:[{value:"auto",tooltipProps:{overlay:c["input.icon-type.alignment.auto"]},label:Object(a.jsx)(x.a,{})},{value:"left",tooltipProps:{overlay:c["input.icon-type.alignment.left"]},label:Object(a.jsx)(Xo.a,{})},{value:"center",tooltipProps:{overlay:c["input.icon-type.alignment.center"]},label:Object(a.jsx)(Vo.a,{})},{value:"right",tooltipProps:{overlay:c["input.icon-type.alignment.right"]},label:Object(a.jsx)(Uo.a,{})}]})]}),children:R})})),Qo=new Set(["1","2","3","4","5"]),ei=function(e,t,n,r,a,o){var i=e.substring(n,r),c="\n"===e[r]||!a,l=i,s=2;switch(t){case"1":l="[".concat(i,"]").concat(c?"":"\n"),s=c?2:3;break;case"2":l="{".concat(i,"}");break;case"3":l="{".concat(i,"|}");break;case"4":l="{".concat(i,"||}"),s=3;break;case"5":l="{{".concat(i,"}}"),s=4}o(e.substring(0,n)+"".concat(l)+e.substring(r,e.length),r+s)},ti=function(e){var t=e.id,n=e.placement;if(t&&n>=0){var r,a=document.querySelector("#".concat(t));a&&(null!==(r=a.selectionEnd)&&void 0!==r?r:-1)>=0&&(a.selectionEnd=n)}},ni=Oa.a.TextArea,ri=Object(o.forwardRef)((function(e,t){var n=e.id,r=e.allowHotkey,i=e.defaultValue,c=e.onTakePicker,l=e.onChange,d=e.onKeyDown,f=e.className,b=Object(Ct.a)(e,["id","allowHotkey","defaultValue","onTakePicker","onChange","onKeyDown","className"]),p=Object(o.useRef)(i),m=Object(o.useState)(i),h=Object(u.a)(m,2),g=h[0],v=h[1],j=Object(o.useState)({id:"",placement:-1}),x=Object(u.a)(j,2),y=x[0],O=x[1],w=Object(o.useCallback)((function(e){var t="string"===typeof e?e:e.target.value;p.current=t,v(t)}),[]);Object(o.useEffect)((function(){ti(y)}),[y]),Object(o.useEffect)((function(){l({target:{value:g}})}),[g]);var k=function(e){e!==p.current&&w(e)};return Object(o.useImperativeHandle)(t,(function(){return{setValue:k,getPickerRef:function(){return n?{id:n,setValue:k}:null}}})),Object(a.jsx)(ni,Object(s.a)({id:n,autoComplete:"off",onFocus:function(){return n&&(null===c||void 0===c?void 0:c({id:n,setValue:k}))},allowClear:!0,spellCheck:!1,className:"".concat(n,"-input ").concat(f),value:g,onKeyDown:function(e){var t,a;if(null===d||void 0===d||d(e),r){var o=e.ctrlKey,i=e.key,c=e.metaKey,l=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,s=null!==(a=e.currentTarget.selectionEnd)&&void 0!==a?a:-1;(o||c)&&n&&s!==l&&Qo.has(i)&&(e.preventDefault(),ei(e.currentTarget.value,i,l,s,!0,(function(e,t){w(e),O({id:n,placement:t})})))}},onChange:w},b))})),ai=Object(o.forwardRef)((function(e,t){var n=e.id,r=e.defaultValue,i=e.onTakePicker,c=e.onChange,l=e.onKeyDown,d=e.className,f=Object(Ct.a)(e,["id","defaultValue","onTakePicker","onChange","onKeyDown","className"]),b=An().setting.allowHotkey,p=Object(o.useRef)(r),m=Object(o.useState)(r),h=Object(u.a)(m,2),g=h[0],v=h[1],j=Object(o.useState)({id:"",placement:-1}),x=Object(u.a)(j,2),y=x[0],O=x[1],w=Object(o.useCallback)((function(e){var t="string"===typeof e?e:e.target.value;p.current=t,v(t)}),[]);Object(o.useEffect)((function(){ti(y)}),[y]),Object(o.useEffect)((function(){c({target:{value:g}})}),[g]);var k=function(e){e!==g&&w(e)};return Object(o.useImperativeHandle)(t,(function(){return{setValue:k}})),Object(a.jsx)(Oa.a,Object(s.a)({id:n,autoComplete:"off",onFocus:function(){return n&&(null===i||void 0===i?void 0:i({id:n,setValue:k}))},allowClear:!0,className:"".concat(n,"-input ").concat(d),value:g,onKeyDown:function(e){var t,r;if(null===l||void 0===l||l(e),b){var a=e.ctrlKey,o=e.key,i=e.metaKey,c=null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:-1,s=null!==(r=e.currentTarget.selectionEnd)&&void 0!==r?r:-1;(a||i)&&n&&s!==c&&Qo.has(o)&&(e.preventDefault(),ei(e.currentTarget.value,o,c,s,!1,(function(e,t){w(e),O({id:n,placement:t})})))}},onChange:function(e){return w(e.target.value)}},f))})),oi=Object(o.forwardRef)((function(e,t){var n=e.onTakePicker,r=Mn((function(e){return e.getUpdater})),i=Object(o.useRef)(null),c=Object(o.useMemo)((function(){return r("effect",void 0,"debounce")}),[r]);return Object(o.useEffect)((function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.getPickerRef();t&&(null===n||void 0===n||n(t))}),[]),Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t;null===(t=i.current)||void 0===t||t.setValue(e)}}})),Object(a.jsx)(ri,{ref:i,id:"effect",allowHotkey:!0,defaultValue:Mn.getState().card.effect,onChange:c,onTakePicker:n,rows:9})}));function ii(){var e=Object(nn.a)(["\n    align-self: center;\n    text-align: right;\n    .ant-checkbox + span {\n        user-select: none;\n    }\n"]);return ii=function(){return e},e}var ci=rn.b.div(ii()),li=function(e){var t=Rn(),n=Mn(Object(Wr.useShallow)((function(e){var t=e.card,n=e.setCard;return{isSpeedCard:t.isSpeedCard,isDuelTerminalCard:t.isDuelTerminalCard,isFirstEdition:t.isFirstEdition,isLimitedEdition:t.isLimitedEdition,isLegacyCard:t.isLegacyCard,setCard:n}}))),r=n.isDuelTerminalCard,i=n.isFirstEdition,c=n.isSpeedCard,l=n.isLimitedEdition,u=n.isLegacyCard,d=n.setCard,f=Object(o.useCallback)((function(e){return d((function(t){var n;return n=e.target.checked?u?{isDuelTerminalCard:!1,isFirstEdition:!0,isLimitedEdition:!1,isSpeedCard:!1}:{isFirstEdition:!0,isLimitedEdition:!1}:{isFirstEdition:!1},Object(s.a)(Object(s.a)({},t),n)}))}),[d,u]),b=Object(o.useCallback)((function(e){return d((function(t){var n;return n=e.target.checked?u?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!0,isSpeedCard:!1}:{isFirstEdition:!1,isLimitedEdition:!0}:{isLimitedEdition:!1},Object(s.a)(Object(s.a)({},t),n)}))}),[d,u]),p=Object(o.useCallback)((function(e){return d((function(t){var n;return n=e.target.checked?u?{isDuelTerminalCard:!0,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!1}:{isSpeedCard:!1,isDuelTerminalCard:!0}:{isDuelTerminalCard:!1},Object(s.a)(Object(s.a)({},t),n)}))}),[d,u]),m=Object(o.useCallback)((function(e){return d((function(t){var n;return n=e.target.checked?u?{isDuelTerminalCard:!1,isFirstEdition:!1,isLimitedEdition:!1,isSpeedCard:!0}:{isDuelTerminalCard:!1,isSpeedCard:!0}:{isSpeedCard:!1},Object(s.a)(Object(s.a)({},t),n)}))}),[d,u]),h=Object(o.useCallback)((function(e){return d((function(t){var n=e.target.checked,r=t.isDuelTerminalCard,a=t.isFirstEdition,o=t.isLimitedEdition,i=t.isSpeedCard,c=!1,l=!1,u=!1,d=!1;return n?u=!((c=!(d=!(l=a)&&i)&&!l&&r)||l||u)&&o:(u=!(l=a)&&o,c=!(d=i)&&r),Object(s.a)(Object(s.a)({},t),{},{isLegacyCard:n,isDuelTerminalCard:c,isFirstEdition:l,isLimitedEdition:u,isSpeedCard:d})}))}),[d]);return Object(a.jsxs)(ci,{className:"checkbox-input",children:[Object(a.jsx)(Pr.a,{overlayClassName:"long-tooltip-overlay",overlay:t["input.legacy.tooltip"],children:Object(a.jsx)(zr.a,{className:"input-legacy",onChange:h,checked:u,tabIndex:0,children:t["input.legacy.label"]})}),Object(a.jsx)(zr.a,{className:"input-1st",onChange:f,checked:i,tabIndex:0,children:t["input.1st-edition.label"]}),Object(a.jsx)(zr.a,{className:"input-limited",onChange:b,checked:l,tabIndex:0,children:t["input.limited-edition.label"]}),Object(a.jsx)(zr.a,{className:"input-speed",onChange:m,checked:c,tabIndex:0,children:t["input.speed-duel.label"]}),Object(a.jsx)(zr.a,{className:"input-terminal",onChange:p,checked:r,tabIndex:0,children:t["input.duel-terminal.label"]})]})},si=n(526),ui=n(527);function di(){var e=Object(nn.a)(['\n    &.radio-train {\n        .ant-radio-button-wrapper-checked {\n            &.ocg-button {\n                background-color: var(--main-red-scale);\n                border-color: var(--sub-red-scale);\n                &:not([class*=" ant-radio-button-wrapper-disabled"]).ant-radio-button-wrapper:first-child {\n                    border-right-color: var(--sub-red-scale);\n                }\n                &:not(.ant-radio-button-wrapper-disabled):first-child {\n                    border-color: var(--sub-red-scale);\n                }\n                &:hover {\n                    background-color: var(--sub-red-scale);\n                    color: var(--color-heavy);\n                }\n            }\n            &.tcg-button {\n                background-color: var(--main-blue-scale);\n                border-color: var(--sub-blue-scale);\n                &:hover {\n                    background-color: var(--sub-blue-scale);\n                    color: var(--color-heavy);\n                }\n            }\n        }\n        .ocg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-red-scale);\n            }\n        }\n        .tcg-button {\n            color: var(--color-heavy);\n            &:hover {\n                color: var(--sub-blue-scale);\n            }\n        }\n    }\n']);return di=function(){return e},e}function fi(){var e=Object(nn.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: var(--spacing-sm);\n    flex-wrap: wrap;\n    row-gap: var(--spacing-sm);\n"]);return fi=function(){return e},e}function bi(){var e=Object(nn.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t.input-label {\n\t\tflex: 1;\n\t}\n"]);return bi=function(){return e},e}function pi(){var e=Object(nn.a)(["\n    padding: var(--spacing-xs);\n    .radio-train {\n        display: flex;\n        flex-wrap: wrap;\n        max-width: 550px;\n        .radio-train-input-group {\n            gap: var(--spacing);\n        }\n    }\n    .ant-checkbox-wrapper {\n        color: var(--color-heavy);\n    }\n    .frame-auto-checkbox {\n        margin-bottom: var(--spacing-xs);\n    }\n    ","\n"]);return pi=function(){return e},e}var mi=Object(rn.b)(Pa.Container)(pi(),ko),hi=rn.b.div(bi()),gi=rn.b.div(fi()),vi=Object(rn.b)(Co)(di()),ji=n(512),xi=n(502);function yi(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-sm);\n    .checkbox-input {\n        align-self: center;\n        .ant-checkbox + span {\n            user-select: none;\n        }\n    }\n    .sticker-input,\n    .checkbox-input {\n        grid-column: span 2;\n    }\n    .sticker-input .ant-radio-button-wrapper {\n        padding-left: var(--spacing-sm);\n        padding-right: var(--spacing-sm);\n    }\n"]);return yi=function(){return e},e}var Oi=rn.b.div(yi()),wi=Object(o.forwardRef)((function(e,t){var n=e.isMonster,r=e.showCreativeOption,i=e.onTakePicker,c=Rn(),l=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{sticker:t.sticker,format:t.format,getUpdater:e.getUpdater}}))),s=l.sticker,u=l.format,d=l.getUpdater,f=Object(o.useRef)(null),b=Object(o.useRef)(null),p=Object(o.useRef)(null),m=Object(o.useRef)(null),h=u&&de[u]?de[u]:de.tcg,g=Object(o.useMemo)((function(){return d("atk",(function(e){return"string"===typeof e?e.trim():e}))}),[d]),v=Object(o.useMemo)((function(){return d("def",(function(e){return"string"===typeof e?e.trim():e}))}),[d]),j=Object(o.useMemo)((function(){return d("password",void 0,"debounce")}),[d]),x=Object(o.useMemo)((function(){return d("sticker")}),[d]),y=Object(o.useMemo)((function(){return d("creator",void 0,"debounce")}),[d]);return Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t,n,r,a,o=e.password,i=e.creator,c=e.atk,l=e.def;"string"===typeof c&&(null===(t=p.current)||void 0===t||t.setValue(c)),"string"===typeof l&&(null===(n=m.current)||void 0===n||n.setValue(l)),"string"===typeof o&&(null===(r=f.current)||void 0===r||r.setValue(o)),"string"===typeof i&&(null===(a=b.current)||void 0===a||a.setValue(i))}}})),Object(a.jsxs)(Oi,{className:"card-footer-input",children:[(n||r)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ai,{ref:p,id:"atk",addonBefore:c["input.atk.label"],defaultValue:Mn.getState().card.atk,onChange:g,onTakePicker:i}),Object(a.jsx)(ai,{ref:m,id:"def",addonBefore:c["input.def.label"],defaultValue:Mn.getState().card.def,onChange:v,onTakePicker:i})]}),Object(a.jsx)(ai,{ref:f,id:"password",addonBefore:Object(a.jsxs)(hi,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:c["input.password.label"]}),Object(a.jsx)(ya,{onClick:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.setValue("".concat(Jt("0123456789",8)))},Icon:si.a,tooltipProps:{overlay:c["button.randomize.label"]}})]}),defaultValue:Mn.getState().card.password,onChange:j,onTakePicker:i}),Object(a.jsx)(ai,{ref:b,id:"creator",addonBefore:Object(a.jsxs)(hi,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:c["input.copyright.label"]}),Object(a.jsx)(ji.a,{className:"save-button-dropdown",placement:"topLeft",arrow:!0,overlay:Object(a.jsx)(xi.a,{onClick:function(e){return e.domEvent.stopPropagation()},children:h.map((function(e,t){return Object(a.jsx)(xi.a.Item,{onClick:function(){var t;null===(t=b.current)||void 0===t||t.setValue(e)},children:e},"".concat(t))}))}),children:Object(a.jsx)("div",{children:Object(a.jsx)(ya,{onClick:function(){},Icon:ui.a})})})]}),defaultValue:Mn.getState().card.creator,onChange:y,onTakePicker:i}),Object(a.jsx)(li,{}),Object(a.jsx)(Co,{className:"sticker-input fill-input-train",value:s,onChange:x,optionList:qa,children:Object(a.jsx)("span",{children:c["input.sticker.label"]})})]})}));function ki(){var e=Object(nn.a)(["\n    .ant-input-group-addon {\n        flex: 0;\n    }\n    .radio-train-input-group .ant-radio-button-wrapper {\n        min-width: unset;\n    }\n"]);return ki=function(){return e},e}var Fi=Object(rn.b)(Co)(ki()),Si=Object(o.forwardRef)((function(e,t){var n=e.isLink,r=e.showExtraDecorativeOption,i=e.receivingCanvas,c=e.onSourceLoaded,l=e.onTainted,u=e.onCropChange,d=Rn(),f=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{opacity:t.opacity,artFinish:t.artFinish,linkMap:t.linkMap,isPendulum:t.isPendulum,art:t.art,artCrop:t.artCrop,artData:t.artData,artSource:t.artSource,artFit:t.artFit,getUpdater:e.getUpdater,setCard:e.setCard}}))),b=f.opacity,p=f.artFinish,m=f.linkMap,h=f.isPendulum,g=f.art,v=f.artCrop,x=f.artData,y=f.artSource,O=f.artFit,w=f.getUpdater,k=f.setCard,F=Object(o.useRef)(null),S=Object(o.useMemo)((function(){return w("linkMap")}),[w]),C=Object(o.useMemo)((function(){return w("art")}),[w]),T=Object(o.useMemo)((function(){return w("artData")}),[w]),R=Object(o.useCallback)((function(e){return k((function(t){return Object(s.a)(Object(s.a)({},t),{},{artFit:e})}))}),[k]),N=Object(o.useMemo)((function(){return w("artSource")}),[w]),L=Object(o.useMemo)((function(){return w("artFinish")}),[w]),E=Object(o.useCallback)((function(e,t){null===u||void 0===u||u(e,t),e&&k((function(t){return Object(s.a)(Object(s.a)({},t),{},{artCrop:e})}))}),[u,k]);return Object(o.useImperativeHandle)(t,(function(){return{isLoading:function(){var e,t;return null!==(e=null===(t=F.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e},setValue:function(e){var t,n,r=e.art,a=e.artCrop,o=e.artData;"offline"===e.artSource?"string"===typeof o&&a&&(null===(t=F.current)||void 0===t||t.forceSource("offline",o,a)):"string"===typeof r&&a&&(null===(n=F.current)||void 0===n||n.forceSource("online",r,a))}}})),Object(a.jsx)(Ea,{ref:F,title:d["input.card-art.label"],defaultSourceType:y,defaultExternalSource:g,defaultInternalSource:x,defaultCropInfo:v,forceFit:O,receivingCanvas:i,onSourceChange:function(e,t){N(e),"offline"===e?T(t):C(t)},onCropChange:E,onTainted:l,onSourceLoaded:c,onForceFitChange:R,onMaxSizeExceeded:function(e){wn.a.error({description:d["error.max-size.description"](e),message:d["error.max-size.message"]})},ratio:j(h,b).ratio,beforeCropper:r?Object(a.jsx)(Fi,{className:"art-finish-checkbox fill-input-train",value:p,onChange:L,optionList:Ga,children:Object(a.jsx)("span",{className:"field-title",children:d["input.art-finish.label"]})}):null,children:n?Object(a.jsx)(Ma,{defaultValue:m,onChange:S}):Object(a.jsx)("div",{})})}));function Ci(){var e=Object(nn.a)(["\n    cursor: pointer;\n"]);return Ci=function(){return e},e}function Ti(){var e=Object(nn.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-sm);\n    width: 100%;\n    .name-input {\n        flex: 3;\n        min-width: 400px;\n    }\n    .set-id-input {\n        flex: 1;\n        min-width: 250px;\n    }\n"]);return Ti=function(){return e},e}var Ri=rn.b.div(Ti()),Ni=rn.b.span(Ci()),Li=Object(o.forwardRef)((function(e,t){var n=e.onTakePicker,r=Rn(),i=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{name:t.name,format:t.format,getUpdater:e.getUpdater}}))),c=i.name,l=i.format,s=i.getUpdater,u=Object(o.useRef)(null),d=Object(o.useRef)(null),f=Object(o.useMemo)((function(){return s("setId")}),[s]),b=Object(o.useMemo)((function(){return s("name",void 0,"debounce")}),[s]);return Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t,n,r=e.name,a=e.setId;"string"===typeof r&&(null===(t=u.current)||void 0===t||t.setValue(r)),"string"===typeof a&&(null===(n=d.current)||void 0===n||n.setValue(a))}}})),Object(a.jsxs)(Ri,{className:"name-id-input",children:[Object(a.jsx)(ai,{ref:u,id:"name",defaultValue:c,addonBefore:Object(a.jsx)(Pr.a,{title:r["input.name.tooltip"],children:Object(a.jsx)(Ni,{onClick:function(){navigator.clipboard.writeText(Tt(c))},children:r["input.name.label"]})}),onChange:b,onTakePicker:n}),Object(a.jsx)(ai,{ref:d,id:"set-id",defaultValue:Mn.getState().card.setId,addonBefore:Object(a.jsxs)(hi,{className:"input-label-with-button",children:[Object(a.jsx)("div",{className:"input-label",children:r["input.set-id.label"]}),Object(a.jsx)(ya,{onClick:function(){var e;return null===(e=d.current)||void 0===e?void 0:e.setValue(function(e){return Jt("ABCDEFGHIJKLMNOPQRSTUVWXYZ",4)+"-"+("OCG"===e?"JP":"EN")+Jt("0000000000111111111122222222223456789",1)+Jt("0123456789",2)}(l))},Icon:si.a,tooltipProps:{overlay:r["button.randomize.label"]}})]}),onChange:f,onTakePicker:n})]})}));function Ei(){var e=Object(nn.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: var(--spacing-sm);\n    row-gap: var(--spacing-sm);\n    .red-scale {\n        color: var(--sub-red-scale);\n    }\n    .blue-scale {\n        color: var(--sub-blue-scale);\n    }\n    .joined-row {\n        position: 'relative';\n        grid-column: span 2;\n        .standalone-label {\n            min-width: 0;\n            width: unset;\n            padding-left: var(--spacing-antd);\n        }\n        .pendulum-checkbox {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n            line-height: 32px;\n            text-align: right;\n            font-weight: 500;\n            margin-right: 0;\n            padding-right: var(--spacing);\n            > span {\n                padding-right: 0;\n            }\n        }\n        .pendulum-checkbox-placeholder {\n            display: inline-block;\n            /** Alignment **/\n            width: var(--width-label);\n        }\n        .pendulum-frame-input {\n            margin-right: var(--spacing-lg);\n        }\n        .ant-checkbox-wrapper + .ant-checkbox-wrapper {\n            margin-left: 0;\n        }\n    }\n"]);return Ei=function(){return e},e}function Mi(){var e=Object(nn.a)(["\n    display: inline-flex;\n    cursor: pointer;\n    box-shadow: var(--bs-input);\n    vertical-align: bottom;\n    box-shadow: var(--bs-button);\n    border-radius: var(--br-lg);\n    &:focus-visible {\n        outline: 2px solid var(--focus);\n    }\n    .pendulum-frame-info-block {\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        line-height: 2; // Alignment\n        background-color: var(--main-level-4);\n        min-width: 110px;\n        overflow: hidden;\n        border: var(--bw) solid var(--sub-level-1);\n        .frame-info-block-label {\n            padding: var(--spacing-px) var(--spacing-xs);\n        }\n    }\n    .pendulum-frame-label {\n        display: inline-block;\n        background: var(--main-level-4);\n        border: var(--bw) solid var(--sub-level-1);\n        border-right: none;\n        padding: var(--spacing-px) var(--spacing-xs);\n        border-radius: var(--br-lg) 0 0 var(--br-lg);\n        line-height: 2; // Alignment\n        &:last-child {\n            border-radius: var(--br-lg);\n            border-right: var(--bw) solid var(--sub-level-1);\n        }\n    }\n"]);return Mi=function(){return e},e}var Ii=Object(o.forwardRef)((function(e,t){var n=e.frameList,r=e.pendulumFrame,i=e.onChange,c=e.onCancel,l=Rn(),d=Object(o.useRef)("auto"===r?"spell":r),f=Object(o.useRef)(null),b=Object(o.useState)(0),p=Object(u.a)(b,2),m=p[0],h=p[1];return Object(o.useImperativeHandle)(t,(function(){return{focus:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.focus()}}})),Object(a.jsxs)(mi,Object(s.a)(Object(s.a)({className:"pendulum-frame-picker"},qt({stopPropagation:!0,optionLength:n.length,setFocus:h,onTrigger:function(){m>=0&&i(n[m].value)},onCancel:c})),{},{children:[Object(a.jsx)(zr.a,{ref:f,className:"frame-auto-checkbox",checked:"auto"===r,onChange:function(e){i(e.target.checked?"auto":d.current)},children:l["input.frame.auto"]}),Object(a.jsx)(Co,{className:"frame-radio",value:r,onChange:i,optionList:n})]}))})),Ai=rn.b.div(Mi()),Di=rn.b.div(Ei()),Wi=Object(o.forwardRef)((function(e,t){var n=e.showCreativeOption,r=e.showExtraDecorativeOption,i=e.onTakePicker,c=Rn(),l=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{frame:t.frame,isPendulum:t.isPendulum,pendulumFrame:t.pendulumFrame,pendulumScaleBlue:t.pendulumScaleBlue,pendulumScaleRed:t.pendulumScaleRed,setCard:e.setCard,getUpdater:e.getUpdater}}))),d=l.frame,f=l.isPendulum,b=l.pendulumFrame,p=l.pendulumScaleBlue,m=l.pendulumScaleRed,h=l.setCard,g=l.getUpdater,v=Object(o.useRef)(null),j=Object(o.useRef)(null),x=Object(o.useRef)(null),y=Object(o.useState)(!0),O=Object(u.a)(y,2),w=O[0],k=O[1],F=Object(o.useState)(!1),S=Object(u.a)(F,2),C=S[0],T=S[1],R=Object(o.useRef)("auto"===b?"spell":b),N=Object(o.useMemo)((function(){return g("pendulumScaleRed")}),[g]),L=Object(o.useMemo)((function(){return g("pendulumScaleBlue")}),[g]),E=Object(o.useMemo)((function(){return g("pendulumEffect",void 0,"debounce")}),[g]),M=Object(o.useMemo)((function(){return Ya().filter((function(e){return r||"normal"===e.edition}))}),[r]);Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t,n=e.pendulumEffect;n&&(null===(t=x.current)||void 0===t||t.setValue(n))}}}));var I=pe[b];return Object(a.jsxs)(Di,{className:"pendulum-input",children:[Object(a.jsxs)("div",{className:"joined-row pendulum-option",children:["link"!==d?Object(a.jsx)("div",{className:"pendulum-checkbox",children:Object(a.jsx)(zr.a,{onChange:function(e){return h((function(t){var n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},{isPendulum:n})}))},checked:f,children:c["input.pendulum.label"]})}):Object(a.jsx)("div",{className:"pendulum-checkbox-placeholder"}),n&&Object(a.jsx)(pn.a,{visible:C,onVisibleChange:T,trigger:["hover","click"],placement:"bottom",overlayClassName:"pendulum-frame-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(Ii,{ref:j,frameList:M,pendulumFrame:b,onCancel:function(){var e;T(!1),null===(e=v.current)||void 0===e||e.focus()},onChange:function(e){var t="".concat(e);"auto"!==t&&(R.current=t),h((function(e){return Object(s.a)(Object(s.a)({},e),{},{pendulumFrame:t})}))}})}),children:Object(a.jsxs)(Ai,{ref:v,className:"pendulum-frame-input",tabIndex:0,onKeyDown:function(e){if("ArrowDown"===e.key||"Enter"===e.key||"  "===e.key)return T(!0),setTimeout((function(){var e;null===(e=j.current)||void 0===e||e.focus()}),200),!1},children:[Object(a.jsxs)("span",{className:"pendulum-frame-label",children:[c["input.bottom-frame.label"]," ",Object(a.jsx)(eo.a,{})]}),I?Object(a.jsx)(va,Object(s.a)({className:"pendulum-frame-info-block"},I)):Object(a.jsx)(va,{className:"pendulum-frame-info-block",nameKey:"input.frame.auto"})]})}),f&&n&&Object(a.jsx)(zr.a,{onChange:function(e){return k(e.target.checked)},checked:w,children:c["input.mirror-scale.label"]})]}),f&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(Oa.a,{addonBefore:Object(a.jsx)("span",{children:c["input.scale.label"](Object(a.jsx)("span",{className:"blue-scale",children:c["input.scale.blue.label"]},"blue-scale"))}),value:p,onChange:function(e){L(e),w&&N(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(Oa.a,{addonBefore:Object(a.jsx)("span",{children:c["input.scale.label"](Object(a.jsx)("span",{className:"red-scale",children:c["input.scale.red.label"]},"red-scale"))}),value:m,onChange:function(e){w&&L(e),N(e)}})}),Object(a.jsx)("div",{className:"joined-row",children:Object(a.jsx)(ri,{ref:x,id:"pendulum-effect",allowHotkey:!0,defaultValue:Mn.getState().card.pendulumEffect,onChange:E,onTakePicker:i,rows:5})})]})]})}));function Bi(){var e=Object(nn.a)(['\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-areas:\n        "type-input input-helper"\n        "condense-input help-button";\n    gap: var(--spacing-sm);\n    align-items: center;\n    .formatting-help-button {\n        grid-area: help-button;\n        &:focus {\n            box-shadow: 0 0 0 2px var(--focus);\n        }\n    }\n    .input-kanji-helper {\n        grid-area: input-helper;\n    }\n    .type-ability-input {\n        grid-area: type-input;\n    }\n    .condense-input {\n        grid-area: condense-input;\n\t\t.standalone-addon.ant-input-group-addon {\n\t\t\twidth: unset;\n\t\t}\n\t\t.ant-radio-button-wrapper {\n\t\t\tflex: 1 1 90px;\n\t\t}\n\t}\n    &.variant-tcg {\n        .type-ability-input {\n            grid-column: span 2;\n        }\n    }\n']);return Bi=function(){return e},e}var zi=rn.b.div(Bi()),Pi=Object(o.forwardRef)((function(e,t){var n=e.onTakePicker,r=Rn(),i=Mn(Object(Wr.useShallow)((function(e){var t=e.card,n=t.frame,r=t.cardIcon,a=t.format,o=t.furiganaHelper,i=t.effectStyle,c=e.setCard,l=e.getUpdater;return{frame:n,cardIcon:r,format:a,furiganaHelper:o,condenseTolerant:null===i||void 0===i?void 0:i.condenseTolerant,setCard:c,getUpdater:l}}))),c=i.frame,l=i.cardIcon,u=i.format,d=i.furiganaHelper,f=i.condenseTolerant,b=i.setCard,p=i.getUpdater,m="ocg"===u?"\uff0f":"/",h=Object(o.useRef)(null),g=Object(o.useMemo)((function(){return p("typeAbility",(function(e){return"string"!==typeof e?[]:e.split(/\uff0f|\//).map((function(e){return"".concat(e).trim()})).filter((function(e){return"string"===typeof e&&e.length>0}))}),"debounce")}),[p]),v=Object(o.useCallback)((function(e){return b((function(t){return Object(s.a)(Object(s.a)({},t),{},{furiganaHelper:e.target.checked})}))}),[b]);Object(o.useImperativeHandle)(t,(function(){return{setValue:function(e){var t,n=e.typeAbility;n&&(null===(t=h.current)||void 0===t||t.setValue(n.join(m)))}}}));var j="auto"===l?bt({frame:c})?"input.type.monster.label":"input.type.st.label":"st"===Va[l].value?"input.type.st.label":"input.type.monster.label",x="ocg"===u;return Object(a.jsxs)(zi,{className:"post-pendulum-input variant-".concat(u),children:[Object(a.jsx)(ai,{ref:h,addonBefore:r[j],id:"type-ability",defaultValue:Mn.getState().card.typeAbility.join(m),onChange:g,onTakePicker:n}),x&&Object(a.jsx)(Pr.a,{overlay:r["input.furigana-helper.tooltip"],overlayClassName:"long-tooltip-overlay",children:Object(a.jsx)(zr.a,{className:"input-kanji-helper",onChange:v,checked:d,children:r["input.furigana-helper.label"]})}),Object(a.jsx)(Co,{className:"condense-input",value:"".concat(f),onChange:function(e){return function(e){b((function(t){return Object(s.a)(Object(s.a)({},t),{},{effectStyle:Object(s.a)(Object(s.a)({},t.effectStyle),{},{condenseTolerant:e})})}))}(e)},optionList:Ja,children:Object(a.jsxs)("span",{children:[r["input.condense.label"]," ",Object(a.jsx)(hn,{content:r["input.condense.tooltip"]})]})}),Object(a.jsx)(ba,{})]})}));function Hi(){var e=Object(nn.a)(["\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-px);\n    &.custom-style-picker {\n        background-color: var(--sub-level-4); // Mimic border color\n    }\n    .style-section {\n        z-index: 1;\n        position: relative;\n        background-color: var(--main-level-3);\n    }\n    .style-picker-section {\n        overflow: hidden;\n        .shadow-checkbox .ant-checkbox {\n            transform: translateY(1px);\n        }\n        > .ant-checkbox-wrapper {\n            padding: var(--spacing-xs);\n        }\n    }\n    .custom-style-expand {\n        display: grid;\n        grid-template-columns: 1fr max-content;\n        column-gap: var(--spacing-xs);\n        .ant-checkbox-wrapper > span {\n            padding-right: 0;\n        }\n    }\n    .radio-train {\n        padding: var(--spacing-xs);\n        padding-top: 0;\n        .standalone-addon {\n            flex: 1 1 auto;\n            text-align: left;\n        }\n        .radio-train-input-group {\n            flex: 0 0 auto;\n        }\n        .ant-radio-button-wrapper {\n            height: 26px;\n            line-height: 24px;\n        }\n    }\n"]);return Hi=function(){return e},e}function Ki(){var e=Object(nn.a)(["\n    display: inline-grid;\n    grid-template-columns: 1fr max-content;\n    column-gap: var(--spacing-xxs);\n    padding: var(--spacing-px);\n    margin-right: var(--spacing-sm);\n    border: var(--bw) solid var(--sub-level-1);\n    border-radius: var(--br);\n    background-color: var(--main-level-4);\n    cursor: pointer;\n    &:hover {\n        border-color: var(--main-active);\n    }\n    .text-style-grid {\n        display: grid;\n        grid-template-columns: 35px 35px;\n        grid-template-rows: 13px 13px; // Alignment\n        gap: var(--spacing-xxs);\n        font-size: var(--fs-xs);\n        text-align: center;\n        line-height: 1.5;\n    }\n    .text-style-preview-section {\n        background-color: #eaeaea;\n        border-radius: var(--br-sm);\n        box-shadow: 0 0 1px 1px var(--main-level-1) inset;\n    }\n    .text-style-label {\n        padding: var(--spacing-xxs);\n        line-height: 1.7;\n    }\n"]);return Ki=function(){return e},e}function Gi(){var e=Object(nn.a)(["\n    color: var(--color);\n    text-shadow: var(--ts);\n    font-weight: 500;\n    padding: 5px;\n    display: grid;\n    grid-template-columns: max-content 1fr;\n    gap: 3px;\n    .color-list {\n        display: flex;\n        flex-wrap: nowrap;\n        gap: 3px;\n    }\n    .color-block {\n        height: 17px;\n        width: 17px;\n        cursor: pointer;\n        position: relative;\n        outline: none;\n        border: var(--bw) solid var(--sub-level-4);\n        &.static-block {\n            cursor: default;\n            height: 9px;\n            width: 9px;\n            margin: 4px 0;\n            border: none;\n        }\n    }\n    .active-dot {\n        position: absolute;\n        inset: var(--spacing-xs);\n        background: rgb(0, 0, 0);\n        border-radius: 50%;\n        opacity: 1;\n    }\n    .color-input {\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        gap: 3px;\n        border-left: var(--bw-lg) solid var(--sub-level-4);\n        padding-left: 3px;\n        input {\n            width: 58px;\n            font-size: var(--fs-sm);\n            line-height: 1;\n            border: none;\n            padding: 0 5px;\n        }\n    }\n"]);return Gi=function(){return e},e}var Yi=rn.b.div(Gi()),Xi=[{hex:"#FFFFFF",rgb:[255,255,255]},{hex:"#000000",rgb:[0,0,0]},{hex:"#FF0000",rgb:[255,0,0]},{hex:"#FFFF00",rgb:[255,255,0]},{hex:"#00FF00",rgb:[0,255,0]},{hex:"#00FFFF",rgb:[0,255,255]},{hex:"#0000FF",rgb:[0,0,255]},{hex:"#FF00FF",rgb:[255,0,255]}],Vi=function(e){var t=e.value,n=void 0===t?"":t,r=e.onChange,i=Object(o.useState)(n),c=Object(u.a)(i,2),l=c[0],s=c[1],d=Object(o.useState)((function(){return{hex:Zt.test(n)?n:"#000000",rgb:Qt(n,!1)}})),f=Object(u.a)(d,2),b=f[0],p=f[1];return Object(o.useEffect)((function(){var e=l.startsWith("#")?l:"#".concat(l);Zt.test(e)&&(s(e),p({hex:e,rgb:Qt(e,!1)}),null===r||void 0===r||r(e))}),[l]),Object(o.useEffect)((function(){s(n),p({hex:Zt.test(n)?n:"#000000",rgb:Qt(n,!1)})}),[n]),Object(a.jsxs)(Yi,{children:[Object(a.jsx)("div",{className:"color-list",children:Xi.map((function(e){var t=e.hex,n=e.rgb,o=(299*n[0]+587*n[1]+114*n[2])/1e3>=128?"#000000":"#FFFFFF";return Object(a.jsx)("div",{className:"color-block",title:t,style:{backgroundColor:t},onClick:function(){return null===r||void 0===r?void 0:r(t)},children:b.hex.toUpperCase()===t&&Object(a.jsx)("div",{className:"active-dot",style:{backgroundColor:o}})},t)}))}),Object(a.jsxs)("div",{className:"color-input",children:[Object(a.jsx)("div",{className:"color-block static-block",style:{backgroundColor:b.hex}}),Object(a.jsx)(Oa.a,{size:"small",value:l,onChange:function(e){s(e.target.value)}})]})]})},Ui=rn.b.div(Ki()),qi=rn.b.div(Hi()),Ji={effectTextStyle:{keyName:"effectTextStyle",extraKeyname:"effectStyle",labelKey:"input.text-style.section.effect.label"},pendulumTextStyle:{keyName:"pendulumTextStyle",extraKeyname:"pendulumStyle",labelKey:"input.text-style.section.pendulum.label"},statTextStyle:{keyName:"statTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.stat.label"},typeTextStyle:{keyName:"typeTextStyle",extraKeyname:void 0,labelKey:"input.text-style.section.type.label"}},$i=function(){var e=Rn(),t=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{statTextStyle:t.statTextStyle,typeTextStyle:t.typeTextStyle,effectTextStyle:t.effectTextStyle,pendulumTextStyle:t.pendulumTextStyle,effectStyle:t.effectStyle,pendulumStyle:t.pendulumStyle,setCard:e.setCard}}))),n=t.statTextStyle,r=t.typeTextStyle,o=t.effectTextStyle,i=t.pendulumTextStyle,c=t.effectStyle,l=t.pendulumStyle,d=t.setCard,f=[{info:Ji.effectTextStyle,value:o,extraValue:c},{info:Ji.pendulumTextStyle,value:i,extraValue:l},{info:Ji.statTextStyle,value:n},{info:Ji.typeTextStyle,value:r}];return Object(a.jsx)(pn.a,{trigger:["click"],placement:"bottomLeft",overlayClassName:"global-input-overlay global-style-picker-overlay",content:Object(a.jsx)("div",{className:"overlay-event-absorber",children:Object(a.jsx)(qi,{className:"custom-style-picker",children:f.map((function(t){var n=t.info,r=t.value,o=t.extraValue,i=n.keyName,c=n.labelKey,l=n.extraKeyname,f=Object(u.a)(r,4),b=f[0],p=f[1],m=f[2],h=f[3],g=(null!==o&&void 0!==o?o:{}).upSize;return Object(a.jsxs)("div",{className:"style-section",children:[Object(a.jsxs)("h3",{className:"custom-style-expand ".concat(b?"":"inactive"),children:[Object(a.jsx)("span",{children:e[c]}),Object(a.jsx)(zr.a,{checked:b,onChange:function(e){d((function(t){var n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},i,[n].concat(Object(In.a)(r.slice(1)))))}))},children:e["input.text-style.custom.label"]})]}),b&&Object(a.jsxs)("div",{className:"style-picker-section",children:["number"===typeof g&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:Object(a.jsx)("span",{className:"label",children:e["input.text-style.extra-size.label"]})}),Object(a.jsx)(Co,{value:g,optionList:[{label:Object(a.jsx)(x.a,{}),value:0},{label:"+1",value:1},{label:"+2",value:2},{label:"+3",value:3}],onChange:function(e){d((function(t){var n=l?Object(s.a)({},t[l]):void 0;return n&&l?(n.upSize="number"===typeof e?e:0,Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},l,n))):t}))}})]}),Object(a.jsx)("h2",{children:Object(a.jsx)(zr.a,{className:"shadow-checkbox",checked:m,onChange:function(e){d((function(t){var n=e.target.checked;return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},i,[].concat(Object(In.a)(r.slice(0,2)),[n,r[3]])))}))},children:Object(a.jsx)("span",{className:"label",children:e["input.text-style.shadow.label"]})})}),m&&Object(a.jsx)(Vi,{value:h,onChange:function(e){return d((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},i,[].concat(Object(In.a)(r.slice(0,3)),[e])))}))}}),Object(a.jsx)("h2",{children:e["input.text-style.color.label"]}),Object(a.jsx)(Qa.b,{colors:st,color:null!==p&&void 0!==p?p:"",onChangeComplete:function(e){d((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(ce.a)({},i,[r[0],e.hex].concat(Object(In.a)(r.slice(2,4)))))}))}})]})]},i)}))})}),children:Object(a.jsxs)(Ui,{className:"text-style-preview",children:[Object(a.jsx)("div",{className:"text-style-grid",children:f.map((function(e){var t=e.info,n=e.value,r=e.extraValue,o=t.keyName,i=Object(u.a)(n,4),c=i[0],l=i[1],s=i[2],d=i[3],f=(null!==r&&void 0!==r?r:{}).upSize;return Object(a.jsx)("div",{className:"text-style-preview-section",style:{color:0!==(null!==l&&void 0!==l?l:"").length&&c?l:"#000000",textShadow:c&&s?"0 0 2px ".concat(d):"none"},children:f&&c?Object(a.jsxs)("div",{children:["Size +",f]}):"Normal"},o)}))}),Object(a.jsx)("span",{className:"text-style-label",children:e["input.text-style.custom-effect.label"]})]})})},_i=(n(472),Object(o.forwardRef)((function(e,t){var n=e.artworkCanvas,r=e.backgroundCanvas,i=e.onCropChange,c=e.onTainted,l=e.onSourceLoaded,d=Rn(),f=Mn(Object(Wr.useShallow)((function(e){var t=e.card;return{format:t.format,frame:t.frame,foil:t.foil,finish:t.finish,opacity:t.opacity,nameStyleType:t.nameStyleType,nameStyle:t.nameStyle,isPendulum:t.isPendulum,attribute:t.attribute,getUpdater:e.getUpdater,setCard:e.setCard}}))),b=f.format,p=f.frame,m=f.foil,h=f.finish,g=f.opacity,v=f.nameStyleType,j=f.nameStyle,w=f.isPendulum,k=f.attribute,F=f.getUpdater,S=f.setCard,C=An().setting,T=C.showCreativeOption,R=C.showExtraDecorativeOption,N=Object(o.useRef)(null),L=dt({frame:p}),E=bt({frame:p}),M=Object(o.useState)(0),I=Object(u.a)(M,2),A=I[0],D=I[1],W=Object(o.useMemo)((function(){return function(e){return[{name:"normal",label:e.normal,color:"#747b95"},{name:"gold",label:e.gold,color:"#cfa65f"},{name:"platinum",label:e.platinum,color:"#b1b1b1"}]}({normal:d["input.foil.normal.label"],gold:d["input.foil.gold.label"],platinum:d["input.foil.platinum.label"]}).map((function(e){var t=e.color,n=e.name,r=e.label;return{label:"normal"===n?Object(a.jsx)(x.a,{}):r,value:n,props:{style:{color:t,fontWeight:"bold"}}}}))}),[d]),B=Object(o.useRef)(null),z=Object(o.useRef)(null),P=Object(o.useRef)(null),H=Object(o.useRef)(null),K=Object(o.useRef)(null),G=Object(o.useRef)(null),Y=Object(o.useRef)(null),X=Object(o.useState)({id:"",setValue:function(){}}),V=Object(u.a)(X,2),U=V[0],q=V[1],J=Object(o.useMemo)((function(){return F("foil")}),[F]),$=Object(o.useMemo)((function(){return F("finish")}),[F]),_=Object(o.useCallback)((function(e){return S((function(t){return Object(s.a)(Object(s.a)({},t),{},{opacity:e})}))}),[S]),Z=Object(o.useMemo)((function(){return F("attribute")}),[F]),Q=Object(o.useCallback)((function(e,t){S((function(n){return Object(s.a)(Object(s.a)({},n),{},{nameStyleType:e,nameStyle:t})}))}),[S]),ee=Object(o.useMemo)((function(){return function(e,t,n){return O.map((function(n){var r=n.name,o=n.nameKey,i=n.isCreative;return{label:r===y?Object(a.jsx)(x.a,{}):Object(a.jsx)(Pr.a,{overlay:t[o],children:Object(a.jsx)("img",{alt:t[o],src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(e,"-").concat(r.toLowerCase(),".png")})}),value:r,isCreative:i}})).filter((function(e){var t=e.isCreative;return!1===t||t===n}))}(b,d,T)}),[b,d,T]);return Object(o.useEffect)((function(){var e;null===(e=N.current)||void 0===e||e.setValue({font:j.font})}),[j]),Object(o.useEffect)((function(){var e;null===(e=z.current)||void 0===e||e.setValue(g)}),[g]),Object(o.useImperativeHandle)(t,(function(){return{isLoading:function(){var e,t,n,r;return null!==(e=null===(t=B.current)||void 0===t?void 0:t.isLoading())&&void 0!==e&&e||null!==(n=null===(r=z.current)||void 0===r?void 0:r.isLoading())&&void 0!==n&&n},forceCardData:function(e){var t,n,r,a,o,i,c;D((function(e){return e+1}));var l=e.name,u=e.art,d=e.artCrop,f=e.artData,b=e.artSource,p=e.background,m=e.backgroundCrop,h=e.backgroundData,g=e.backgroundSource,v=e.opacity,j=e.setId,x=e.pendulumEffect,y=e.typeAbility,O=e.effect,w=e.atk,k=e.def,F=e.creator,S=e.password;null===(t=B.current)||void 0===t||t.setValue({art:u,artCrop:d,artData:f,artSource:b}),null===(n=z.current)||void 0===n||n.setValue(Object(s.a)(Object(s.a)({},v),{},{background:p,backgroundCrop:m,backgroundData:h,backgroundSource:g})),null===(r=P.current)||void 0===r||r.setValue({name:l,setId:j}),null===(a=H.current)||void 0===a||a.setValue({pendulumEffect:x}),null===(o=K.current)||void 0===o||o.setValue(O),null===(i=G.current)||void 0===i||i.setValue({typeAbility:y}),null===(c=Y.current)||void 0===c||c.setValue({atk:w,def:k,creator:F,password:S})}}})),Object(a.jsxs)("div",{className:["card-info-panel","ocg"===b?"input-ocg":"input-tcg"].join(" "),children:[Object(a.jsx)(Qr,{}),Object(a.jsx)("br",{}),Object(a.jsx)(_r,{}),Object(a.jsxs)("div",{className:"card-overlay-input",children:[Object(a.jsx)(vi,{className:"format-radio",value:b,onChange:function(e){S((function(t){var n,r,a,o,i,c="".concat(e),l=gn(t,c),s=l.name,u=l.setId,d=l.effect,f=l.typeAbility,b=l.password,p=l.creator,m=l.pendulumEffect;return null===(n=P.current)||void 0===n||n.setValue({name:s,setId:u}),null===(r=K.current)||void 0===r||r.setValue(d),null===(a=H.current)||void 0===a||a.setValue({pendulumEffect:m}),null===(o=G.current)||void 0===o||o.setValue({typeAbility:f}),null===(i=Y.current)||void 0===i||i.setValue({creator:p,password:b}),l}))},optionList:Ha,children:Object(a.jsx)("span",{children:d["input.format.label"]})}),Object(a.jsx)(Co,{className:"foil-radio",value:m,onChange:J,optionList:W,children:Object(a.jsx)("span",{children:d["input.foil.label"]})}),R&&Object(a.jsx)(Mo,{className:"finish-checkbox",value:h,onChange:$,optionList:Ka,children:Object(a.jsx)("span",{children:d["input.finish.label"]})})]}),T&&Object(a.jsxs)("div",{className:"card-layout-input",children:[Object(a.jsxs)("label",{className:"standalone-addon ant-input-group-addon",children:[d["input.layout.label"]," ",Object(a.jsx)(hn,{content:d["input.layout.tooltip"]})]}),Object(a.jsx)(Yo,{ref:z,defaultValue:g,receivingCanvas:r,onChange:_,onTainted:c,onCropChange:i,onSourceLoaded:l})]}),Object(a.jsx)(No,{onSTFrameChange:function(e){var t;return null===(t=G.current)||void 0===t?void 0:t.setValue({typeAbility:e})}}),Object(a.jsxs)(gi,{className:"name-style-id-input",children:[Object(a.jsx)(Li,{ref:P,onTakePicker:q}),Object(a.jsx)(xo,{ref:N,frameInfo:pe[p],defaultType:v,defaultValue:j,showExtraDecorativeOption:R,onChange:Q},A),Object(a.jsx)(Zo,{isLink:L,isMonster:E,showCreativeOption:T})]}),Object(a.jsxs)("div",{className:"main-info",children:[Object(a.jsxs)("div",{className:"main-info-first",children:[Object(a.jsx)(Co,{className:"fill-input-train attribute-input",value:k,onChange:Z,optionList:ee,children:Object(a.jsx)("span",{children:d["input.attribute.label"]})}),(w||"link"!==p||T)&&Object(a.jsx)(Wi,{ref:H,showCreativeOption:T,showExtraDecorativeOption:R,onTakePicker:q}),Object(a.jsx)(Pi,{ref:G,onTakePicker:q}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"card-effect-letter-helper",children:[Object(a.jsx)(Ba,{className:"standalone-label",children:d["input.effect.label"]}),T?Object(a.jsx)($i,{}):Object(a.jsx)("div",{}),Object(a.jsx)(Za,{targetId:U.id,onPick:U.setValue})]}),Object(a.jsx)(oi,{ref:K,onTakePicker:q})]}),Object(a.jsx)(wi,{ref:Y,isMonster:E,showCreativeOption:T,onTakePicker:q})]}),Object(a.jsx)("div",{className:"main-info-second",children:Object(a.jsx)(Si,{ref:B,receivingCanvas:n,isLink:L,showExtraDecorativeOption:R,onSourceLoaded:l,onTainted:c,onCropChange:i})})]})]})}))),Zi=n(503);function Qi(){var e=Object(nn.a)(["\n    align-content: center;\n    font-size: var(--fs-lg);\n    border: var(--bw) solid var(--sub-tertiary);\n    border-radius: 0 var(--br-lg) var(--br-lg) 0;\n    background-color: var(--main-primary);\n    border: var(--bw) solid var(--main-primary);\n    border-left: var(--bw) solid var(--sub-level-3);\n    &:hover {\n        background-color: var(--sub-primary);\n    }\n    input {\n        display: none;\n    }  \n"]);return Qi=function(){return e},e}var ec=rn.b.button(Qi()),tc=n(528),nc=n(529),rc=n(530),ac=n(273),oc=n.n(ac);function ic(){var e=Object(nn.a)(["\n    .controller {\n        display: flex;\n        gap: var(--spacing);\n        align-items: center;\n        label {\n            background: var(--main-level-4);\n            border: var(--bw) solid var(--sub-level-4);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br);\n        }\n        .toggle-button {\n            padding: 0;\n            /** Alignemnt */\n            width: 26px;\n            height: 26px;\n            background-color: var(--main-primary);\n            border: var(--bw) solid var(--sub-primary);\n            border-radius: var(--br);\n            box-shadow: var(--bs-block);\n            cursor: pointer;\n            transform: rotate(0deg);\n            transition: transform 0.33s ease-in-out;\n            &.reverse{\n                transform: rotate(-180deg);\n                transition: transform 0.33s ease-in-out;\n            }\n            &:hover {\n                background-color: var(--sub-primary);\n            }\n        }\n    }\n    .announce {\n        text-align: center;\n        .warning {\n            color: var(--main-danger);\n        }\n        .in-progress {\n            color: var(--main-info);\n        }\n    }\n    .file-panel {\n        margin-top: var(--spacing);\n        input {\n            width: 100%;\n            background: var(--main-level-4);\n            padding: var(--spacing-xs);\n            border-radius: var(--br);\n            cursor: pointer;\n            margin-bottom: var(--spacing-sm);\n        }\n        .file-list {\n            margin-top: var(--spacing-sm);\n            &:empty {\n                margin-top: 0;\n            }\n        }\n        .file-entry {\n            display: grid;\n            grid-template-columns: 1fr max-content;\n            gap: var(--spacing-xs);\n            background-color: var(--main-level-1);\n            border: 1px solid var(--sub-level-3);\n            padding: 0 var(--spacing-xs);\n            border-radius: var(--br-lg);\n            + .file-entry {\n                margin-top: var(--spacing-xxs);\n            }\n            .file-action {\n                .anticon:hover {\n                    color: var(--sub-danger);\n                }\n            }\n        }\n    }\n"]);return ic=function(){return e},e}var cc=Object(rn.b)(Zi.a)(ic()),lc=function(e){var t=e.language,n=Object(o.useState)(!1),r=Object(u.a)(n,2),i=r[0],c=r[1],l=Object(o.useState)(!1),s=Object(u.a)(l,2),d=s[0],f=s[1],b=Object(o.useState)(!1),p=Object(u.a)(b,2),m=p[0],h=p[1],g=Object(o.useState)([]),v=Object(u.a)(g,2),j=v[0],x=v[1],y=j.length>50;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(cc,{visible:i,title:t["converter.header.label"],okButtonProps:{disabled:y||d},okText:t["converter.ok.label"],cancelText:t["converter.cancel.label"],onCancel:function(){return c(!1)},onOk:Object(Sn.a)(Fn.a.mark((function e(){var n,r,a;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,Promise.all(j.map((function(e){var t=e.file,n=e.name;return new Promise((function(e,r){var a=new FileReader;a.onload=function(t){var a=t.target;if(a){var o=a.result;if("string"===typeof o){var i=JSON.parse(o);Lt(i)&&(i=wt(i));var c=Et(i),l=null;if(l=m?c?Ht(Ln(i).card).result:i:c?i:wt(Ln(i).card)){var s=new Blob(["".concat(JSON.stringify(l))],{type:"application/json"});e({blob:s,name:n})}else r("Not a valid converted result")}else r("Not a valid result")}else r("Not a valid target")},a.readAsText(t)}))})));case 4:return n=e.sent,r=new oc.a,n.forEach((function(e){var t=e.blob,n=e.name;r.file(n,t)})),e.next=9,r.generateAsync({type:"blob"});case 9:a=e.sent,Nt("convert-result.zip",a,"application/zip"),f(!1),c(!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),wn.a.error({message:t["error.convert.message"],description:t["error.convert.description"]}),f(!1);case 20:case"end":return e.stop()}}),e,null,[[0,15]])}))),children:[Object(a.jsxs)("div",{className:"controller",children:[Object(a.jsx)("label",{children:"YGOPro / DuelingNexus / NeoCardMaker"}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:tn("toggle-button",m?"reverse":""),onClick:function(){return h((function(e){return!e}))},children:Object(a.jsx)(tc.a,{})})}),Object(a.jsx)("label",{children:"Yugioh Carder"})]}),Object(a.jsxs)("div",{className:"file-panel",children:[Object(a.jsx)("input",{type:"file",accept:"application/json",multiple:!0,onChange:function(e){var t=e.target.files;if(t){for(var n=[],r=0;r<=t.length;r++){var a=t.item(r);a&&n.push({file:a,name:a.name})}x(n)}}}),Object(a.jsxs)("div",{className:"announce",children:[t["converter.header.information.label"],d&&Object(a.jsx)("div",{className:"in-progress",children:t["converter.header.in-progress.label"]}),y&&Object(a.jsx)("div",{className:"warning",children:t["converter.header.warning.label"](50)})]}),Object(a.jsx)("div",{className:"file-list",children:j.map((function(e){var t=e.name;return Object(a.jsxs)("div",{className:"file-entry",children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)("div",{className:"file-action",children:Object(a.jsx)(nc.a,{disabled:d,onClick:function(){return x((function(e){return e.filter((function(e){return e.name!==t}))}))}})})]},t)}))})]})]}),Object(a.jsx)(Pr.a,{overlay:t["converter.header.label"],children:Object(a.jsx)(ec,{className:"batch-converter",onClick:function(){return c(!0)},children:Object(a.jsx)(rc.a,{})})})]})},sc=n(531);function uc(){var e=Object(nn.a)(["\n    padding: 0;\n    .button-label {\n        padding: 4px 15px;\n        height: 100%; // Alignment\n        align-content: center;\n        border-radius: var(--br);\n        line-height: 1.5;\n        .label-content {\n            transform: translateY(-1px);\n        }\n    }\n    .button-option {\n        position: absolute;\n        right: 0;\n        top: 0;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        padding: var(--spacing);\n        border-left: var(--bw) solid var(--sub-secondary);\n        border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        .anticon {\n            font-size: var(--fs-2xl);\n            margin-left: 0;\n        }\n        &:hover {\n            background: #399af9;\n        }\n    }\n"]);return uc=function(){return e},e}function dc(){var e=Object(nn.a)(["\n    &li.ant-dropdown-menu-item:hover {\n        background-color: var(--sub-active);\n    }\n    &.active-resolution {\n        background-color: var(--main-active);\n    }\n"]);return dc=function(){return e},e}function fc(){var e=Object(nn.a)(["\n    color: var(--color);\n    padding: 1px 12px 5px 12px; // Alignment\n    font-size: var(--fs-sm);\n    border-bottom: var(--bw) solid var(--sub-level-4);\n    cursor: default;\n    &.ant-dropdown-menu-item.ant-dropdown-menu-item-disabled:hover {\n        cursor: default;\n        background: var(--main-level-3);\n    }\n"]);return fc=function(){return e},e}var bc=Object(rn.b)(xi.a.Item)(fc()),pc=Object(rn.b)(xi.a.Item)(dc()),mc=Object(rn.b)(na.a)(uc()),hc=Object(o.forwardRef)((function(e,t){var n=e.isTainted,r=e.isInitializing,i=e.imageChangeCount,c=e.canvasMap,l=e.onDownloadError,d=Rn(),f=An(Object(Wr.useShallow)((function(e){var t=e.setting;return{allowHotkey:t.allowHotkey,resolution:t.resolution,updateSetting:e.updateSetting}}))),b=f.allowHotkey,p=f.resolution,m=f.updateSetting,h=Ir(!0,c,{imageChangeCount:i,isInitializing:r,language:d}).onExport,g=c.exportCanvasRef,v=Object(o.useRef)({currentPipeline:Promise.resolve(),pipelineRunning:!1}),j=Object(o.useState)(!1),x=Object(u.a)(j,2),y=x[0],O=x[1],w=Object(o.useCallback)((function(){O(!1)}),[]),k=function(e){var t=e.isTainted,n=e.isInitializing,r=e.exportCanvasRef,a=e.exportRef,i=e.onExport,c=e.onDownloadError,l=e.onDownloadComplete,u=Rn(),d=Mn().card,f=An((function(e){return e.setting.resolution})),b=d.opacity,p=d.name,m=d.isPendulum,h=Object(o.useRef)(!1),g=Object(o.useCallback)((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=r.current,o=null===a||void 0===a?void 0:a.cloneNode(),i=null===a||void 0===a?void 0:a.getContext("2d"),s=null===o||void 0===o?void 0:o.getContext("2d");if(a&&i&&o&&s&&!t)try{n&&(o.width=n[0],o.height=n[1]),s.drawImage(a,0,0,a.width,a.height,0,0,o.width,o.height);var u=Tt(p),d=document.createElement("a");d.download=u?"".concat(u,".png"):"card.png",d.href=o.toDataURL("image/png"),d.click()}catch(b){c()}null===(e=document.querySelector("#export-canvas-guard"))||void 0===e||e.classList.remove("guard-on"),l()}),[r,t,p,f,l,c]);return Object(o.useEffect)((function(){var e=!0;return setTimeout((function(){var t=Tt(p);e&&(document.title=t?"".concat(t," - Yu-Gi-Oh Carder"):"Yu-Gi-Oh Carder")}),500),function(){e=!1}}),[p]),Object(o.useEffect)((function(){var e=function(){var e;localStorage.setItem("card-data",JSON.stringify(d)),localStorage.setItem("card-version",null!==(e="2.0.29")?e:"unknown")};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}})),Object(o.useEffect)((function(){var e=!0,t=function(e){return e.preventDefault(),"Leave right now may make you lose unsaved progress, proceed?"};if(!1===n){try{var o;localStorage.setItem("card-data",JSON.stringify(d)),localStorage.setItem("card-version",null!==(o="2.0.29")?o:"unknown")}catch(l){var c="fail-to-set-storage-notification";wn.a.close(c),wn.a.error({key:c,message:u["error.card-max-size.message"],description:u["error.card-max-size.description"]})}Object(Sn.a)(Fn.a.mark((function n(){var o,c,l,u,f,p,v,j;return Fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.current){n.next=14;break}return window.addEventListener("beforeunload",t),null===(o=document.getElementById("export-canvas"))||void 0===o||o.classList.remove("js-export-available"),null===(c=document.getElementById("export-canvas-guard"))||void 0===c||c.setAttribute("style",""),null===(l=document.getElementById("save-button-waiting"))||void 0===l||l.setAttribute("style","display: block"),a.current.pipelineRunning=!0,n.next=9,a.current.currentPipeline;case 9:if(!e){n.next=14;break}return a.current.currentPipeline=i({isPendulum:m,opacity:b,isRelevant:function(){return e}}),n.next=13,a.current.currentPipeline;case 13:e&&(v=Object(s.a)(Object(s.a)({},d),{},{artData:"",backgroundData:""}),"string"===typeof(j=JSON.stringify(wt(v)))&&$t("data",j),null===(u=document.getElementById("export-canvas"))||void 0===u||u.classList.add("js-export-available"),null===(f=document.getElementById("export-canvas-guard"))||void 0===f||f.setAttribute("style","display: none"),null===(p=document.getElementById("save-button-waiting"))||void 0===p||p.setAttribute("style","display: none"),window.removeEventListener("beforeunload",t),a.current.pipelineRunning=!1,h.current&&(h.current=!1,g()));case 14:case"end":return n.stop()}}),n)})))()}return function(){window.removeEventListener("beforeunload",t),e=!1}})),{onSave:function(e){var t;null===(t=document.querySelector("#export-canvas-guard"))||void 0===t||t.classList.add("guard-on");var n=e?Object(In.a)(e):void 0;setTimeout((function(){!1===a.current.pipelineRunning?g(n):h.current=!0}),200)}}}({isTainted:n,isInitializing:r,exportCanvasRef:g,exportRef:v,onExport:h,onDownloadError:l,onDownloadComplete:w}).onSave,F=function(e){y||(n?wn.a.error({message:"Your card is tainted, you must save manually",description:'Right click the card \u2192 Choose "Save image as..."'}):(O(!0),k(e)))};return Object(o.useImperativeHandle)(t,(function(){return{download:F}})),n?null:Object(a.jsxs)("div",{className:"save-button-container",children:[Object(a.jsx)("div",{id:"save-button-waiting"}),Object(a.jsxs)(mc,{className:"save-button",id:"save-button-ready",onClick:function(){return F()},children:[Object(a.jsx)(Pr.a,{overlay:b?Object(a.jsx)(a.Fragment,{children:"Ctrl-S / \u2318-S"}):null,children:Object(a.jsx)("div",{className:"button-label",children:Object(a.jsx)("div",{className:"label-content",children:y?d["button.download.ongoing.label"]:d["button.download.label"]})})}),Object(a.jsx)(ji.a,{disabled:y,className:"save-button-dropdown",placement:"bottomRight",overlay:Object(a.jsxs)(xi.a,{onClick:function(e){return e.domEvent.stopPropagation()},children:[Object(a.jsx)(bc,{disabled:!0,children:d["button.download.resolution.label"]}),[{width:549,height:800},{width:561,height:818},{width:813,height:1185}].map((function(e){var t=e.width,n=e.height;return Object(a.jsxs)(pc,{className:p[0]===t&&p[1]===n?"active-resolution":"",onClick:function(){m({resolution:[t,n]}),_t()},children:[t," \xd7 ",n]},"".concat(t,"-").concat(n))}))]}),children:Object(a.jsx)("div",{className:"button-option",onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)(sc.a,{})})})]})]})})),gc=n(532);function vc(){var e=Object(nn.a)(["\n    .ant-dropdown-menu-item {\n        padding: 0;\n    }\n    .import-upload-button {\n        /** Mimic antd */\n        cursor: pointer;\n        padding: 5px 12px;\n        background: transparent;\n        border: none;\n        width: 100%;\n        text-align: left;\n    }\n    .import-upload-input {\n        display: none;\n    }\n"]);return vc=function(){return e},e}var jc=function(e){var t=e.language,n=e.importData,r="import-upload",i=Object(o.useRef)(null);return Object(a.jsx)(Pr.a,{overlay:t["button.import.tooltip"],children:Object(a.jsxs)(ec,{className:"secondary-button import-custom",onClick:function(){var e=document.getElementById(r);e&&e.click()},children:[Object(a.jsx)("input",{ref:i,type:"file",id:r,accept:"application/json",className:"import-upload-input",onChange:function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.files;if(t)for(var r=0;r<=t.length;r++){var a=t.item(r);if(a){var o=new FileReader;o.onload=function(e){var t=e.target;if(t){var r=t.result;"string"===typeof r&&n(void 0,!1,r)}},o.readAsText(a)}}}}),Object(a.jsx)(gc.a,{})]})})},xc=(Object(rn.b)(xi.a)(vc()),n(533)),yc=n(534);function Oc(){var e=Object(nn.a)(["\n    top: var(--spacing-xs);\n    right: calc(var(--overlay-size) + 2 * var(--spacing-xs));\n"]);return Oc=function(){return e},e}function wc(){var e=Object(nn.a)(["\n    top: var(--spacing-xs);\n    right: var(--spacing-xs);\n"]);return wc=function(){return e},e}function kc(){var e=Object(nn.a)(["\n    --overlay-size: 51px;\n    position: absolute;\n    z-index: 101;\n    background: var(--main-primary);\n    border-color: var(--main-active);\n    color: var(--color-heavy);\n    padding: var(--spacing);\n    line-height: 1;\n    font-size: var(--fs-3xl);\n    text-align: center;\n    width: var(--overlay-size);\n    height: var(--overlay-size);\n    border-radius: var(--br-lg);\n    cursor: pointer;\n    box-shadow: var(--bs-1);\n    display: none;\n    &:hover {\n        background: var(--sub-primary);\n    }\n"]);return kc=function(){return e},e}function Fc(){var e=Object(nn.a)(["\n    color: var(--main-danger);\n"]);return Fc=function(){return e},e}function Sc(){var e=Object(nn.a)(["\n\tposition: fixed;\n\tright: var(--spacing);\n\tbottom: 0;\n\tfont-size: var(--fs-xs);\n\topacity: 0.5;\n\tpadding: var(--spacing-px) var(--spacing-xs);\n\tcolor: var(--color-dim);\n    img {\n        height: 10px;\n        margin-left: 1px;\n    }\n"]);return Sc=function(){return e},e}function Cc(){var e=Object(nn.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-image: linear-gradient(45deg, #333, #333);\n\tz-index: 4000;\n\tcolor: white;\n\ttext-shadow:\n\t\t0 1px #333,\n\t\t0 2px #111;\n\tfont-size: var(--fs-3xl);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return Cc=function(){return e},e}function Tc(){var e=Object(nn.a)(["\n    width: var(--card-width);\n    height: var(--card-height);\n    margin-bottom: var(--spacing);\n    transform: translateX(var(--translate-ratio)) translateY(var(--translate-ratio)) scale(var(--resize-ratio))\n        translateZ(0);\n    position: absolute;\n    top: 0;\n    left: 0;\n    canvas {\n        position: absolute;\n        left: 0;\n        z-index: 1;\n        pointer-events: none;\n    }\n    &:hover {\n        .reset-button,\n        .lightbox-button {\n            display: block;\n        }\n        #export-canvas.js-export-available {\n            display: inline-block !important;   // Override js-controlled inline style\n            cursor: default;\n        }\n        #export-canvas-guard {\n            display: flex;\n            cursor: wait;\n            transition: all 2s;\n        }\n    }\n    #export-canvas {\n        display: none;\n        z-index: 100;\n        pointer-events: all;\n    }\n    #export-canvas-guard {\n        position: absolute;\n        left: 0;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        z-index: 101;\n        // background-color: #ffffff08;\n        width: var(--card-width);\n        height: var(--card-height);\n        .anticon {\n            font-size: var(--fs-4xl);\n        }\n        .canvas-guard-alert {\n            position: absolute;\n            top: 0;\n            right: 0;\n            color: white;\n            padding: var(--spacing-xs) var(--spacing);\n            border-radius: 0 0 0 var(--br-lg);\n            background-color: var(--main-active);\n            box-shadow:\n                0 3px 6px rgba(0, 0, 0, 0.16),\n                0 3px 6px rgba(0, 0, 0, 0.23);\n        }\n        &.guard-on {\n            display: flex !important;   // Override js-controlled inline style\n        }\n    }\n    .crop-canvas {\n        position: relative;\n        /** Size here is just a placeholder, crop canvas constantly get its dimensions updated based on the current artwork */\n        width: 416px;\n        height: 416px;\n        z-index: 0;\n        top: 0;\n        left: 0;\n        visibility: hidden;\n    }\n"]);return Tc=function(){return e},e}function Rc(){var e=Object(nn.a)(["\n    display: flex;\n    column-gap: var(--spacing);\n    border-radius: var(--br-lg);\n    font-size: var(--fs-4xl);\n    line-height: 1.5;\n    margin: auto;\n    max-width: var(--card-width);\n    min-height: 59px;\n    outline: none !important;   // Avoid default state styling\n    padding: var(--spacing);\n    padding-right: 0;\n    text-align: center;\n    text-shadow: 0 1px 2px black;\n    .anticon {\n        cursor: pointer;\n    }\n    button {\n        color: white;\n        border-radius: var(--br-lg);\n        outline: none !important;   // Avoid default state styling\n        cursor: pointer;\n    }\n    .save-button {\n        flex: 1;\n        font-size: var(--fs-xl);\n        border: var(--bw) solid var(--sub-secondary);\n        font-weight: 500;\n        box-shadow: var(--bs-button);\n        height: 39px; // Alignment\n        line-height: 1;\n        &:focus, &:active {\n            color: white;\n        }\n    }\n    #save-button-waiting {\n        cursor: wait;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        z-index: 1;\n    }\n    #save-button-ready {\n        cursor: pointer;\n        &:hover {\n            background-color: var(--sub-info);\n            box-shadow: none;\n        }\n    }\n    .save-button-container {\n        display: flex;\n        flex: 1;\n        font-size: var(--fs);\n        line-height: 1.35;\n        position: relative;\n    }\n    .imexport {\n        flex: 0 0 200px;\n        display: grid;\n        grid-template-columns: 1fr max-content var(--spacing) 1fr max-content;\n        .primary-button {\n            align-content: center;\n            font-size: var(--fs);\n            background-color: var(--main-tertiary);\n            border: var(--bw) solid var(--sub-tertiary);\n            border-radius: var(--br-lg) 0 0 var(--br-lg);\n            &:hover {\n                background-color: var(--sub-tertiary);\n                box-shadow: none;\n            }\n        }\n        "," {\n            border-radius: 0 var(--br-lg) var(--br-lg) 0;\n        }\n    }\n"]);return Rc=function(){return e},e}var Nc=rn.b.div(Rc(),ec),Lc=rn.b.div(Tc()),Ec=rn.b.div(Cc()),Mc=rn.b.div(Sc()),Ic=rn.b.span(Fc()),Ac=rn.b.div(kc()),Dc=Object(rn.b)(Ac)(wc()),Wc=Object(rn.b)(Ac)(Oc()),Bc=n(216),zc=n(499),Pc=n(500),Hc=n(508),Kc=n(509);Object(Bc.configure)({ignoreTags:[]});var Gc={EXPORT:["ctrl+d","command+d"],IMPORT:["ctrl+e","command+e"],MERGE:["ctrl+g","command+g"],VIEW:["ctrl+b","command+b"],DOWNLOAD:["ctrl+s","command+s"]},Yc=f,Xc=d;var Vc=function(){var e,t=An(Object(Wr.useShallow)((function(e){var t=e.setting,n=t.allowHotkey;return{softMode:t.reduceMotionColor,allowHotkey:n}}))),n=t.allowHotkey,r=t.softMode,i=Tn(Object(Wr.useShallow)((function(e){return{isInitiating:e.isInitiating,isLoading:e.isLoading,language:e.language,isMetadataReady:e.isMetadataReady,languageInfo:e.languageInfo,initiate:e.initiate,loadDefaultLanguage:e.loadDefaultLanguage}}))),c=i.isInitiating,l=i.isLoading,b=i.language,p=i.isMetadataReady,m=i.languageInfo,h=i.initiate,g=i.loadDefaultLanguage,v=Object(o.useState)(!0),j=Object(u.a)(v,2),x=j[0],y=j[1],O=Object(o.useState)(""),w=Object(u.a)(O,2),k=w[0],F=w[1],S=Object(o.useState)("online"),C=Object(u.a)(S,2),T=C[0],R=C[1],N=Object(o.useState)(0),L=Object(u.a)(N,2),E=L[0],M=L[1],I=Object(o.useState)(!1),A=Object(u.a)(I,2),D=A[0],W=A[1],B=Object(o.useRef)(null),z=Object(o.useRef)(null),P=Object(o.useRef)(null),H=Object(o.useRef)(null),K=Object(o.useRef)(null),G=Object(o.useRef)(null),Y=Object(o.useRef)(null),X=Object(o.useRef)(null),V=Object(o.useRef)(null),U=Object(o.useRef)(null),q=Object(o.useRef)(null),J=Object(o.useRef)(null),$=Object(o.useRef)(null),_=Object(o.useRef)(null),Z=Object(o.useRef)(null),Q=Object(o.useRef)(null),ee=Object(o.useRef)(null),te=Object(o.useRef)(null),ne=Object(o.useState)({artworkCanvasRef:z,backgroundCanvasRef:P,exportCanvasRef:H,frameCanvasRef:K,cardIconCanvasRef:G,pendulumScaleCanvasRef:Y,pendulumEffectCanvasRef:X,typeCanvasRef:V,effectCanvasRef:U,nameCanvasRef:q,statCanvasRef:J,setIdCanvasRef:$,passwordCanvasRef:_,creatorCanvasRef:Z,stickerCanvasRef:Q,finishCanvasRef:ee,lightboxCanvasRef:te}),re=Object(u.a)(ne,1)[0],ae=Object(o.useRef)(null),oe=Object(o.useState)(0),ie=Object(u.a)(oe,2),ce=ie[0],le=ie[1];Object(o.useEffect)((function(){h()}),[h]),Object(o.useEffect)((function(){p&&g()}),[p,g]),Object(o.useEffect)((function(){["font-family","letter-spacing","--width-label"].forEach((function(e){var t,n;document.body.style.setProperty(e,null!==(t=null===(n=m.style)||void 0===n?void 0:n[e])&&void 0!==t?t:"")}))}),[m]),Object(o.useEffect)((function(){var e,t=null===(e=H.current)||void 0===e?void 0:e.getContext("2d"),n=Mn.getState().setCard;t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",Hn(t)),!1===c&&Dr.a.load({custom:{families:["Matrix-Bold","MatrixBoldSmallCaps","MatrixBook","MatrixRegularSmallCaps","RoGSanSrfStd-Bd","YuGiOhITCStoneSerifBSc","matrix","palatino-linotype-bold","stone-serif-bold","stone-serif-regular"],urls:["asset/font.css"]},active:function(){var e=function(){try{var e=window.localStorage.getItem("card-version"),t=window.localStorage.getItem("card-data"),n=t?St(JSON.parse(t)):null,r=new URLSearchParams(window.location.search).get("data");if(r){var a,o,i=Ln(r).card,c=i.artSource,l=i.backgroundSource;if("online"===c&&"online"===l)return Ln(r).card;var u=Object(s.a)({},i);return"offline"===c&&(u.artData=null!==(a=null===n||void 0===n?void 0:n.artData)&&void 0!==a?a:""),"offline"===l&&(u.backgroundData=null!==(o=null===n||void 0===n?void 0:n.backgroundData)&&void 0!==o?o:""),u}return null!==n&&"2.0.29"===e?n:it()}catch(d){return console.error(d),it()}}();n(e),y(!1)},fontinactive:function(e,t){console.error("TCG fontinactive",e,t),wn.a.error({message:Nn()["error.load.font.tcg"](e)})},inactive:function(){F(Nn()["error.load.font.all-tcg"]),y(!1)}})}),[c]);var se=function(e){var t=e.isLanguageInitiating,n=e.onActive,r=e.onBeforeLoad,a=e.onFontInactive,i=e.onInactive,c=Mn(Object(Wr.useShallow)((function(e){return{format:e.card.format,font:e.card.nameStyle.font}}))),l=c.font,s=c.format,d=Object(o.useState)(""),f=Object(u.a)(d,2),b=f[0],p=f[1],m=Object(o.useRef)(!1),h=Object(o.useRef)(0);return Object(o.useEffect)((function(){("ocg"===s||"OCG"===l)&&!1===m.current&&h.current<=3&&!1===t&&(h.current+=1,p("".concat("/ygocarder","/asset/ocg-font.css")),r(),Dr.a.load({custom:{families:["DFHSGothic-W3-WIN-RKSJ-H","DFKakuTaiHiStd-W4","FOT-Rodin Pro M","Yu-Gi-Oh! DF Leisho 3"],urls:["asset/ocg-font.css"]},active:function(){m.current=!0,n()},inactive:function(){m.current=!0,i()},fontinactive:a}))}),[s,l,t,n,r,a,i]),{styleContent:b}}({isLanguageInitiating:c,onBeforeLoad:function(){var e;y(!0);var t=null===(e=H.current)||void 0===e?void 0:e.getContext("2d");t&&(t.setTransform(1,0,0,1,0,0),t.imageSmoothingQuality="high",Hn(t))},onActive:function(){y(!1)},onInactive:function(){F(Nn()["error.load.font.all-ocg"]),y(!1)},onFontInactive:function(e,t){console.error("OCG fontinactive",e,t),wn.a.error({message:Nn()["error.load.font.ocg"](e)})}}).styleContent,ue=Object(o.useState)(!1),de=Object(u.a)(ue,2),fe=de[0],be=de[1];Object(o.useEffect)((function(){var e=document.body.classList;r?e.add("reduced-color-motion"):e.remove("reduced-color-motion")}),[r]);var pe=Object(o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&!n||W((function(t){return"boolean"===typeof e?e:!t}))}),[n]),me=Object(o.useRef)(!1),he=document.getElementById("sentry-bug-report");Object(o.useEffect)((function(){he&&b&&!1===me.current&&!1===un.f()&&(me.current=!0,zc.a({dsn:"https://32e20d849c5724b2e63eab9d0a57c165@o4508424630697984.ingest.us.sentry.io/4508424632401920",integrations:[Pc.a(),Hc.a(),Kc.a({colorScheme:"system",autoInject:!1}).attachTo(he,{formTitle:b["contributor.bug-report.tooltip"],nameLabel:b["contributor.bug-report.name.label"],namePlaceholder:b["contributor.bug-report.name.placeholder"],isEmailRequired:!1,showEmail:!1,messageLabel:b["contributor.bug-report.message.label"],messagePlaceholder:b["contributor.bug-report.message.placeholder"],addScreenshotButtonLabel:b["contributor.bug-report.screenshot.label"],removeScreenshotButtonLabel:b["contributor.bug-report.remove-screenshot.label"],cancelButtonLabel:b["contributor.bug-report.cancel.label"],submitButtonLabel:b["contributor.bug-report.submit.label"],isRequiredLabel:b["contributor.bug-report.required.label"],successMessageText:b["contributor.bug-report.success.label"]})],tracesSampleRate:1,tracePropagationTargets:["lauqerm.github.io"],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}))}),[b,he]);var ge=Object(o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t||n||r){null===e||void 0===e||e.preventDefault();try{var a=r||window.prompt(b["prompt.import.message"]),o=Mn.getState().setCard;if(a){var i,c=Ln(a),l=c.card,s=c.isPartial;s&&wn.a.info({message:b["service.decode.partial.message"],description:b["service.decode.partial.description"]}),o(l),le((function(e){return e+1})),null===(i=B.current)||void 0===i||i.forceCardData(l),_t()}}catch(u){console.error(u),wn.a.error({message:b["error.import.error.message"],description:b["error.import.error.description"]})}}}),[n,b]),ve=Object(o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||n){null===e||void 0===e||e.preventDefault();try{var r=window.prompt(b["prompt.import.message"]),a=Mn.getState().setCard;if(r){var o,i=Ln(r,Mn.getState().card),c=i.card,l=i.isPartial;l&&wn.a.info({message:b["service.decode.partial.message"],description:b["service.decode.partial.description"]}),a(c),le((function(e){return e+1})),null===(o=B.current)||void 0===o||o.forceCardData(c),_t()}}catch(s){console.error(s),wn.a.error({message:b["error.import.error.message"],description:b["error.import.error.description"]})}}}),[n,b]),je=Object(o.useCallback)((function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return{isPartial:!1,result:wt(e)}};if(!r||n||a)if(null===e||void 0===e||e.preventDefault(),"offline"===T&&!1===a&&window.alert(b["prompt.export.offline-warning.message"]),"online"===T&&(null===(t=B.current)||void 0===t?void 0:t.isLoading()))window.alert(b["error.export.image-loading.message"]);else try{var i=Mn.getState().card,c=o(i,z.current),l=c.isPartial,s=c.result;if(l&&wn.a.info({message:b["service.decode.partial.message"],description:b["service.decode.partial.description"]}),a){var u=new Blob(["".concat(JSON.stringify(s))],{type:"application/json"});Nt(Tt(i.name),u,"application/json")}else window.prompt(b["prompt.export.message"],"".concat(JSON.stringify(s)))}catch(d){console.error(d),wn.a.error({message:b["error.export.message"],description:b["error.export.description"]})}}),[n,b,T]),xe=Object(o.useCallback)((function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r&&!n||(null===e||void 0===e||e.preventDefault(),null===(t=ae.current)||void 0===t||t.download())}),[n]),ye=Object(o.useMemo)((function(){return{IMPORT:function(e){return ge(e,!0)},MERGE:function(e){return ve(e,!0)},EXPORT:function(e){return je(e,!0)},VIEW:function(){return pe(!0,!0)},DOWNLOAD:function(e){return xe(e,!0)}}}),[xe,je,ge,ve,pe]),Oe=Object(o.useCallback)((function(){be(!0),alert(b["prompt.download.tainted.message"])}),[b]),we=Object(o.useCallback)((function(){M((function(e){return e+1})),le((function(e){return e+1})),be(!1)}),[]),ke=Object(o.useCallback)((function(e,t){le((function(e){return e+1})),R(t)}),[]),Fe=Object(o.useCallback)((function(){le((function(e){return e+1})),be(!0)}),[]),Se=l||x;return Object(a.jsx)(Bc.HotKeys,{keyMap:Gc,handlers:ye,children:Object(a.jsxs)("div",{id:"app",onDrop:function(){},className:"language-".concat(m.codeName),style:Object(s.a)({backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/debut-dark.png"), linear-gradient(180deg, #00000022, #00000044)'),height:en()?"-webkit-fill-available":"100vh"},{"--card-height":"".concat(f,"px"),"--card-width":"".concat(d,"px")}),children:[se&&Object(a.jsx)("link",{rel:"stylesheet",type:"text/css",href:se}),Object(a.jsxs)("div",{className:"app-container",style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/dark-denim-3.png")')},children:[Se&&Object(a.jsx)(Ec,{className:"app-loading",children:k.length>0?Object(a.jsx)(Ic,{children:k}):null!==(e=m.initialMessage)&&void 0!==e?e:""}),Object(a.jsxs)("div",{className:"card-preview-panel ".concat(fe?"export-tainted":"export-normal"),children:[Object(a.jsxs)(Nc,{className:"data-button-panel",children:[Object(a.jsxs)("div",{className:"imexport",children:[Object(a.jsx)(Pr.a,{overlay:n?Object(a.jsx)(a.Fragment,{children:"Ctrl-D / \u2318-D"}):null,children:Object(a.jsx)("button",{className:"primary-button export-button",onClick:je,children:b["button.export.label"]})}),Object(a.jsx)(ji.a,{overlay:Object(a.jsx)(xi.a,{onClick:function(e){return e.domEvent.stopPropagation()},children:[{label:b["button.export.for-ygocarder.label"],converter:void 0},{label:b["button.export.for-other.label"],converter:Ht}].map((function(e,t){var n=e.converter,r=e.label;return Object(a.jsx)(xi.a.Item,{onClick:function(){return je(void 0,!1,!0,n)},children:r},"".concat(t))}))}),children:Object(a.jsx)(ec,{className:"secondary-button export-custom",children:Object(a.jsx)(Sa.a,{})})}),Object(a.jsx)("div",{}),Object(a.jsx)(Pr.a,{overlay:n?Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("div",{children:"Ctrl-E / \u2318-E"}),Object(a.jsxs)("div",{children:["Ctrl-G / \u2318-G",b["prompt.import.merge.tooltip"]]})]}):null,children:Object(a.jsx)("button",{className:"primary-button import-button",onClick:ge,children:b["button.import.label"]})}),Object(a.jsx)(jc,{importData:ge,language:b})]}),Object(a.jsx)(lc,{language:b}),Object(a.jsx)(hc,{ref:ae,canvasMap:re,imageChangeCount:ce,isTainted:fe,isInitializing:x,onDownloadError:Oe}),fe&&Object(a.jsx)("div",{id:"save-button-tainted",className:"save-button-container",children:Object(a.jsxs)("span",{children:[b["alert.download.tainted-first-line"],Object(a.jsx)("br",{}),b["alert.download.tainted-second-line"]," ",Object(a.jsx)(ea,{})]})})]}),Object(a.jsx)("div",{className:"card-canvas-container",children:Object(a.jsxs)(Lc,{className:"card-canvas-group",children:[Object(a.jsx)(Pr.a,{title:b["button.reset.tooltip"],children:Object(a.jsx)(Wc,{className:"reset-button",onClick:function(){if(window.confirm(b["prompt.reset.message"])){var e,t=Mn.getState(),n=t.setCard,r=t.card,a=it(),o="tcg"===r.format?a:gn(a,"ocg");n(o),le((function(e){return e+1})),null===(e=B.current)||void 0===e||e.forceCardData(o)}},children:Object(a.jsx)(xc.a,{})})}),Object(a.jsx)(Pr.a,{title:Object(a.jsxs)("div",{className:"center",children:[b["button.full-size.label"],n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),"Ctrl-B / \u2318-B"]}):null]}),children:Object(a.jsx)(Dc,{className:"lightbox-button",onClick:function(){return pe()},children:Object(a.jsx)(yc.a,{})})}),Object(a.jsx)("canvas",{id:"export-canvas",ref:H,width:Xc,height:Yc},E+.1),Object(a.jsx)("div",{id:"export-canvas-guard",onContextMenu:function(e){return e.preventDefault()}}),Object(a.jsx)("canvas",{id:"frameCanvas",ref:K,width:Xc,height:Yc},E),Object(a.jsx)("canvas",{id:"nameCanvas",ref:q,width:Xc,height:148}),Object(a.jsx)("canvas",{id:"cardIconCanvas",ref:G,width:Xc,height:222}),Object(a.jsx)("canvas",{id:"pendulumScaleCanvas",ref:Y,width:Xc,height:889}),Object(a.jsx)("canvas",{id:"pendulumEffectCanvas",ref:X,width:Xc,height:889}),Object(a.jsx)("canvas",{id:"typeCanvas",ref:V,width:Xc,height:1037}),Object(a.jsx)("canvas",{id:"effectCanvas",ref:U,width:Xc,height:1111}),Object(a.jsx)("canvas",{id:"statCanvas",ref:J,width:Xc,height:Yc}),Object(a.jsx)("canvas",{id:"setIdCanvas",ref:$,width:Xc,height:Yc}),Object(a.jsx)("canvas",{id:"passwordCanvas",ref:_,width:Xc,height:Yc}),Object(a.jsx)("canvas",{id:"creatorCanvas",ref:Z,width:Xc,height:Yc}),Object(a.jsx)("canvas",{id:"stickerCanvas",ref:Q,width:Xc,height:Yc}),Object(a.jsx)("canvas",{id:"finishCanvas",ref:ee,width:Xc,height:Yc}),Object(a.jsx)("canvas",{className:"crop-canvas",ref:z}),Object(a.jsx)("canvas",{className:"crop-canvas",ref:P})]})})]}),!1===Se&&Object(a.jsx)(_i,{ref:B,artworkCanvas:z.current,backgroundCanvas:P.current,onSourceLoaded:we,onCropChange:ke,onTainted:Fe})]}),Object(a.jsx)(Zi.a,{width:"843px",wrapClassName:"card-lightbox-overlay",visible:D,forceRender:!0,onCancel:function(){return W(!1)},footer:null,children:Object(a.jsx)("canvas",{id:"lightbox-canvas",ref:te,width:Xc,height:Yc},E+.1)}),Object(a.jsxs)(Mc,{className:"by-me",children:["Made by Lauqerm ",Object(a.jsx)("img",{src:"https://i.imgur.com/RY6IRqn.png",alt:"avatar"})]})]})})},Uc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,536)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};l.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Vc,{})}),document.getElementById("root")),Uc()}},[[486,1,2]]]);
//# sourceMappingURL=main.9ee64265.chunk.js.map